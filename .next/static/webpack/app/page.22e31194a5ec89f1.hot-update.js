"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/components/Story/StoryViewer.tsx":
/*!**********************************************!*\
  !*** ./src/components/Story/StoryViewer.tsx ***!
  \**********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/image */ \"(app-pages-browser)/./node_modules/next/dist/api/image.js\");\n/* harmony import */ var _barrel_optimize_names_FiEdit2_FiMoreVertical_FiSend_FiSmile_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=FiEdit2,FiMoreVertical,FiSend,FiSmile,FiTrash2,FiX!=!react-icons/fi */ \"(app-pages-browser)/./node_modules/react-icons/fi/index.esm.js\");\n/* harmony import */ var _StoryProgressBar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StoryProgressBar */ \"(app-pages-browser)/./src/components/Story/StoryProgressBar.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\nconst StoryViewer = (param)=>{\n    let { users, initialUserIndex, initialStoryIndex = 0, isOpen, onClose, currentUserId, onStoryDelete, onCaptionUpdate, onStoryView } = param;\n    _s();\n    const [currentUserIndex, setCurrentUserIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialUserIndex);\n    const [currentStoryIndex, setCurrentStoryIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialStoryIndex);\n    const [isPaused, setIsPaused] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [replyText, setReplyText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [showMenu, setShowMenu] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isEditingCaption, setIsEditingCaption] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [editedCaption, setEditedCaption] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [touchStart, setTouchStart] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const menuRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const currentUser = users[currentUserIndex];\n    const currentStory = currentUser === null || currentUser === void 0 ? void 0 : currentUser.stories[currentStoryIndex];\n    // Cek apakah pengguna yang login adalah pemilik story\n    const isOwnStory = !!currentUserId && !!(currentUser === null || currentUser === void 0 ? void 0 : currentUser.id) && currentUser.id === currentUserId;\n    const isVideo = (currentStory === null || currentStory === void 0 ? void 0 : currentStory.resourceType) === \"video\";\n    // Debug info for ownership check\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (currentStory && currentUser) {\n            console.log(\"Story ownership debug:\", {\n                currentUserId,\n                currentUserId_type: typeof currentUserId,\n                storyUserId: currentUser.id,\n                storyUserId_type: typeof currentUser.id,\n                isOwnStory\n            });\n        }\n    }, [\n        currentStory,\n        currentUser,\n        currentUserId,\n        isOwnStory\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen) {\n            document.body.style.overflow = \"hidden\";\n        } else {\n            document.body.style.overflow = \"auto\";\n        }\n        return ()=>{\n            document.body.style.overflow = \"auto\";\n        };\n    }, [\n        isOpen\n    ]);\n    // Saat pengguna mengganti story atau story index berubah, pastikan progres bar direset\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen) {\n            setCurrentUserIndex(initialUserIndex);\n            setCurrentStoryIndex(initialStoryIndex);\n            // Reset UI states ketika story berubah\n            setShowMenu(false);\n            setIsEditingCaption(false);\n        // Jangan reset status pause di sini, biarkan itu dikelola oleh progres bar sendiri\n        }\n    }, [\n        isOpen,\n        initialUserIndex,\n        initialStoryIndex\n    ]);\n    // Saat story ditutup kemudian dibuka kembali, pastikan progres dimulai ulang\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen) {\n            // Reset pause state saat membuka viewer pertama kali\n            setIsPaused(false);\n        }\n    }, [\n        isOpen\n    ]); // Hanya jalankan ketika status isOpen berubah\n    // Mark story as viewed - hanya jalankan sekali per story\n    const viewedStoriesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Set());\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen && currentStory && onStoryView && !isOwnStory) {\n            // Hanya tandai sebagai dilihat jika belum pernah ditandai sebelumnya\n            if (!viewedStoriesRef.current.has(currentStory.id)) {\n                console.log(\"Marking story \".concat(currentStory.id, \" as viewed (first time)\"));\n                viewedStoriesRef.current.add(currentStory.id);\n                onStoryView(currentStory.id);\n            }\n        }\n    }, [\n        isOpen,\n        currentStory === null || currentStory === void 0 ? void 0 : currentStory.id\n    ]);\n    // Close menu when clicking outside\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleClickOutside = (e)=>{\n            if (menuRef.current && !menuRef.current.contains(e.target)) {\n                setShowMenu(false);\n            }\n        };\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return ()=>{\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n        };\n    }, []);\n    // Set edited caption\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (currentStory) {\n            setEditedCaption(currentStory.caption || \"\");\n        }\n    }, [\n        currentStory\n    ]);\n    // Pastikan current story ditandai sebagai dilihat jika viewer ditutup\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen && currentStory && onStoryView && !isOwnStory) {\n            // Set timeout untuk memastikan story ditandai sebagai dilihat setelah beberapa detik\n            const timer = setTimeout(()=>{\n                onStoryView(currentStory.id);\n            }, 2000); // Tandai setelah user melihat 2 detik\n            return ()=>clearTimeout(timer);\n        }\n    }, [\n        isOpen,\n        currentStory,\n        onStoryView,\n        isOwnStory\n    ]);\n    // Pause/play video saat story di-pause/resume\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isVideo && videoRef.current) {\n            if (isPaused) {\n                videoRef.current.pause();\n            } else {\n                videoRef.current.play().catch((e)=>console.error(\"Video play error:\", e));\n            }\n        }\n    }, [\n        isPaused,\n        isVideo\n    ]);\n    // Tambahkan handler untuk video ended\n    const handleVideoEnded = ()=>{\n        handleNext();\n    };\n    const handlePrevious = ()=>{\n        // Force reset progress for smooth navigation\n        setIsPaused(true);\n        if (currentStoryIndex > 0) {\n            // Previous story of current user\n            setCurrentStoryIndex(currentStoryIndex - 1);\n        } else if (currentUserIndex > 0) {\n            // Last story of previous user\n            setCurrentUserIndex(currentUserIndex - 1);\n            const prevUser = users[currentUserIndex - 1];\n            setCurrentStoryIndex(prevUser.stories.length - 1);\n        }\n        // Reset UI states when changing story\n        setShowMenu(false);\n        setIsEditingCaption(false);\n        // Resume progress after a short delay untuk memastikan komponen dirender ulang\n        setTimeout(()=>{\n            setIsPaused(false);\n        }, 50);\n    };\n    const handleNext = ()=>{\n        // Force reset progress for smooth navigation\n        setIsPaused(true);\n        // Pastikan story saat ini ditandai sebagai telah dilihat sebelum pindah\n        if (currentStory && onStoryView && !isOwnStory) {\n            onStoryView(currentStory.id);\n        }\n        const user = users[currentUserIndex];\n        if (currentStoryIndex < user.stories.length - 1) {\n            // Next story of current user\n            setCurrentStoryIndex(currentStoryIndex + 1);\n        } else if (currentUserIndex < users.length - 1) {\n            // First story of next user\n            setCurrentUserIndex(currentUserIndex + 1);\n            setCurrentStoryIndex(0);\n        } else {\n            // End of all stories - gunakan handleClose untuk memastikan story ditandai viewed\n            handleClose();\n            return;\n        }\n        // Reset UI states when changing story\n        setShowMenu(false);\n        setIsEditingCaption(false);\n        // Resume progress after a short delay untuk memastikan komponen dirender ulang\n        setTimeout(()=>{\n            setIsPaused(false);\n        }, 100); // Tambah delay dari 50ms menjadi 100ms\n    };\n    // Touch handlers\n    const handleTouchStart = (e)=>{\n        // Record starting position\n        const touch = e.touches[0];\n        setTouchStart({\n            x: touch.clientX,\n            y: touch.clientY\n        });\n        // Pause progress\n        setIsPaused(true);\n    };\n    const handleTouchEnd = (e)=>{\n        if (!touchStart) return;\n        const touch = e.changedTouches[0];\n        const deltaX = touch.clientX - touchStart.x;\n        const deltaY = touch.clientY - touchStart.y;\n        // Resume progress\n        setIsPaused(false);\n        // If horizontal swipe is significant, navigate stories\n        if (Math.abs(deltaX) > 50 && Math.abs(deltaX) > Math.abs(deltaY)) {\n            if (deltaX > 0) {\n                handlePrevious();\n            } else {\n                handleNext();\n            }\n        }\n    };\n    const handleMouseDown = ()=>{\n        setIsPaused(true);\n    };\n    const handleMouseUp = ()=>{\n        setIsPaused(false);\n    };\n    const handleLeftClick = (e)=>{\n        e.stopPropagation(); // Mencegah mousedown/up event\n        handlePrevious();\n    };\n    const handleRightClick = (e)=>{\n        e.stopPropagation(); // Mencegah mousedown/up event\n        // Pastikan story saat ini ditandai sebagai telah dilihat saat mengklik untuk fast forward\n        if (currentStory && onStoryView && !isOwnStory) {\n            onStoryView(currentStory.id);\n        }\n        handleNext();\n    };\n    const handleProgressChange = (index)=>{\n        setCurrentStoryIndex(index);\n    };\n    const formatTimestamp = (timestamp)=>{\n        if (!timestamp) return \"\";\n        try {\n            const date = timestamp.toDate ? timestamp.toDate() : new Date(timestamp);\n            return new Intl.RelativeTimeFormat(\"id\", {\n                style: \"short\"\n            }).format(-1, \"day\");\n        } catch (error) {\n            return \"\";\n        }\n    };\n    const handleReplySubmit = ()=>{\n        if (replyText.trim()) {\n            // Kirim balasan\n            console.log(\"Replying to \".concat(currentUser.displayName, \"'s story: \").concat(replyText));\n            setReplyText(\"\");\n        }\n    };\n    const handleDeleteStory = async ()=>{\n        console.log(\"Attempting to delete story:\", {\n            storyId: currentStory === null || currentStory === void 0 ? void 0 : currentStory.id,\n            isOwnStory,\n            hasDeleteFunction: !!onStoryDelete\n        });\n        if (currentStory && onStoryDelete) {\n            try {\n                setIsPaused(true);\n                await onStoryDelete(currentStory.id);\n                console.log(\"Story deleted successfully\");\n                // Setelah menghapus, kita bisa menentukan story selanjutnya yang akan ditampilkan\n                const user = users[currentUserIndex];\n                if (user.stories.length === 1) {\n                    // Jika ini adalah story terakhir dari pengguna, tutup viewer\n                    if (users.length === 1) {\n                        onClose();\n                        return;\n                    }\n                    // Pindah ke pengguna lain\n                    if (currentUserIndex < users.length - 1) {\n                        setCurrentUserIndex(currentUserIndex + 1);\n                        setCurrentStoryIndex(0);\n                    } else {\n                        onClose();\n                    }\n                } else if (currentStoryIndex === user.stories.length - 1) {\n                    // Jika ini story terakhir, pindah ke story sebelumnya\n                    setCurrentStoryIndex(currentStoryIndex - 1);\n                }\n                // Jika bukan story terakhir, tetap di indeks yang sama (akan menampilkan story selanjutnya)\n                setShowMenu(false);\n                setIsPaused(false);\n            } catch (error) {\n                console.error(\"Error deleting story:\", error);\n                setIsPaused(false);\n            }\n        } else {\n            console.error(\"Cannot delete story - missing story ID or delete function\");\n        }\n    };\n    const handleSaveCaption = async ()=>{\n        if (currentStory && onCaptionUpdate) {\n            try {\n                setIsPaused(true);\n                await onCaptionUpdate(currentStory.id, editedCaption);\n                setIsEditingCaption(false);\n                setShowMenu(false);\n                setIsPaused(false);\n            } catch (error) {\n                console.error(\"Error updating caption:\", error);\n                setIsPaused(false);\n            }\n        }\n    };\n    // Tandai story saat ini sebagai dilihat ketika viewer ditutup\n    const handleClose = ()=>{\n        // Pastikan story saat ini ditandai sebagai sudah dilihat\n        if (currentStory && onStoryView && !isOwnStory) {\n            onStoryView(currentStory.id);\n        }\n        onClose();\n    };\n    if (!isOpen || !currentUser || !currentStory) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: isOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"fixed inset-0 bg-black z-50 flex items-center justify-center\",\n            ref: containerRef,\n            onMouseDown: handleMouseDown,\n            onMouseUp: handleMouseUp,\n            onTouchStart: handleTouchStart,\n            onTouchEnd: handleTouchEnd,\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"absolute top-0 left-0 right-0 flex p-2 gap-1 z-10\",\n                    children: currentUser && currentUser.stories.map((story, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_StoryProgressBar__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                            index: idx,\n                            isActive: idx === currentStoryIndex,\n                            isPaused: isPaused,\n                            duration: story.resourceType === \"video\" && story.duration ? story.duration * 1000 : 5000,\n                            onComplete: idx === currentStoryIndex ? handleNext : undefined,\n                            onUpdate: handleProgressChange\n                        }, story.id, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                            lineNumber: 396,\n                            columnNumber: 15\n                        }, undefined))\n                }, void 0, false, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                    lineNumber: 394,\n                    columnNumber: 11\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    className: \"absolute top-2 right-2 text-white z-10 p-2\",\n                    onClick: handleClose,\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiEdit2_FiMoreVertical_FiSend_FiSmile_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiX, {\n                        size: 24\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                        lineNumber: 413,\n                        columnNumber: 13\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                    lineNumber: 409,\n                    columnNumber: 11\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"w-full h-full max-w-md max-h-[80vh] relative\",\n                    children: [\n                        isVideo ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                            ref: videoRef,\n                            src: currentStory === null || currentStory === void 0 ? void 0 : currentStory.imageUrl,\n                            className: \"w-full h-full object-contain\",\n                            autoPlay: true,\n                            playsInline: true,\n                            muted: false,\n                            controls: false,\n                            onEnded: handleVideoEnded,\n                            onPause: ()=>setIsPaused(true),\n                            onPlay: ()=>setIsPaused(false)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                            lineNumber: 420,\n                            columnNumber: 15\n                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative w-full h-full\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                src: (currentStory === null || currentStory === void 0 ? void 0 : currentStory.imageUrl) || \"\",\n                                alt: \"Story by \".concat(currentUser === null || currentUser === void 0 ? void 0 : currentUser.displayName),\n                                fill: true,\n                                sizes: \"(max-width: 768px) 100vw, 768px\",\n                                className: \"object-contain\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                lineNumber: 434,\n                                columnNumber: 17\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                            lineNumber: 433,\n                            columnNumber: 15\n                        }, undefined),\n                        isEditingCaption ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute bottom-0 left-0 right-0 bg-black bg-opacity-70 p-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                    value: editedCaption,\n                                    onChange: (e)=>setEditedCaption(e.target.value),\n                                    className: \"w-full p-2 bg-gray-800 border border-gray-700 text-white rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                                    rows: 2,\n                                    placeholder: \"Add a caption...\",\n                                    autoFocus: true\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                    lineNumber: 447,\n                                    columnNumber: 17\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex justify-end mt-2 gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            className: \"px-3 py-1 bg-gray-700 text-white rounded-md text-sm\",\n                                            onClick: ()=>setIsEditingCaption(false),\n                                            children: \"Cancel\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                            lineNumber: 456,\n                                            columnNumber: 19\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            className: \"px-3 py-1 bg-blue-600 text-white rounded-md text-sm\",\n                                            onClick: handleSaveCaption,\n                                            children: \"Save\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                            lineNumber: 462,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                    lineNumber: 455,\n                                    columnNumber: 17\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                            lineNumber: 446,\n                            columnNumber: 15\n                        }, undefined) : (currentStory === null || currentStory === void 0 ? void 0 : currentStory.caption) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute bottom-0 left-0 right-0 bg-black bg-opacity-70 p-4 text-white\",\n                            children: currentStory.caption\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                            lineNumber: 472,\n                            columnNumber: 17\n                        }, undefined),\n                        isOwnStory && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute top-6 right-12 z-50\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"p-2.5 text-white bg-black/30 backdrop-blur-sm rounded-full hover:bg-white/20 transition\",\n                                    onClick: (e)=>{\n                                        e.stopPropagation();\n                                        setShowMenu(!showMenu);\n                                    },\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiEdit2_FiMoreVertical_FiSend_FiSmile_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiMoreVertical, {\n                                        size: 22\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                        lineNumber: 488,\n                                        columnNumber: 19\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                    lineNumber: 481,\n                                    columnNumber: 17\n                                }, undefined),\n                                showMenu && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    ref: menuRef,\n                                    className: \"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-xl overflow-hidden z-50 border border-gray-200\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            className: \"w-full px-4 py-3 text-left text-gray-700 hover:bg-gray-100 flex items-center transition\",\n                                            onClick: (e)=>{\n                                                e.stopPropagation();\n                                                setIsEditingCaption(true);\n                                                setShowMenu(false);\n                                                setIsPaused(true);\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiEdit2_FiMoreVertical_FiSend_FiSmile_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiEdit2, {\n                                                    className: \"mr-3\",\n                                                    size: 18\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                                    lineNumber: 505,\n                                                    columnNumber: 23\n                                                }, undefined),\n                                                \"Edit Caption\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                            lineNumber: 496,\n                                            columnNumber: 21\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            className: \"w-full px-4 py-3 text-left text-red-600 hover:bg-red-50 flex items-center transition\",\n                                            onClick: (e)=>{\n                                                e.stopPropagation();\n                                                if (window.confirm(\"Apakah Anda yakin ingin menghapus story ini?\")) {\n                                                    handleDeleteStory();\n                                                }\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiEdit2_FiMoreVertical_FiSend_FiSmile_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiTrash2, {\n                                                    className: \"mr-3\",\n                                                    size: 18\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                                    lineNumber: 517,\n                                                    columnNumber: 23\n                                                }, undefined),\n                                                \"Hapus Story\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                            lineNumber: 508,\n                                            columnNumber: 21\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                    lineNumber: 492,\n                                    columnNumber: 19\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                            lineNumber: 480,\n                            columnNumber: 15\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute inset-0 z-10 flex\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-1/3 h-full cursor-pointer\",\n                                    onClick: handleLeftClick\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                    lineNumber: 528,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-1/3 h-full\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                    lineNumber: 534,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-1/3 h-full cursor-pointer\",\n                                    onClick: handleRightClick\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                    lineNumber: 537,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                            lineNumber: 526,\n                            columnNumber: 13\n                        }, undefined),\n                        !isOwnStory && !isEditingCaption && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute bottom-4 left-0 right-0 px-4 z-20\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center bg-white rounded-full overflow-hidden p-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"p-2 text-gray-600\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiEdit2_FiMoreVertical_FiSend_FiSmile_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiSmile, {\n                                            size: 20\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                            lineNumber: 548,\n                                            columnNumber: 21\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                        lineNumber: 547,\n                                        columnNumber: 19\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"text\",\n                                        value: replyText,\n                                        onChange: (e)=>setReplyText(e.target.value),\n                                        placeholder: \"Balas...\",\n                                        className: \"flex-1 outline-none px-2 py-1 text-sm\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                        lineNumber: 550,\n                                        columnNumber: 19\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"p-2 text-primary disabled:text-gray-400\",\n                                        disabled: !replyText.trim(),\n                                        onClick: handleReplySubmit,\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiEdit2_FiMoreVertical_FiSend_FiSmile_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiSend, {\n                                            size: 20\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                            lineNumber: 562,\n                                            columnNumber: 21\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                        lineNumber: 557,\n                                        columnNumber: 19\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                lineNumber: 546,\n                                columnNumber: 17\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                            lineNumber: 545,\n                            columnNumber: 15\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                    lineNumber: 417,\n                    columnNumber: 11\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n            lineNumber: 385,\n            columnNumber: 9\n        }, undefined)\n    }, void 0, false);\n};\n_s(StoryViewer, \"56m2ka/FcAM55/WXRqwTVP0Fbr4=\");\n_c = StoryViewer;\n/* harmony default export */ __webpack_exports__[\"default\"] = (StoryViewer);\nvar _c;\n$RefreshReg$(_c, \"StoryViewer\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL1N0b3J5L1N0b3J5Vmlld2VyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFFMkQ7QUFDNUI7QUFDNEU7QUFDekQ7QUFnQ2xELE1BQU1ZLGNBQTBDO1FBQUMsRUFDL0NDLEtBQUssRUFDTEMsZ0JBQWdCLEVBQ2hCQyxvQkFBb0IsQ0FBQyxFQUNyQkMsTUFBTSxFQUNOQyxPQUFPLEVBQ1BDLGFBQWEsRUFDYkMsYUFBYSxFQUNiQyxlQUFlLEVBQ2ZDLFdBQVcsRUFDWjs7SUFDQyxNQUFNLENBQUNDLGtCQUFrQkMsb0JBQW9CLEdBQUd0QiwrQ0FBUUEsQ0FBQ2E7SUFDekQsTUFBTSxDQUFDVSxtQkFBbUJDLHFCQUFxQixHQUFHeEIsK0NBQVFBLENBQUNjO0lBQzNELE1BQU0sQ0FBQ1csVUFBVUMsWUFBWSxHQUFHMUIsK0NBQVFBLENBQUM7SUFDekMsTUFBTSxDQUFDMkIsV0FBV0MsYUFBYSxHQUFHNUIsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDNkIsVUFBVUMsWUFBWSxHQUFHOUIsK0NBQVFBLENBQUM7SUFDekMsTUFBTSxDQUFDK0Isa0JBQWtCQyxvQkFBb0IsR0FBR2hDLCtDQUFRQSxDQUFDO0lBQ3pELE1BQU0sQ0FBQ2lDLGVBQWVDLGlCQUFpQixHQUFHbEMsK0NBQVFBLENBQUM7SUFDbkQsTUFBTSxDQUFDbUMsWUFBWUMsY0FBYyxHQUFHcEMsK0NBQVFBLENBQWtDO0lBQzlFLE1BQU1xQyxlQUFlbkMsNkNBQU1BLENBQWlCO0lBQzVDLE1BQU1vQyxVQUFVcEMsNkNBQU1BLENBQWlCO0lBQ3ZDLE1BQU1xQyxXQUFXckMsNkNBQU1BLENBQW1CO0lBRTFDLE1BQU1zQyxjQUFjNUIsS0FBSyxDQUFDUyxpQkFBaUI7SUFDM0MsTUFBTW9CLGVBQWVELHdCQUFBQSxrQ0FBQUEsWUFBYUUsT0FBTyxDQUFDbkIsa0JBQWtCO0lBRTVELHNEQUFzRDtJQUN0RCxNQUFNb0IsYUFBYSxDQUFDLENBQUMx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dXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy9TdG9yeS9TdG9yeVZpZXdlci50c3g/ZjA4ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XHJcblxyXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgSW1hZ2UgZnJvbSAnbmV4dC9pbWFnZSc7XHJcbmltcG9ydCB7IEZpWCwgRmlDb3JuZXJEb3duTGVmdCwgRmlTZW5kLCBGaVNtaWxlLCBGaU1vcmVWZXJ0aWNhbCwgRmlFZGl0MiwgRmlUcmFzaDIgfSBmcm9tICdyZWFjdC1pY29ucy9maSc7XHJcbmltcG9ydCBTdG9yeVByb2dyZXNzQmFyIGZyb20gJy4vU3RvcnlQcm9ncmVzc0Jhcic7XHJcblxyXG50eXBlIFN0b3J5ID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgaW1hZ2VVcmw6IHN0cmluZztcclxuICB0aW1lc3RhbXA6IGFueTtcclxuICB1c2VySWQ6IHN0cmluZztcclxuICBjYXB0aW9uPzogc3RyaW5nO1xyXG4gIHJlc291cmNlVHlwZT86ICdpbWFnZScgfCAndmlkZW8nO1xyXG4gIGR1cmF0aW9uPzogbnVtYmVyO1xyXG59O1xyXG5cclxudHlwZSBTdG9yeVVzZXIgPSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBkaXNwbGF5TmFtZTogc3RyaW5nO1xyXG4gIHBob3RvVVJMOiBzdHJpbmc7XHJcbiAgc3RvcmllczogU3RvcnlbXTtcclxuICB2aWV3ZWRTdG9yaWVzPzogc3RyaW5nW107XHJcbn07XHJcblxyXG50eXBlIFN0b3J5Vmlld2VyUHJvcHMgPSB7XHJcbiAgdXNlcnM6IFN0b3J5VXNlcltdO1xyXG4gIGluaXRpYWxVc2VySW5kZXg6IG51bWJlcjtcclxuICBpbml0aWFsU3RvcnlJbmRleD86IG51bWJlcjtcclxuICBpc09wZW46IGJvb2xlYW47XHJcbiAgb25DbG9zZTogKCkgPT4gdm9pZDtcclxuICBjdXJyZW50VXNlcklkPzogc3RyaW5nO1xyXG4gIG9uU3RvcnlEZWxldGU/OiAoc3RvcnlJZDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xyXG4gIG9uQ2FwdGlvblVwZGF0ZT86IChzdG9yeUlkOiBzdHJpbmcsIGNhcHRpb246IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcclxuICBvblN0b3J5Vmlldz86IChzdG9yeUlkOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XHJcbn07XHJcblxyXG5jb25zdCBTdG9yeVZpZXdlcjogUmVhY3QuRkM8U3RvcnlWaWV3ZXJQcm9wcz4gPSAoe1xyXG4gIHVzZXJzLFxyXG4gIGluaXRpYWxVc2VySW5kZXgsXHJcbiAgaW5pdGlhbFN0b3J5SW5kZXggPSAwLFxyXG4gIGlzT3BlbixcclxuICBvbkNsb3NlLFxyXG4gIGN1cnJlbnRVc2VySWQsXHJcbiAgb25TdG9yeURlbGV0ZSxcclxuICBvbkNhcHRpb25VcGRhdGUsXHJcbiAgb25TdG9yeVZpZXdcclxufSkgPT4ge1xyXG4gIGNvbnN0IFtjdXJyZW50VXNlckluZGV4LCBzZXRDdXJyZW50VXNlckluZGV4XSA9IHVzZVN0YXRlKGluaXRpYWxVc2VySW5kZXgpO1xyXG4gIGNvbnN0IFtjdXJyZW50U3RvcnlJbmRleCwgc2V0Q3VycmVudFN0b3J5SW5kZXhdID0gdXNlU3RhdGUoaW5pdGlhbFN0b3J5SW5kZXgpO1xyXG4gIGNvbnN0IFtpc1BhdXNlZCwgc2V0SXNQYXVzZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtyZXBseVRleHQsIHNldFJlcGx5VGV4dF0gPSB1c2VTdGF0ZSgnJyk7XHJcbiAgY29uc3QgW3Nob3dNZW51LCBzZXRTaG93TWVudV0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2lzRWRpdGluZ0NhcHRpb24sIHNldElzRWRpdGluZ0NhcHRpb25dID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtlZGl0ZWRDYXB0aW9uLCBzZXRFZGl0ZWRDYXB0aW9uXSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBbdG91Y2hTdGFydCwgc2V0VG91Y2hTdGFydF0gPSB1c2VTdGF0ZTx7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0gfCBudWxsPihudWxsKTtcclxuICBjb25zdCBjb250YWluZXJSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xyXG4gIGNvbnN0IG1lbnVSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xyXG4gIGNvbnN0IHZpZGVvUmVmID0gdXNlUmVmPEhUTUxWaWRlb0VsZW1lbnQ+KG51bGwpO1xyXG4gIFxyXG4gIGNvbnN0IGN1cnJlbnRVc2VyID0gdXNlcnNbY3VycmVudFVzZXJJbmRleF07XHJcbiAgY29uc3QgY3VycmVudFN0b3J5ID0gY3VycmVudFVzZXI/LnN0b3JpZXNbY3VycmVudFN0b3J5SW5kZXhdO1xyXG4gIFxyXG4gIC8vIENlayBhcGFrYWggcGVuZ2d1bmEgeWFuZyBsb2dpbiBhZGFsYWggcGVtaWxpayBzdG9yeVxyXG4gIGNvbnN0IGlzT3duU3RvcnkgPSAhIWN1cnJlbnRVc2VySWQgJiYgISFjdXJyZW50VXNlcj8uaWQgJiYgY3VycmVudFVzZXIuaWQgPT09IGN1cnJlbnRVc2VySWQ7XHJcbiAgY29uc3QgaXNWaWRlbyA9IGN1cnJlbnRTdG9yeT8ucmVzb3VyY2VUeXBlID09PSAndmlkZW8nO1xyXG5cclxuICAvLyBEZWJ1ZyBpbmZvIGZvciBvd25lcnNoaXAgY2hlY2tcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGN1cnJlbnRTdG9yeSAmJiBjdXJyZW50VXNlcikge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIlN0b3J5IG93bmVyc2hpcCBkZWJ1ZzpcIiwge1xyXG4gICAgICAgIGN1cnJlbnRVc2VySWQsXHJcbiAgICAgICAgY3VycmVudFVzZXJJZF90eXBlOiB0eXBlb2YgY3VycmVudFVzZXJJZCxcclxuICAgICAgICBzdG9yeVVzZXJJZDogY3VycmVudFVzZXIuaWQsXHJcbiAgICAgICAgc3RvcnlVc2VySWRfdHlwZTogdHlwZW9mIGN1cnJlbnRVc2VyLmlkLFxyXG4gICAgICAgIGlzT3duU3RvcnlcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSwgW2N1cnJlbnRTdG9yeSwgY3VycmVudFVzZXIsIGN1cnJlbnRVc2VySWQsIGlzT3duU3RvcnldKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChpc09wZW4pIHtcclxuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdhdXRvJztcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdhdXRvJztcclxuICAgIH07XHJcbiAgfSwgW2lzT3Blbl0pO1xyXG5cclxuICAvLyBTYWF0IHBlbmdndW5hIG1lbmdnYW50aSBzdG9yeSBhdGF1IHN0b3J5IGluZGV4IGJlcnViYWgsIHBhc3Rpa2FuIHByb2dyZXMgYmFyIGRpcmVzZXRcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGlzT3Blbikge1xyXG4gICAgICBzZXRDdXJyZW50VXNlckluZGV4KGluaXRpYWxVc2VySW5kZXgpO1xyXG4gICAgICBzZXRDdXJyZW50U3RvcnlJbmRleChpbml0aWFsU3RvcnlJbmRleCk7XHJcbiAgICAgIC8vIFJlc2V0IFVJIHN0YXRlcyBrZXRpa2Egc3RvcnkgYmVydWJhaFxyXG4gICAgICBzZXRTaG93TWVudShmYWxzZSk7XHJcbiAgICAgIHNldElzRWRpdGluZ0NhcHRpb24oZmFsc2UpO1xyXG4gICAgICAvLyBKYW5nYW4gcmVzZXQgc3RhdHVzIHBhdXNlIGRpIHNpbmksIGJpYXJrYW4gaXR1IGRpa2Vsb2xhIG9sZWggcHJvZ3JlcyBiYXIgc2VuZGlyaVxyXG4gICAgfVxyXG4gIH0sIFtpc09wZW4sIGluaXRpYWxVc2VySW5kZXgsIGluaXRpYWxTdG9yeUluZGV4XSk7XHJcblxyXG4gIC8vIFNhYXQgc3RvcnkgZGl0dXR1cCBrZW11ZGlhbiBkaWJ1a2Ega2VtYmFsaSwgcGFzdGlrYW4gcHJvZ3JlcyBkaW11bGFpIHVsYW5nXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChpc09wZW4pIHtcclxuICAgICAgLy8gUmVzZXQgcGF1c2Ugc3RhdGUgc2FhdCBtZW1idWthIHZpZXdlciBwZXJ0YW1hIGthbGlcclxuICAgICAgc2V0SXNQYXVzZWQoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH0sIFtpc09wZW5dKTsgLy8gSGFueWEgamFsYW5rYW4ga2V0aWthIHN0YXR1cyBpc09wZW4gYmVydWJhaFxyXG5cclxuICAvLyBNYXJrIHN0b3J5IGFzIHZpZXdlZCAtIGhhbnlhIGphbGFua2FuIHNla2FsaSBwZXIgc3RvcnlcclxuICBjb25zdCB2aWV3ZWRTdG9yaWVzUmVmID0gdXNlUmVmPFNldDxzdHJpbmc+PihuZXcgU2V0KCkpO1xyXG4gIFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoaXNPcGVuICYmIGN1cnJlbnRTdG9yeSAmJiBvblN0b3J5VmlldyAmJiAhaXNPd25TdG9yeSkge1xyXG4gICAgICAvLyBIYW55YSB0YW5kYWkgc2ViYWdhaSBkaWxpaGF0IGppa2EgYmVsdW0gcGVybmFoIGRpdGFuZGFpIHNlYmVsdW1ueWFcclxuICAgICAgaWYgKCF2aWV3ZWRTdG9yaWVzUmVmLmN1cnJlbnQuaGFzKGN1cnJlbnRTdG9yeS5pZCkpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhgTWFya2luZyBzdG9yeSAke2N1cnJlbnRTdG9yeS5pZH0gYXMgdmlld2VkIChmaXJzdCB0aW1lKWApO1xyXG4gICAgICAgIHZpZXdlZFN0b3JpZXNSZWYuY3VycmVudC5hZGQoY3VycmVudFN0b3J5LmlkKTtcclxuICAgICAgICBvblN0b3J5VmlldyhjdXJyZW50U3RvcnkuaWQpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSwgW2lzT3BlbiwgY3VycmVudFN0b3J5Py5pZF0pO1xyXG5cclxuICAvLyBDbG9zZSBtZW51IHdoZW4gY2xpY2tpbmcgb3V0c2lkZVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBoYW5kbGVDbGlja091dHNpZGUgPSAoZTogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICBpZiAobWVudVJlZi5jdXJyZW50ICYmICFtZW51UmVmLmN1cnJlbnQuY29udGFpbnMoZS50YXJnZXQgYXMgTm9kZSkpIHtcclxuICAgICAgICBzZXRTaG93TWVudShmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XHJcbiAgICB9O1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgLy8gU2V0IGVkaXRlZCBjYXB0aW9uXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChjdXJyZW50U3RvcnkpIHtcclxuICAgICAgc2V0RWRpdGVkQ2FwdGlvbihjdXJyZW50U3RvcnkuY2FwdGlvbiB8fCAnJyk7XHJcbiAgICB9XHJcbiAgfSwgW2N1cnJlbnRTdG9yeV0pO1xyXG5cclxuICAvLyBQYXN0aWthbiBjdXJyZW50IHN0b3J5IGRpdGFuZGFpIHNlYmFnYWkgZGlsaWhhdCBqaWthIHZpZXdlciBkaXR1dHVwXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChpc09wZW4gJiYgY3VycmVudFN0b3J5ICYmIG9uU3RvcnlWaWV3ICYmICFpc093blN0b3J5KSB7XHJcbiAgICAgIC8vIFNldCB0aW1lb3V0IHVudHVrIG1lbWFzdGlrYW4gc3RvcnkgZGl0YW5kYWkgc2ViYWdhaSBkaWxpaGF0IHNldGVsYWggYmViZXJhcGEgZGV0aWtcclxuICAgICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBvblN0b3J5VmlldyhjdXJyZW50U3RvcnkuaWQpO1xyXG4gICAgICB9LCAyMDAwKTsgLy8gVGFuZGFpIHNldGVsYWggdXNlciBtZWxpaGF0IDIgZGV0aWtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZXIpO1xyXG4gICAgfVxyXG4gIH0sIFtpc09wZW4sIGN1cnJlbnRTdG9yeSwgb25TdG9yeVZpZXcsIGlzT3duU3RvcnldKTtcclxuXHJcbiAgLy8gUGF1c2UvcGxheSB2aWRlbyBzYWF0IHN0b3J5IGRpLXBhdXNlL3Jlc3VtZVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoaXNWaWRlbyAmJiB2aWRlb1JlZi5jdXJyZW50KSB7XHJcbiAgICAgIGlmIChpc1BhdXNlZCkge1xyXG4gICAgICAgIHZpZGVvUmVmLmN1cnJlbnQucGF1c2UoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB2aWRlb1JlZi5jdXJyZW50LnBsYXkoKS5jYXRjaChlID0+IGNvbnNvbGUuZXJyb3IoXCJWaWRlbyBwbGF5IGVycm9yOlwiLCBlKSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCBbaXNQYXVzZWQsIGlzVmlkZW9dKTtcclxuXHJcbiAgLy8gVGFtYmFoa2FuIGhhbmRsZXIgdW50dWsgdmlkZW8gZW5kZWRcclxuICBjb25zdCBoYW5kbGVWaWRlb0VuZGVkID0gKCkgPT4ge1xyXG4gICAgaGFuZGxlTmV4dCgpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVByZXZpb3VzID0gKCkgPT4ge1xyXG4gICAgLy8gRm9yY2UgcmVzZXQgcHJvZ3Jlc3MgZm9yIHNtb290aCBuYXZpZ2F0aW9uXHJcbiAgICBzZXRJc1BhdXNlZCh0cnVlKTtcclxuICAgIFxyXG4gICAgaWYgKGN1cnJlbnRTdG9yeUluZGV4ID4gMCkge1xyXG4gICAgICAvLyBQcmV2aW91cyBzdG9yeSBvZiBjdXJyZW50IHVzZXJcclxuICAgICAgc2V0Q3VycmVudFN0b3J5SW5kZXgoY3VycmVudFN0b3J5SW5kZXggLSAxKTtcclxuICAgIH0gZWxzZSBpZiAoY3VycmVudFVzZXJJbmRleCA+IDApIHtcclxuICAgICAgLy8gTGFzdCBzdG9yeSBvZiBwcmV2aW91cyB1c2VyXHJcbiAgICAgIHNldEN1cnJlbnRVc2VySW5kZXgoY3VycmVudFVzZXJJbmRleCAtIDEpO1xyXG4gICAgICBjb25zdCBwcmV2VXNlciA9IHVzZXJzW2N1cnJlbnRVc2VySW5kZXggLSAxXTtcclxuICAgICAgc2V0Q3VycmVudFN0b3J5SW5kZXgocHJldlVzZXIuc3Rvcmllcy5sZW5ndGggLSAxKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXNldCBVSSBzdGF0ZXMgd2hlbiBjaGFuZ2luZyBzdG9yeVxyXG4gICAgc2V0U2hvd01lbnUoZmFsc2UpO1xyXG4gICAgc2V0SXNFZGl0aW5nQ2FwdGlvbihmYWxzZSk7XHJcbiAgICBcclxuICAgIC8vIFJlc3VtZSBwcm9ncmVzcyBhZnRlciBhIHNob3J0IGRlbGF5IHVudHVrIG1lbWFzdGlrYW4ga29tcG9uZW4gZGlyZW5kZXIgdWxhbmdcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBzZXRJc1BhdXNlZChmYWxzZSk7XHJcbiAgICB9LCA1MCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlTmV4dCA9ICgpID0+IHtcclxuICAgIC8vIEZvcmNlIHJlc2V0IHByb2dyZXNzIGZvciBzbW9vdGggbmF2aWdhdGlvblxyXG4gICAgc2V0SXNQYXVzZWQodHJ1ZSk7XHJcblxyXG4gICAgLy8gUGFzdGlrYW4gc3Rvcnkgc2FhdCBpbmkgZGl0YW5kYWkgc2ViYWdhaSB0ZWxhaCBkaWxpaGF0IHNlYmVsdW0gcGluZGFoXHJcbiAgICBpZiAoY3VycmVudFN0b3J5ICYmIG9uU3RvcnlWaWV3ICYmICFpc093blN0b3J5KSB7XHJcbiAgICAgIG9uU3RvcnlWaWV3KGN1cnJlbnRTdG9yeS5pZCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IHVzZXIgPSB1c2Vyc1tjdXJyZW50VXNlckluZGV4XTtcclxuICAgIGlmIChjdXJyZW50U3RvcnlJbmRleCA8IHVzZXIuc3Rvcmllcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgIC8vIE5leHQgc3Rvcnkgb2YgY3VycmVudCB1c2VyXHJcbiAgICAgIHNldEN1cnJlbnRTdG9yeUluZGV4KGN1cnJlbnRTdG9yeUluZGV4ICsgMSk7XHJcbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRVc2VySW5kZXggPCB1c2Vycy5sZW5ndGggLSAxKSB7XHJcbiAgICAgIC8vIEZpcnN0IHN0b3J5IG9mIG5leHQgdXNlclxyXG4gICAgICBzZXRDdXJyZW50VXNlckluZGV4KGN1cnJlbnRVc2VySW5kZXggKyAxKTtcclxuICAgICAgc2V0Q3VycmVudFN0b3J5SW5kZXgoMCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBFbmQgb2YgYWxsIHN0b3JpZXMgLSBndW5ha2FuIGhhbmRsZUNsb3NlIHVudHVrIG1lbWFzdGlrYW4gc3RvcnkgZGl0YW5kYWkgdmlld2VkXHJcbiAgICAgIGhhbmRsZUNsb3NlKCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXNldCBVSSBzdGF0ZXMgd2hlbiBjaGFuZ2luZyBzdG9yeVxyXG4gICAgc2V0U2hvd01lbnUoZmFsc2UpO1xyXG4gICAgc2V0SXNFZGl0aW5nQ2FwdGlvbihmYWxzZSk7XHJcbiAgICBcclxuICAgIC8vIFJlc3VtZSBwcm9ncmVzcyBhZnRlciBhIHNob3J0IGRlbGF5IHVudHVrIG1lbWFzdGlrYW4ga29tcG9uZW4gZGlyZW5kZXIgdWxhbmdcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBzZXRJc1BhdXNlZChmYWxzZSk7XHJcbiAgICB9LCAxMDApOyAvLyBUYW1iYWggZGVsYXkgZGFyaSA1MG1zIG1lbmphZGkgMTAwbXNcclxuICB9O1xyXG5cclxuICAvLyBUb3VjaCBoYW5kbGVyc1xyXG4gIGNvbnN0IGhhbmRsZVRvdWNoU3RhcnQgPSAoZTogUmVhY3QuVG91Y2hFdmVudCkgPT4ge1xyXG4gICAgLy8gUmVjb3JkIHN0YXJ0aW5nIHBvc2l0aW9uXHJcbiAgICBjb25zdCB0b3VjaCA9IGUudG91Y2hlc1swXTtcclxuICAgIHNldFRvdWNoU3RhcnQoeyB4OiB0b3VjaC5jbGllbnRYLCB5OiB0b3VjaC5jbGllbnRZIH0pO1xyXG4gICAgLy8gUGF1c2UgcHJvZ3Jlc3NcclxuICAgIHNldElzUGF1c2VkKHRydWUpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVRvdWNoRW5kID0gKGU6IFJlYWN0LlRvdWNoRXZlbnQpID0+IHtcclxuICAgIGlmICghdG91Y2hTdGFydCkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICBjb25zdCB0b3VjaCA9IGUuY2hhbmdlZFRvdWNoZXNbMF07XHJcbiAgICBjb25zdCBkZWx0YVggPSB0b3VjaC5jbGllbnRYIC0gdG91Y2hTdGFydC54O1xyXG4gICAgY29uc3QgZGVsdGFZID0gdG91Y2guY2xpZW50WSAtIHRvdWNoU3RhcnQueTtcclxuICAgIFxyXG4gICAgLy8gUmVzdW1lIHByb2dyZXNzXHJcbiAgICBzZXRJc1BhdXNlZChmYWxzZSk7XHJcbiAgICBcclxuICAgIC8vIElmIGhvcml6b250YWwgc3dpcGUgaXMgc2lnbmlmaWNhbnQsIG5hdmlnYXRlIHN0b3JpZXNcclxuICAgIGlmIChNYXRoLmFicyhkZWx0YVgpID4gNTAgJiYgTWF0aC5hYnMoZGVsdGFYKSA+IE1hdGguYWJzKGRlbHRhWSkpIHtcclxuICAgICAgaWYgKGRlbHRhWCA+IDApIHtcclxuICAgICAgICBoYW5kbGVQcmV2aW91cygpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGhhbmRsZU5leHQoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZU1vdXNlRG93biA9ICgpID0+IHtcclxuICAgIHNldElzUGF1c2VkKHRydWUpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZU1vdXNlVXAgPSAoKSA9PiB7XHJcbiAgICBzZXRJc1BhdXNlZChmYWxzZSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlTGVmdENsaWNrID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIE1lbmNlZ2FoIG1vdXNlZG93bi91cCBldmVudFxyXG4gICAgaGFuZGxlUHJldmlvdXMoKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVSaWdodENsaWNrID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIE1lbmNlZ2FoIG1vdXNlZG93bi91cCBldmVudFxyXG5cclxuICAgIC8vIFBhc3Rpa2FuIHN0b3J5IHNhYXQgaW5pIGRpdGFuZGFpIHNlYmFnYWkgdGVsYWggZGlsaWhhdCBzYWF0IG1lbmdrbGlrIHVudHVrIGZhc3QgZm9yd2FyZFxyXG4gICAgaWYgKGN1cnJlbnRTdG9yeSAmJiBvblN0b3J5VmlldyAmJiAhaXNPd25TdG9yeSkge1xyXG4gICAgICBvblN0b3J5VmlldyhjdXJyZW50U3RvcnkuaWQpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBoYW5kbGVOZXh0KCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlUHJvZ3Jlc3NDaGFuZ2UgPSAoaW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgc2V0Q3VycmVudFN0b3J5SW5kZXgoaW5kZXgpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGZvcm1hdFRpbWVzdGFtcCA9ICh0aW1lc3RhbXA6IGFueSkgPT4ge1xyXG4gICAgaWYgKCF0aW1lc3RhbXApIHJldHVybiAnJztcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZGF0ZSA9IHRpbWVzdGFtcC50b0RhdGUgPyB0aW1lc3RhbXAudG9EYXRlKCkgOiBuZXcgRGF0ZSh0aW1lc3RhbXApO1xyXG4gICAgICByZXR1cm4gbmV3IEludGwuUmVsYXRpdmVUaW1lRm9ybWF0KCdpZCcsIHsgc3R5bGU6ICdzaG9ydCcgfSkuZm9ybWF0KC0xLCAnZGF5Jyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlUmVwbHlTdWJtaXQgPSAoKSA9PiB7XHJcbiAgICBpZiAocmVwbHlUZXh0LnRyaW0oKSkge1xyXG4gICAgICAvLyBLaXJpbSBiYWxhc2FuXHJcbiAgICAgIGNvbnNvbGUubG9nKGBSZXBseWluZyB0byAke2N1cnJlbnRVc2VyLmRpc3BsYXlOYW1lfSdzIHN0b3J5OiAke3JlcGx5VGV4dH1gKTtcclxuICAgICAgc2V0UmVwbHlUZXh0KCcnKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVEZWxldGVTdG9yeSA9IGFzeW5jICgpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKFwiQXR0ZW1wdGluZyB0byBkZWxldGUgc3Rvcnk6XCIsIHtcclxuICAgICAgc3RvcnlJZDogY3VycmVudFN0b3J5Py5pZCxcclxuICAgICAgaXNPd25TdG9yeSxcclxuICAgICAgaGFzRGVsZXRlRnVuY3Rpb246ICEhb25TdG9yeURlbGV0ZVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGlmIChjdXJyZW50U3RvcnkgJiYgb25TdG9yeURlbGV0ZSkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHNldElzUGF1c2VkKHRydWUpO1xyXG4gICAgICAgIGF3YWl0IG9uU3RvcnlEZWxldGUoY3VycmVudFN0b3J5LmlkKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlN0b3J5IGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFNldGVsYWggbWVuZ2hhcHVzLCBraXRhIGJpc2EgbWVuZW50dWthbiBzdG9yeSBzZWxhbmp1dG55YSB5YW5nIGFrYW4gZGl0YW1waWxrYW5cclxuICAgICAgICBjb25zdCB1c2VyID0gdXNlcnNbY3VycmVudFVzZXJJbmRleF07XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHVzZXIuc3Rvcmllcy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgIC8vIEppa2EgaW5pIGFkYWxhaCBzdG9yeSB0ZXJha2hpciBkYXJpIHBlbmdndW5hLCB0dXR1cCB2aWV3ZXJcclxuICAgICAgICAgIGlmICh1c2Vycy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgb25DbG9zZSgpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIFBpbmRhaCBrZSBwZW5nZ3VuYSBsYWluXHJcbiAgICAgICAgICBpZiAoY3VycmVudFVzZXJJbmRleCA8IHVzZXJzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgc2V0Q3VycmVudFVzZXJJbmRleChjdXJyZW50VXNlckluZGV4ICsgMSk7XHJcbiAgICAgICAgICAgIHNldEN1cnJlbnRTdG9yeUluZGV4KDApO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgb25DbG9zZSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFN0b3J5SW5kZXggPT09IHVzZXIuc3Rvcmllcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAvLyBKaWthIGluaSBzdG9yeSB0ZXJha2hpciwgcGluZGFoIGtlIHN0b3J5IHNlYmVsdW1ueWFcclxuICAgICAgICAgIHNldEN1cnJlbnRTdG9yeUluZGV4KGN1cnJlbnRTdG9yeUluZGV4IC0gMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEppa2EgYnVrYW4gc3RvcnkgdGVyYWtoaXIsIHRldGFwIGRpIGluZGVrcyB5YW5nIHNhbWEgKGFrYW4gbWVuYW1waWxrYW4gc3Rvcnkgc2VsYW5qdXRueWEpXHJcbiAgICAgICAgXHJcbiAgICAgICAgc2V0U2hvd01lbnUoZmFsc2UpO1xyXG4gICAgICAgIHNldElzUGF1c2VkKGZhbHNlKTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBzdG9yeTonLCBlcnJvcik7XHJcbiAgICAgICAgc2V0SXNQYXVzZWQoZmFsc2UpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiQ2Fubm90IGRlbGV0ZSBzdG9yeSAtIG1pc3Npbmcgc3RvcnkgSUQgb3IgZGVsZXRlIGZ1bmN0aW9uXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVNhdmVDYXB0aW9uID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKGN1cnJlbnRTdG9yeSAmJiBvbkNhcHRpb25VcGRhdGUpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBzZXRJc1BhdXNlZCh0cnVlKTtcclxuICAgICAgICBhd2FpdCBvbkNhcHRpb25VcGRhdGUoY3VycmVudFN0b3J5LmlkLCBlZGl0ZWRDYXB0aW9uKTtcclxuICAgICAgICBzZXRJc0VkaXRpbmdDYXB0aW9uKGZhbHNlKTtcclxuICAgICAgICBzZXRTaG93TWVudShmYWxzZSk7XHJcbiAgICAgICAgc2V0SXNQYXVzZWQoZmFsc2UpO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGNhcHRpb246JywgZXJyb3IpO1xyXG4gICAgICAgIHNldElzUGF1c2VkKGZhbHNlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIFRhbmRhaSBzdG9yeSBzYWF0IGluaSBzZWJhZ2FpIGRpbGloYXQga2V0aWthIHZpZXdlciBkaXR1dHVwXHJcbiAgY29uc3QgaGFuZGxlQ2xvc2UgPSAoKSA9PiB7XHJcbiAgICAvLyBQYXN0aWthbiBzdG9yeSBzYWF0IGluaSBkaXRhbmRhaSBzZWJhZ2FpIHN1ZGFoIGRpbGloYXRcclxuICAgIGlmIChjdXJyZW50U3RvcnkgJiYgb25TdG9yeVZpZXcgJiYgIWlzT3duU3RvcnkpIHtcclxuICAgICAgb25TdG9yeVZpZXcoY3VycmVudFN0b3J5LmlkKTtcclxuICAgIH1cclxuICAgIG9uQ2xvc2UoKTtcclxuICB9O1xyXG5cclxuICBpZiAoIWlzT3BlbiB8fCAhY3VycmVudFVzZXIgfHwgIWN1cnJlbnRTdG9yeSkgcmV0dXJuIG51bGw7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8PlxyXG4gICAgICB7aXNPcGVuICYmIChcclxuICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCBiZy1ibGFjayB6LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCJcclxuICAgICAgICAgIHJlZj17Y29udGFpbmVyUmVmfVxyXG4gICAgICAgICAgb25Nb3VzZURvd249e2hhbmRsZU1vdXNlRG93bn1cclxuICAgICAgICAgIG9uTW91c2VVcD17aGFuZGxlTW91c2VVcH1cclxuICAgICAgICAgIG9uVG91Y2hTdGFydD17aGFuZGxlVG91Y2hTdGFydH1cclxuICAgICAgICAgIG9uVG91Y2hFbmQ9e2hhbmRsZVRvdWNoRW5kfVxyXG4gICAgICAgID5cclxuICAgICAgICAgIHsvKiBQcm9ncmVzcyBiYXJzICovfVxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMCBsZWZ0LTAgcmlnaHQtMCBmbGV4IHAtMiBnYXAtMSB6LTEwXCI+XHJcbiAgICAgICAgICAgIHtjdXJyZW50VXNlciAmJiBjdXJyZW50VXNlci5zdG9yaWVzLm1hcCgoc3RvcnksIGlkeCkgPT4gKFxyXG4gICAgICAgICAgICAgIDxTdG9yeVByb2dyZXNzQmFyIFxyXG4gICAgICAgICAgICAgICAga2V5PXtzdG9yeS5pZH1cclxuICAgICAgICAgICAgICAgIGluZGV4PXtpZHh9XHJcbiAgICAgICAgICAgICAgICBpc0FjdGl2ZT17aWR4ID09PSBjdXJyZW50U3RvcnlJbmRleH1cclxuICAgICAgICAgICAgICAgIGlzUGF1c2VkPXtpc1BhdXNlZH1cclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uPXtzdG9yeS5yZXNvdXJjZVR5cGUgPT09ICd2aWRlbycgJiYgc3RvcnkuZHVyYXRpb24gPyBzdG9yeS5kdXJhdGlvbiAqIDEwMDAgOiA1MDAwfVxyXG4gICAgICAgICAgICAgICAgb25Db21wbGV0ZT17aWR4ID09PSBjdXJyZW50U3RvcnlJbmRleCA/IGhhbmRsZU5leHQgOiB1bmRlZmluZWR9XHJcbiAgICAgICAgICAgICAgICBvblVwZGF0ZT17aGFuZGxlUHJvZ3Jlc3NDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICB7LyogQ2xvc2UgYnV0dG9uICovfVxyXG4gICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTIgcmlnaHQtMiB0ZXh0LXdoaXRlIHotMTAgcC0yXCJcclxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ2xvc2V9XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxGaVggc2l6ZT17MjR9IC8+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuXHJcbiAgICAgICAgICB7LyogU3RvcnkgQ29udGVudCAqL31cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBtYXgtdy1tZCBtYXgtaC1bODB2aF0gcmVsYXRpdmVcIj5cclxuICAgICAgICAgICAgey8qIFZpZGVvIG9yIEltYWdlICovfVxyXG4gICAgICAgICAgICB7aXNWaWRlbyA/IChcclxuICAgICAgICAgICAgICA8dmlkZW9cclxuICAgICAgICAgICAgICAgIHJlZj17dmlkZW9SZWZ9XHJcbiAgICAgICAgICAgICAgICBzcmM9e2N1cnJlbnRTdG9yeT8uaW1hZ2VVcmx9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb250YWluXCJcclxuICAgICAgICAgICAgICAgIGF1dG9QbGF5XHJcbiAgICAgICAgICAgICAgICBwbGF5c0lubGluZVxyXG4gICAgICAgICAgICAgICAgbXV0ZWQ9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgY29udHJvbHM9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgb25FbmRlZD17aGFuZGxlVmlkZW9FbmRlZH1cclxuICAgICAgICAgICAgICAgIG9uUGF1c2U9eygpID0+IHNldElzUGF1c2VkKHRydWUpfVxyXG4gICAgICAgICAgICAgICAgb25QbGF5PXsoKSA9PiBzZXRJc1BhdXNlZChmYWxzZSl9XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIHctZnVsbCBoLWZ1bGxcIj5cclxuICAgICAgICAgICAgICAgIDxJbWFnZVxyXG4gICAgICAgICAgICAgICAgICBzcmM9e2N1cnJlbnRTdG9yeT8uaW1hZ2VVcmwgfHwgJyd9XHJcbiAgICAgICAgICAgICAgICAgIGFsdD17YFN0b3J5IGJ5ICR7Y3VycmVudFVzZXI/LmRpc3BsYXlOYW1lfWB9XHJcbiAgICAgICAgICAgICAgICAgIGZpbGw9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgIHNpemVzPVwiKG1heC13aWR0aDogNzY4cHgpIDEwMHZ3LCA3NjhweFwiXHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm9iamVjdC1jb250YWluXCJcclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICl9XHJcblxyXG4gICAgICAgICAgICB7LyogQ2FwdGlvbiAqL31cclxuICAgICAgICAgICAge2lzRWRpdGluZ0NhcHRpb24gPyAoXHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tMCBsZWZ0LTAgcmlnaHQtMCBiZy1ibGFjayBiZy1vcGFjaXR5LTcwIHAtNFwiPlxyXG4gICAgICAgICAgICAgICAgPHRleHRhcmVhXHJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtlZGl0ZWRDYXB0aW9ufVxyXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEVkaXRlZENhcHRpb24oZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0yIGJnLWdyYXktODAwIGJvcmRlciBib3JkZXItZ3JheS03MDAgdGV4dC13aGl0ZSByb3VuZGVkLW1kIHJlc2l6ZS1ub25lIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMFwiXHJcbiAgICAgICAgICAgICAgICAgIHJvd3M9ezJ9XHJcbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQWRkIGEgY2FwdGlvbi4uLlwiXHJcbiAgICAgICAgICAgICAgICAgIGF1dG9Gb2N1c1xyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWVuZCBtdC0yIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTEgYmctZ3JheS03MDAgdGV4dC13aGl0ZSByb3VuZGVkLW1kIHRleHQtc21cIlxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldElzRWRpdGluZ0NhcHRpb24oZmFsc2UpfVxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgQ2FuY2VsXHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0xIGJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcm91bmRlZC1tZCB0ZXh0LXNtXCJcclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTYXZlQ2FwdGlvbn1cclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIFNhdmVcclxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICBjdXJyZW50U3Rvcnk/LmNhcHRpb24gJiYgKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tMCBsZWZ0LTAgcmlnaHQtMCBiZy1ibGFjayBiZy1vcGFjaXR5LTcwIHAtNCB0ZXh0LXdoaXRlXCI+XHJcbiAgICAgICAgICAgICAgICAgIHtjdXJyZW50U3RvcnkuY2FwdGlvbn1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgKX1cclxuXHJcbiAgICAgICAgICAgIHsvKiBTdG9yeSBBY3Rpb25zIE1lbnUgKGZvciBvd24gc3RvcmllcykgKi99XHJcbiAgICAgICAgICAgIHtpc093blN0b3J5ICYmIChcclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC02IHJpZ2h0LTEyIHotNTBcIj5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMi41IHRleHQtd2hpdGUgYmctYmxhY2svMzAgYmFja2Ryb3AtYmx1ci1zbSByb3VuZGVkLWZ1bGwgaG92ZXI6Ymctd2hpdGUvMjAgdHJhbnNpdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRTaG93TWVudSghc2hvd01lbnUpO1xyXG4gICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICA8RmlNb3JlVmVydGljYWwgc2l6ZT17MjJ9IC8+XHJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAge3Nob3dNZW51ICYmIChcclxuICAgICAgICAgICAgICAgICAgPGRpdiBcclxuICAgICAgICAgICAgICAgICAgICByZWY9e21lbnVSZWZ9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgcmlnaHQtMCBtdC0yIHctNTYgYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3cteGwgb3ZlcmZsb3ctaGlkZGVuIHotNTAgYm9yZGVyIGJvcmRlci1ncmF5LTIwMFwiXHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTQgcHktMyB0ZXh0LWxlZnQgdGV4dC1ncmF5LTcwMCBob3ZlcjpiZy1ncmF5LTEwMCBmbGV4IGl0ZW1zLWNlbnRlciB0cmFuc2l0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldElzRWRpdGluZ0NhcHRpb24odHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dNZW51KGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXNQYXVzZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgIDxGaUVkaXQyIGNsYXNzTmFtZT1cIm1yLTNcIiBzaXplPXsxOH0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgIEVkaXQgQ2FwdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtNCBweS0zIHRleHQtbGVmdCB0ZXh0LXJlZC02MDAgaG92ZXI6YmctcmVkLTUwIGZsZXggaXRlbXMtY2VudGVyIHRyYW5zaXRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5jb25maXJtKFwiQXBha2FoIEFuZGEgeWFraW4gaW5naW4gbWVuZ2hhcHVzIHN0b3J5IGluaT9cIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVEZWxldGVTdG9yeSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgIDxGaVRyYXNoMiBjbGFzc05hbWU9XCJtci0zXCIgc2l6ZT17MTh9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICBIYXB1cyBTdG9yeVxyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICl9XHJcblxyXG4gICAgICAgICAgICB7LyogTmF2aWdhdGlvbiBvdmVybGF5IGxlZnQgYW5kIHJpZ2h0ICovfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgei0xMCBmbGV4XCI+XHJcbiAgICAgICAgICAgICAgey8qIExlZnQgbmF2aWdhdGlvbiBhcmVhIChwcmV2aW91cykgKi99XHJcbiAgICAgICAgICAgICAgPGRpdiBcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8zIGgtZnVsbCBjdXJzb3ItcG9pbnRlclwiXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVMZWZ0Q2xpY2t9XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICB7LyogTWlkZGxlIGFyZWEgKHBhdXNlL3BsYXkpICovfVxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xLzMgaC1mdWxsXCIgLz5cclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICB7LyogUmlnaHQgbmF2aWdhdGlvbiBhcmVhIChuZXh0KSAqL31cclxuICAgICAgICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzMgaC1mdWxsIGN1cnNvci1wb2ludGVyXCJcclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVJpZ2h0Q2xpY2t9XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB7LyogUmVwbHkgYm94ICovfVxyXG4gICAgICAgICAgICB7IWlzT3duU3RvcnkgJiYgIWlzRWRpdGluZ0NhcHRpb24gJiYgKFxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTQgbGVmdC0wIHJpZ2h0LTAgcHgtNCB6LTIwXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGJnLXdoaXRlIHJvdW5kZWQtZnVsbCBvdmVyZmxvdy1oaWRkZW4gcC0xXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwicC0yIHRleHQtZ3JheS02MDBcIj5cclxuICAgICAgICAgICAgICAgICAgICA8RmlTbWlsZSBzaXplPXsyMH0gLz5cclxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cmVwbHlUZXh0fVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UmVwbHlUZXh0KGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkJhbGFzLi4uXCJcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgb3V0bGluZS1ub25lIHB4LTIgcHktMSB0ZXh0LXNtXCJcclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwLTIgdGV4dC1wcmltYXJ5IGRpc2FibGVkOnRleHQtZ3JheS00MDBcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshcmVwbHlUZXh0LnRyaW0oKX1cclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVSZXBseVN1Ym1pdH1cclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxGaVNlbmQgc2l6ZT17MjB9IC8+XHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuICAgIDwvPlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTdG9yeVZpZXdlcjsgIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJJbWFnZSIsIkZpWCIsIkZpU2VuZCIsIkZpU21pbGUiLCJGaU1vcmVWZXJ0aWNhbCIsIkZpRWRpdDIiLCJGaVRyYXNoMiIsIlN0b3J5UHJvZ3Jlc3NCYXIiLCJTdG9yeVZpZXdlciIsInVzZXJzIiwiaW5pdGlhbFVzZXJJbmRleCIsImluaXRpYWxTdG9yeUluZGV4IiwiaXNPcGVuIiwib25DbG9zZSIsImN1cnJlbnRVc2VySWQiLCJvblN0b3J5RGVsZXRlIiwib25DYXB0aW9uVXBkYXRlIiwib25TdG9yeVZpZXciLCJjdXJyZW50VXNlckluZGV4Iiwic2V0Q3VycmVudFVzZXJJbmRleCIsImN1cnJlbnRTdG9yeUluZGV4Iiwic2V0Q3VycmVudFN0b3J5SW5kZXgiLCJpc1BhdXNlZCIsInNldElzUGF1c2VkIiwicmVwbHlUZXh0Iiwic2V0UmVwbHlUZXh0Iiwic2hvd01lbnUiLCJzZXRTaG93TWVudSIsImlzRWRpdGluZ0NhcHRpb24iLCJzZXRJc0VkaXRpbmdDYXB0aW9uIiwiZWRpdGVkQ2FwdGlvbiIsInNldEVkaXRlZENhcHRpb24iLCJ0b3VjaFN0YXJ0Iiwic2V0VG91Y2hTdGFydCIsImNvbnRhaW5lclJlZiIsIm1lbnVSZWYiLCJ2aWRlb1JlZiIsImN1cnJlbnRVc2VyIiwiY3VycmVudFN0b3J5Iiwic3RvcmllcyIsImlzT3duU3RvcnkiLCJpZCIsImlzVmlkZW8iLCJyZXNvdXJjZVR5cGUiLCJjb25zb2xlIiwibG9nIiwiY3VycmVudFVzZXJJZF90eXBlIiwic3RvcnlVc2VySWQiLCJzdG9yeVVzZXJJZF90eXBlIiwiZG9jdW1lbnQiLCJib2R5Iiwic3R5bGUiLCJvdmVyZmxvdyIsInZpZXdlZFN0b3JpZXNSZWYiLCJTZXQiLCJjdXJyZW50IiwiaGFzIiwiYWRkIiwiaGFuZGxlQ2xpY2tPdXRzaWRlIiwiZSIsImNvbnRhaW5zIiwidGFyZ2V0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjYXB0aW9uIiwidGltZXIiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwicGF1c2UiLCJwbGF5IiwiY2F0Y2giLCJlcnJvciIsImhhbmRsZVZpZGVvRW5kZWQiLCJoYW5kbGVOZXh0IiwiaGFuZGxlUHJldmlvdXMiLCJwcmV2VXNlciIsImxlbmd0aCIsInVzZXIiLCJoYW5kbGVDbG9zZSIsImhhbmRsZVRvdWNoU3RhcnQiLCJ0b3VjaCIsInRvdWNoZXMiLCJ4IiwiY2xpZW50WCIsInkiLCJjbGllbnRZIiwiaGFuZGxlVG91Y2hFbmQiLCJjaGFuZ2VkVG91Y2hlcyIsImRlbHRhWCIsImRlbHRhWSIsIk1hdGgiLCJhYnMiLCJoYW5kbGVNb3VzZURvd24iLCJoYW5kbGVNb3VzZVVwIiwiaGFuZGxlTGVmdENsaWNrIiwic3RvcFByb3BhZ2F0aW9uIiwiaGFuZGxlUmlnaHRDbGljayIsImhhbmRsZVByb2dyZXNzQ2hhbmdlIiwiaW5kZXgiLCJmb3JtYXRUaW1lc3RhbXAiLCJ0aW1lc3RhbXAiLCJkYXRlIiwidG9EYXRlIiwiRGF0ZSIsIkludGwiLCJSZWxhdGl2ZVRpbWVGb3JtYXQiLCJmb3JtYXQiLCJoYW5kbGVSZXBseVN1Ym1pdCIsInRyaW0iLCJkaXNwbGF5TmFtZSIsImhhbmRsZURlbGV0ZVN0b3J5Iiwic3RvcnlJZCIsImhhc0RlbGV0ZUZ1bmN0aW9uIiwiaGFuZGxlU2F2ZUNhcHRpb24iLCJkaXYiLCJjbGFzc05hbWUiLCJyZWYiLCJvbk1vdXNlRG93biIsIm9uTW91c2VVcCIsIm9uVG91Y2hTdGFydCIsIm9uVG91Y2hFbmQiLCJtYXAiLCJzdG9yeSIsImlkeCIsImlzQWN0aXZlIiwiZHVyYXRpb24iLCJvbkNvbXBsZXRlIiwidW5kZWZpbmVkIiwib25VcGRhdGUiLCJidXR0b24iLCJvbkNsaWNrIiwic2l6ZSIsInZpZGVvIiwic3JjIiwiaW1hZ2VVcmwiLCJhdXRvUGxheSIsInBsYXlzSW5saW5lIiwibXV0ZWQiLCJjb250cm9scyIsIm9uRW5kZWQiLCJvblBhdXNlIiwib25QbGF5IiwiYWx0IiwiZmlsbCIsInNpemVzIiwidGV4dGFyZWEiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwicm93cyIsInBsYWNlaG9sZGVyIiwiYXV0b0ZvY3VzIiwid2luZG93IiwiY29uZmlybSIsImlucHV0IiwidHlwZSIsImRpc2FibGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/Story/StoryViewer.tsx\n"));

/***/ })

});