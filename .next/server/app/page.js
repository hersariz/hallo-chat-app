/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/page";
exports.ids = ["app/page"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "dns":
/*!**********************!*\
  !*** external "dns" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("dns");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "http2":
/*!************************!*\
  !*** external "http2" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("http2");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "process":
/*!**************************!*\
  !*** external "process" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("process");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "string_decoder":
/*!*********************************!*\
  !*** external "string_decoder" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("string_decoder");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "node:assert":
/*!******************************!*\
  !*** external "node:assert" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:assert");

/***/ }),

/***/ "node:async_hooks":
/*!***********************************!*\
  !*** external "node:async_hooks" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:async_hooks");

/***/ }),

/***/ "node:buffer":
/*!******************************!*\
  !*** external "node:buffer" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:buffer");

/***/ }),

/***/ "node:console":
/*!*******************************!*\
  !*** external "node:console" ***!
  \*******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:console");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:crypto");

/***/ }),

/***/ "node:diagnostics_channel":
/*!*******************************************!*\
  !*** external "node:diagnostics_channel" ***!
  \*******************************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:diagnostics_channel");

/***/ }),

/***/ "node:events":
/*!******************************!*\
  !*** external "node:events" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:events");

/***/ }),

/***/ "node:http":
/*!****************************!*\
  !*** external "node:http" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:http");

/***/ }),

/***/ "node:http2":
/*!*****************************!*\
  !*** external "node:http2" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:http2");

/***/ }),

/***/ "node:net":
/*!***************************!*\
  !*** external "node:net" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:net");

/***/ }),

/***/ "node:perf_hooks":
/*!**********************************!*\
  !*** external "node:perf_hooks" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:perf_hooks");

/***/ }),

/***/ "node:querystring":
/*!***********************************!*\
  !*** external "node:querystring" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:querystring");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream");

/***/ }),

/***/ "node:tls":
/*!***************************!*\
  !*** external "node:tls" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:tls");

/***/ }),

/***/ "node:url":
/*!***************************!*\
  !*** external "node:url" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:url");

/***/ }),

/***/ "node:util":
/*!****************************!*\
  !*** external "node:util" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:util");

/***/ }),

/***/ "node:util/types":
/*!**********************************!*\
  !*** external "node:util/types" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:util/types");

/***/ }),

/***/ "node:worker_threads":
/*!**************************************!*\
  !*** external "node:worker_threads" ***!
  \**************************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:worker_threads");

/***/ }),

/***/ "node:zlib":
/*!****************************!*\
  !*** external "node:zlib" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=C%3A%5Cxampp%5Chtdocs%5CHallo%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Cxampp%5Chtdocs%5CHallo&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=C%3A%5Cxampp%5Chtdocs%5CHallo%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Cxampp%5Chtdocs%5CHallo&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-page/module.compiled */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/module.compiled.js?d969\");\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/client/components/error-boundary */ \"(rsc)/./node_modules/next/dist/client/components/error-boundary.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/./node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"originalPathname\",\"__next_app__\",\"routeModule\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\"TURBOPACK { transition: next-ssr }\";\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: ['__PAGE__', {}, {\n          page: [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/page.tsx */ \"(rsc)/./src/app/page.tsx\")), \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\app\\\\page.tsx\"],\n          \n        }]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/layout.tsx */ \"(rsc)/./src/app/layout.tsx\")), \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\app\\\\layout.tsx\"],\n'not-found': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/not-found-error */ \"(rsc)/./node_modules/next/dist/client/components/not-found-error.js\", 23)), \"next/dist/client/components/not-found-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\app\\\\page.tsx\"];\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst originalPathname = \"/page\";\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/page\",\n        pathname: \"/\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\",\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZwYWdlJnBhZ2U9JTJGcGFnZSZhcHBQYXRocz0lMkZwYWdlJnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGcGFnZS50c3gmYXBwRGlyPUMlM0ElNUN4YW1wcCU1Q2h0ZG9jcyU1Q0hhbGxvJTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDeGFtcHAlNUNodGRvY3MlNUNIYWxsbyZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGFBQWEsc0JBQXNCO0FBQ2lFO0FBQ3JDO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQyx1QkFBdUIsZ0pBQWlGO0FBQ3hHO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBLHlCQUF5QixvSkFBbUY7QUFDNUcsb0JBQW9CLDBOQUFnRjtBQUNwRztBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDdUI7QUFDNkQ7QUFDcEYsNkJBQTZCLG1CQUFtQjtBQUNoRDtBQUNPO0FBQ0E7QUFDUDtBQUNBO0FBQ0E7QUFDdUQ7QUFDdkQ7QUFDTyx3QkFBd0IsOEdBQWtCO0FBQ2pEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL2hhbGxvLz81MWNjIl0sInNvdXJjZXNDb250ZW50IjpbIlwiVFVSQk9QQUNLIHsgdHJhbnNpdGlvbjogbmV4dC1zc3IgfVwiO1xuaW1wb3J0IHsgQXBwUGFnZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXBhZ2UvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuLy8gV2UgaW5qZWN0IHRoZSB0cmVlIGFuZCBwYWdlcyBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgdHJlZSA9IHtcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgJycsXG4gICAgICAgIHtcbiAgICAgICAgY2hpbGRyZW46IFsnX19QQUdFX18nLCB7fSwge1xuICAgICAgICAgIHBhZ2U6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkM6XFxcXHhhbXBwXFxcXGh0ZG9jc1xcXFxIYWxsb1xcXFxzcmNcXFxcYXBwXFxcXHBhZ2UudHN4XCIpLCBcIkM6XFxcXHhhbXBwXFxcXGh0ZG9jc1xcXFxIYWxsb1xcXFxzcmNcXFxcYXBwXFxcXHBhZ2UudHN4XCJdLFxuICAgICAgICAgIFxuICAgICAgICB9XVxuICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAnbGF5b3V0JzogWygpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiQzpcXFxceGFtcHBcXFxcaHRkb2NzXFxcXEhhbGxvXFxcXHNyY1xcXFxhcHBcXFxcbGF5b3V0LnRzeFwiKSwgXCJDOlxcXFx4YW1wcFxcXFxodGRvY3NcXFxcSGFsbG9cXFxcc3JjXFxcXGFwcFxcXFxsYXlvdXQudHN4XCJdLFxuJ25vdC1mb3VuZCc6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9ub3QtZm91bmQtZXJyb3JcIiksIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL25vdC1mb3VuZC1lcnJvclwiXSxcbiAgICAgICAgXG4gICAgICB9XG4gICAgICBdXG4gICAgICB9LmNoaWxkcmVuO1xuY29uc3QgcGFnZXMgPSBbXCJDOlxcXFx4YW1wcFxcXFxodGRvY3NcXFxcSGFsbG9cXFxcc3JjXFxcXGFwcFxcXFxwYWdlLnRzeFwiXTtcbmV4cG9ydCB7IHRyZWUsIHBhZ2VzIH07XG5leHBvcnQgeyBkZWZhdWx0IGFzIEdsb2JhbEVycm9yIH0gZnJvbSBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9lcnJvci1ib3VuZGFyeVwiO1xuY29uc3QgX19uZXh0X2FwcF9yZXF1aXJlX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fXG5jb25zdCBfX25leHRfYXBwX2xvYWRfY2h1bmtfXyA9ICgpID0+IFByb21pc2UucmVzb2x2ZSgpXG5leHBvcnQgY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL3BhZ2VcIjtcbmV4cG9ydCBjb25zdCBfX25leHRfYXBwX18gPSB7XG4gICAgcmVxdWlyZTogX19uZXh0X2FwcF9yZXF1aXJlX18sXG4gICAgbG9hZENodW5rOiBfX25leHRfYXBwX2xvYWRfY2h1bmtfX1xufTtcbmV4cG9ydCAqIGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2FwcC1yZW5kZXIvZW50cnktYmFzZVwiO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUGFnZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUEFHRSxcbiAgICAgICAgcGFnZTogXCIvcGFnZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCIsXG4gICAgICAgIGFwcFBhdGhzOiBbXVxuICAgIH0sXG4gICAgdXNlcmxhbmQ6IHtcbiAgICAgICAgbG9hZGVyVHJlZTogdHJlZVxuICAgIH1cbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcGFnZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=C%3A%5Cxampp%5Chtdocs%5CHallo%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Cxampp%5Chtdocs%5CHallo&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5Cxampp%5C%5Chtdocs%5C%5CHallo%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Capp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5Cxampp%5C%5Chtdocs%5C%5CHallo%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5Cxampp%5C%5Chtdocs%5C%5CHallo%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cerror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5Cxampp%5C%5Chtdocs%5C%5CHallo%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Clayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5Cxampp%5C%5Chtdocs%5C%5CHallo%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5Cxampp%5C%5Chtdocs%5C%5CHallo%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Crender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5Cxampp%5C%5Chtdocs%5C%5CHallo%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Capp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5Cxampp%5C%5Chtdocs%5C%5CHallo%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5Cxampp%5C%5Chtdocs%5C%5CHallo%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cerror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5Cxampp%5C%5Chtdocs%5C%5CHallo%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Clayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5Cxampp%5C%5Chtdocs%5C%5CHallo%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5Cxampp%5C%5Chtdocs%5C%5CHallo%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Crender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/app-router.js */ \"(ssr)/./node_modules/next/dist/client/components/app-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/client-page.js */ \"(ssr)/./node_modules/next/dist/client/components/client-page.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/error-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/./node_modules/next/dist/client/components/layout-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/not-found-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/not-found-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/./node_modules/next/dist/client/components/render-from-template-context.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkMlM0ElNUMlNUN4YW1wcCU1QyU1Q2h0ZG9jcyU1QyU1Q0hhbGxvJTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNjbGllbnQlNUMlNUNjb21wb25lbnRzJTVDJTVDYXBwLXJvdXRlci5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjJDJTNBJTVDJTVDeGFtcHAlNUMlNUNodGRvY3MlNUMlNUNIYWxsbyU1QyU1Q25vZGVfbW9kdWxlcyU1QyU1Q25leHQlNUMlNUNkaXN0JTVDJTVDY2xpZW50JTVDJTVDY29tcG9uZW50cyU1QyU1Q2NsaWVudC1wYWdlLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkMlM0ElNUMlNUN4YW1wcCU1QyU1Q2h0ZG9jcyU1QyU1Q0hhbGxvJTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNjbGllbnQlNUMlNUNjb21wb25lbnRzJTVDJTVDZXJyb3ItYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyQyUzQSU1QyU1Q3hhbXBwJTVDJTVDaHRkb2NzJTVDJTVDSGFsbG8lNUMlNUNub2RlX21vZHVsZXMlNUMlNUNuZXh0JTVDJTVDZGlzdCU1QyU1Q2NsaWVudCU1QyU1Q2NvbXBvbmVudHMlNUMlNUNsYXlvdXQtcm91dGVyLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkMlM0ElNUMlNUN4YW1wcCU1QyU1Q2h0ZG9jcyU1QyU1Q0hhbGxvJTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNjbGllbnQlNUMlNUNjb21wb25lbnRzJTVDJTVDbm90LWZvdW5kLWJvdW5kYXJ5LmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkMlM0ElNUMlNUN4YW1wcCU1QyU1Q2h0ZG9jcyU1QyU1Q0hhbGxvJTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2Rpc3QlNUMlNUNjbGllbnQlNUMlNUNjb21wb25lbnRzJTVDJTVDcmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsa09BQTBIO0FBQzFIO0FBQ0Esb09BQTJIO0FBQzNIO0FBQ0EsME9BQThIO0FBQzlIO0FBQ0Esd09BQTZIO0FBQzdIO0FBQ0Esa1BBQWtJO0FBQ2xJO0FBQ0Esc1FBQTRJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFsbG8vP2MwZjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJDOlxcXFx4YW1wcFxcXFxodGRvY3NcXFxcSGFsbG9cXFxcbm9kZV9tb2R1bGVzXFxcXG5leHRcXFxcZGlzdFxcXFxjbGllbnRcXFxcY29tcG9uZW50c1xcXFxhcHAtcm91dGVyLmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCJDOlxcXFx4YW1wcFxcXFxodGRvY3NcXFxcSGFsbG9cXFxcbm9kZV9tb2R1bGVzXFxcXG5leHRcXFxcZGlzdFxcXFxjbGllbnRcXFxcY29tcG9uZW50c1xcXFxjbGllbnQtcGFnZS5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiQzpcXFxceGFtcHBcXFxcaHRkb2NzXFxcXEhhbGxvXFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxcZXJyb3ItYm91bmRhcnkuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkM6XFxcXHhhbXBwXFxcXGh0ZG9jc1xcXFxIYWxsb1xcXFxub2RlX21vZHVsZXNcXFxcbmV4dFxcXFxkaXN0XFxcXGNsaWVudFxcXFxjb21wb25lbnRzXFxcXGxheW91dC1yb3V0ZXIuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIkM6XFxcXHhhbXBwXFxcXGh0ZG9jc1xcXFxIYWxsb1xcXFxub2RlX21vZHVsZXNcXFxcbmV4dFxcXFxkaXN0XFxcXGNsaWVudFxcXFxjb21wb25lbnRzXFxcXG5vdC1mb3VuZC1ib3VuZGFyeS5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiQzpcXFxceGFtcHBcXFxcaHRkb2NzXFxcXEhhbGxvXFxcXG5vZGVfbW9kdWxlc1xcXFxuZXh0XFxcXGRpc3RcXFxcY2xpZW50XFxcXGNvbXBvbmVudHNcXFxccmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qc1wiKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5Cxampp%5C%5Chtdocs%5C%5CHallo%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Capp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5Cxampp%5C%5Chtdocs%5C%5CHallo%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5Cxampp%5C%5Chtdocs%5C%5CHallo%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cerror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5Cxampp%5C%5Chtdocs%5C%5CHallo%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Clayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5Cxampp%5C%5Chtdocs%5C%5CHallo%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Cnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5Cxampp%5C%5Chtdocs%5C%5CHallo%5C%5Cnode_modules%5C%5Cnext%5C%5Cdist%5C%5Cclient%5C%5Ccomponents%5C%5Crender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5Cxampp%5C%5Chtdocs%5C%5CHallo%5C%5Cnode_modules%5C%5Cnext%5C%5Cfont%5C%5Cgoogle%5C%5Ctarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%5C%5C%5C%5Capp%5C%5C%5C%5Clayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5Cxampp%5C%5Chtdocs%5C%5CHallo%5C%5Csrc%5C%5Capp%5C%5Cglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5Cxampp%5C%5Chtdocs%5C%5CHallo%5C%5Csrc%5C%5Ccomponents%5C%5CI18nextClientProvider.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5Cxampp%5C%5Chtdocs%5C%5CHallo%5C%5Csrc%5C%5Clib%5C%5Ccontext.tsx%22%2C%22ids%22%3A%5B%22AIConfigProvider%22%5D%7D&server=true!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5Cxampp%5C%5Chtdocs%5C%5CHallo%5C%5Cnode_modules%5C%5Cnext%5C%5Cfont%5C%5Cgoogle%5C%5Ctarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%5C%5C%5C%5Capp%5C%5C%5C%5Clayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5Cxampp%5C%5Chtdocs%5C%5CHallo%5C%5Csrc%5C%5Capp%5C%5Cglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5Cxampp%5C%5Chtdocs%5C%5CHallo%5C%5Csrc%5C%5Ccomponents%5C%5CI18nextClientProvider.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5Cxampp%5C%5Chtdocs%5C%5CHallo%5C%5Csrc%5C%5Clib%5C%5Ccontext.tsx%22%2C%22ids%22%3A%5B%22AIConfigProvider%22%5D%7D&server=true! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/components/I18nextClientProvider.tsx */ \"(ssr)/./src/components/I18nextClientProvider.tsx\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/lib/context.tsx */ \"(ssr)/./src/lib/context.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkMlM0ElNUMlNUN4YW1wcCU1QyU1Q2h0ZG9jcyU1QyU1Q0hhbGxvJTVDJTVDbm9kZV9tb2R1bGVzJTVDJTVDbmV4dCU1QyU1Q2ZvbnQlNUMlNUNnb29nbGUlNUMlNUN0YXJnZXQuY3NzJTNGJTdCJTVDJTIycGF0aCU1QyUyMiUzQSU1QyUyMnNyYyU1QyU1QyU1QyU1Q2FwcCU1QyU1QyU1QyU1Q2xheW91dC50c3glNUMlMjIlMkMlNUMlMjJpbXBvcnQlNUMlMjIlM0ElNUMlMjJJbnRlciU1QyUyMiUyQyU1QyUyMmFyZ3VtZW50cyU1QyUyMiUzQSU1QiU3QiU1QyUyMnN1YnNldHMlNUMlMjIlM0ElNUIlNUMlMjJsYXRpbiU1QyUyMiU1RCU3RCU1RCUyQyU1QyUyMnZhcmlhYmxlTmFtZSU1QyUyMiUzQSU1QyUyMmludGVyJTVDJTIyJTdEJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkMlM0ElNUMlNUN4YW1wcCU1QyU1Q2h0ZG9jcyU1QyU1Q0hhbGxvJTVDJTVDc3JjJTVDJTVDYXBwJTVDJTVDZ2xvYmFscy5jc3MlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyQyUzQSU1QyU1Q3hhbXBwJTVDJTVDaHRkb2NzJTVDJTVDSGFsbG8lNUMlNUNzcmMlNUMlNUNjb21wb25lbnRzJTVDJTVDSTE4bmV4dENsaWVudFByb3ZpZGVyLnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiUyMmRlZmF1bHQlMjIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyQyUzQSU1QyU1Q3hhbXBwJTVDJTVDaHRkb2NzJTVDJTVDSGFsbG8lNUMlNUNzcmMlNUMlNUNsaWIlNUMlNUNjb250ZXh0LnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiUyMkFJQ29uZmlnUHJvdmlkZXIlMjIlNUQlN0Qmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLGdNQUFzSTtBQUN0STtBQUNBLHNKQUEwSCIsInNvdXJjZXMiOlsid2VicGFjazovL2hhbGxvLz9hMGM2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiLCB3ZWJwYWNrRXhwb3J0czogW1wiZGVmYXVsdFwiXSAqLyBcIkM6XFxcXHhhbXBwXFxcXGh0ZG9jc1xcXFxIYWxsb1xcXFxzcmNcXFxcY29tcG9uZW50c1xcXFxJMThuZXh0Q2xpZW50UHJvdmlkZXIudHN4XCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIsIHdlYnBhY2tFeHBvcnRzOiBbXCJBSUNvbmZpZ1Byb3ZpZGVyXCJdICovIFwiQzpcXFxceGFtcHBcXFxcaHRkb2NzXFxcXEhhbGxvXFxcXHNyY1xcXFxsaWJcXFxcY29udGV4dC50c3hcIik7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5Cxampp%5C%5Chtdocs%5C%5CHallo%5C%5Cnode_modules%5C%5Cnext%5C%5Cfont%5C%5Cgoogle%5C%5Ctarget.css%3F%7B%5C%22path%5C%22%3A%5C%22src%5C%5C%5C%5Capp%5C%5C%5C%5Clayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5Cxampp%5C%5Chtdocs%5C%5CHallo%5C%5Csrc%5C%5Capp%5C%5Cglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5Cxampp%5C%5Chtdocs%5C%5CHallo%5C%5Csrc%5C%5Ccomponents%5C%5CI18nextClientProvider.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5Cxampp%5C%5Chtdocs%5C%5CHallo%5C%5Csrc%5C%5Clib%5C%5Ccontext.tsx%22%2C%22ids%22%3A%5B%22AIConfigProvider%22%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5Cxampp%5C%5Chtdocs%5C%5CHallo%5C%5Csrc%5C%5Capp%5C%5Cpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!**************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5Cxampp%5C%5Chtdocs%5C%5CHallo%5C%5Csrc%5C%5Capp%5C%5Cpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \**************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./src/app/page.tsx */ \"(ssr)/./src/app/page.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMkMlM0ElNUMlNUN4YW1wcCU1QyU1Q2h0ZG9jcyU1QyU1Q0hhbGxvJTVDJTVDc3JjJTVDJTVDYXBwJTVDJTVDcGFnZS50c3glMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0Qmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLGdKQUFpRiIsInNvdXJjZXMiOlsid2VicGFjazovL2hhbGxvLz8xMWIxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiQzpcXFxceGFtcHBcXFxcaHRkb2NzXFxcXEhhbGxvXFxcXHNyY1xcXFxhcHBcXFxccGFnZS50c3hcIik7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5Cxampp%5C%5Chtdocs%5C%5CHallo%5C%5Csrc%5C%5Capp%5C%5Cpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./src/app/page.tsx":
/*!**************************!*\
  !*** ./src/app/page.tsx ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Home)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/auth */ \"(ssr)/./node_modules/firebase/auth/dist/index.mjs\");\n/* harmony import */ var _firebase_config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/firebase/config */ \"(ssr)/./src/firebase/config.ts\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_ChatApp__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/ChatApp */ \"(ssr)/./src/components/ChatApp.tsx\");\n/* harmony import */ var _lib_users__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/users */ \"(ssr)/./src/lib/users.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\nfunction Home() {\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_4__.useRouter)();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const unsubscribe = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.onAuthStateChanged)(_firebase_config__WEBPACK_IMPORTED_MODULE_3__.auth, (currentUser)=>{\n            if (currentUser) {\n                // User is signed in\n                setUser(currentUser);\n                (0,_lib_users__WEBPACK_IMPORTED_MODULE_6__.saveUserToFirestore)(currentUser);\n                (0,_lib_users__WEBPACK_IMPORTED_MODULE_6__.setupOnlineStatusListeners)(currentUser.uid);\n            } else {\n                // User is signed out\n                setUser(null);\n                router.push(\"/login\");\n            }\n            setLoading(false);\n        });\n        // Add beforeunload listener to set user offline on page close\n        const handleBeforeUnload = ()=>{\n            if (user) {\n                (0,_lib_users__WEBPACK_IMPORTED_MODULE_6__.setUserOffline)(user.uid).catch(console.error);\n            }\n        };\n        window.addEventListener(\"beforeunload\", handleBeforeUnload);\n        return ()=>{\n            unsubscribe();\n            window.removeEventListener(\"beforeunload\", handleBeforeUnload);\n        };\n    }, [\n        router,\n        user\n    ]);\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex h-screen w-full items-center justify-center bg-gradient-to-br from-primary-dark via-primary to-secondary\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white\"\n            }, void 0, false, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\app\\\\page.tsx\",\n                lineNumber: 48,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\app\\\\page.tsx\",\n            lineNumber: 47,\n            columnNumber: 7\n        }, this);\n    }\n    if (!user) {\n        return null; // Will redirect to login\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n        className: \"h-screen bg-gradient-to-br from-primary-dark via-primary to-secondary\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ChatApp__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n            user: user\n        }, void 0, false, {\n            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\app\\\\page.tsx\",\n            lineNumber: 59,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\app\\\\page.tsx\",\n        lineNumber: 58,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvYXBwL3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBRTRDO0FBQ087QUFDVjtBQUNHO0FBQ0Q7QUFDbUQ7QUFFL0UsU0FBU1M7SUFDdEIsTUFBTSxDQUFDQyxNQUFNQyxRQUFRLEdBQUdWLCtDQUFRQSxDQUFNO0lBQ3RDLE1BQU0sQ0FBQ1csU0FBU0MsV0FBVyxHQUFHWiwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNYSxTQUFTViwwREFBU0E7SUFFeEJKLGdEQUFTQSxDQUFDO1FBQ1IsTUFBTWUsY0FBY2IsaUVBQWtCQSxDQUFDQyxrREFBSUEsRUFBRSxDQUFDYTtZQUM1QyxJQUFJQSxhQUFhO2dCQUNmLG9CQUFvQjtnQkFDcEJMLFFBQVFLO2dCQUNSViwrREFBbUJBLENBQUNVO2dCQUNwQlQsc0VBQTBCQSxDQUFDUyxZQUFZQyxHQUFHO1lBQzVDLE9BQU87Z0JBQ0wscUJBQXFCO2dCQUNyQk4sUUFBUTtnQkFDUkcsT0FBT0ksSUFBSSxDQUFDO1lBQ2Q7WUFDQUwsV0FBVztRQUNiO1FBRUEsOERBQThEO1FBQzlELE1BQU1NLHFCQUFxQjtZQUN6QixJQUFJVCxNQUFNO2dCQUNSRiwwREFBY0EsQ0FBQ0UsS0FBS08sR0FBRyxFQUFFRyxLQUFLLENBQUNDLFFBQVFDLEtBQUs7WUFDOUM7UUFDRjtRQUVBQyxPQUFPQyxnQkFBZ0IsQ0FBQyxnQkFBZ0JMO1FBRXhDLE9BQU87WUFDTEo7WUFDQVEsT0FBT0UsbUJBQW1CLENBQUMsZ0JBQWdCTjtRQUM3QztJQUNGLEdBQUc7UUFBQ0w7UUFBUUo7S0FBSztJQUVqQixJQUFJRSxTQUFTO1FBQ1gscUJBQ0UsOERBQUNjO1lBQUlDLFdBQVU7c0JBQ2IsNEVBQUNEO2dCQUFJQyxXQUFVOzs7Ozs7Ozs7OztJQUdyQjtJQUVBLElBQUksQ0FBQ2pCLE1BQU07UUFDVCxPQUFPLE1BQU0seUJBQXlCO0lBQ3hDO0lBRUEscUJBQ0UsOERBQUNrQjtRQUFLRCxXQUFVO2tCQUNkLDRFQUFDdEIsMkRBQU9BO1lBQUNLLE1BQU1BOzs7Ozs7Ozs7OztBQUdyQiIsInNvdXJjZXMiOlsid2VicGFjazovL2hhbGxvLy4vc3JjL2FwcC9wYWdlLnRzeD9mNjhhIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IG9uQXV0aFN0YXRlQ2hhbmdlZCB9IGZyb20gJ2ZpcmViYXNlL2F1dGgnO1xuaW1wb3J0IHsgYXV0aCB9IGZyb20gJ0AvZmlyZWJhc2UvY29uZmlnJztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7XG5pbXBvcnQgQ2hhdEFwcCBmcm9tICdAL2NvbXBvbmVudHMvQ2hhdEFwcCc7XG5pbXBvcnQgeyBzYXZlVXNlclRvRmlyZXN0b3JlLCBzZXR1cE9ubGluZVN0YXR1c0xpc3RlbmVycywgc2V0VXNlck9mZmxpbmUgfSBmcm9tICdAL2xpYi91c2Vycyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEhvbWUoKSB7XG4gIGNvbnN0IFt1c2VyLCBzZXRVc2VyXSA9IHVzZVN0YXRlPGFueT4obnVsbCk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gb25BdXRoU3RhdGVDaGFuZ2VkKGF1dGgsIChjdXJyZW50VXNlcikgPT4ge1xuICAgICAgaWYgKGN1cnJlbnRVc2VyKSB7XG4gICAgICAgIC8vIFVzZXIgaXMgc2lnbmVkIGluXG4gICAgICAgIHNldFVzZXIoY3VycmVudFVzZXIpO1xuICAgICAgICBzYXZlVXNlclRvRmlyZXN0b3JlKGN1cnJlbnRVc2VyKTtcbiAgICAgICAgc2V0dXBPbmxpbmVTdGF0dXNMaXN0ZW5lcnMoY3VycmVudFVzZXIudWlkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFVzZXIgaXMgc2lnbmVkIG91dFxuICAgICAgICBzZXRVc2VyKG51bGwpO1xuICAgICAgICByb3V0ZXIucHVzaCgnL2xvZ2luJyk7XG4gICAgICB9XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBiZWZvcmV1bmxvYWQgbGlzdGVuZXIgdG8gc2V0IHVzZXIgb2ZmbGluZSBvbiBwYWdlIGNsb3NlXG4gICAgY29uc3QgaGFuZGxlQmVmb3JlVW5sb2FkID0gKCkgPT4ge1xuICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgc2V0VXNlck9mZmxpbmUodXNlci51aWQpLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIGhhbmRsZUJlZm9yZVVubG9hZCk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCBoYW5kbGVCZWZvcmVVbmxvYWQpO1xuICAgIH07XG4gIH0sIFtyb3V0ZXIsIHVzZXJdKTtcblxuICBpZiAobG9hZGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC1zY3JlZW4gdy1mdWxsIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ncmFkaWVudC10by1iciBmcm9tLXByaW1hcnktZGFyayB2aWEtcHJpbWFyeSB0by1zZWNvbmRhcnlcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtMTIgdy0xMiBib3JkZXItdC0yIGJvcmRlci1iLTIgYm9yZGVyLXdoaXRlXCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgaWYgKCF1c2VyKSB7XG4gICAgcmV0dXJuIG51bGw7IC8vIFdpbGwgcmVkaXJlY3QgdG8gbG9naW5cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPG1haW4gY2xhc3NOYW1lPVwiaC1zY3JlZW4gYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1wcmltYXJ5LWRhcmsgdmlhLXByaW1hcnkgdG8tc2Vjb25kYXJ5XCI+XG4gICAgICA8Q2hhdEFwcCB1c2VyPXt1c2VyfSAvPlxuICAgIDwvbWFpbj5cbiAgKTtcbn0gIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVN0YXRlIiwib25BdXRoU3RhdGVDaGFuZ2VkIiwiYXV0aCIsInVzZVJvdXRlciIsIkNoYXRBcHAiLCJzYXZlVXNlclRvRmlyZXN0b3JlIiwic2V0dXBPbmxpbmVTdGF0dXNMaXN0ZW5lcnMiLCJzZXRVc2VyT2ZmbGluZSIsIkhvbWUiLCJ1c2VyIiwic2V0VXNlciIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwicm91dGVyIiwidW5zdWJzY3JpYmUiLCJjdXJyZW50VXNlciIsInVpZCIsInB1c2giLCJoYW5kbGVCZWZvcmVVbmxvYWQiLCJjYXRjaCIsImNvbnNvbGUiLCJlcnJvciIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGl2IiwiY2xhc3NOYW1lIiwibWFpbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/app/page.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/AIChatModal.tsx":
/*!****************************************!*\
  !*** ./src/components/AIChatModal.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AIChatModal)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_FiCopy_FiCornerDownLeft_FiLoader_FiMessageSquare_FiMoreVertical_FiSend_FiSmile_FiStar_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=FiCopy,FiCornerDownLeft,FiLoader,FiMessageSquare,FiMoreVertical,FiSend,FiSmile,FiStar,FiTrash2,FiX!=!react-icons/fi */ \"(ssr)/./node_modules/react-icons/fi/index.esm.js\");\n/* harmony import */ var _lib_qwen__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/qwen */ \"(ssr)/./src/lib/qwen.ts\");\n/* harmony import */ var emoji_picker_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! emoji-picker-react */ \"(ssr)/./node_modules/emoji-picker-react/dist/emoji-picker-react.esm.js\");\n/* harmony import */ var _lib_context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/context */ \"(ssr)/./src/lib/context.tsx\");\n/* harmony import */ var _lib_translate__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/translate */ \"(ssr)/./src/lib/translate.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\nfunction AIChatModal({ isOpen, onClose, customInstructions = \"\", model = _lib_qwen__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_MODEL, defaultLanguage = \"id\", isEmbedded = false }) {\n    const [message, setMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [activeDropdown, setActiveDropdown] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const dropdownRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [showEmojiPicker, setShowEmojiPicker] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const emojiPickerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [markedMessages, setMarkedMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Set());\n    const [replyingTo, setReplyingTo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [translatedMessages, setTranslatedMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Map());\n    const [isTranslating, setIsTranslating] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Map());\n    const { aiConfig } = (0,_lib_context__WEBPACK_IMPORTED_MODULE_4__.useAIConfig)();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen && inputRef.current) {\n            inputRef.current.focus();\n        }\n    }, [\n        isOpen\n    ]);\n    // Tutup emoji picker ketika klik di luar\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleClickOutside = (event)=>{\n            if (emojiPickerRef.current && !emojiPickerRef.current.contains(event.target)) {\n                setShowEmojiPicker(false);\n            }\n        };\n        if (showEmojiPicker) {\n            document.addEventListener(\"mousedown\", handleClickOutside);\n            return ()=>{\n                document.removeEventListener(\"mousedown\", handleClickOutside);\n            };\n        }\n    }, [\n        showEmojiPicker\n    ]);\n    // Tutup dropdown ketika klik di luar\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleClickOutside = (event)=>{\n            if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n                setActiveDropdown(null);\n            }\n        };\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return ()=>{\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n        };\n    }, []);\n    // Scroll ke pesan terbaru\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        messagesEndRef.current?.scrollIntoView({\n            behavior: \"smooth\"\n        });\n    }, [\n        messages\n    ]);\n    // Toggle menu dropdown\n    const toggleDropdown = (index)=>{\n        setActiveDropdown(activeDropdown === index ? null : index);\n    };\n    // Salin pesan ke clipboard\n    const copyMessage = (content)=>{\n        navigator.clipboard.writeText(content).then(()=>{\n            alert(\"Pesan disalin ke clipboard\");\n            setActiveDropdown(null);\n        }).catch((err)=>{\n            console.error(\"Gagal menyalin pesan:\", err);\n        });\n    };\n    // Hapus pesan dari daftar chat lokal\n    const deleteMessage = (index)=>{\n        setMessages((prev)=>{\n            const newMessages = [\n                ...prev\n            ];\n            newMessages.splice(index, 1);\n            return newMessages;\n        });\n        setActiveDropdown(null);\n    };\n    // Tandai pesan penting\n    const toggleMarkMessage = (index)=>{\n        setMarkedMessages((prev)=>{\n            const newMarked = new Set(prev);\n            if (newMarked.has(index)) {\n                newMarked.delete(index);\n            } else {\n                newMarked.add(index);\n            }\n            return newMarked;\n        });\n        setActiveDropdown(null);\n    };\n    // Balas pesan\n    const handleReplyMessage = (index, content)=>{\n        setReplyingTo({\n            index,\n            content\n        });\n        setActiveDropdown(null);\n        if (inputRef.current) {\n            inputRef.current.focus();\n        }\n    };\n    // Batalkan balasan\n    const cancelReply = ()=>{\n        setReplyingTo(null);\n    };\n    // Fungsi untuk menerjemahkan pesan\n    const translateMessage = async (content, index)=>{\n        if (!content || isTranslating.get(index)) return;\n        // Set status menerjemahkan\n        const newTranslatingStatus = new Map(isTranslating);\n        newTranslatingStatus.set(index, true);\n        setIsTranslating(newTranslatingStatus);\n        try {\n            // Tutup dropdown\n            setActiveDropdown(null);\n            console.log(\"Menerjemahkan pesan:\", content);\n            console.log(\"Bahasa target:\", aiConfig.translateLanguage || \"en\");\n            // Gunakan fungsi translateText\n            const targetLang = aiConfig.translateLanguage || \"en\";\n            try {\n                const result = await (0,_lib_translate__WEBPACK_IMPORTED_MODULE_5__.translateText)(content, targetLang);\n                console.log(\"Hasil terjemahan:\", result);\n                if (result && result.translatedText) {\n                    // Update state dengan hasil terjemahan\n                    const newTranslatedMessages = new Map(translatedMessages);\n                    newTranslatedMessages.set(index, result.translatedText);\n                    setTranslatedMessages(newTranslatedMessages);\n                    // Update pesan yang ditampilkan dengan tag terjemahan\n                    const updatedMessages = [\n                        ...messages\n                    ];\n                    updatedMessages[index] = {\n                        ...updatedMessages[index],\n                        translatedContent: result.translatedText\n                    };\n                    setMessages(updatedMessages);\n                } else {\n                    throw new Error(\"Respons terjemahan tidak valid\");\n                }\n            } catch (translateError) {\n                console.error(\"Error saat memanggil translateText:\", translateError);\n                setError(\"Gagal menerjemahkan pesan. Silakan coba lagi.\");\n                setTimeout(()=>setError(null), 3000);\n            }\n        } catch (error) {\n            console.error(\"Gagal menerjemahkan pesan:\", error);\n            setError(\"Gagal menerjemahkan pesan. Silakan coba lagi.\");\n            setTimeout(()=>setError(null), 3000);\n        } finally{\n            // Reset status menerjemahkan\n            const newTranslatingStatus = new Map(isTranslating);\n            newTranslatingStatus.set(index, false);\n            setIsTranslating(newTranslatingStatus);\n        }\n    };\n    // Kirim pesan ke AI dengan bahasa yang ditetapkan\n    const handleSendMessage = async (e)=>{\n        if (e) e.preventDefault();\n        if (!message.trim() || isLoading) return;\n        try {\n            setIsLoading(true);\n            setError(null);\n            // Tambahkan pesan pengguna ke daftar pesan\n            const userMessage = {\n                role: \"user\",\n                content: message,\n                replyTo: replyingTo ? {\n                    index: replyingTo.index,\n                    content: replyingTo.content.substring(0, 50) + (replyingTo.content.length > 50 ? \"...\" : \"\")\n                } : undefined\n            };\n            setMessages((prev)=>[\n                    ...prev,\n                    userMessage\n                ]);\n            // Reset input dan reply\n            setMessage(\"\");\n            setReplyingTo(null);\n            // Tambahkan instruksi bahasa jika ada\n            let finalInstructions = customInstructions;\n            if (defaultLanguage && !customInstructions.includes(\"bahasa\")) {\n                const languageMap = {\n                    \"id\": \"Indonesia\",\n                    \"en\": \"Inggris\",\n                    \"ja\": \"Jepang\",\n                    \"ko\": \"Korea\",\n                    \"zh\": \"Mandarin\",\n                    \"ar\": \"Arab\",\n                    \"es\": \"Spanyol\",\n                    \"fr\": \"Prancis\",\n                    \"de\": \"Jerman\",\n                    \"ru\": \"Rusia\"\n                };\n                const languageName = languageMap[defaultLanguage] || \"Indonesia\";\n                finalInstructions = finalInstructions + `\\nSelalu menjawab dalam bahasa ${languageName}.`;\n            }\n            // Jumlah percobaan maksimum\n            const MAX_RETRIES = 3;\n            let retries = 0;\n            let success = false;\n            let errorMsg = \"\";\n            while(retries <= MAX_RETRIES && !success){\n                try {\n                    // Tambahkan penundaan yang semakin lama dengan backoff eksponensial\n                    if (retries > 0) {\n                        const delayMs = Math.min(1000 * Math.pow(2, retries - 1), 8000); // max 8 detik delay\n                        console.log(`Mencoba ulang dalam ${delayMs}ms (percobaan ${retries}/${MAX_RETRIES})...`);\n                        await new Promise((resolve)=>setTimeout(resolve, delayMs));\n                    }\n                    // Kirim pesan ke API\n                    console.log(`Mengirim request ke API (percobaan ${retries + 1}/${MAX_RETRIES + 1})...`);\n                    // Pastikan URL endpoint benar\n                    const response = await fetch(\"/api/ai-chat\", {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify({\n                            messages: [\n                                ...messages,\n                                userMessage\n                            ],\n                            customInstructions: finalInstructions,\n                            model\n                        }),\n                        cache: \"no-store\" // Pastikan tidak menggunakan cache\n                    });\n                    // Tangani error response\n                    if (!response.ok) {\n                        console.error(`HTTP error! Status: ${response.status}`);\n                        const errorText = await response.text();\n                        console.error(\"Response error text:\", errorText);\n                        try {\n                            const errorData = JSON.parse(errorText);\n                            throw new Error(errorData.error || `Error ${response.status}: ${response.statusText}`);\n                        } catch (e) {\n                            throw new Error(`Error ${response.status}: ${response.statusText}`);\n                        }\n                    }\n                    const data = await response.json();\n                    console.log(\"Response data:\", data);\n                    // Periksa berbagai kemungkinan format respons\n                    let responseContent = \"\";\n                    let responseRole = \"assistant\";\n                    if (data.response) {\n                        // Format dari API kita\n                        responseContent = data.response;\n                        if (data.role === \"assistant\" || data.role === \"user\" || data.role === \"system\") {\n                            responseRole = data.role;\n                        }\n                    } else if (data.content) {\n                        // Format content langsung\n                        responseContent = data.content;\n                    } else if (data.message && data.message.content) {\n                        // Format dengan message di root\n                        responseContent = data.message.content;\n                        if (data.message.role === \"assistant\" || data.message.role === \"user\" || data.message.role === \"system\") {\n                            responseRole = data.message.role;\n                        }\n                    } else if (data.choices && data.choices[0] && data.choices[0].message) {\n                        // Format OpenAI-like\n                        responseContent = data.choices[0].message.content;\n                        if (data.choices[0].message.role === \"assistant\" || data.choices[0].message.role === \"user\" || data.choices[0].message.role === \"system\") {\n                            responseRole = data.choices[0].message.role;\n                        }\n                    } else {\n                        throw new Error(\"Format respons tidak dapat dikenali, silakan coba lagi\");\n                    }\n                    // Tambahkan respons AI ke daftar pesan\n                    const aiMessage = {\n                        role: responseRole,\n                        content: responseContent\n                    };\n                    setMessages((prev)=>[\n                            ...prev,\n                            aiMessage\n                        ]);\n                    success = true;\n                    console.log(\"Berhasil mendapatkan respons dari AI\");\n                } catch (err) {\n                    // Jika masih ada kesempatan coba lagi\n                    if (retries < MAX_RETRIES) {\n                        console.log(`Percobaan ke-${retries + 1} gagal, mencoba lagi...`, err);\n                        retries++;\n                    } else {\n                        // Jika sudah mencapai batas, tampilkan error dan buat respons fallback\n                        errorMsg = err.message || \"Terjadi kesalahan saat berkomunikasi dengan AI\";\n                        console.error(\"Semua percobaan gagal:\", errorMsg);\n                        // Tambahkan respons fallback\n                        const fallbackMessage = {\n                            role: \"assistant\",\n                            content: `Maaf, saya tidak dapat menjawab permintaan Anda saat ini karena masalah teknis. Silakan coba beberapa saat lagi.\r\n\r\nSaat ini layanan AI sedang mengalami gangguan. Ini bisa disebabkan oleh:\r\n1. Koneksi internet yang tidak stabil\r\n2. Layanan OpenRouter yang sedang maintenance\r\n3. Model AI yang diminta sedang tidak tersedia\r\n\r\nSilakan tutup aplikasi dan coba lagi setelah beberapa menit.`\n                        };\n                        setMessages((prev)=>[\n                                ...prev,\n                                fallbackMessage\n                            ]);\n                        success = true; // Untuk keluar dari loop\n                    }\n                }\n            }\n        } catch (err) {\n            const errorMessage = err.message || \"Terjadi kesalahan saat berkomunikasi dengan AI\";\n            setError(errorMessage);\n            console.error(\"Error saat mengirim pesan:\", err);\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    // Format pesan ke tampilan HTML\n    const formatMessage = (content, translatedContent)=>{\n        // Jika ada terjemahan, tampilkan terjemahan di bawah pesan asli\n        if (translatedContent) {\n            return `${content}<div class=\"mt-2 p-2 rounded-lg bg-gray-100 text-gray-800 relative animate-fadeIn\" style=\"max-width: 100%; width: fit-content; margin-left: auto; margin-right: auto;\">\r\n        <div class=\"flex items-center mb-1\">\r\n          <svg class=\"w-3 h-3 mr-1 flex-shrink-0\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M12.87 15.07L10.33 12.56L10.36 12.53C12.1 10.59 13.34 8.36 14.07 6H17V4H10V2H8V4H1V6H12.17C11.5 7.92 10.44 9.75 9 11.35C8.07 10.32 7.3 9.19 6.69 8H4.69C5.42 9.63 6.42 11.17 7.67 12.56L2.58 17.58L4 19L9 14L12.11 17.11L12.87 15.07ZM18.5 10H16.5L12 22H14L15.12 19H19.87L21 22H23L18.5 10ZM15.88 17L17.5 12.67L19.12 17H15.88Z\" fill=\"currentColor\"/>\r\n          </svg>\r\n          <span class=\"text-xs font-medium mr-6\">Terjemahan</span>\r\n          <button class=\"absolute right-2 top-2 text-gray-500 hover:text-gray-700\" onclick=\"this.parentNode.parentNode.remove()\">\r\n            <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\r\n              <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\r\n              <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        <p class=\"text-sm whitespace-pre-wrap break-words\">${translatedContent}</p>\r\n      </div>`;\n        }\n        // Jika tidak ada terjemahan, tampilkan pesan biasa\n        return content.replace(/\\n/g, \"<br>\").replace(/```([^`]*?)```/g, \"<pre><code>$1</code></pre>\").replace(/`([^`]*?)`/g, \"<code>$1</code>\");\n    };\n    // Handler untuk tombol enter\n    const handleKeyDown = (e)=>{\n        if (e.key === \"Enter\" && !e.shiftKey) {\n            e.preventDefault();\n            handleSendMessage();\n        }\n    };\n    // Tampilan untuk pesan-pesan chat\n    const renderMessages = ()=>{\n        return messages.map((msg, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `flex mb-3 ${msg.role === \"user\" ? \"justify-end\" : \"justify-start\"} group/message w-full`,\n                children: [\n                    msg.role === \"user\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: `self-center mr-2 p-2 rounded-full bg-gray-200 hover:bg-gray-300 text-gray-600 \r\n              opacity-0 group-hover/message:opacity-100 transition-all duration-200 shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:ring-opacity-50`,\n                        onClick: ()=>toggleDropdown(index),\n                        title: \"Opsi pesan\",\n                        \"aria-label\": \"Opsi pesan\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCopy_FiCornerDownLeft_FiLoader_FiMessageSquare_FiMoreVertical_FiSend_FiSmile_FiStar_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_6__.FiMoreVertical, {\n                            size: 19\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                            lineNumber: 430,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                        lineNumber: 423,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: `relative ${msg.role === \"user\" ? \"flex flex-col items-end\" : \"flex flex-col items-start\"} max-w-[75%]`,\n                        children: [\n                            msg.replyTo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: `mb-1 max-w-full p-2 bg-gray-100 rounded text-xs text-gray-600 border-l-2 border-primary`,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"font-medium\",\n                                        children: \"Membalas:\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                        lineNumber: 438,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"truncate\",\n                                        children: msg.replyTo.content\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                        lineNumber: 439,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                lineNumber: 437,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: `relative group w-full ${msg.role === \"user\" ? \"bg-primary text-white rounded-l-lg rounded-tr-lg shadow-md\" : \"bg-white border rounded-r-lg rounded-tl-lg shadow-sm\"} px-3 py-2 ${markedMessages.has(index) ? \"border-2 border-yellow-400\" : \"\"}`,\n                                style: {\n                                    wordBreak: \"break-word\"\n                                },\n                                children: [\n                                    msg.role !== \"user\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: `absolute -right-12 top-1/2 transform -translate-y-1/2 p-2 rounded-full \r\n                  bg-gray-200 hover:bg-gray-300 text-gray-600 opacity-0 group-hover:opacity-100 \r\n                  transition-all duration-200 shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:ring-opacity-50`,\n                                        onClick: ()=>toggleDropdown(index),\n                                        title: \"Opsi pesan\",\n                                        \"aria-label\": \"Opsi pesan\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCopy_FiCornerDownLeft_FiLoader_FiMessageSquare_FiMoreVertical_FiSend_FiSmile_FiStar_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_6__.FiMoreVertical, {\n                                            size: 19\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                            lineNumber: 463,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                        lineNumber: 455,\n                                        columnNumber: 15\n                                    }, this),\n                                    activeDropdown === index && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        ref: dropdownRef,\n                                        className: `absolute ${msg.role === \"user\" ? \"right-full mr-3\" : \"left-full ml-3\"} top-1/2 -translate-y-1/2 bg-white rounded-lg shadow-xl z-20 overflow-hidden border border-gray-200 min-w-[200px] animate-scaleIn`,\n                                        children: [\n                                            msg.role === \"user\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute top-6 right-[-6px] w-3 h-3 bg-gray-50 border-t border-r border-gray-200 transform rotate-45\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                lineNumber: 475,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"bg-gray-50 px-4 py-2.5 border-b border-gray-200\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-xs font-medium text-gray-500\",\n                                                    children: \"Opsi Pesan\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                    lineNumber: 481,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                lineNumber: 480,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"py-1\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>handleReplyMessage(index, msg.content),\n                                                        className: \"px-4 py-3 w-full text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center transition-colors\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"bg-blue-50 p-1.5 rounded-full mr-3\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCopy_FiCornerDownLeft_FiLoader_FiMessageSquare_FiMoreVertical_FiSend_FiSmile_FiStar_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_6__.FiCornerDownLeft, {\n                                                                    className: \"text-blue-500\",\n                                                                    size: 15\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                                    lineNumber: 490,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                                lineNumber: 489,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                children: \"Balas\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                                lineNumber: 492,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                        lineNumber: 485,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>toggleMarkMessage(index),\n                                                        className: \"px-4 py-3 w-full text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center transition-colors\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: `${markedMessages.has(index) ? \"bg-yellow-100\" : \"bg-yellow-50\"} p-1.5 rounded-full mr-3`,\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCopy_FiCornerDownLeft_FiLoader_FiMessageSquare_FiMoreVertical_FiSend_FiSmile_FiStar_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_6__.FiStar, {\n                                                                    className: `${markedMessages.has(index) ? \"text-yellow-500\" : \"text-yellow-400\"}`,\n                                                                    size: 15\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                                    lineNumber: 500,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                                lineNumber: 499,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                children: markedMessages.has(index) ? \"Hapus Tanda\" : \"Tandai\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                                lineNumber: 502,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                        lineNumber: 495,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>translateMessage(msg.content, index),\n                                                        className: \"px-4 py-3 w-full text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center transition-colors\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"bg-indigo-50 p-1.5 rounded-full mr-3\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                                    className: \"text-indigo-500\",\n                                                                    width: \"15\",\n                                                                    height: \"15\",\n                                                                    viewBox: \"0 0 24 24\",\n                                                                    fill: \"none\",\n                                                                    xmlns: \"http://www.w3.org/2000/svg\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                                        d: \"M12.87 15.07L10.33 12.56L10.36 12.53C12.1 10.59 13.34 8.36 14.07 6H17V4H10V2H8V4H1V6H12.17C11.5 7.92 10.44 9.75 9 11.35C8.07 10.32 7.3 9.19 6.69 8H4.69C5.42 9.63 6.42 11.17 7.67 12.56L2.58 17.58L4 19L9 14L12.11 17.11L12.87 15.07ZM18.5 10H16.5L12 22H14L15.12 19H19.87L21 22H23L18.5 10ZM15.88 17L17.5 12.67L19.12 17H15.88Z\",\n                                                                        fill: \"currentColor\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                                        lineNumber: 511,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                                    lineNumber: 510,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                                lineNumber: 509,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                children: isTranslating.get(index) ? \"Menerjemahkan...\" : \"Terjemahkan\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                                lineNumber: 514,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                        lineNumber: 505,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>copyMessage(msg.content),\n                                                        className: \"px-4 py-3 w-full text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center transition-colors\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"bg-indigo-50 p-1.5 rounded-full mr-3\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCopy_FiCornerDownLeft_FiLoader_FiMessageSquare_FiMoreVertical_FiSend_FiSmile_FiStar_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_6__.FiCopy, {\n                                                                    className: \"text-indigo-500\",\n                                                                    size: 15\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                                    lineNumber: 522,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                                lineNumber: 521,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                children: \"Salin\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                                lineNumber: 524,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                        lineNumber: 517,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                lineNumber: 484,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"border-t border-gray-200\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>deleteMessage(index),\n                                                    className: \"px-4 py-3 w-full text-left text-sm text-red-600 hover:bg-red-50 flex items-center transition-colors\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"bg-red-50 p-1.5 rounded-full mr-3\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCopy_FiCornerDownLeft_FiLoader_FiMessageSquare_FiMoreVertical_FiSend_FiSmile_FiStar_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_6__.FiTrash2, {\n                                                                className: \"text-red-500\",\n                                                                size: 15\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                                lineNumber: 534,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                            lineNumber: 533,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            children: \"Hapus\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                            lineNumber: 536,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                    lineNumber: 529,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                lineNumber: 528,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                        lineNumber: 469,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"message-content whitespace-pre-wrap break-words\",\n                                        dangerouslySetInnerHTML: {\n                                            __html: formatMessage(msg.content, msg.translatedContent)\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                        lineNumber: 543,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: `mt-1 text-xs ${msg.role === \"user\" ? \"text-white text-opacity-70 text-right\" : \"text-gray-500\"}`,\n                                        children: [\n                                            msg.role === \"assistant\" ? \"AI\" : \"Anda\",\n                                            \" • Saat ini\",\n                                            markedMessages.has(index) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"ml-1 inline-flex items-center\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCopy_FiCornerDownLeft_FiLoader_FiMessageSquare_FiMoreVertical_FiSend_FiSmile_FiStar_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_6__.FiStar, {\n                                                    className: \"text-yellow-400\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                    lineNumber: 553,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                lineNumber: 552,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                        lineNumber: 549,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                lineNumber: 443,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                        lineNumber: 434,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, index, true, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                lineNumber: 417,\n                columnNumber: 7\n            }, this));\n    };\n    if (isEmbedded) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex flex-col h-full overflow-visible\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-gradient-to-r from-primary via-primary to-primary-dark p-3 flex items-center justify-between text-white w-full navbar-no-radius\",\n                    style: {\n                        borderRadius: \"0px\",\n                        overflow: \"visible\"\n                    },\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCopy_FiCornerDownLeft_FiLoader_FiMessageSquare_FiMoreVertical_FiSend_FiSmile_FiStar_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_6__.FiMessageSquare, {\n                                className: \"mr-2\",\n                                size: 18\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                lineNumber: 573,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"text-base font-medium\",\n                                children: \"AI Assistant Chat\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                lineNumber: 574,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                        lineNumber: 572,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                    lineNumber: 566,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex-grow overflow-y-auto p-4\",\n                    style: {\n                        backgroundImage: `url(\"data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23aaaaaa' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E\")`,\n                        backgroundColor: \"#e6e0d4\"\n                    },\n                    children: messages.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-center h-full text-gray-500\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCopy_FiCornerDownLeft_FiLoader_FiMessageSquare_FiMoreVertical_FiSend_FiSmile_FiStar_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_6__.FiMessageSquare, {\n                                    size: 60,\n                                    className: \"mx-auto mb-4 text-primary\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                    lineNumber: 584,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-xl font-medium mb-2\",\n                                    children: \"Selamat datang di AI Assistant\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                    lineNumber: 585,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"max-w-md\",\n                                    children: \"Mulai percakapan dengan asisten AI untuk mendapatkan bantuan, jawaban pertanyaan, atau sekadar ngobrol.\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                    lineNumber: 586,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm mt-4\",\n                                    children: [\n                                        \"Model: \",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"font-medium\",\n                                            children: \"Qwen 3\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                            lineNumber: 590,\n                                            columnNumber: 26\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                    lineNumber: 589,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                            lineNumber: 583,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                        lineNumber: 582,\n                        columnNumber: 13\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-4\",\n                        children: [\n                            renderMessages(),\n                            isLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex justify-center my-4\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"animate-spin rounded-full h-6 w-6 border-b-2 border-primary\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                    lineNumber: 599,\n                                    columnNumber: 19\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                lineNumber: 598,\n                                columnNumber: 17\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                ref: messagesEndRef\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                lineNumber: 602,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                        lineNumber: 595,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                    lineNumber: 577,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"border-t p-4 bg-white\",\n                    children: [\n                        replyingTo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-2 p-2 bg-gray-100 rounded-lg flex items-center shadow-sm animate-scaleIn\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 min-w-0 mr-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center text-xs text-gray-500 mb-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCopy_FiCornerDownLeft_FiLoader_FiMessageSquare_FiMoreVertical_FiSend_FiSmile_FiStar_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_6__.FiCornerDownLeft, {\n                                                    className: \"mr-1 flex-shrink-0\",\n                                                    size: 12\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                    lineNumber: 613,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"Membalas pesan\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                    lineNumber: 614,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                            lineNumber: 612,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-gray-700 truncate\",\n                                            children: replyingTo.content\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                            lineNumber: 616,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                    lineNumber: 611,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: cancelReply,\n                                    className: \"ml-auto flex-shrink-0 text-gray-500 hover:text-gray-700 transition-colors\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCopy_FiCornerDownLeft_FiLoader_FiMessageSquare_FiMoreVertical_FiSend_FiSmile_FiStar_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_6__.FiX, {\n                                        size: 16\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                        lineNumber: 622,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                    lineNumber: 618,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                            lineNumber: 610,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                            onSubmit: handleSendMessage,\n                            className: \"flex items-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    type: \"button\",\n                                    onClick: ()=>setShowEmojiPicker(!showEmojiPicker),\n                                    className: \"text-gray-500 p-2 rounded-full hover:bg-gray-100 transition-colors\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCopy_FiCornerDownLeft_FiLoader_FiMessageSquare_FiMoreVertical_FiSend_FiSmile_FiStar_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_6__.FiSmile, {\n                                        size: 20\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                        lineNumber: 633,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                    lineNumber: 628,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative flex-1 mx-2\",\n                                    children: [\n                                        showEmojiPicker && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            ref: emojiPickerRef,\n                                            className: \"absolute bottom-20 right-90 z-10 border border-gray-200 shadow-lg rounded-lg overflow-hidden animate-scaleIn\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(emoji_picker_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                                onEmojiClick: (emojiData)=>{\n                                                    setMessage((prev)=>prev + emojiData.emoji);\n                                                    setShowEmojiPicker(false);\n                                                    if (inputRef.current) inputRef.current.focus();\n                                                },\n                                                searchPlaceHolder: \"Cari emoji...\",\n                                                width: 320,\n                                                height: 350,\n                                                previewConfig: {\n                                                    showPreview: false\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                lineNumber: 642,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                            lineNumber: 638,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            ref: inputRef,\n                                            type: \"text\",\n                                            value: message,\n                                            onChange: (e)=>setMessage(e.target.value),\n                                            onKeyDown: handleKeyDown,\n                                            placeholder: \"Ketik pesan...\",\n                                            className: \"w-full py-2 px-4 bg-gray-100 rounded-full focus:outline-none focus:ring-2 focus:ring-primary focus:ring-opacity-50 transition-all\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                            lineNumber: 658,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                    lineNumber: 636,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    type: \"submit\",\n                                    disabled: isLoading || !message.trim(),\n                                    className: `p-2 rounded-full ${isLoading || !message.trim() ? \"bg-gray-200 text-gray-400 cursor-not-allowed\" : \"bg-primary text-white hover:bg-primary-dark transition-colors shadow-sm\"}`,\n                                    children: isLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCopy_FiCornerDownLeft_FiLoader_FiMessageSquare_FiMoreVertical_FiSend_FiSmile_FiStar_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_6__.FiLoader, {\n                                        className: \"animate-spin\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                        lineNumber: 678,\n                                        columnNumber: 28\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCopy_FiCornerDownLeft_FiLoader_FiMessageSquare_FiMoreVertical_FiSend_FiSmile_FiStar_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_6__.FiSend, {}, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                        lineNumber: 678,\n                                        columnNumber: 68\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                    lineNumber: 669,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                            lineNumber: 627,\n                            columnNumber: 11\n                        }, this),\n                        error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-red-500 text-sm mt-2\",\n                            children: error\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                            lineNumber: 681,\n                            columnNumber: 21\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                    lineNumber: 607,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n            lineNumber: 565,\n            columnNumber: 7\n        }, this);\n    }\n    // Tampilan default modal\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `fixed inset-0 z-50 ${isOpen ? \"flex\" : \"hidden\"} items-center justify-center p-4 bg-black bg-opacity-50 overflow-hidden`,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"w-full max-w-3xl h-[90vh] bg-white overflow-hidden shadow-2xl flex flex-col animate-scaleIn navbar-no-radius\",\n            style: {\n                borderRadius: \"0px\"\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-gradient-to-r from-primary via-primary to-primary-dark p-4 flex items-center justify-between text-white w-full navbar-no-radius\",\n                    style: {\n                        borderRadius: \"0px\",\n                        overflow: \"visible\"\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCopy_FiCornerDownLeft_FiLoader_FiMessageSquare_FiMoreVertical_FiSend_FiSmile_FiStar_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_6__.FiMessageSquare, {\n                                    className: \"mr-2\",\n                                    size: 20\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                    lineNumber: 700,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-lg font-medium\",\n                                    children: \"AI Assistant Chat\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                    lineNumber: 701,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                            lineNumber: 699,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onClose,\n                            className: \"p-1.5 hover:bg-white/10 rounded focus:outline-none\",\n                            \"aria-label\": \"Tutup\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCopy_FiCornerDownLeft_FiLoader_FiMessageSquare_FiMoreVertical_FiSend_FiSmile_FiStar_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_6__.FiX, {\n                                size: 24\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                lineNumber: 708,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                            lineNumber: 703,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                    lineNumber: 692,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex-grow overflow-y-auto p-4\",\n                    style: {\n                        backgroundImage: `url(\"data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23aaaaaa' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E\")`,\n                        backgroundColor: \"#e6e0d4\"\n                    },\n                    children: messages.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-center h-full text-gray-500\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center p-8 bg-white/80 backdrop-blur-sm rounded-xl shadow-sm max-w-xl\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCopy_FiCornerDownLeft_FiLoader_FiMessageSquare_FiMoreVertical_FiSend_FiSmile_FiStar_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_6__.FiMessageSquare, {\n                                    size: 60,\n                                    className: \"mx-auto mb-4 text-primary\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                    lineNumber: 720,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-xl font-medium mb-2\",\n                                    children: \"Selamat datang di AI Assistant\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                    lineNumber: 721,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    children: \"Mulai percakapan dengan asisten AI untuk mendapatkan bantuan, jawaban pertanyaan, atau sekadar ngobrol.\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                    lineNumber: 722,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm mt-4\",\n                                    children: [\n                                        \"Model: \",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"font-medium\",\n                                            children: (0,_lib_qwen__WEBPACK_IMPORTED_MODULE_2__.getModelDisplayName)(model)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                            lineNumber: 726,\n                                            columnNumber: 26\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                    lineNumber: 725,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                            lineNumber: 719,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                        lineNumber: 718,\n                        columnNumber: 13\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-4\",\n                        children: [\n                            renderMessages(),\n                            isLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex justify-center my-4\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"animate-spin rounded-full h-6 w-6 border-b-2 border-primary\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                    lineNumber: 735,\n                                    columnNumber: 19\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                lineNumber: 734,\n                                columnNumber: 17\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                ref: messagesEndRef\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                lineNumber: 738,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                        lineNumber: 731,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                    lineNumber: 713,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"border-t p-4\",\n                    children: [\n                        replyingTo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-2 p-2 bg-gray-100 rounded-lg flex items-center shadow-sm animate-scaleIn\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 min-w-0 mr-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center text-xs text-gray-500 mb-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCopy_FiCornerDownLeft_FiLoader_FiMessageSquare_FiMoreVertical_FiSend_FiSmile_FiStar_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_6__.FiCornerDownLeft, {\n                                                    className: \"mr-1 flex-shrink-0\",\n                                                    size: 12\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                    lineNumber: 750,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"Membalas pesan\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                    lineNumber: 751,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                            lineNumber: 749,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-gray-700 truncate\",\n                                            children: replyingTo.content\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                            lineNumber: 753,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                    lineNumber: 748,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: cancelReply,\n                                    className: \"ml-auto flex-shrink-0 text-gray-500 hover:text-gray-700 transition-colors\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCopy_FiCornerDownLeft_FiLoader_FiMessageSquare_FiMoreVertical_FiSend_FiSmile_FiStar_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_6__.FiX, {\n                                        size: 16\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                        lineNumber: 759,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                    lineNumber: 755,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                            lineNumber: 747,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                            onSubmit: handleSendMessage,\n                            className: \"flex items-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    type: \"button\",\n                                    onClick: ()=>setShowEmojiPicker(!showEmojiPicker),\n                                    className: \"text-gray-500 p-2 rounded-full hover:bg-gray-100 transition-colors\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCopy_FiCornerDownLeft_FiLoader_FiMessageSquare_FiMoreVertical_FiSend_FiSmile_FiStar_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_6__.FiSmile, {\n                                        size: 20\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                        lineNumber: 770,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                    lineNumber: 765,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative flex-1 mx-2\",\n                                    children: [\n                                        showEmojiPicker && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            ref: emojiPickerRef,\n                                            className: \"absolute bottom-20 right-90 z-10 border border-gray-200 shadow-lg rounded-lg overflow-hidden animate-scaleIn\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(emoji_picker_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                                onEmojiClick: (emojiData)=>{\n                                                    setMessage((prev)=>prev + emojiData.emoji);\n                                                    setShowEmojiPicker(false);\n                                                    if (inputRef.current) inputRef.current.focus();\n                                                },\n                                                searchPlaceHolder: \"Cari emoji...\",\n                                                width: 320,\n                                                height: 350,\n                                                previewConfig: {\n                                                    showPreview: false\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                                lineNumber: 779,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                            lineNumber: 775,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            ref: inputRef,\n                                            type: \"text\",\n                                            value: message,\n                                            onChange: (e)=>setMessage(e.target.value),\n                                            onKeyDown: handleKeyDown,\n                                            placeholder: \"Ketik pesan ke AI Assistant...\",\n                                            className: \"w-full py-2 px-4 bg-gray-100 rounded-full focus:outline-none focus:ring-2 focus:ring-primary focus:ring-opacity-50 transition-all\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                            lineNumber: 795,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                    lineNumber: 773,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    type: \"submit\",\n                                    disabled: isLoading || !message.trim(),\n                                    className: `p-2 rounded-full ${isLoading || !message.trim() ? \"bg-gray-200 text-gray-400 cursor-not-allowed\" : \"bg-primary text-white hover:bg-primary-dark transition-colors shadow-sm\"}`,\n                                    children: isLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCopy_FiCornerDownLeft_FiLoader_FiMessageSquare_FiMoreVertical_FiSend_FiSmile_FiStar_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_6__.FiLoader, {\n                                        className: \"animate-spin\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                        lineNumber: 815,\n                                        columnNumber: 28\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCopy_FiCornerDownLeft_FiLoader_FiMessageSquare_FiMoreVertical_FiSend_FiSmile_FiStar_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_6__.FiSend, {}, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                        lineNumber: 815,\n                                        columnNumber: 68\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                                    lineNumber: 806,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                            lineNumber: 764,\n                            columnNumber: 11\n                        }, this),\n                        error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-red-500 text-sm mt-2\",\n                            children: error\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                            lineNumber: 818,\n                            columnNumber: 21\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n                    lineNumber: 744,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n            lineNumber: 690,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AIChatModal.tsx\",\n        lineNumber: 689,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBTyxFQUFFbEIsU0FBU2tCLE9BQU8sQ0FBQ0MsS0FBSztnREFDOUM7Z0RBQ0F5SSxtQkFBa0I7Z0RBQ2xCckIsT0FBTztnREFDUEMsUUFBUTtnREFDUnFCLGVBQWU7b0RBQ2JDLGFBQWE7Z0RBQ2Y7Ozs7Ozs7Ozs7O3NEQUtOLDhEQUFDQzs0Q0FDQzVCLEtBQUtuSTs0Q0FDTHdKLE1BQUs7NENBQ0xRLE9BQU96Szs0Q0FDUDBLLFVBQVUsQ0FBQzdGLElBQU01RSxXQUFXNEUsRUFBRTdDLE1BQU0sQ0FBQ3lJLEtBQUs7NENBQzFDRSxXQUFXOUM7NENBQ1grQyxhQUFZOzRDQUNaeEMsV0FBVTs7Ozs7Ozs7Ozs7OzhDQUlkLDhEQUFDQztvQ0FDQzRCLE1BQUs7b0NBQ0xZLFVBQVV6SyxhQUFhLENBQUNKLFFBQVErRSxJQUFJO29DQUNwQ3FELFdBQVcsQ0FBQyxpQkFBaUIsRUFDM0JoSSxhQUFhLENBQUNKLFFBQVErRSxJQUFJLEtBQ3RCLGlEQUNBLDBFQUNMLENBQUM7OENBRUQzRSwwQkFBWSw4REFBQ3ZCLDhLQUFRQTt3Q0FBQ3VKLFdBQVU7Ozs7OzZEQUFvQiw4REFBQzFKLDRLQUFNQTs7Ozs7Ozs7Ozs7Ozs7Ozt3QkFHL0Q0Qix1QkFBUyw4REFBQ3VJOzRCQUFFVCxXQUFVO3NDQUE2QjlIOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUs5RCIsInNvdXJjZXMiOlsid2VicGFjazovL2hhbGxvLy4vc3JjL2NvbXBvbmVudHMvQUlDaGF0TW9kYWwudHN4PzM5NmUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xyXG5cclxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgRmlTZW5kLCBGaVgsIEZpTWVzc2FnZVNxdWFyZSwgRmlMb2FkZXIsIEZpTW9yZVZlcnRpY2FsLCBGaUNvcHksIEZpVHJhc2gyLCBGaVNtaWxlLCBGaVN0YXIsIEZpQm9va21hcmssIEZpQ29ybmVyRG93bkxlZnQgfSBmcm9tICdyZWFjdC1pY29ucy9maSc7XHJcbmltcG9ydCB7IERFRkFVTFRfTU9ERUwsIGdldE1vZGVsRGlzcGxheU5hbWUgfSBmcm9tICdAL2xpYi9xd2VuJztcclxuaW1wb3J0IEVtb2ppUGlja2VyIGZyb20gJ2Vtb2ppLXBpY2tlci1yZWFjdCc7XHJcbmltcG9ydCB7IHVzZUFJQ29uZmlnIH0gZnJvbSAnQC9saWIvY29udGV4dCc7XHJcbmltcG9ydCB7IHRyYW5zbGF0ZVRleHQgfSBmcm9tICdAL2xpYi90cmFuc2xhdGUnO1xyXG5cclxuLy8gVGlwZSBwZXNhbiB5YW5nIGp1Z2EgbWVtaWxpa2kgcHJvcGVydGkgdHJhbnNsYXRlZENvbnRlbnQgZGFuIHJlcGx5VG9cclxudHlwZSBNZXNzYWdlID0ge1xyXG4gIHJvbGU6ICd1c2VyJyB8ICdhc3Npc3RhbnQnIHwgJ3N5c3RlbSc7XHJcbiAgY29udGVudDogc3RyaW5nO1xyXG4gIHRyYW5zbGF0ZWRDb250ZW50Pzogc3RyaW5nO1xyXG4gIHJlcGx5VG8/OiB7XHJcbiAgICBpbmRleDogbnVtYmVyO1xyXG4gICAgY29udGVudDogc3RyaW5nO1xyXG4gIH07XHJcbn07XHJcblxyXG50eXBlIEFJQ2hhdE1vZGFsUHJvcHMgPSB7XHJcbiAgaXNPcGVuOiBib29sZWFuO1xyXG4gIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XHJcbiAgY3VzdG9tSW5zdHJ1Y3Rpb25zPzogc3RyaW5nO1xyXG4gIG1vZGVsPzogc3RyaW5nO1xyXG4gIGRlZmF1bHRMYW5ndWFnZT86IHN0cmluZztcclxuICBpc0VtYmVkZGVkPzogYm9vbGVhbjtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFJQ2hhdE1vZGFsKHsgXHJcbiAgaXNPcGVuLCBcclxuICBvbkNsb3NlLCBcclxuICBjdXN0b21JbnN0cnVjdGlvbnMgPSAnJyxcclxuICBtb2RlbCA9IERFRkFVTFRfTU9ERUwsXHJcbiAgZGVmYXVsdExhbmd1YWdlID0gJ2lkJyxcclxuICBpc0VtYmVkZGVkID0gZmFsc2VcclxufTogQUlDaGF0TW9kYWxQcm9wcykge1xyXG4gIGNvbnN0IFttZXNzYWdlLCBzZXRNZXNzYWdlXSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBbbWVzc2FnZXMsIHNldE1lc3NhZ2VzXSA9IHVzZVN0YXRlPE1lc3NhZ2VbXT4oW10pO1xyXG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBtZXNzYWdlc0VuZFJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XHJcbiAgY29uc3QgaW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7XHJcbiAgY29uc3QgW2FjdGl2ZURyb3Bkb3duLCBzZXRBY3RpdmVEcm9wZG93bl0gPSB1c2VTdGF0ZTxudW1iZXIgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBkcm9wZG93blJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XHJcbiAgY29uc3QgW3Nob3dFbW9qaVBpY2tlciwgc2V0U2hvd0Vtb2ppUGlja2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBlbW9qaVBpY2tlclJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XHJcbiAgY29uc3QgW21hcmtlZE1lc3NhZ2VzLCBzZXRNYXJrZWRNZXNzYWdlc10gPSB1c2VTdGF0ZTxTZXQ8bnVtYmVyPj4obmV3IFNldCgpKTtcclxuICBjb25zdCBbcmVwbHlpbmdUbywgc2V0UmVwbHlpbmdUb10gPSB1c2VTdGF0ZTx7aW5kZXg6IG51bWJlciwgY29udGVudDogc3RyaW5nfSB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFt0cmFuc2xhdGVkTWVzc2FnZXMsIHNldFRyYW5zbGF0ZWRNZXNzYWdlc10gPSB1c2VTdGF0ZTxNYXA8bnVtYmVyLCBzdHJpbmc+PihuZXcgTWFwKCkpO1xyXG4gIGNvbnN0IFtpc1RyYW5zbGF0aW5nLCBzZXRJc1RyYW5zbGF0aW5nXSA9IHVzZVN0YXRlPE1hcDxudW1iZXIsIGJvb2xlYW4+PihuZXcgTWFwKCkpO1xyXG5cclxuICBjb25zdCB7IGFpQ29uZmlnIH0gPSB1c2VBSUNvbmZpZygpO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGlzT3BlbiAmJiBpbnB1dFJlZi5jdXJyZW50KSB7XHJcbiAgICAgIGlucHV0UmVmLmN1cnJlbnQuZm9jdXMoKTtcclxuICAgIH1cclxuICB9LCBbaXNPcGVuXSk7XHJcblxyXG4gIC8vIFR1dHVwIGVtb2ppIHBpY2tlciBrZXRpa2Ega2xpayBkaSBsdWFyXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGhhbmRsZUNsaWNrT3V0c2lkZSA9IChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICBpZiAoZW1vamlQaWNrZXJSZWYuY3VycmVudCAmJiAhZW1vamlQaWNrZXJSZWYuY3VycmVudC5jb250YWlucyhldmVudC50YXJnZXQgYXMgTm9kZSkpIHtcclxuICAgICAgICBzZXRTaG93RW1vamlQaWNrZXIoZmFsc2UpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBpZiAoc2hvd0Vtb2ppUGlja2VyKSB7XHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XHJcbiAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9LCBbc2hvd0Vtb2ppUGlja2VyXSk7XHJcblxyXG4gIC8vIFR1dHVwIGRyb3Bkb3duIGtldGlrYSBrbGlrIGRpIGx1YXJcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgaGFuZGxlQ2xpY2tPdXRzaWRlID0gKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgIGlmIChkcm9wZG93blJlZi5jdXJyZW50ICYmICFkcm9wZG93blJlZi5jdXJyZW50LmNvbnRhaW5zKGV2ZW50LnRhcmdldCBhcyBOb2RlKSkge1xyXG4gICAgICAgIHNldEFjdGl2ZURyb3Bkb3duKG51bGwpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVDbGlja091dHNpZGUpO1xyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcclxuICAgIH07XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyBTY3JvbGwga2UgcGVzYW4gdGVyYmFydVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBtZXNzYWdlc0VuZFJlZi5jdXJyZW50Py5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcclxuICB9LCBbbWVzc2FnZXNdKTtcclxuXHJcbiAgLy8gVG9nZ2xlIG1lbnUgZHJvcGRvd25cclxuICBjb25zdCB0b2dnbGVEcm9wZG93biA9IChpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICBzZXRBY3RpdmVEcm9wZG93bihhY3RpdmVEcm9wZG93biA9PT0gaW5kZXggPyBudWxsIDogaW5kZXgpO1xyXG4gIH07XHJcblxyXG4gIC8vIFNhbGluIHBlc2FuIGtlIGNsaXBib2FyZFxyXG4gIGNvbnN0IGNvcHlNZXNzYWdlID0gKGNvbnRlbnQ6IHN0cmluZykgPT4ge1xyXG4gICAgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoY29udGVudClcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGFsZXJ0KCdQZXNhbiBkaXNhbGluIGtlIGNsaXBib2FyZCcpO1xyXG4gICAgICAgIHNldEFjdGl2ZURyb3Bkb3duKG51bGwpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdHYWdhbCBtZW55YWxpbiBwZXNhbjonLCBlcnIpO1xyXG4gICAgICB9KTtcclxuICB9O1xyXG5cclxuICAvLyBIYXB1cyBwZXNhbiBkYXJpIGRhZnRhciBjaGF0IGxva2FsXHJcbiAgY29uc3QgZGVsZXRlTWVzc2FnZSA9IChpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IHtcclxuICAgICAgY29uc3QgbmV3TWVzc2FnZXMgPSBbLi4ucHJldl07XHJcbiAgICAgIG5ld01lc3NhZ2VzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgIHJldHVybiBuZXdNZXNzYWdlcztcclxuICAgIH0pO1xyXG4gICAgc2V0QWN0aXZlRHJvcGRvd24obnVsbCk7XHJcbiAgfTtcclxuXHJcbiAgLy8gVGFuZGFpIHBlc2FuIHBlbnRpbmdcclxuICBjb25zdCB0b2dnbGVNYXJrTWVzc2FnZSA9IChpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICBzZXRNYXJrZWRNZXNzYWdlcyhwcmV2ID0+IHtcclxuICAgICAgY29uc3QgbmV3TWFya2VkID0gbmV3IFNldChwcmV2KTtcclxuICAgICAgaWYgKG5ld01hcmtlZC5oYXMoaW5kZXgpKSB7XHJcbiAgICAgICAgbmV3TWFya2VkLmRlbGV0ZShpbmRleCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbmV3TWFya2VkLmFkZChpbmRleCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIG5ld01hcmtlZDtcclxuICAgIH0pO1xyXG4gICAgc2V0QWN0aXZlRHJvcGRvd24obnVsbCk7XHJcbiAgfTtcclxuXHJcbiAgLy8gQmFsYXMgcGVzYW5cclxuICBjb25zdCBoYW5kbGVSZXBseU1lc3NhZ2UgPSAoaW5kZXg6IG51bWJlciwgY29udGVudDogc3RyaW5nKSA9PiB7XHJcbiAgICBzZXRSZXBseWluZ1RvKHtpbmRleCwgY29udGVudH0pO1xyXG4gICAgc2V0QWN0aXZlRHJvcGRvd24obnVsbCk7XHJcbiAgICBpZiAoaW5wdXRSZWYuY3VycmVudCkge1xyXG4gICAgICBpbnB1dFJlZi5jdXJyZW50LmZvY3VzKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gQmF0YWxrYW4gYmFsYXNhblxyXG4gIGNvbnN0IGNhbmNlbFJlcGx5ID0gKCkgPT4ge1xyXG4gICAgc2V0UmVwbHlpbmdUbyhudWxsKTtcclxuICB9O1xyXG5cclxuICAvLyBGdW5nc2kgdW50dWsgbWVuZXJqZW1haGthbiBwZXNhblxyXG4gIGNvbnN0IHRyYW5zbGF0ZU1lc3NhZ2UgPSBhc3luYyAoY29udGVudDogc3RyaW5nLCBpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICBpZiAoIWNvbnRlbnQgfHwgaXNUcmFuc2xhdGluZy5nZXQoaW5kZXgpKSByZXR1cm47XHJcbiAgICBcclxuICAgIC8vIFNldCBzdGF0dXMgbWVuZXJqZW1haGthblxyXG4gICAgY29uc3QgbmV3VHJhbnNsYXRpbmdTdGF0dXMgPSBuZXcgTWFwKGlzVHJhbnNsYXRpbmcpO1xyXG4gICAgbmV3VHJhbnNsYXRpbmdTdGF0dXMuc2V0KGluZGV4LCB0cnVlKTtcclxuICAgIHNldElzVHJhbnNsYXRpbmcobmV3VHJhbnNsYXRpbmdTdGF0dXMpO1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBUdXR1cCBkcm9wZG93blxyXG4gICAgICBzZXRBY3RpdmVEcm9wZG93bihudWxsKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKFwiTWVuZXJqZW1haGthbiBwZXNhbjpcIiwgY29udGVudCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiQmFoYXNhIHRhcmdldDpcIiwgYWlDb25maWcudHJhbnNsYXRlTGFuZ3VhZ2UgfHwgJ2VuJyk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBHdW5ha2FuIGZ1bmdzaSB0cmFuc2xhdGVUZXh0XHJcbiAgICAgIGNvbnN0IHRhcmdldExhbmcgPSBhaUNvbmZpZy50cmFuc2xhdGVMYW5ndWFnZSB8fCAnZW4nO1xyXG4gICAgICBcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0cmFuc2xhdGVUZXh0KGNvbnRlbnQsIHRhcmdldExhbmcpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiSGFzaWwgdGVyamVtYWhhbjpcIiwgcmVzdWx0KTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC50cmFuc2xhdGVkVGV4dCkge1xyXG4gICAgICAgICAgLy8gVXBkYXRlIHN0YXRlIGRlbmdhbiBoYXNpbCB0ZXJqZW1haGFuXHJcbiAgICAgICAgICBjb25zdCBuZXdUcmFuc2xhdGVkTWVzc2FnZXMgPSBuZXcgTWFwKHRyYW5zbGF0ZWRNZXNzYWdlcyk7XHJcbiAgICAgICAgICBuZXdUcmFuc2xhdGVkTWVzc2FnZXMuc2V0KGluZGV4LCByZXN1bHQudHJhbnNsYXRlZFRleHQpO1xyXG4gICAgICAgICAgc2V0VHJhbnNsYXRlZE1lc3NhZ2VzKG5ld1RyYW5zbGF0ZWRNZXNzYWdlcyk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIFVwZGF0ZSBwZXNhbiB5YW5nIGRpdGFtcGlsa2FuIGRlbmdhbiB0YWcgdGVyamVtYWhhblxyXG4gICAgICAgICAgY29uc3QgdXBkYXRlZE1lc3NhZ2VzID0gWy4uLm1lc3NhZ2VzXTtcclxuICAgICAgICAgIHVwZGF0ZWRNZXNzYWdlc1tpbmRleF0gPSB7XHJcbiAgICAgICAgICAgIC4uLnVwZGF0ZWRNZXNzYWdlc1tpbmRleF0sXHJcbiAgICAgICAgICAgIHRyYW5zbGF0ZWRDb250ZW50OiByZXN1bHQudHJhbnNsYXRlZFRleHRcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBzZXRNZXNzYWdlcyh1cGRhdGVkTWVzc2FnZXMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZXNwb25zIHRlcmplbWFoYW4gdGlkYWsgdmFsaWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoICh0cmFuc2xhdGVFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBzYWF0IG1lbWFuZ2dpbCB0cmFuc2xhdGVUZXh0OlwiLCB0cmFuc2xhdGVFcnJvcik7XHJcbiAgICAgICAgc2V0RXJyb3IoJ0dhZ2FsIG1lbmVyamVtYWhrYW4gcGVzYW4uIFNpbGFrYW4gY29iYSBsYWdpLicpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0RXJyb3IobnVsbCksIDMwMDApO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignR2FnYWwgbWVuZXJqZW1haGthbiBwZXNhbjonLCBlcnJvcik7XHJcbiAgICAgIHNldEVycm9yKCdHYWdhbCBtZW5lcmplbWFoa2FuIHBlc2FuLiBTaWxha2FuIGNvYmEgbGFnaS4nKTtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiBzZXRFcnJvcihudWxsKSwgMzAwMCk7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICAvLyBSZXNldCBzdGF0dXMgbWVuZXJqZW1haGthblxyXG4gICAgICBjb25zdCBuZXdUcmFuc2xhdGluZ1N0YXR1cyA9IG5ldyBNYXAoaXNUcmFuc2xhdGluZyk7XHJcbiAgICAgIG5ld1RyYW5zbGF0aW5nU3RhdHVzLnNldChpbmRleCwgZmFsc2UpO1xyXG4gICAgICBzZXRJc1RyYW5zbGF0aW5nKG5ld1RyYW5zbGF0aW5nU3RhdHVzKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBLaXJpbSBwZXNhbiBrZSBBSSBkZW5nYW4gYmFoYXNhIHlhbmcgZGl0ZXRhcGthblxyXG4gIGNvbnN0IGhhbmRsZVNlbmRNZXNzYWdlID0gYXN5bmMgKGU/OiBSZWFjdC5Gb3JtRXZlbnQpID0+IHtcclxuICAgIGlmIChlKSBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBcclxuICAgIGlmICghbWVzc2FnZS50cmltKCkgfHwgaXNMb2FkaW5nKSByZXR1cm47XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIHNldElzTG9hZGluZyh0cnVlKTtcclxuICAgICAgc2V0RXJyb3IobnVsbCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBUYW1iYWhrYW4gcGVzYW4gcGVuZ2d1bmEga2UgZGFmdGFyIHBlc2FuXHJcbiAgICAgIGNvbnN0IHVzZXJNZXNzYWdlOiBNZXNzYWdlID0geyBcclxuICAgICAgICByb2xlOiAndXNlcicsIFxyXG4gICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UsXHJcbiAgICAgICAgcmVwbHlUbzogcmVwbHlpbmdUbyA/IHtcclxuICAgICAgICAgIGluZGV4OiByZXBseWluZ1RvLmluZGV4LFxyXG4gICAgICAgICAgY29udGVudDogcmVwbHlpbmdUby5jb250ZW50LnN1YnN0cmluZygwLCA1MCkgKyAocmVwbHlpbmdUby5jb250ZW50Lmxlbmd0aCA+IDUwID8gJy4uLicgOiAnJylcclxuICAgICAgICB9IDogdW5kZWZpbmVkXHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCB1c2VyTWVzc2FnZV0pO1xyXG4gICAgICBcclxuICAgICAgLy8gUmVzZXQgaW5wdXQgZGFuIHJlcGx5XHJcbiAgICAgIHNldE1lc3NhZ2UoJycpO1xyXG4gICAgICBzZXRSZXBseWluZ1RvKG51bGwpO1xyXG4gICAgICBcclxuICAgICAgLy8gVGFtYmFoa2FuIGluc3RydWtzaSBiYWhhc2EgamlrYSBhZGFcclxuICAgICAgbGV0IGZpbmFsSW5zdHJ1Y3Rpb25zID0gY3VzdG9tSW5zdHJ1Y3Rpb25zO1xyXG4gICAgICBpZiAoZGVmYXVsdExhbmd1YWdlICYmICFjdXN0b21JbnN0cnVjdGlvbnMuaW5jbHVkZXMoJ2JhaGFzYScpKSB7XHJcbiAgICAgICAgY29uc3QgbGFuZ3VhZ2VNYXA6IHtba2V5OiBzdHJpbmddOiBzdHJpbmd9ID0ge1xyXG4gICAgICAgICAgJ2lkJzogJ0luZG9uZXNpYScsXHJcbiAgICAgICAgICAnZW4nOiAnSW5nZ3JpcycsXHJcbiAgICAgICAgICAnamEnOiAnSmVwYW5nJyxcclxuICAgICAgICAgICdrbyc6ICdLb3JlYScsXHJcbiAgICAgICAgICAnemgnOiAnTWFuZGFyaW4nLFxyXG4gICAgICAgICAgJ2FyJzogJ0FyYWInLFxyXG4gICAgICAgICAgJ2VzJzogJ1NwYW55b2wnLFxyXG4gICAgICAgICAgJ2ZyJzogJ1ByYW5jaXMnLFxyXG4gICAgICAgICAgJ2RlJzogJ0plcm1hbicsXHJcbiAgICAgICAgICAncnUnOiAnUnVzaWEnXHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBsYW5ndWFnZU5hbWUgPSBsYW5ndWFnZU1hcFtkZWZhdWx0TGFuZ3VhZ2VdIHx8ICdJbmRvbmVzaWEnO1xyXG4gICAgICAgIGZpbmFsSW5zdHJ1Y3Rpb25zID0gZmluYWxJbnN0cnVjdGlvbnMgKyBgXFxuU2VsYWx1IG1lbmphd2FiIGRhbGFtIGJhaGFzYSAke2xhbmd1YWdlTmFtZX0uYDtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gSnVtbGFoIHBlcmNvYmFhbiBtYWtzaW11bVxyXG4gICAgICBjb25zdCBNQVhfUkVUUklFUyA9IDM7XHJcbiAgICAgIGxldCByZXRyaWVzID0gMDtcclxuICAgICAgbGV0IHN1Y2Nlc3MgPSBmYWxzZTtcclxuICAgICAgbGV0IGVycm9yTXNnID0gJyc7XHJcbiAgICAgIFxyXG4gICAgICB3aGlsZSAocmV0cmllcyA8PSBNQVhfUkVUUklFUyAmJiAhc3VjY2Vzcykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAvLyBUYW1iYWhrYW4gcGVudW5kYWFuIHlhbmcgc2VtYWtpbiBsYW1hIGRlbmdhbiBiYWNrb2ZmIGVrc3BvbmVuc2lhbFxyXG4gICAgICAgICAgaWYgKHJldHJpZXMgPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlbGF5TXMgPSBNYXRoLm1pbigxMDAwICogTWF0aC5wb3coMiwgcmV0cmllcyAtIDEpLCA4MDAwKTsgLy8gbWF4IDggZGV0aWsgZGVsYXlcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYE1lbmNvYmEgdWxhbmcgZGFsYW0gJHtkZWxheU1zfW1zIChwZXJjb2JhYW4gJHtyZXRyaWVzfS8ke01BWF9SRVRSSUVTfSkuLi5gKTtcclxuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGRlbGF5TXMpKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBLaXJpbSBwZXNhbiBrZSBBUElcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGBNZW5naXJpbSByZXF1ZXN0IGtlIEFQSSAocGVyY29iYWFuICR7cmV0cmllcyArIDF9LyR7TUFYX1JFVFJJRVMgKyAxfSkuLi5gKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gUGFzdGlrYW4gVVJMIGVuZHBvaW50IGJlbmFyXHJcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2FpLWNoYXQnLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgIG1lc3NhZ2VzOiBbLi4ubWVzc2FnZXMsIHVzZXJNZXNzYWdlXSxcclxuICAgICAgICAgICAgICBjdXN0b21JbnN0cnVjdGlvbnM6IGZpbmFsSW5zdHJ1Y3Rpb25zLFxyXG4gICAgICAgICAgICAgIG1vZGVsLFxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgY2FjaGU6ICduby1zdG9yZScgLy8gUGFzdGlrYW4gdGlkYWsgbWVuZ2d1bmFrYW4gY2FjaGVcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBUYW5nYW5pIGVycm9yIHJlc3BvbnNlXHJcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEhUVFAgZXJyb3IhIFN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9YCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignUmVzcG9uc2UgZXJyb3IgdGV4dDonLCBlcnJvclRleHQpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBKU09OLnBhcnNlKGVycm9yVGV4dCk7XHJcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yRGF0YS5lcnJvciB8fCBgRXJyb3IgJHtyZXNwb25zZS5zdGF0dXN9OiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yICR7cmVzcG9uc2Uuc3RhdHVzfTogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnUmVzcG9uc2UgZGF0YTonLCBkYXRhKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gUGVyaWtzYSBiZXJiYWdhaSBrZW11bmdraW5hbiBmb3JtYXQgcmVzcG9uc1xyXG4gICAgICAgICAgbGV0IHJlc3BvbnNlQ29udGVudCA9ICcnO1xyXG4gICAgICAgICAgbGV0IHJlc3BvbnNlUm9sZTogJ3VzZXInIHwgJ2Fzc2lzdGFudCcgfCAnc3lzdGVtJyA9ICdhc3Npc3RhbnQnO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAoZGF0YS5yZXNwb25zZSkge1xyXG4gICAgICAgICAgICAvLyBGb3JtYXQgZGFyaSBBUEkga2l0YVxyXG4gICAgICAgICAgICByZXNwb25zZUNvbnRlbnQgPSBkYXRhLnJlc3BvbnNlO1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5yb2xlID09PSAnYXNzaXN0YW50JyB8fCBkYXRhLnJvbGUgPT09ICd1c2VyJyB8fCBkYXRhLnJvbGUgPT09ICdzeXN0ZW0nKSB7XHJcbiAgICAgICAgICAgICAgcmVzcG9uc2VSb2xlID0gZGF0YS5yb2xlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEuY29udGVudCkge1xyXG4gICAgICAgICAgICAvLyBGb3JtYXQgY29udGVudCBsYW5nc3VuZ1xyXG4gICAgICAgICAgICByZXNwb25zZUNvbnRlbnQgPSBkYXRhLmNvbnRlbnQ7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEubWVzc2FnZSAmJiBkYXRhLm1lc3NhZ2UuY29udGVudCkge1xyXG4gICAgICAgICAgICAvLyBGb3JtYXQgZGVuZ2FuIG1lc3NhZ2UgZGkgcm9vdFxyXG4gICAgICAgICAgICByZXNwb25zZUNvbnRlbnQgPSBkYXRhLm1lc3NhZ2UuY29udGVudDtcclxuICAgICAgICAgICAgaWYgKGRhdGEubWVzc2FnZS5yb2xlID09PSAnYXNzaXN0YW50JyB8fCBkYXRhLm1lc3NhZ2Uucm9sZSA9PT0gJ3VzZXInIHx8IGRhdGEubWVzc2FnZS5yb2xlID09PSAnc3lzdGVtJykge1xyXG4gICAgICAgICAgICAgIHJlc3BvbnNlUm9sZSA9IGRhdGEubWVzc2FnZS5yb2xlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEuY2hvaWNlcyAmJiBkYXRhLmNob2ljZXNbMF0gJiYgZGF0YS5jaG9pY2VzWzBdLm1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgLy8gRm9ybWF0IE9wZW5BSS1saWtlXHJcbiAgICAgICAgICAgIHJlc3BvbnNlQ29udGVudCA9IGRhdGEuY2hvaWNlc1swXS5tZXNzYWdlLmNvbnRlbnQ7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmNob2ljZXNbMF0ubWVzc2FnZS5yb2xlID09PSAnYXNzaXN0YW50JyB8fCBkYXRhLmNob2ljZXNbMF0ubWVzc2FnZS5yb2xlID09PSAndXNlcicgfHwgZGF0YS5jaG9pY2VzWzBdLm1lc3NhZ2Uucm9sZSA9PT0gJ3N5c3RlbScpIHtcclxuICAgICAgICAgICAgICByZXNwb25zZVJvbGUgPSBkYXRhLmNob2ljZXNbMF0ubWVzc2FnZS5yb2xlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Zvcm1hdCByZXNwb25zIHRpZGFrIGRhcGF0IGRpa2VuYWxpLCBzaWxha2FuIGNvYmEgbGFnaScpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBUYW1iYWhrYW4gcmVzcG9ucyBBSSBrZSBkYWZ0YXIgcGVzYW5cclxuICAgICAgICAgIGNvbnN0IGFpTWVzc2FnZTogTWVzc2FnZSA9IHsgXHJcbiAgICAgICAgICAgIHJvbGU6IHJlc3BvbnNlUm9sZSxcclxuICAgICAgICAgICAgY29udGVudDogcmVzcG9uc2VDb250ZW50LFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBbLi4ucHJldiwgYWlNZXNzYWdlXSk7XHJcbiAgICAgICAgICBzdWNjZXNzID0gdHJ1ZTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdCZXJoYXNpbCBtZW5kYXBhdGthbiByZXNwb25zIGRhcmkgQUknKTtcclxuICAgICAgICB9IGNhdGNoIChlcnI6IGFueSkge1xyXG4gICAgICAgICAgLy8gSmlrYSBtYXNpaCBhZGEga2VzZW1wYXRhbiBjb2JhIGxhZ2lcclxuICAgICAgICAgIGlmIChyZXRyaWVzIDwgTUFYX1JFVFJJRVMpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYFBlcmNvYmFhbiBrZS0ke3JldHJpZXMgKyAxfSBnYWdhbCwgbWVuY29iYSBsYWdpLi4uYCwgZXJyKTtcclxuICAgICAgICAgICAgcmV0cmllcysrO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gSmlrYSBzdWRhaCBtZW5jYXBhaSBiYXRhcywgdGFtcGlsa2FuIGVycm9yIGRhbiBidWF0IHJlc3BvbnMgZmFsbGJhY2tcclxuICAgICAgICAgICAgZXJyb3JNc2cgPSBlcnIubWVzc2FnZSB8fCAnVGVyamFkaSBrZXNhbGFoYW4gc2FhdCBiZXJrb211bmlrYXNpIGRlbmdhbiBBSSc7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NlbXVhIHBlcmNvYmFhbiBnYWdhbDonLCBlcnJvck1zZyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBUYW1iYWhrYW4gcmVzcG9ucyBmYWxsYmFja1xyXG4gICAgICAgICAgICBjb25zdCBmYWxsYmFja01lc3NhZ2U6IE1lc3NhZ2UgPSB7XHJcbiAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXHJcbiAgICAgICAgICAgICAgY29udGVudDogYE1hYWYsIHNheWEgdGlkYWsgZGFwYXQgbWVuamF3YWIgcGVybWludGFhbiBBbmRhIHNhYXQgaW5pIGthcmVuYSBtYXNhbGFoIHRla25pcy4gU2lsYWthbiBjb2JhIGJlYmVyYXBhIHNhYXQgbGFnaS5cclxuXHJcblNhYXQgaW5pIGxheWFuYW4gQUkgc2VkYW5nIG1lbmdhbGFtaSBnYW5nZ3Vhbi4gSW5pIGJpc2EgZGlzZWJhYmthbiBvbGVoOlxyXG4xLiBLb25la3NpIGludGVybmV0IHlhbmcgdGlkYWsgc3RhYmlsXHJcbjIuIExheWFuYW4gT3BlblJvdXRlciB5YW5nIHNlZGFuZyBtYWludGVuYW5jZVxyXG4zLiBNb2RlbCBBSSB5YW5nIGRpbWludGEgc2VkYW5nIHRpZGFrIHRlcnNlZGlhXHJcblxyXG5TaWxha2FuIHR1dHVwIGFwbGlrYXNpIGRhbiBjb2JhIGxhZ2kgc2V0ZWxhaCBiZWJlcmFwYSBtZW5pdC5gXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCBmYWxsYmFja01lc3NhZ2VdKTtcclxuICAgICAgICAgICAgc3VjY2VzcyA9IHRydWU7IC8vIFVudHVrIGtlbHVhciBkYXJpIGxvb3BcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XHJcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVyci5tZXNzYWdlIHx8ICdUZXJqYWRpIGtlc2FsYWhhbiBzYWF0IGJlcmtvbXVuaWthc2kgZGVuZ2FuIEFJJztcclxuICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKTtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2FhdCBtZW5naXJpbSBwZXNhbjonLCBlcnIpO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBGb3JtYXQgcGVzYW4ga2UgdGFtcGlsYW4gSFRNTFxyXG4gIGNvbnN0IGZvcm1hdE1lc3NhZ2UgPSAoY29udGVudDogc3RyaW5nLCB0cmFuc2xhdGVkQ29udGVudD86IHN0cmluZyk6IHN0cmluZyA9PiB7XHJcbiAgICAvLyBKaWthIGFkYSB0ZXJqZW1haGFuLCB0YW1waWxrYW4gdGVyamVtYWhhbiBkaSBiYXdhaCBwZXNhbiBhc2xpXHJcbiAgICBpZiAodHJhbnNsYXRlZENvbnRlbnQpIHtcclxuICAgICAgcmV0dXJuIGAke2NvbnRlbnR9PGRpdiBjbGFzcz1cIm10LTIgcC0yIHJvdW5kZWQtbGcgYmctZ3JheS0xMDAgdGV4dC1ncmF5LTgwMCByZWxhdGl2ZSBhbmltYXRlLWZhZGVJblwiIHN0eWxlPVwibWF4LXdpZHRoOiAxMDAlOyB3aWR0aDogZml0LWNvbnRlbnQ7IG1hcmdpbi1sZWZ0OiBhdXRvOyBtYXJnaW4tcmlnaHQ6IGF1dG87XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIG1iLTFcIj5cclxuICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTMgaC0zIG1yLTEgZmxleC1zaHJpbmstMFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cclxuICAgICAgICAgICAgPHBhdGggZD1cIk0xMi44NyAxNS4wN0wxMC4zMyAxMi41NkwxMC4zNiAxMi41M0MxMi4xIDEwLjU5IDEzLjM0IDguMzYgMTQuMDcgNkgxN1Y0SDEwVjJIOFY0SDFWNkgxMi4xN0MxMS41IDcuOTIgMTAuNDQgOS43NSA5IDExLjM1QzguMDcgMTAuMzIgNy4zIDkuMTkgNi42OSA4SDQuNjlDNS40MiA5LjYzIDYuNDIgMTEuMTcgNy42NyAxMi41NkwyLjU4IDE3LjU4TDQgMTlMOSAxNEwxMi4xMSAxNy4xMUwxMi44NyAxNS4wN1pNMTguNSAxMEgxNi41TDEyIDIySDE0TDE1LjEyIDE5SDE5Ljg3TDIxIDIySDIzTDE4LjUgMTBaTTE1Ljg4IDE3TDE3LjUgMTIuNjdMMTkuMTIgMTdIMTUuODhaXCIgZmlsbD1cImN1cnJlbnRDb2xvclwiLz5cclxuICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtbWVkaXVtIG1yLTZcIj5UZXJqZW1haGFuPC9zcGFuPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImFic29sdXRlIHJpZ2h0LTIgdG9wLTIgdGV4dC1ncmF5LTUwMCBob3Zlcjp0ZXh0LWdyYXktNzAwXCIgb25jbGljaz1cInRoaXMucGFyZW50Tm9kZS5wYXJlbnROb2RlLnJlbW92ZSgpXCI+XHJcbiAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIxNFwiIGhlaWdodD1cIjE0XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj5cclxuICAgICAgICAgICAgICA8bGluZSB4MT1cIjE4XCIgeTE9XCI2XCIgeDI9XCI2XCIgeTI9XCIxOFwiPjwvbGluZT5cclxuICAgICAgICAgICAgICA8bGluZSB4MT1cIjZcIiB5MT1cIjZcIiB4Mj1cIjE4XCIgeTI9XCIxOFwiPjwvbGluZT5cclxuICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gd2hpdGVzcGFjZS1wcmUtd3JhcCBicmVhay13b3Jkc1wiPiR7dHJhbnNsYXRlZENvbnRlbnR9PC9wPlxyXG4gICAgICA8L2Rpdj5gO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBKaWthIHRpZGFrIGFkYSB0ZXJqZW1haGFuLCB0YW1waWxrYW4gcGVzYW4gYmlhc2FcclxuICAgIHJldHVybiBjb250ZW50XHJcbiAgICAgIC5yZXBsYWNlKC9cXG4vZywgJzxicj4nKVxyXG4gICAgICAucmVwbGFjZSgvYGBgKFteYF0qPylgYGAvZywgJzxwcmU+PGNvZGU+JDE8L2NvZGU+PC9wcmU+JylcclxuICAgICAgLnJlcGxhY2UoL2AoW15gXSo/KWAvZywgJzxjb2RlPiQxPC9jb2RlPicpO1xyXG4gIH07XHJcblxyXG4gIC8vIEhhbmRsZXIgdW50dWsgdG9tYm9sIGVudGVyXHJcbiAgY29uc3QgaGFuZGxlS2V5RG93biA9IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XHJcbiAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgJiYgIWUuc2hpZnRLZXkpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBoYW5kbGVTZW5kTWVzc2FnZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIFRhbXBpbGFuIHVudHVrIHBlc2FuLXBlc2FuIGNoYXRcclxuICBjb25zdCByZW5kZXJNZXNzYWdlcyA9ICgpID0+IHtcclxuICAgIHJldHVybiBtZXNzYWdlcy5tYXAoKG1zZywgaW5kZXgpID0+IChcclxuICAgICAgPGRpdiBcclxuICAgICAgICBrZXk9e2luZGV4fSBcclxuICAgICAgICBjbGFzc05hbWU9e2BmbGV4IG1iLTMgJHttc2cucm9sZSA9PT0gJ3VzZXInID8gJ2p1c3RpZnktZW5kJyA6ICdqdXN0aWZ5LXN0YXJ0J30gZ3JvdXAvbWVzc2FnZSB3LWZ1bGxgfVxyXG4gICAgICA+XHJcbiAgICAgICAgey8qIFRvbWJvbCBvcHNpIHVudHVrIHBlc2FuIHVzZXIgZGkgc2ViZWxhaCBraXJpIGJ1YmJsZSAqL31cclxuICAgICAgICB7bXNnLnJvbGUgPT09ICd1c2VyJyAmJiAoXHJcbiAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICBjbGFzc05hbWU9e2BzZWxmLWNlbnRlciBtci0yIHAtMiByb3VuZGVkLWZ1bGwgYmctZ3JheS0yMDAgaG92ZXI6YmctZ3JheS0zMDAgdGV4dC1ncmF5LTYwMCBcclxuICAgICAgICAgICAgICBvcGFjaXR5LTAgZ3JvdXAtaG92ZXIvbWVzc2FnZTpvcGFjaXR5LTEwMCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgc2hhZG93LXNtIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1wcmltYXJ5IGZvY3VzOnJpbmctb3BhY2l0eS01MGB9XHJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRvZ2dsZURyb3Bkb3duKGluZGV4KX1cclxuICAgICAgICAgICAgdGl0bGU9XCJPcHNpIHBlc2FuXCJcclxuICAgICAgICAgICAgYXJpYS1sYWJlbD1cIk9wc2kgcGVzYW5cIlxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8RmlNb3JlVmVydGljYWwgc2l6ZT17MTl9IC8+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICApfVxyXG4gICAgICAgIFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgcmVsYXRpdmUgJHttc2cucm9sZSA9PT0gJ3VzZXInID8gJ2ZsZXggZmxleC1jb2wgaXRlbXMtZW5kJyA6ICdmbGV4IGZsZXgtY29sIGl0ZW1zLXN0YXJ0J30gbWF4LXctWzc1JV1gfT5cclxuICAgICAgICAgIHsvKiBSZW5kZXJlZCByZXBseSBpZiBleGlzdHMgKi99XHJcbiAgICAgICAgICB7bXNnLnJlcGx5VG8gJiYgKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YG1iLTEgbWF4LXctZnVsbCBwLTIgYmctZ3JheS0xMDAgcm91bmRlZCB0ZXh0LXhzIHRleHQtZ3JheS02MDAgYm9yZGVyLWwtMiBib3JkZXItcHJpbWFyeWB9PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj5NZW1iYWxhczo8L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRydW5jYXRlXCI+e21zZy5yZXBseVRvLmNvbnRlbnR9PC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgPGRpdiBcclxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgcmVsYXRpdmUgZ3JvdXAgdy1mdWxsICR7XHJcbiAgICAgICAgICAgICAgbXNnLnJvbGUgPT09ICd1c2VyJyBcclxuICAgICAgICAgICAgICAgID8gJ2JnLXByaW1hcnkgdGV4dC13aGl0ZSByb3VuZGVkLWwtbGcgcm91bmRlZC10ci1sZyBzaGFkb3ctbWQnIFxyXG4gICAgICAgICAgICAgICAgOiAnYmctd2hpdGUgYm9yZGVyIHJvdW5kZWQtci1sZyByb3VuZGVkLXRsLWxnIHNoYWRvdy1zbSdcclxuICAgICAgICAgICAgfSBweC0zIHB5LTIgJHttYXJrZWRNZXNzYWdlcy5oYXMoaW5kZXgpID8gJ2JvcmRlci0yIGJvcmRlci15ZWxsb3ctNDAwJyA6ICcnfWB9XHJcbiAgICAgICAgICAgIHN0eWxlPXt7IFxyXG4gICAgICAgICAgICAgIHdvcmRCcmVhazogJ2JyZWFrLXdvcmQnXHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIHsvKiBNZXNzYWdlIG9wdGlvbiBidXR0b24gdW50dWsgcGVzYW4gQUkgKi99XHJcbiAgICAgICAgICAgIHttc2cucm9sZSAhPT0gJ3VzZXInICYmIChcclxuICAgICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgYWJzb2x1dGUgLXJpZ2h0LTEyIHRvcC0xLzIgdHJhbnNmb3JtIC10cmFuc2xhdGUteS0xLzIgcC0yIHJvdW5kZWQtZnVsbCBcclxuICAgICAgICAgICAgICAgICAgYmctZ3JheS0yMDAgaG92ZXI6YmctZ3JheS0zMDAgdGV4dC1ncmF5LTYwMCBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgXHJcbiAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBzaGFkb3ctc20gZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLXByaW1hcnkgZm9jdXM6cmluZy1vcGFjaXR5LTUwYH1cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRvZ2dsZURyb3Bkb3duKGluZGV4KX1cclxuICAgICAgICAgICAgICAgIHRpdGxlPVwiT3BzaSBwZXNhblwiXHJcbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiT3BzaSBwZXNhblwiXHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPEZpTW9yZVZlcnRpY2FsIHNpemU9ezE5fSAvPlxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgey8qIERyb3Bkb3duIG1lbnUgdW50dWsgcGVzYW4gKi99XHJcbiAgICAgICAgICAgIHthY3RpdmVEcm9wZG93biA9PT0gaW5kZXggJiYgKFxyXG4gICAgICAgICAgICAgIDxkaXYgXHJcbiAgICAgICAgICAgICAgICByZWY9e2Ryb3Bkb3duUmVmfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgYWJzb2x1dGUgJHttc2cucm9sZSA9PT0gJ3VzZXInID8gJ3JpZ2h0LWZ1bGwgbXItMycgOiAnbGVmdC1mdWxsIG1sLTMnfSB0b3AtMS8yIC10cmFuc2xhdGUteS0xLzIgYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3cteGwgei0yMCBvdmVyZmxvdy1oaWRkZW4gYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBtaW4tdy1bMjAwcHhdIGFuaW1hdGUtc2NhbGVJbmB9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgey8qIFBhbmFoIGluZGlrYXRvciBkcm9wZG93biBoYW55YSB1bnR1ayBwZXNhbiB1c2VyICovfVxyXG4gICAgICAgICAgICAgICAge21zZy5yb2xlID09PSAndXNlcicgJiYgKFxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC02IHJpZ2h0LVstNnB4XSB3LTMgaC0zIGJnLWdyYXktNTAgYm9yZGVyLXQgYm9yZGVyLXIgYm9yZGVyLWdyYXktMjAwIHRyYW5zZm9ybSByb3RhdGUtNDVcIlxyXG4gICAgICAgICAgICAgICAgICA+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktNTAgcHgtNCBweS0yLjUgYm9yZGVyLWIgYm9yZGVyLWdyYXktMjAwXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTUwMFwiPk9wc2kgUGVzYW48L3A+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweS0xXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlUmVwbHlNZXNzYWdlKGluZGV4LCBtc2cuY29udGVudCl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0zIHctZnVsbCB0ZXh0LWxlZnQgdGV4dC1zbSB0ZXh0LWdyYXktNzAwIGhvdmVyOmJnLWdyYXktNTAgZmxleCBpdGVtcy1jZW50ZXIgdHJhbnNpdGlvbi1jb2xvcnNcIlxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ibHVlLTUwIHAtMS41IHJvdW5kZWQtZnVsbCBtci0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8RmlDb3JuZXJEb3duTGVmdCBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNTAwXCIgc2l6ZT17MTV9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+QmFsYXM8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0b2dnbGVNYXJrTWVzc2FnZShpbmRleCl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0zIHctZnVsbCB0ZXh0LWxlZnQgdGV4dC1zbSB0ZXh0LWdyYXktNzAwIGhvdmVyOmJnLWdyYXktNTAgZmxleCBpdGVtcy1jZW50ZXIgdHJhbnNpdGlvbi1jb2xvcnNcIlxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake21hcmtlZE1lc3NhZ2VzLmhhcyhpbmRleCkgPyAnYmcteWVsbG93LTEwMCcgOiAnYmcteWVsbG93LTUwJ30gcC0xLjUgcm91bmRlZC1mdWxsIG1yLTNgfT5cclxuICAgICAgICAgICAgICAgICAgICAgIDxGaVN0YXIgY2xhc3NOYW1lPXtgJHttYXJrZWRNZXNzYWdlcy5oYXMoaW5kZXgpID8gJ3RleHQteWVsbG93LTUwMCcgOiAndGV4dC15ZWxsb3ctNDAwJ31gfSBzaXplPXsxNX0gLz5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj57bWFya2VkTWVzc2FnZXMuaGFzKGluZGV4KSA/ICdIYXB1cyBUYW5kYScgOiAnVGFuZGFpJ308L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0cmFuc2xhdGVNZXNzYWdlKG1zZy5jb250ZW50LCBpbmRleCl9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0zIHctZnVsbCB0ZXh0LWxlZnQgdGV4dC1zbSB0ZXh0LWdyYXktNzAwIGhvdmVyOmJnLWdyYXktNTAgZmxleCBpdGVtcy1jZW50ZXIgdHJhbnNpdGlvbi1jb2xvcnNcIlxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1pbmRpZ28tNTAgcC0xLjUgcm91bmRlZC1mdWxsIG1yLTNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidGV4dC1pbmRpZ28tNTAwXCIgd2lkdGg9XCIxNVwiIGhlaWdodD1cIjE1XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTEyLjg3IDE1LjA3TDEwLjMzIDEyLjU2TDEwLjM2IDEyLjUzQzEyLjEgMTAuNTkgMTMuMzQgOC4zNiAxNC4wNyA2SDE3VjRIMTBWMkg4VjRIMVY2SDEyLjE3QzExLjUgNy45MiAxMC40NCA5Ljc1IDkgMTEuMzVDOC4wNyAxMC4zMiA3LjMgOS4xOSA2LjY5IDhINC42OUM1LjQyIDkuNjMgNi40MiAxMS4xNyA3LjY3IDEyLjU2TDIuNTggMTcuNThMNCAxOUw5IDE0TDEyLjExIDE3LjExTDEyLjg3IDE1LjA3Wk0xOC41IDEwSDE2LjVMMTIgMjJIMTRMMTUuMTIgMTlIMTkuODdMMjEgMjJIMjNMMTguNSAxMFpNMTUuODggMTdMMTcuNSAxMi42N0wxOS4xMiAxN0gxNS44OFpcIiBmaWxsPVwiY3VycmVudENvbG9yXCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+e2lzVHJhbnNsYXRpbmcuZ2V0KGluZGV4KSA/ICdNZW5lcmplbWFoa2FuLi4uJyA6ICdUZXJqZW1haGthbid9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gY29weU1lc3NhZ2UobXNnLmNvbnRlbnQpfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMyB3LWZ1bGwgdGV4dC1sZWZ0IHRleHQtc20gdGV4dC1ncmF5LTcwMCBob3ZlcjpiZy1ncmF5LTUwIGZsZXggaXRlbXMtY2VudGVyIHRyYW5zaXRpb24tY29sb3JzXCJcclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctaW5kaWdvLTUwIHAtMS41IHJvdW5kZWQtZnVsbCBtci0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8RmlDb3B5IGNsYXNzTmFtZT1cInRleHQtaW5kaWdvLTUwMFwiIHNpemU9ezE1fSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPlNhbGluPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci10IGJvcmRlci1ncmF5LTIwMFwiPlxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGRlbGV0ZU1lc3NhZ2UoaW5kZXgpfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMyB3LWZ1bGwgdGV4dC1sZWZ0IHRleHQtc20gdGV4dC1yZWQtNjAwIGhvdmVyOmJnLXJlZC01MCBmbGV4IGl0ZW1zLWNlbnRlciB0cmFuc2l0aW9uLWNvbG9yc1wiXHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXJlZC01MCBwLTEuNSByb3VuZGVkLWZ1bGwgbXItM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPEZpVHJhc2gyIGNsYXNzTmFtZT1cInRleHQtcmVkLTUwMFwiIHNpemU9ezE1fSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPkhhcHVzPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgey8qIEtvbnRlbiBwZXNhbiAqL31cclxuICAgICAgICAgICAgPGRpdiBcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtZXNzYWdlLWNvbnRlbnQgd2hpdGVzcGFjZS1wcmUtd3JhcCBicmVhay13b3Jkc1wiXHJcbiAgICAgICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBmb3JtYXRNZXNzYWdlKG1zZy5jb250ZW50LCBtc2cudHJhbnNsYXRlZENvbnRlbnQpIH19XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB7LyogVGltZXN0YW1wIHVudHVrIHBlc2FuICovfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YG10LTEgdGV4dC14cyAke21zZy5yb2xlID09PSAndXNlcicgPyAndGV4dC13aGl0ZSB0ZXh0LW9wYWNpdHktNzAgdGV4dC1yaWdodCcgOiAndGV4dC1ncmF5LTUwMCd9YH0+XHJcbiAgICAgICAgICAgICAge21zZy5yb2xlID09PSAnYXNzaXN0YW50JyA/ICdBSScgOiAnQW5kYSd9IOKAoiBTYWF0IGluaVxyXG4gICAgICAgICAgICAgIHttYXJrZWRNZXNzYWdlcy5oYXMoaW5kZXgpICYmIChcclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTEgaW5saW5lLWZsZXggaXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxGaVN0YXIgY2xhc3NOYW1lPVwidGV4dC15ZWxsb3ctNDAwXCIgLz5cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICkpO1xyXG4gIH07XHJcblxyXG4gIGlmIChpc0VtYmVkZGVkKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaC1mdWxsIG92ZXJmbG93LXZpc2libGVcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYWRpZW50LXRvLXIgZnJvbS1wcmltYXJ5IHZpYS1wcmltYXJ5IHRvLXByaW1hcnktZGFyayBwLTMgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHRleHQtd2hpdGUgdy1mdWxsIG5hdmJhci1uby1yYWRpdXNcIlxyXG4gICAgICAgICAgc3R5bGU9e3sgXHJcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzBweCcsIFxyXG4gICAgICAgICAgICBvdmVyZmxvdzogJ3Zpc2libGUnXHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgID5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cclxuICAgICAgICAgICAgPEZpTWVzc2FnZVNxdWFyZSBjbGFzc05hbWU9XCJtci0yXCIgc2l6ZT17MTh9IC8+XHJcbiAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LWJhc2UgZm9udC1tZWRpdW1cIj5BSSBBc3Npc3RhbnQgQ2hhdDwvaDI+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtZ3JvdyBvdmVyZmxvdy15LWF1dG8gcC00XCIgc3R5bGU9e3tcclxuICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogYHVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0Nzdmcgd2lkdGg9JzEwMCcgaGVpZ2h0PScxMDAnIHZpZXdCb3g9JzAgMCAxMDAgMTAwJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnJTNFJTNDcGF0aCBkPSdNMTEgMThjMy44NjYgMCA3LTMuMTM0IDctN3MtMy4xMzQtNy03LTctNyAzLjEzNC03IDcgMy4xMzQgNyA3IDd6bTQ4IDI1YzMuODY2IDAgNy0zLjEzNCA3LTdzLTMuMTM0LTctNy03LTcgMy4xMzQtNyA3IDMuMTM0IDcgNyA3em0tNDMtN2MxLjY1NyAwIDMtMS4zNDMgMy0zcy0xLjM0My0zLTMtMy0zIDEuMzQzLTMgMyAxLjM0MyAzIDMgM3ptNjMgMzFjMS42NTcgMCAzLTEuMzQzIDMtM3MtMS4zNDMtMy0zLTMtMyAxLjM0My0zIDMgMS4zNDMgMyAzIDN6TTM0IDkwYzEuNjU3IDAgMy0xLjM0MyAzLTNzLTEuMzQzLTMtMy0zLTMgMS4zNDMtMyAzIDEuMzQzIDMgMyAzem01Ni03NmMxLjY1NyAwIDMtMS4zNDMgMy0zcy0xLjM0My0zLTMtMy0zIDEuMzQzLTMgMyAxLjM0MyAzIDMgM3pNMTIgODZjMi4yMSAwIDQtMS43OSA0LTRzLTEuNzktNC00LTQtNCAxLjc5LTQgNCAxLjc5IDQgNCA0em0yOC02NWMyLjIxIDAgNC0xLjc5IDQtNHMtMS43OS00LTQtNC00IDEuNzktNCA0IDEuNzkgNCA0IDR6bTIzLTExYzIuNzYgMCA1LTIuMjQgNS01cy0yLjI0LTUtNS01LTUgMi4yNC01IDUgMi4yNCA1IDUgNXptLTYgNjBjMi4yMSAwIDQtMS43OSA0LTRzLTEuNzktNC00LTQtNCAxLjc5LTQgNCAxLjc5IDQgNCA0em0yOSAyMmMyLjc2IDAgNS0yLjI0IDUtNXMtMi4yNC01LTUtNS01IDIuMjQtNSA1IDIuMjQgNSA1IDV6TTMyIDYzYzIuNzYgMCA1LTIuMjQgNS01cy0yLjI0LTUtNS01LTUgMi4yNC01IDUgMi4yNCA1IDUgNXptNTctMTNjMi43NiAwIDUtMi4yNCA1LTVzLTIuMjQtNS01LTUtNSAyLjI0LTUgNSAyLjI0IDUgNSA1em0tOS0yMWMxLjEwNSAwIDItLjg5NSAyLTJzLS44OTUtMi0yLTItMiAuODk1LTIgMiAuODk1IDIgMiAyek02MCA5MWMxLjEwNSAwIDItLjg5NSAyLTJzLS44OTUtMi0yLTItMiAuODk1LTIgMiAuODk1IDIgMiAyek0zNSA0MWMxLjEwNSAwIDItLjg5NSAyLTJzLS44OTUtMi0yLTItMiAuODk1LTIgMiAuODk1IDIgMiAyek0xMiA2MGMxLjEwNSAwIDItLjg5NSAyLTJzLS44OTUtMi0yLTItMiAuODk1LTIgMiAuODk1IDIgMiAyeicgZmlsbD0nJTIzYWFhYWFhJyBmaWxsLW9wYWNpdHk9JzAuMDUnIGZpbGwtcnVsZT0nZXZlbm9kZCcvJTNFJTNDL3N2ZyUzRVwiKWAsXHJcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZTZlMGQ0J1xyXG4gICAgICAgIH19PlxyXG4gICAgICAgICAge21lc3NhZ2VzLmxlbmd0aCA9PT0gMCA/IChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBoLWZ1bGwgdGV4dC1ncmF5LTUwMFwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgIDxGaU1lc3NhZ2VTcXVhcmUgc2l6ZT17NjB9IGNsYXNzTmFtZT1cIm14LWF1dG8gbWItNCB0ZXh0LXByaW1hcnlcIiAvPlxyXG4gICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1tZWRpdW0gbWItMlwiPlNlbGFtYXQgZGF0YW5nIGRpIEFJIEFzc2lzdGFudDwvaDM+XHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtYXgtdy1tZFwiPlxyXG4gICAgICAgICAgICAgICAgICBNdWxhaSBwZXJjYWthcGFuIGRlbmdhbiBhc2lzdGVuIEFJIHVudHVrIG1lbmRhcGF0a2FuIGJhbnR1YW4sIGphd2FiYW4gcGVydGFueWFhbiwgYXRhdSBzZWthZGFyIG5nb2Jyb2wuXHJcbiAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIG10LTRcIj5cclxuICAgICAgICAgICAgICAgICAgTW9kZWw6IDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+UXdlbiAzPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XHJcbiAgICAgICAgICAgICAge3JlbmRlck1lc3NhZ2VzKCl9XHJcbiAgICAgICAgICAgICAge2lzTG9hZGluZyAmJiAoXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1jZW50ZXIgbXktNFwiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC02IHctNiBib3JkZXItYi0yIGJvcmRlci1wcmltYXJ5XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgIDxkaXYgcmVmPXttZXNzYWdlc0VuZFJlZn0gLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLXQgcC00IGJnLXdoaXRlXCI+XHJcbiAgICAgICAgICB7LyogUmVwbHkgaW5kaWNhdG9yICovfVxyXG4gICAgICAgICAge3JlcGx5aW5nVG8gJiYgKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTIgcC0yIGJnLWdyYXktMTAwIHJvdW5kZWQtbGcgZmxleCBpdGVtcy1jZW50ZXIgc2hhZG93LXNtIGFuaW1hdGUtc2NhbGVJblwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG1pbi13LTAgbXItMlwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LXhzIHRleHQtZ3JheS01MDAgbWItMVwiPlxyXG4gICAgICAgICAgICAgICAgICA8RmlDb3JuZXJEb3duTGVmdCBjbGFzc05hbWU9XCJtci0xIGZsZXgtc2hyaW5rLTBcIiBzaXplPXsxMn0gLz5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4+TWVtYmFsYXMgcGVzYW48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTcwMCB0cnVuY2F0ZVwiPntyZXBseWluZ1RvLmNvbnRlbnR9PC9wPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtjYW5jZWxSZXBseX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1sLWF1dG8gZmxleC1zaHJpbmstMCB0ZXh0LWdyYXktNTAwIGhvdmVyOnRleHQtZ3JheS03MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxGaVggc2l6ZT17MTZ9IC8+XHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVNlbmRNZXNzYWdlfSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dFbW9qaVBpY2tlcighc2hvd0Vtb2ppUGlja2VyKX1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIHAtMiByb3VuZGVkLWZ1bGwgaG92ZXI6YmctZ3JheS0xMDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPEZpU21pbGUgc2l6ZT17MjB9IC8+XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBmbGV4LTEgbXgtMlwiPlxyXG4gICAgICAgICAgICAgIHtzaG93RW1vamlQaWNrZXIgJiYgKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBcclxuICAgICAgICAgICAgICAgICAgcmVmPXtlbW9qaVBpY2tlclJlZn1cclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTIwIHJpZ2h0LTkwIHotMTAgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBzaGFkb3ctbGcgcm91bmRlZC1sZyBvdmVyZmxvdy1oaWRkZW4gYW5pbWF0ZS1zY2FsZUluXCJcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgPEVtb2ppUGlja2VyXHJcbiAgICAgICAgICAgICAgICAgICAgb25FbW9qaUNsaWNrPXsoZW1vamlEYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBzZXRNZXNzYWdlKChwcmV2KSA9PiBwcmV2ICsgZW1vamlEYXRhLmVtb2ppKTtcclxuICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dFbW9qaVBpY2tlcihmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXRSZWYuY3VycmVudCkgaW5wdXRSZWYuY3VycmVudC5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoUGxhY2VIb2xkZXI9XCJDYXJpIGVtb2ppLi4uXCJcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aD17MzIwfVxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodD17MzUwfVxyXG4gICAgICAgICAgICAgICAgICAgIHByZXZpZXdDb25maWc9e3tcclxuICAgICAgICAgICAgICAgICAgICAgIHNob3dQcmV2aWV3OiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgcmVmPXtpbnB1dFJlZn1cclxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgIHZhbHVlPXttZXNzYWdlfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRNZXNzYWdlKGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICAgIG9uS2V5RG93bj17aGFuZGxlS2V5RG93bn1cclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiS2V0aWsgcGVzYW4uLi5cIlxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB5LTIgcHgtNCBiZy1ncmF5LTEwMCByb3VuZGVkLWZ1bGwgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLXByaW1hcnkgZm9jdXM6cmluZy1vcGFjaXR5LTUwIHRyYW5zaXRpb24tYWxsXCJcclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcclxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nIHx8ICFtZXNzYWdlLnRyaW0oKX1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2BwLTIgcm91bmRlZC1mdWxsICR7XHJcbiAgICAgICAgICAgICAgICBpc0xvYWRpbmcgfHwgIW1lc3NhZ2UudHJpbSgpIFxyXG4gICAgICAgICAgICAgICAgICA/ICdiZy1ncmF5LTIwMCB0ZXh0LWdyYXktNDAwIGN1cnNvci1ub3QtYWxsb3dlZCcgXHJcbiAgICAgICAgICAgICAgICAgIDogJ2JnLXByaW1hcnkgdGV4dC13aGl0ZSBob3ZlcjpiZy1wcmltYXJ5LWRhcmsgdHJhbnNpdGlvbi1jb2xvcnMgc2hhZG93LXNtJ1xyXG4gICAgICAgICAgICAgIH1gfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAge2lzTG9hZGluZyA/IDxGaUxvYWRlciBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW5cIiAvPiA6IDxGaVNlbmQgLz59XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgICAge2Vycm9yICYmIDxwIGNsYXNzTmFtZT1cInRleHQtcmVkLTUwMCB0ZXh0LXNtIG10LTJcIj57ZXJyb3J9PC9wPn1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8gVGFtcGlsYW4gZGVmYXVsdCBtb2RhbFxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT17YGZpeGVkIGluc2V0LTAgei01MCAke2lzT3BlbiA/ICdmbGV4JyA6ICdoaWRkZW4nfSBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC00IGJnLWJsYWNrIGJnLW9wYWNpdHktNTAgb3ZlcmZsb3ctaGlkZGVuYH0+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIG1heC13LTN4bCBoLVs5MHZoXSBiZy13aGl0ZSBvdmVyZmxvdy1oaWRkZW4gc2hhZG93LTJ4bCBmbGV4IGZsZXgtY29sIGFuaW1hdGUtc2NhbGVJbiBuYXZiYXItbm8tcmFkaXVzXCIgc3R5bGU9e3sgYm9yZGVyUmFkaXVzOiAnMHB4JyB9fT5cclxuICAgICAgICB7LyogSGVhZGVyIGRlbmdhbiBwZW5naGFwdXNhbiBsZW5na3VuZ2FuIHlhbmcgZWtzcGxpc2l0ICovfVxyXG4gICAgICAgIDxkaXYgXHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ncmFkaWVudC10by1yIGZyb20tcHJpbWFyeSB2aWEtcHJpbWFyeSB0by1wcmltYXJ5LWRhcmsgcC00IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB0ZXh0LXdoaXRlIHctZnVsbCBuYXZiYXItbm8tcmFkaXVzXCIgXHJcbiAgICAgICAgICBzdHlsZT17eyBcclxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnMHB4JywgXHJcbiAgICAgICAgICAgIG92ZXJmbG93OiAndmlzaWJsZSdcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICA8RmlNZXNzYWdlU3F1YXJlIGNsYXNzTmFtZT1cIm1yLTJcIiBzaXplPXsyMH0gLz5cclxuICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1tZWRpdW1cIj5BSSBBc3Npc3RhbnQgQ2hhdDwvaDI+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xvc2V9XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMS41IGhvdmVyOmJnLXdoaXRlLzEwIHJvdW5kZWQgZm9jdXM6b3V0bGluZS1ub25lXCJcclxuICAgICAgICAgICAgYXJpYS1sYWJlbD1cIlR1dHVwXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPEZpWCBzaXplPXsyNH0gLz5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICB7LyogQ2hhdCBDb250YWluZXIgKi99XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LWdyb3cgb3ZlcmZsb3cteS1hdXRvIHAtNFwiIHN0eWxlPXt7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHdpZHRoPScxMDAnIGhlaWdodD0nMTAwJyB2aWV3Qm94PScwIDAgMTAwIDEwMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyUzRSUzQ3BhdGggZD0nTTExIDE4YzMuODY2IDAgNy0zLjEzNCA3LTdzLTMuMTM0LTctNy03LTcgMy4xMzQtNyA3IDMuMTM0IDcgNyA3em00OCAyNWMzLjg2NiAwIDctMy4xMzQgNy03cy0zLjEzNC03LTctNy03IDMuMTM0LTcgNyAzLjEzNCA3IDcgN3ptLTQzLTdjMS42NTcgMCAzLTEuMzQzIDMtM3MtMS4zNDMtMy0zLTMtMyAxLjM0My0zIDMgMS4zNDMgMyAzIDN6bTYzIDMxYzEuNjU3IDAgMy0xLjM0MyAzLTNzLTEuMzQzLTMtMy0zLTMgMS4zNDMtMyAzIDEuMzQzIDMgMyAzek0zNCA5MGMxLjY1NyAwIDMtMS4zNDMgMy0zcy0xLjM0My0zLTMtMy0zIDEuMzQzLTMgMyAxLjM0MyAzIDMgM3ptNTYtNzZjMS42NTcgMCAzLTEuMzQzIDMtM3MtMS4zNDMtMy0zLTMtMyAxLjM0My0zIDMgMS4zNDMgMyAzIDN6TTEyIDg2YzIuMjEgMCA0LTEuNzkgNC00cy0xLjc5LTQtNC00LTQgMS43OS00IDQgMS43OSA0IDQgNHptMjgtNjVjMi4yMSAwIDQtMS43OSA0LTRzLTEuNzktNC00LTQtNCAxLjc5LTQgNCAxLjc5IDQgNCA0em0yMy0xMWMyLjc2IDAgNS0yLjI0IDUtNXMtMi4yNC01LTUtNS01IDIuMjQtNSA1IDIuMjQgNSA1IDV6bS02IDYwYzIuMjEgMCA0LTEuNzkgNC00cy0xLjc5LTQtNC00LTQgMS43OS00IDQgMS43OSA0IDQgNHptMjkgMjJjMi43NiAwIDUtMi4yNCA1LTVzLTIuMjQtNS01LTUtNSAyLjI0LTUgNSAyLjI0IDUgNSA1ek0zMiA2M2MyLjc2IDAgNS0yLjI0IDUtNXMtMi4yNC01LTUtNS01IDIuMjQtNSA1IDIuMjQgNSA1IDV6bTU3LTEzYzIuNzYgMCA1LTIuMjQgNS01cy0yLjI0LTUtNS01LTUgMi4yNC01IDUgMi4yNCA1IDUgNXptLTktMjFjMS4xMDUgMCAyLS44OTUgMi0ycy0uODk1LTItMi0yLTIgLjg5NS0yIDIgLjg5NSAyIDIgMnpNNjAgOTFjMS4xMDUgMCAyLS44OTUgMi0ycy0uODk1LTItMi0yLTIgLjg5NS0yIDIgLjg5NSAyIDIgMnpNMzUgNDFjMS4xMDUgMCAyLS44OTUgMi0ycy0uODk1LTItMi0yLTIgLjg5NS0yIDIgLjg5NSAyIDIgMnpNMTIgNjBjMS4xMDUgMCAyLS44OTUgMi0ycy0uODk1LTItMi0yLTIgLjg5NS0yIDIgLjg5NSAyIDIgMnonIGZpbGw9JyUyM2FhYWFhYScgZmlsbC1vcGFjaXR5PScwLjA1JyBmaWxsLXJ1bGU9J2V2ZW5vZGQnLyUzRSUzQy9zdmclM0VcIilgLFxyXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2U2ZTBkNCdcclxuICAgICAgICB9fT5cclxuICAgICAgICAgIHttZXNzYWdlcy5sZW5ndGggPT09IDAgPyAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgaC1mdWxsIHRleHQtZ3JheS01MDBcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHAtOCBiZy13aGl0ZS84MCBiYWNrZHJvcC1ibHVyLXNtIHJvdW5kZWQteGwgc2hhZG93LXNtIG1heC13LXhsXCI+XHJcbiAgICAgICAgICAgICAgICA8RmlNZXNzYWdlU3F1YXJlIHNpemU9ezYwfSBjbGFzc05hbWU9XCJteC1hdXRvIG1iLTQgdGV4dC1wcmltYXJ5XCIgLz5cclxuICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtbWVkaXVtIG1iLTJcIj5TZWxhbWF0IGRhdGFuZyBkaSBBSSBBc3Npc3RhbnQ8L2gzPlxyXG4gICAgICAgICAgICAgICAgPHA+XHJcbiAgICAgICAgICAgICAgICAgIE11bGFpIHBlcmNha2FwYW4gZGVuZ2FuIGFzaXN0ZW4gQUkgdW50dWsgbWVuZGFwYXRrYW4gYmFudHVhbiwgamF3YWJhbiBwZXJ0YW55YWFuLCBhdGF1IHNla2FkYXIgbmdvYnJvbC5cclxuICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gbXQtNFwiPlxyXG4gICAgICAgICAgICAgICAgICBNb2RlbDogPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj57Z2V0TW9kZWxEaXNwbGF5TmFtZShtb2RlbCl9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XHJcbiAgICAgICAgICAgICAge3JlbmRlck1lc3NhZ2VzKCl9XHJcbiAgICAgICAgICAgICAge2lzTG9hZGluZyAmJiAoXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1jZW50ZXIgbXktNFwiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC02IHctNiBib3JkZXItYi0yIGJvcmRlci1wcmltYXJ5XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgIDxkaXYgcmVmPXttZXNzYWdlc0VuZFJlZn0gLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIFxyXG4gICAgICAgIHsvKiBJbnB1dCBBcmVhICovfVxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLXQgcC00XCI+XHJcbiAgICAgICAgICB7LyogUmVwbHkgaW5kaWNhdG9yICovfVxyXG4gICAgICAgICAge3JlcGx5aW5nVG8gJiYgKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTIgcC0yIGJnLWdyYXktMTAwIHJvdW5kZWQtbGcgZmxleCBpdGVtcy1jZW50ZXIgc2hhZG93LXNtIGFuaW1hdGUtc2NhbGVJblwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG1pbi13LTAgbXItMlwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LXhzIHRleHQtZ3JheS01MDAgbWItMVwiPlxyXG4gICAgICAgICAgICAgICAgICA8RmlDb3JuZXJEb3duTGVmdCBjbGFzc05hbWU9XCJtci0xIGZsZXgtc2hyaW5rLTBcIiBzaXplPXsxMn0gLz5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4+TWVtYmFsYXMgcGVzYW48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTcwMCB0cnVuY2F0ZVwiPntyZXBseWluZ1RvLmNvbnRlbnR9PC9wPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtjYW5jZWxSZXBseX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1sLWF1dG8gZmxleC1zaHJpbmstMCB0ZXh0LWdyYXktNTAwIGhvdmVyOnRleHQtZ3JheS03MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxGaVggc2l6ZT17MTZ9IC8+XHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVNlbmRNZXNzYWdlfSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dFbW9qaVBpY2tlcighc2hvd0Vtb2ppUGlja2VyKX1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIHAtMiByb3VuZGVkLWZ1bGwgaG92ZXI6YmctZ3JheS0xMDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPEZpU21pbGUgc2l6ZT17MjB9IC8+XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBmbGV4LTEgbXgtMlwiPlxyXG4gICAgICAgICAgICAgIHtzaG93RW1vamlQaWNrZXIgJiYgKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBcclxuICAgICAgICAgICAgICAgICAgcmVmPXtlbW9qaVBpY2tlclJlZn1cclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTIwIHJpZ2h0LTkwIHotMTAgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBzaGFkb3ctbGcgcm91bmRlZC1sZyBvdmVyZmxvdy1oaWRkZW4gYW5pbWF0ZS1zY2FsZUluXCJcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgPEVtb2ppUGlja2VyXHJcbiAgICAgICAgICAgICAgICAgICAgb25FbW9qaUNsaWNrPXsoZW1vamlEYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBzZXRNZXNzYWdlKChwcmV2KSA9PiBwcmV2ICsgZW1vamlEYXRhLmVtb2ppKTtcclxuICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dFbW9qaVBpY2tlcihmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXRSZWYuY3VycmVudCkgaW5wdXRSZWYuY3VycmVudC5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoUGxhY2VIb2xkZXI9XCJDYXJpIGVtb2ppLi4uXCJcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aD17MzIwfVxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodD17MzUwfVxyXG4gICAgICAgICAgICAgICAgICAgIHByZXZpZXdDb25maWc9e3tcclxuICAgICAgICAgICAgICAgICAgICAgIHNob3dQcmV2aWV3OiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgcmVmPXtpbnB1dFJlZn1cclxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgIHZhbHVlPXttZXNzYWdlfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRNZXNzYWdlKGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICAgIG9uS2V5RG93bj17aGFuZGxlS2V5RG93bn1cclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiS2V0aWsgcGVzYW4ga2UgQUkgQXNzaXN0YW50Li4uXCJcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweS0yIHB4LTQgYmctZ3JheS0xMDAgcm91bmRlZC1mdWxsIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1wcmltYXJ5IGZvY3VzOnJpbmctb3BhY2l0eS01MCB0cmFuc2l0aW9uLWFsbFwiXHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiXHJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZyB8fCAhbWVzc2FnZS50cmltKCl9XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcC0yIHJvdW5kZWQtZnVsbCAke1xyXG4gICAgICAgICAgICAgICAgaXNMb2FkaW5nIHx8ICFtZXNzYWdlLnRyaW0oKSBcclxuICAgICAgICAgICAgICAgICAgPyAnYmctZ3JheS0yMDAgdGV4dC1ncmF5LTQwMCBjdXJzb3Itbm90LWFsbG93ZWQnIFxyXG4gICAgICAgICAgICAgICAgICA6ICdiZy1wcmltYXJ5IHRleHQtd2hpdGUgaG92ZXI6YmctcHJpbWFyeS1kYXJrIHRyYW5zaXRpb24tY29sb3JzIHNoYWRvdy1zbSdcclxuICAgICAgICAgICAgICB9YH1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIHtpc0xvYWRpbmcgPyA8RmlMb2FkZXIgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluXCIgLz4gOiA8RmlTZW5kIC8+fVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDwvZm9ybT5cclxuICAgICAgICAgIHtlcnJvciAmJiA8cCBjbGFzc05hbWU9XCJ0ZXh0LXJlZC01MDAgdGV4dC1zbSBtdC0yXCI+e2Vycm9yfTwvcD59XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufSAiXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJGaVNlbmQiLCJGaVgiLCJGaU1lc3NhZ2VTcXVhcmUiLCJGaUxvYWRlciIsIkZpTW9yZVZlcnRpY2FsIiwiRmlDb3B5IiwiRmlUcmFzaDIiLCJGaVNtaWxlIiwiRmlTdGFyIiwiRmlDb3JuZXJEb3duTGVmdCIsIkRFRkFVTFRfTU9ERUwiLCJnZXRNb2RlbERpc3BsYXlOYW1lIiwiRW1vamlQaWNrZXIiLCJ1c2VBSUNvbmZpZyIsInRyYW5zbGF0ZVRleHQiLCJBSUNoYXRNb2RhbCIsImlzT3BlbiIsIm9uQ2xvc2UiLCJjdXN0b21JbnN0cnVjdGlvbnMiLCJtb2RlbCIsImRlZmF1bHRMYW5ndWFnZSIsImlzRW1iZWRkZWQiLCJtZXNzYWdlIiwic2V0TWVzc2FnZSIsIm1lc3NhZ2VzIiwic2V0TWVzc2FnZXMiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwibWVzc2FnZXNFbmRSZWYiLCJpbnB1dFJlZiIsImFjdGl2ZURyb3Bkb3duIiwic2V0QWN0aXZlRHJvcGRvd24iLCJkcm9wZG93blJlZiIsInNob3dFbW9qaVBpY2tlciIsInNldFNob3dFbW9qaVBpY2tlciIsImVtb2ppUGlja2VyUmVmIiwibWFya2VkTWVzc2FnZXMiLCJzZXRNYXJrZWRNZXNzYWdlcyIsIlNldCIsInJlcGx5aW5nVG8iLCJzZXRSZXBseWluZ1RvIiwidHJhbnNsYXRlZE1lc3NhZ2VzIiwic2V0VHJhbnNsYXRlZE1lc3NhZ2VzIiwiTWFwIiwiaXNUcmFuc2xhdGluZyIsInNldElzVHJhbnNsYXRpbmciLCJhaUNvbmZpZyIsImN1cnJlbnQiLCJmb2N1cyIsImhhbmRsZUNsaWNrT3V0c2lkZSIsImV2ZW50IiwiY29udGFpbnMiLCJ0YXJnZXQiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2Nyb2xsSW50b1ZpZXciLCJiZWhhdmlvciIsInRvZ2dsZURyb3Bkb3duIiwiaW5kZXgiLCJjb3B5TWVzc2FnZSIsImNvbnRlbnQiLCJuYXZpZ2F0b3IiLCJjbGlwYm9hcmQiLCJ3cml0ZVRleHQiLCJ0aGVuIiwiYWxlcnQiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJkZWxldGVNZXNzYWdlIiwicHJldiIsIm5ld01lc3NhZ2VzIiwic3BsaWNlIiwidG9nZ2xlTWFya01lc3NhZ2UiLCJuZXdNYXJrZWQiLCJoYXMiLCJkZWxldGUiLCJhZGQiLCJoYW5kbGVSZXBseU1lc3NhZ2UiLCJjYW5jZWxSZXBseSIsInRyYW5zbGF0ZU1lc3NhZ2UiLCJnZXQiLCJuZXdUcmFuc2xhdGluZ1N0YXR1cyIsInNldCIsImxvZyIsInRyYW5zbGF0ZUxhbmd1YWdlIiwidGFyZ2V0TGFuZyIsInJlc3VsdCIsInRyYW5zbGF0ZWRUZXh0IiwibmV3VHJhbnNsYXRlZE1lc3NhZ2VzIiwidXBkYXRlZE1lc3NhZ2VzIiwidHJhbnNsYXRlZENvbnRlbnQiLCJFcnJvciIsInRyYW5zbGF0ZUVycm9yIiwic2V0VGltZW91dCIsImhhbmRsZVNlbmRNZXNzYWdlIiwiZSIsInByZXZlbnREZWZhdWx0IiwidHJpbSIsInVzZXJNZXNzYWdlIiwicm9sZSIsInJlcGx5VG8iLCJzdWJzdHJpbmciLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJmaW5hbEluc3RydWN0aW9ucyIsImluY2x1ZGVzIiwibGFuZ3VhZ2VNYXAiLCJsYW5ndWFnZU5hbWUiLCJNQVhfUkVUUklFUyIsInJldHJpZXMiLCJzdWNjZXNzIiwiZXJyb3JNc2ciLCJkZWxheU1zIiwiTWF0aCIsIm1pbiIsInBvdyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNhY2hlIiwib2siLCJzdGF0dXMiLCJlcnJvclRleHQiLCJ0ZXh0IiwiZXJyb3JEYXRhIiwicGFyc2UiLCJzdGF0dXNUZXh0IiwiZGF0YSIsImpzb24iLCJyZXNwb25zZUNvbnRlbnQiLCJyZXNwb25zZVJvbGUiLCJjaG9pY2VzIiwiYWlNZXNzYWdlIiwiZmFsbGJhY2tNZXNzYWdlIiwiZXJyb3JNZXNzYWdlIiwiZm9ybWF0TWVzc2FnZSIsInJlcGxhY2UiLCJoYW5kbGVLZXlEb3duIiwia2V5Iiwic2hpZnRLZXkiLCJyZW5kZXJNZXNzYWdlcyIsIm1hcCIsIm1zZyIsImRpdiIsImNsYXNzTmFtZSIsImJ1dHRvbiIsIm9uQ2xpY2siLCJ0aXRsZSIsImFyaWEtbGFiZWwiLCJzaXplIiwic3R5bGUiLCJ3b3JkQnJlYWsiLCJyZWYiLCJwIiwic3BhbiIsInN2ZyIsIndpZHRoIiwiaGVpZ2h0Iiwidmlld0JveCIsImZpbGwiLCJ4bWxucyIsInBhdGgiLCJkIiwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiLCJfX2h0bWwiLCJib3JkZXJSYWRpdXMiLCJvdmVyZmxvdyIsImgyIiwiYmFja2dyb3VuZEltYWdlIiwiYmFja2dyb3VuZENvbG9yIiwiaDMiLCJmb3JtIiwib25TdWJtaXQiLCJ0eXBlIiwib25FbW9qaUNsaWNrIiwiZW1vamlEYXRhIiwiZW1vamkiLCJzZWFyY2hQbGFjZUhvbGRlciIsInByZXZpZXdDb25maWciLCJzaG93UHJldmlldyIsImlucHV0IiwidmFsdWUiLCJvbkNoYW5nZSIsIm9uS2V5RG93biIsInBsYWNlaG9sZGVyIiwiZGlzYWJsZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/components/AIChatModal.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/AISettingsModal.tsx":
/*!********************************************!*\
  !*** ./src/components/AISettingsModal.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AISettingsModal)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_FiSave_FiSettings_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=FiSave,FiSettings,FiX!=!react-icons/fi */ \"(ssr)/./node_modules/react-icons/fi/index.esm.js\");\n/* harmony import */ var _lib_qwen__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/qwen */ \"(ssr)/./src/lib/qwen.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n// Daftar bahasa yang didukung\nconst SUPPORTED_LANGUAGES = [\n    {\n        code: \"id\",\n        name: \"Indonesia\"\n    },\n    {\n        code: \"en\",\n        name: \"Inggris\"\n    },\n    {\n        code: \"jw\",\n        name: \"Jawa\"\n    },\n    {\n        code: \"ja\",\n        name: \"Jepang\"\n    },\n    {\n        code: \"ko\",\n        name: \"Korea\"\n    },\n    {\n        code: \"zh\",\n        name: \"Mandarin\"\n    },\n    {\n        code: \"ar\",\n        name: \"Arab\"\n    },\n    {\n        code: \"es\",\n        name: \"Spanyol\"\n    },\n    {\n        code: \"fr\",\n        name: \"Prancis\"\n    },\n    {\n        code: \"de\",\n        name: \"Jerman\"\n    },\n    {\n        code: \"ru\",\n        name: \"Rusia\"\n    }\n];\n// Daftar model yang didukung\nconst SUPPORTED_MODELS = [\n    {\n        id: \"qwen/qwen1.5-32b-chat\",\n        name: \"Qwen 1.5 32B\",\n        available: true\n    },\n    {\n        id: \"qwen/qwen3-32b:free\",\n        name: \"Qwen 3 32B\",\n        available: true\n    }\n];\nfunction AISettingsModal({ isOpen, onClose, config, onSave }) {\n    // State untuk konfigurasi lokal\n    const [localConfig, setLocalConfig] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        defaultLanguage: \"id\",\n        customInstructions: \"\",\n        model: \"qwen/qwen3-32b:free\",\n        translateLanguage: \"en\",\n        autoTranslate: false\n    });\n    // Set konfigurasi dari prop saat modal dibuka\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen && config) {\n            setLocalConfig({\n                ...config,\n                // Pastikan nilai default jika tidak ada\n                defaultLanguage: config.defaultLanguage || \"id\",\n                model: config.model || \"qwen/qwen3-32b:free\",\n                translateLanguage: config.translateLanguage || \"en\",\n                autoTranslate: config.autoTranslate || false\n            });\n        }\n    }, [\n        isOpen,\n        config\n    ]);\n    // Handle perubahan bahasa default\n    const handleLanguageChange = (e)=>{\n        setLocalConfig({\n            ...localConfig,\n            defaultLanguage: e.target.value\n        });\n    };\n    // Handle perubahan instruksi kustom\n    const handleCustomInstructionsChange = (e)=>{\n        setLocalConfig({\n            ...localConfig,\n            customInstructions: e.target.value\n        });\n    };\n    // Handle perubahan model\n    const handleModelChange = (e)=>{\n        setLocalConfig({\n            ...localConfig,\n            model: e.target.value\n        });\n    };\n    // Handle simpan pengaturan\n    const handleSave = ()=>{\n        onSave(localConfig);\n        onClose();\n    };\n    if (!isOpen) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-white rounded-lg w-full max-w-lg flex flex-col overflow-hidden\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center justify-between p-4 border-b border-gray-200 bg-primary text-white\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-xl font-semibold flex items-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiSave_FiSettings_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_3__.FiSettings, {\n                                    className: \"mr-2\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AISettingsModal.tsx\",\n                                    lineNumber: 103,\n                                    columnNumber: 13\n                                }, this),\n                                \"Pengaturan AI\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AISettingsModal.tsx\",\n                            lineNumber: 102,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onClose,\n                            className: \"text-white hover:bg-white hover:bg-opacity-20 p-1 rounded-full\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiSave_FiSettings_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_3__.FiX, {\n                                size: 20\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AISettingsModal.tsx\",\n                                lineNumber: 110,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AISettingsModal.tsx\",\n                            lineNumber: 106,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AISettingsModal.tsx\",\n                    lineNumber: 101,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-4 overflow-y-auto\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"block text-sm font-medium text-gray-700 mb-2\",\n                                    children: \"Model AI\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AISettingsModal.tsx\",\n                                    lineNumber: 118,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                    value: localConfig.model,\n                                    onChange: handleModelChange,\n                                    className: \"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary\",\n                                    children: SUPPORTED_MODELS.map((model)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                            value: model.id,\n                                            disabled: !model.available,\n                                            children: model.name\n                                        }, model.id, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AISettingsModal.tsx\",\n                                            lineNumber: 127,\n                                            columnNumber: 17\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AISettingsModal.tsx\",\n                                    lineNumber: 121,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"mt-1 text-sm text-gray-500\",\n                                    children: \"Model menentukan kemampuan dan kecepatan respons AI\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AISettingsModal.tsx\",\n                                    lineNumber: 136,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"mt-1 text-xs text-blue-600\",\n                                    children: [\n                                        \"Menggunakan: \",\n                                        (0,_lib_qwen__WEBPACK_IMPORTED_MODULE_2__.getModelDisplayName)(localConfig.model)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AISettingsModal.tsx\",\n                                    lineNumber: 139,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AISettingsModal.tsx\",\n                            lineNumber: 117,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"block text-sm font-medium text-gray-700 mb-2\",\n                                    children: \"Bahasa Default\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AISettingsModal.tsx\",\n                                    lineNumber: 146,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                    value: localConfig.defaultLanguage,\n                                    onChange: handleLanguageChange,\n                                    className: \"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary\",\n                                    children: SUPPORTED_LANGUAGES.map((lang)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                            value: lang.code,\n                                            children: lang.name\n                                        }, lang.code, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AISettingsModal.tsx\",\n                                            lineNumber: 155,\n                                            columnNumber: 17\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AISettingsModal.tsx\",\n                                    lineNumber: 149,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"mt-1 text-sm text-gray-500\",\n                                    children: \"Bahasa yang akan digunakan AI untuk menjawab pertanyaan kamu\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AISettingsModal.tsx\",\n                                    lineNumber: 160,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AISettingsModal.tsx\",\n                            lineNumber: 145,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"block text-sm font-medium text-gray-700 mb-2\",\n                                    children: \"Instruksi Khusus untuk AI\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AISettingsModal.tsx\",\n                                    lineNumber: 167,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                    value: localConfig.customInstructions,\n                                    onChange: handleCustomInstructionsChange,\n                                    placeholder: \"Tambahkan instruksi khusus untuk AI, seperti: 'Selalu jawab dalam bahasa Indonesia' atau 'Bicara dengan gaya informal'\",\n                                    className: \"w-full p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary min-h-[100px]\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AISettingsModal.tsx\",\n                                    lineNumber: 170,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"mt-1 text-sm text-gray-500\",\n                                    children: \"Instruksi ini akan digunakan untuk semua percakapan dengan AI\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AISettingsModal.tsx\",\n                                    lineNumber: 176,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AISettingsModal.tsx\",\n                            lineNumber: 166,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AISettingsModal.tsx\",\n                    lineNumber: 115,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-4 border-t border-gray-200 flex justify-end\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleSave,\n                        className: \"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-primary flex items-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiSave_FiSettings_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_3__.FiSave, {\n                                className: \"mr-2\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AISettingsModal.tsx\",\n                                lineNumber: 188,\n                                columnNumber: 13\n                            }, this),\n                            \"Simpan Pengaturan\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AISettingsModal.tsx\",\n                        lineNumber: 184,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AISettingsModal.tsx\",\n                    lineNumber: 183,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AISettingsModal.tsx\",\n            lineNumber: 99,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AISettingsModal.tsx\",\n        lineNumber: 98,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9BSVNldHRpbmdzTW9kYWwudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBRTRDO0FBQ2E7QUFFUjtBQUVqRCw4QkFBOEI7QUFDOUIsTUFBTU0sc0JBQXNCO0lBQzFCO1FBQUVDLE1BQU07UUFBTUMsTUFBTTtJQUFZO0lBQ2hDO1FBQUVELE1BQU07UUFBTUMsTUFBTTtJQUFVO0lBQzlCO1FBQUVELE1BQU07UUFBTUMsTUFBTTtJQUFPO0lBQzNCO1FBQUVELE1BQU07UUFBTUMsTUFBTTtJQUFTO0lBQzdCO1FBQUVELE1BQU07UUFBTUMsTUFBTTtJQUFRO0lBQzVCO1FBQUVELE1BQU07UUFBTUMsTUFBTTtJQUFXO0lBQy9CO1FBQUVELE1BQU07UUFBTUMsTUFBTTtJQUFPO0lBQzNCO1FBQUVELE1BQU07UUFBTUMsTUFBTTtJQUFVO0lBQzlCO1FBQUVELE1BQU07UUFBTUMsTUFBTTtJQUFVO0lBQzlCO1FBQUVELE1BQU07UUFBTUMsTUFBTTtJQUFTO0lBQzdCO1FBQUVELE1BQU07UUFBTUMsTUFBTTtJQUFRO0NBQzdCO0FBRUQsNkJBQTZCO0FBQzdCLE1BQU1DLG1CQUFtQjtJQUN2QjtRQUFFQyxJQUFJO1FBQXlCRixNQUFNO1FBQWdCRyxXQUFXO0lBQUs7SUFDckU7UUFBRUQsSUFBSTtRQUF1QkYsTUFBTTtRQUFjRyxXQUFXO0lBQUs7Q0FDbEU7QUFTYyxTQUFTQyxnQkFBZ0IsRUFDdENDLE1BQU0sRUFDTkMsT0FBTyxFQUNQQyxNQUFNLEVBQ05DLE1BQU0sRUFDZTtJQUNyQixnQ0FBZ0M7SUFDaEMsTUFBTSxDQUFDQyxhQUFhQyxlQUFlLEdBQUdsQiwrQ0FBUUEsQ0FBVztRQUN2RG1CLGlCQUFpQjtRQUNqQkMsb0JBQW9CO1FBQ3BCQyxPQUFPO1FBQ1BDLG1CQUFtQjtRQUNuQkMsZUFBZTtJQUNqQjtJQUVBLDhDQUE4QztJQUM5Q3RCLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSVksVUFBVUUsUUFBUTtZQUNwQkcsZUFBZTtn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QVU7OEJBQ2IsNEVBQUNFO3dCQUNDQyxTQUFTTDt3QkFDVEUsV0FBVTs7MENBRVYsOERBQUM1QiwrRkFBTUE7Z0NBQUM0QixXQUFVOzs7Ozs7NEJBQVM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT3ZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFsbG8vLi9zcmMvY29tcG9uZW50cy9BSVNldHRpbmdzTW9kYWwudHN4PzhiMDgiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xyXG5cclxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgRmlYLCBGaVNldHRpbmdzLCBGaVNhdmUgfSBmcm9tICdyZWFjdC1pY29ucy9maSc7XHJcbmltcG9ydCB7IEFJQ29uZmlnIH0gZnJvbSAnQC9saWIvdHlwZXMnO1xyXG5pbXBvcnQgeyBnZXRNb2RlbERpc3BsYXlOYW1lIH0gZnJvbSAnQC9saWIvcXdlbic7XHJcblxyXG4vLyBEYWZ0YXIgYmFoYXNhIHlhbmcgZGlkdWt1bmdcclxuY29uc3QgU1VQUE9SVEVEX0xBTkdVQUdFUyA9IFtcclxuICB7IGNvZGU6ICdpZCcsIG5hbWU6ICdJbmRvbmVzaWEnIH0sXHJcbiAgeyBjb2RlOiAnZW4nLCBuYW1lOiAnSW5nZ3JpcycgfSxcclxuICB7IGNvZGU6ICdqdycsIG5hbWU6ICdKYXdhJyB9LFxyXG4gIHsgY29kZTogJ2phJywgbmFtZTogJ0plcGFuZycgfSxcclxuICB7IGNvZGU6ICdrbycsIG5hbWU6ICdLb3JlYScgfSxcclxuICB7IGNvZGU6ICd6aCcsIG5hbWU6ICdNYW5kYXJpbicgfSxcclxuICB7IGNvZGU6ICdhcicsIG5hbWU6ICdBcmFiJyB9LFxyXG4gIHsgY29kZTogJ2VzJywgbmFtZTogJ1NwYW55b2wnIH0sXHJcbiAgeyBjb2RlOiAnZnInLCBuYW1lOiAnUHJhbmNpcycgfSxcclxuICB7IGNvZGU6ICdkZScsIG5hbWU6ICdKZXJtYW4nIH0sXHJcbiAgeyBjb2RlOiAncnUnLCBuYW1lOiAnUnVzaWEnIH0sXHJcbl07XHJcblxyXG4vLyBEYWZ0YXIgbW9kZWwgeWFuZyBkaWR1a3VuZ1xyXG5jb25zdCBTVVBQT1JURURfTU9ERUxTID0gW1xyXG4gIHsgaWQ6ICdxd2VuL3F3ZW4xLjUtMzJiLWNoYXQnLCBuYW1lOiAnUXdlbiAxLjUgMzJCJywgYXZhaWxhYmxlOiB0cnVlIH0sXHJcbiAgeyBpZDogJ3F3ZW4vcXdlbjMtMzJiOmZyZWUnLCBuYW1lOiAnUXdlbiAzIDMyQicsIGF2YWlsYWJsZTogdHJ1ZSB9LFxyXG5dO1xyXG5cclxudHlwZSBBSVNldHRpbmdzTW9kYWxQcm9wcyA9IHtcclxuICBpc09wZW46IGJvb2xlYW47XHJcbiAgb25DbG9zZTogKCkgPT4gdm9pZDtcclxuICBjb25maWc6IEFJQ29uZmlnO1xyXG4gIG9uU2F2ZTogKGNvbmZpZzogQUlDb25maWcpID0+IHZvaWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBSVNldHRpbmdzTW9kYWwoe1xyXG4gIGlzT3BlbixcclxuICBvbkNsb3NlLFxyXG4gIGNvbmZpZyxcclxuICBvblNhdmUsXHJcbn06IEFJU2V0dGluZ3NNb2RhbFByb3BzKSB7XHJcbiAgLy8gU3RhdGUgdW50dWsga29uZmlndXJhc2kgbG9rYWxcclxuICBjb25zdCBbbG9jYWxDb25maWcsIHNldExvY2FsQ29uZmlnXSA9IHVzZVN0YXRlPEFJQ29uZmlnPih7XHJcbiAgICBkZWZhdWx0TGFuZ3VhZ2U6ICdpZCcsXHJcbiAgICBjdXN0b21JbnN0cnVjdGlvbnM6ICcnLFxyXG4gICAgbW9kZWw6ICdxd2VuL3F3ZW4zLTMyYjpmcmVlJyxcclxuICAgIHRyYW5zbGF0ZUxhbmd1YWdlOiAnZW4nLFxyXG4gICAgYXV0b1RyYW5zbGF0ZTogZmFsc2UsXHJcbiAgfSk7XHJcblxyXG4gIC8vIFNldCBrb25maWd1cmFzaSBkYXJpIHByb3Agc2FhdCBtb2RhbCBkaWJ1a2FcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGlzT3BlbiAmJiBjb25maWcpIHtcclxuICAgICAgc2V0TG9jYWxDb25maWcoe1xyXG4gICAgICAgIC4uLmNvbmZpZyxcclxuICAgICAgICAvLyBQYXN0aWthbiBuaWxhaSBkZWZhdWx0IGppa2EgdGlkYWsgYWRhXHJcbiAgICAgICAgZGVmYXVsdExhbmd1YWdlOiBjb25maWcuZGVmYXVsdExhbmd1YWdlIHx8ICdpZCcsXHJcbiAgICAgICAgbW9kZWw6IGNvbmZpZy5tb2RlbCB8fCAncXdlbi9xd2VuMy0zMmI6ZnJlZScsXHJcbiAgICAgICAgdHJhbnNsYXRlTGFuZ3VhZ2U6IGNvbmZpZy50cmFuc2xhdGVMYW5ndWFnZSB8fCAnZW4nLFxyXG4gICAgICAgIGF1dG9UcmFuc2xhdGU6IGNvbmZpZy5hdXRvVHJhbnNsYXRlIHx8IGZhbHNlXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0sIFtpc09wZW4sIGNvbmZpZ10pO1xyXG5cclxuICAvLyBIYW5kbGUgcGVydWJhaGFuIGJhaGFzYSBkZWZhdWx0XHJcbiAgY29uc3QgaGFuZGxlTGFuZ3VhZ2VDaGFuZ2UgPSAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTFNlbGVjdEVsZW1lbnQ+KSA9PiB7XHJcbiAgICBzZXRMb2NhbENvbmZpZyh7XHJcbiAgICAgIC4uLmxvY2FsQ29uZmlnLFxyXG4gICAgICBkZWZhdWx0TGFuZ3VhZ2U6IGUudGFyZ2V0LnZhbHVlLFxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLy8gSGFuZGxlIHBlcnViYWhhbiBpbnN0cnVrc2kga3VzdG9tXHJcbiAgY29uc3QgaGFuZGxlQ3VzdG9tSW5zdHJ1Y3Rpb25zQ2hhbmdlID0gKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxUZXh0QXJlYUVsZW1lbnQ+KSA9PiB7XHJcbiAgICBzZXRMb2NhbENvbmZpZyh7XHJcbiAgICAgIC4uLmxvY2FsQ29uZmlnLFxyXG4gICAgICBjdXN0b21JbnN0cnVjdGlvbnM6IGUudGFyZ2V0LnZhbHVlLFxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLy8gSGFuZGxlIHBlcnViYWhhbiBtb2RlbFxyXG4gIGNvbnN0IGhhbmRsZU1vZGVsQ2hhbmdlID0gKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxTZWxlY3RFbGVtZW50PikgPT4ge1xyXG4gICAgc2V0TG9jYWxDb25maWcoe1xyXG4gICAgICAuLi5sb2NhbENvbmZpZyxcclxuICAgICAgbW9kZWw6IGUudGFyZ2V0LnZhbHVlLFxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLy8gSGFuZGxlIHNpbXBhbiBwZW5nYXR1cmFuXHJcbiAgY29uc3QgaGFuZGxlU2F2ZSA9ICgpID0+IHtcclxuICAgIG9uU2F2ZShsb2NhbENvbmZpZyk7XHJcbiAgICBvbkNsb3NlKCk7XHJcbiAgfTtcclxuXHJcbiAgaWYgKCFpc09wZW4pIHJldHVybiBudWxsO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIHotNTAgYmctYmxhY2sgYmctb3BhY2l0eS01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBwLTRcIj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHctZnVsbCBtYXgtdy1sZyBmbGV4IGZsZXgtY29sIG92ZXJmbG93LWhpZGRlblwiPlxyXG4gICAgICAgIHsvKiBIZWFkZXIgKi99XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcC00IGJvcmRlci1iIGJvcmRlci1ncmF5LTIwMCBiZy1wcmltYXJ5IHRleHQtd2hpdGVcIj5cclxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgZmxleCBpdGVtcy1jZW50ZXJcIj5cclxuICAgICAgICAgICAgPEZpU2V0dGluZ3MgY2xhc3NOYW1lPVwibXItMlwiIC8+XHJcbiAgICAgICAgICAgIFBlbmdhdHVyYW4gQUlcclxuICAgICAgICAgIDwvaDI+XHJcbiAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xvc2V9XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgaG92ZXI6Ymctd2hpdGUgaG92ZXI6Ymctb3BhY2l0eS0yMCBwLTEgcm91bmRlZC1mdWxsXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPEZpWCBzaXplPXsyMH0gLz5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICB7LyogQ29udGVudCAqL31cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBvdmVyZmxvdy15LWF1dG9cIj5cclxuICAgICAgICAgIHsvKiBNb2RlbCBTZWxlY3Rpb24gKi99XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTZcIj5cclxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0yXCI+XHJcbiAgICAgICAgICAgICAgTW9kZWwgQUlcclxuICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgPHNlbGVjdFxyXG4gICAgICAgICAgICAgIHZhbHVlPXtsb2NhbENvbmZpZy5tb2RlbH1cclxuICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlTW9kZWxDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHAtMiBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbGcgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLXByaW1hcnlcIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAge1NVUFBPUlRFRF9NT0RFTFMubWFwKChtb2RlbCkgPT4gKFxyXG4gICAgICAgICAgICAgICAgPG9wdGlvbiBcclxuICAgICAgICAgICAgICAgICAga2V5PXttb2RlbC5pZH0gXHJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXttb2RlbC5pZH1cclxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFtb2RlbC5hdmFpbGFibGV9XHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIHttb2RlbC5uYW1lfVxyXG4gICAgICAgICAgICAgICAgPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0xIHRleHQtc20gdGV4dC1ncmF5LTUwMFwiPlxyXG4gICAgICAgICAgICAgIE1vZGVsIG1lbmVudHVrYW4ga2VtYW1wdWFuIGRhbiBrZWNlcGF0YW4gcmVzcG9ucyBBSVxyXG4gICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTEgdGV4dC14cyB0ZXh0LWJsdWUtNjAwXCI+XHJcbiAgICAgICAgICAgICAgTWVuZ2d1bmFrYW46IHtnZXRNb2RlbERpc3BsYXlOYW1lKGxvY2FsQ29uZmlnLm1vZGVsKX1cclxuICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgey8qIERlZmF1bHQgTGFuZ3VhZ2UgKi99XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTZcIj5cclxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0yXCI+XHJcbiAgICAgICAgICAgICAgQmFoYXNhIERlZmF1bHRcclxuICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgPHNlbGVjdFxyXG4gICAgICAgICAgICAgIHZhbHVlPXtsb2NhbENvbmZpZy5kZWZhdWx0TGFuZ3VhZ2V9XHJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUxhbmd1YWdlQ2hhbmdlfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLWxnIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1wcmltYXJ5XCJcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIHtTVVBQT1JURURfTEFOR1VBR0VTLm1hcCgobGFuZykgPT4gKFxyXG4gICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e2xhbmcuY29kZX0gdmFsdWU9e2xhbmcuY29kZX0+XHJcbiAgICAgICAgICAgICAgICAgIHtsYW5nLm5hbWV9XHJcbiAgICAgICAgICAgICAgICA8L29wdGlvbj5cclxuICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTEgdGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+XHJcbiAgICAgICAgICAgICAgQmFoYXNhIHlhbmcgYWthbiBkaWd1bmFrYW4gQUkgdW50dWsgbWVuamF3YWIgcGVydGFueWFhbiBrYW11XHJcbiAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgIHsvKiBDdXN0b20gSW5zdHJ1Y3Rpb25zICovfVxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi02XCI+XHJcbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMlwiPlxyXG4gICAgICAgICAgICAgIEluc3RydWtzaSBLaHVzdXMgdW50dWsgQUlcclxuICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgPHRleHRhcmVhXHJcbiAgICAgICAgICAgICAgdmFsdWU9e2xvY2FsQ29uZmlnLmN1c3RvbUluc3RydWN0aW9uc31cclxuICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ3VzdG9tSW5zdHJ1Y3Rpb25zQ2hhbmdlfVxyXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVGFtYmFoa2FuIGluc3RydWtzaSBraHVzdXMgdW50dWsgQUksIHNlcGVydGk6ICdTZWxhbHUgamF3YWIgZGFsYW0gYmFoYXNhIEluZG9uZXNpYScgYXRhdSAnQmljYXJhIGRlbmdhbiBnYXlhIGluZm9ybWFsJ1wiXHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHAtMiBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbGcgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLXByaW1hcnkgbWluLWgtWzEwMHB4XVwiXHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTEgdGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+XHJcbiAgICAgICAgICAgICAgSW5zdHJ1a3NpIGluaSBha2FuIGRpZ3VuYWthbiB1bnR1ayBzZW11YSBwZXJjYWthcGFuIGRlbmdhbiBBSVxyXG4gICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgey8qIEZvb3RlciAqL31cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBib3JkZXItdCBib3JkZXItZ3JheS0yMDAgZmxleCBqdXN0aWZ5LWVuZFwiPlxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTYXZlfVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgYmctcHJpbWFyeSB0ZXh0LXdoaXRlIHJvdW5kZWQtbGcgaG92ZXI6YmctcHJpbWFyeS1kYXJrIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1wcmltYXJ5IGZsZXggaXRlbXMtY2VudGVyXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPEZpU2F2ZSBjbGFzc05hbWU9XCJtci0yXCIgLz5cclxuICAgICAgICAgICAgU2ltcGFuIFBlbmdhdHVyYW5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn0gIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiRmlYIiwiRmlTZXR0aW5ncyIsIkZpU2F2ZSIsImdldE1vZGVsRGlzcGxheU5hbWUiLCJTVVBQT1JURURfTEFOR1VBR0VTIiwiY29kZSIsIm5hbWUiLCJTVVBQT1JURURfTU9ERUxTIiwiaWQiLCJhdmFpbGFibGUiLCJBSVNldHRpbmdzTW9kYWwiLCJpc09wZW4iLCJvbkNsb3NlIiwiY29uZmlnIiwib25TYXZlIiwibG9jYWxDb25maWciLCJzZXRMb2NhbENvbmZpZyIsImRlZmF1bHRMYW5ndWFnZSIsImN1c3RvbUluc3RydWN0aW9ucyIsIm1vZGVsIiwidHJhbnNsYXRlTGFuZ3VhZ2UiLCJhdXRvVHJhbnNsYXRlIiwiaGFuZGxlTGFuZ3VhZ2VDaGFuZ2UiLCJlIiwidGFyZ2V0IiwidmFsdWUiLCJoYW5kbGVDdXN0b21JbnN0cnVjdGlvbnNDaGFuZ2UiLCJoYW5kbGVNb2RlbENoYW5nZSIsImhhbmRsZVNhdmUiLCJkaXYiLCJjbGFzc05hbWUiLCJoMiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJzaXplIiwibGFiZWwiLCJzZWxlY3QiLCJvbkNoYW5nZSIsIm1hcCIsIm9wdGlvbiIsImRpc2FibGVkIiwicCIsImxhbmciLCJ0ZXh0YXJlYSIsInBsYWNlaG9sZGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/components/AISettingsModal.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/AddContactModal.tsx":
/*!********************************************!*\
  !*** ./src/components/AddContactModal.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AddContactModal)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_FiPhone_FiPlus_FiUser_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=FiPhone,FiPlus,FiUser,FiX!=!react-icons/fi */ \"(ssr)/./node_modules/react-icons/fi/index.esm.js\");\n/* harmony import */ var _firebase_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/firebase/config */ \"(ssr)/./src/firebase/config.ts\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/firestore */ \"(ssr)/./node_modules/firebase/firestore/dist/index.mjs\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\nfunction AddContactModal({ currentUserId, onClose, onContactAdded }) {\n    const [name, setName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [phoneNumber, setPhoneNumber] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [saving, setSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [success, setSuccess] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const handleSubmit = async (e)=>{\n        e.preventDefault();\n        setError(\"\");\n        setSaving(true);\n        if (!name.trim() || !phoneNumber.trim()) {\n            setError(\"Nama dan nomor telepon harus diisi\");\n            setSaving(false);\n            return;\n        }\n        // Validasi nomor telepon\n        if (!/^\\+?[0-9]{10,15}$/.test(phoneNumber)) {\n            setError(\"Format nomor telepon tidak valid\");\n            setSaving(false);\n            return;\n        }\n        try {\n            // Periksa apakah kontak dengan nomor yang sama sudah ada\n            const existingContactsQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.collection)(_firebase_config__WEBPACK_IMPORTED_MODULE_2__.db, \"contacts\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.where)(\"userId\", \"==\", currentUserId), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.where)(\"phoneNumber\", \"==\", phoneNumber.trim()));\n            const existingContactsSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.getDocs)(existingContactsQuery);\n            if (!existingContactsSnapshot.empty) {\n                setError(\"Kontak dengan nomor telepon ini sudah ada\");\n                setSaving(false);\n                return;\n            }\n            // Simpan kontak baru\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.collection)(_firebase_config__WEBPACK_IMPORTED_MODULE_2__.db, \"contacts\"), {\n                userId: currentUserId,\n                name: name.trim(),\n                phoneNumber: phoneNumber.trim(),\n                createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.serverTimestamp)()\n            });\n            setSuccess(true);\n            setTimeout(()=>{\n                onContactAdded();\n                onClose();\n            }, 1500);\n        } catch (err) {\n            setError(err.message || \"Terjadi kesalahan saat menyimpan kontak\");\n        } finally{\n            setSaving(false);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-white rounded-lg shadow-xl w-full max-w-md overflow-hidden\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-between items-center p-4 border-b\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"text-lg font-semibold\",\n                            children: \"Tambah Kontak Baru\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AddContactModal.tsx\",\n                            lineNumber: 82,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onClose,\n                            className: \"text-gray-500 hover:text-gray-700\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiPhone_FiPlus_FiUser_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiX, {\n                                size: 24\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AddContactModal.tsx\",\n                                lineNumber: 84,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AddContactModal.tsx\",\n                            lineNumber: 83,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AddContactModal.tsx\",\n                    lineNumber: 81,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                    onSubmit: handleSubmit,\n                    className: \"p-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"block text-gray-700 text-sm font-bold mb-2\",\n                                    htmlFor: \"name\",\n                                    children: \"Nama\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AddContactModal.tsx\",\n                                    lineNumber: 90,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            id: \"name\",\n                                            type: \"text\",\n                                            placeholder: \"Masukkan nama kontak\",\n                                            value: name,\n                                            onChange: (e)=>setName(e.target.value),\n                                            className: \"w-full py-2 pl-10 pr-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AddContactModal.tsx\",\n                                            lineNumber: 94,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiPhone_FiPlus_FiUser_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiUser, {\n                                            className: \"absolute left-3 top-3 text-gray-500\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AddContactModal.tsx\",\n                                            lineNumber: 102,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AddContactModal.tsx\",\n                                    lineNumber: 93,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AddContactModal.tsx\",\n                            lineNumber: 89,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"block text-gray-700 text-sm font-bold mb-2\",\n                                    htmlFor: \"phoneNumber\",\n                                    children: \"Nomor Telepon\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AddContactModal.tsx\",\n                                    lineNumber: 107,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            id: \"phoneNumber\",\n                                            type: \"text\",\n                                            placeholder: \"Cth: +6281234567890\",\n                                            value: phoneNumber,\n                                            onChange: (e)=>setPhoneNumber(e.target.value),\n                                            className: \"w-full py-2 pl-10 pr-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AddContactModal.tsx\",\n                                            lineNumber: 111,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiPhone_FiPlus_FiUser_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiPhone, {\n                                            className: \"absolute left-3 top-3 text-gray-500\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AddContactModal.tsx\",\n                                            lineNumber: 119,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AddContactModal.tsx\",\n                                    lineNumber: 110,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-xs text-gray-500 mt-1\",\n                                    children: \"Format: +62xxxxxxxxxx (tanpa spasi)\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AddContactModal.tsx\",\n                                    lineNumber: 121,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AddContactModal.tsx\",\n                            lineNumber: 106,\n                            columnNumber: 11\n                        }, this),\n                        error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\",\n                            children: error\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AddContactModal.tsx\",\n                            lineNumber: 127,\n                            columnNumber: 13\n                        }, this),\n                        success && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4\",\n                            children: \"Kontak berhasil ditambahkan!\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AddContactModal.tsx\",\n                            lineNumber: 133,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex justify-end mt-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    type: \"button\",\n                                    onClick: onClose,\n                                    className: \"mr-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-100\",\n                                    children: \"Batal\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AddContactModal.tsx\",\n                                    lineNumber: 139,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    type: \"submit\",\n                                    disabled: saving,\n                                    className: \"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark disabled:bg-gray-400 flex items-center\",\n                                    children: saving ? \"Menyimpan...\" : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiPhone_FiPlus_FiUser_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiPlus, {\n                                                className: \"mr-1\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AddContactModal.tsx\",\n                                                lineNumber: 153,\n                                                columnNumber: 19\n                                            }, this),\n                                            \" Tambah Kontak\"\n                                        ]\n                                    }, void 0, true)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AddContactModal.tsx\",\n                                    lineNumber: 146,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AddContactModal.tsx\",\n                            lineNumber: 138,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AddContactModal.tsx\",\n                    lineNumber: 88,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AddContactModal.tsx\",\n            lineNumber: 80,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\AddContactModal.tsx\",\n        lineNumber: 79,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9BZGRDb250YWN0TW9kYWwudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUVpQztBQUM2QjtBQUN2QjtBQUN5RDtBQVFqRixTQUFTWSxnQkFBZ0IsRUFDdENDLGFBQWEsRUFDYkMsT0FBTyxFQUNQQyxjQUFjLEVBQ087SUFDckIsTUFBTSxDQUFDQyxNQUFNQyxRQUFRLEdBQUdqQiwrQ0FBUUEsQ0FBQztJQUNqQyxNQUFNLENBQUNrQixhQUFhQyxlQUFlLEdBQUduQiwrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUNvQixRQUFRQyxVQUFVLEdBQUdyQiwrQ0FBUUEsQ0FBQztJQUNyQyxNQUFNLENBQUNzQixPQUFPQyxTQUFTLEdBQUd2QiwrQ0FBUUEsQ0FBQztJQUNuQyxNQUFNLENBQUN3QixTQUFTQyxXQUFXLEdBQUd6QiwrQ0FBUUEsQ0FBQztJQUV2QyxNQUFNMEIsZUFBZSxPQUFPQztRQUMxQkEsRUFBRUMsY0FBYztRQUNoQkwsU0FBUztRQUNURixVQUFVO1FBRVYsSUFBSSxDQUFDTCxLQUFLYSxJQUFJLE1BQU0sQ0FBQ1gsWUFBWVcsSUFBSSxJQUFJO1lBQ3ZDTixTQUFTO1lBQ1RGLFVBQVU7WUFDVjtRQUNGO1FBRUEseUJBQXlCO1FBQ3pCLElBQUksQ0FBQyxvQkFBb0JTLElBQUksQ0FBQ1osY0FBYztZQUMxQ0ssU0FBUztZQUNURixVQUFVO1lBQ1Y7UUFDRjtRQUVBLElBQUk7WUFDRix5REFBeUQ7WUFDekQsTUFBTVUsd0JBQXdCdEIseURBQUtBLENBQ2pDSCw4REFBVUEsQ0FBQ0QsZ0RBQUVBLEVBQUUsYUFDZksseURBQUtBLENBQUMsVUFBVSxNQUFNRyxnQkFDdEJILHlEQUFLQSxDQUFDLGVBQWUsTUFBTVEsWUFBWVcsSUFBSTtZQUc3QyxNQUFNRywyQkFBMkIsTUFBTXJCLDJEQUFPQSxDQUFDb0I7WUFDL0MsSUFBSSxDQUFDQyx5QkFBeUJDLEtBQUssRUFBRTtnQkFDbkNWLFNBQVM7Z0JBQ1RGLFVBQVU7Z0JBQ1Y7WUFDRjtZQUVBLHFCQUFxQjtZQUNyQixNQUFNZCwwREFBTUEsQ0FBQ0QsOERBQVVBLENBQUNELGdEQUFFQSxFQUFFLGFBQWE7Z0JBQ3ZDNkIsUUFBUXJCO2dCQUNSRyxNQUFNQSxLQUFLYSxJQUFJO2dCQUNmWCxhQUFhQSxZQUFZVyxJQUFJO2dCQUM3Qk0sV0FBVzNCLG1FQUFlQTtZQUM1QjtZQUVBaUIsV0FBVztZQUNYVyxXQUFXO2dCQUNUckI7Z0JBQ0FEO1lBQ0YsR0FBRztRQUNMLEVBQUUsT0FBT3VCLEtBQVU7WUFDakJkLFNBQVNjLElBQUlDLE9BQU8sSUFBSTtRQUMxQixTQUFVO1lBQ1JqQixVQUFVO1FBQ1o7SUFDRjtJQUVBLHFCQUNFLDhEQUFDa0I7UUFBSUMsV0FBVTtrQkFDYiw0RUFBQ0Q7WUFBSUMsV0FBVTs7OEJBQ2IsOERBQUNEO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ0M7NEJBQUdELFdBQVU7c0NBQXdCOzs7Ozs7c0NBQ3RDLDhEQUFDRTs0QkFBT0MsU0FBUzdCOzRCQUFTMEIsV0FBVTtzQ0FDbEMsNEVBQUN2QyxnR0FBR0E7Z0NBQUMyQyxNQUFNOzs7Ozs7Ozs7Ozs7Ozs7Ozs4QkFJZiw4REFBQ0M7b0JBQUtDLFVBQVVwQjtvQkFBY2MsV0FBVTs7c0NBQ3RDLDhEQUFDRDs0QkFBSUMsV0FBVTs7OENBQ2IsOERBQUNPO29DQUFNUCxXQUFVO29DQUE2Q1EsU0FBUTs4Q0FBTzs7Ozs7OzhDQUc3RSw4REFBQ1Q7b0NBQUlDLFdBQVU7O3NEQUNiLDhEQUFDUzs0Q0FDQ0MsSUFBRzs0Q0FDSEMsTUFBSzs0Q0FDTEMsYUFBWTs0Q0FDWkMsT0FBT3JDOzRDQUNQc0MsVUFBVSxDQUFDM0IsSUFBTVYsUUFBUVUsRUFBRTRCLE1BQU0sQ0FBQ0YsS0FBSzs0Q0FDdkNiLFdBQVU7Ozs7OztzREFFWiw4REFBQ3RDLG1HQUFNQTs0Q0FBQ3NDLFdBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7OztzQ0FJdEIsOERBQUNEOzRCQUFJQyxXQUFVOzs4Q0FDYiw4REFBQ087b0NBQU1QLFdBQVU7b0NBQTZDUSxTQUFROzhDQUFjOzs7Ozs7OENBR3BGLDhEQUFDVDtvQ0FBSUMsV0FBVTs7c0RBQ2IsOERBQUNTOzRDQUNDQyxJQUFHOzRDQUNIQyxNQUFLOzRDQUNMQyxhQUFZOzRDQUNaQyxPQUFPbkM7NENBQ1BvQyxVQUFVLENBQUMzQixJQUFNUixlQUFlUSxFQUFFNEIsTUFBTSxDQUFDRixLQUFLOzRDQUM5Q2IsV0FBVTs7Ozs7O3NEQUVaLDhEQUFDckMsb0dBQU9BOzRDQUFDcUMsV0FBVTs7Ozs7Ozs7Ozs7OzhDQUVyQiw4REFBQ2dCO29DQUFFaEIsV0FBVTs4Q0FBNkI7Ozs7Ozs7Ozs7Ozt3QkFLM0NsQix1QkFDQyw4REFBQ2lCOzRCQUFJQyxXQUFVO3NDQUNabEI7Ozs7Ozt3QkFJSkUseUJBQ0MsOERBQUNlOzRCQUFJQyxXQUFVO3NDQUE2RTs7Ozs7O3NDQUs5Riw4REFBQ0Q7NEJBQUlDLFdBQVU7OzhDQUNiLDhEQUFDRTtvQ0FDQ1MsTUFBSztvQ0FDTFIsU0FBUzdCO29DQUNUMEIsV0FBVTs4Q0FDWDs7Ozs7OzhDQUdELDhEQUFDRTtvQ0FDQ1MsTUFBSztvQ0FDTE0sVUFBVXJDO29DQUNWb0IsV0FBVTs4Q0FFVHBCLFNBQVMsK0JBQ1I7OzBEQUNFLDhEQUFDaEIsbUdBQU1BO2dEQUFDb0MsV0FBVTs7Ozs7OzRDQUFTOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUzdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFsbG8vLi9zcmMvY29tcG9uZW50cy9BZGRDb250YWN0TW9kYWwudHN4P2IwYjYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xyXG5cclxuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IEZpWCwgRmlVc2VyLCBGaVBob25lLCBGaVBsdXMgfSBmcm9tICdyZWFjdC1pY29ucy9maSc7XHJcbmltcG9ydCB7IGRiIH0gZnJvbSAnQC9maXJlYmFzZS9jb25maWcnO1xyXG5pbXBvcnQgeyBjb2xsZWN0aW9uLCBhZGREb2MsIHNlcnZlclRpbWVzdGFtcCwgcXVlcnksIHdoZXJlLCBnZXREb2NzIH0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcclxuXHJcbnR5cGUgQWRkQ29udGFjdE1vZGFsUHJvcHMgPSB7XHJcbiAgY3VycmVudFVzZXJJZDogc3RyaW5nO1xyXG4gIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XHJcbiAgb25Db250YWN0QWRkZWQ6ICgpID0+IHZvaWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBZGRDb250YWN0TW9kYWwoe1xyXG4gIGN1cnJlbnRVc2VySWQsXHJcbiAgb25DbG9zZSxcclxuICBvbkNvbnRhY3RBZGRlZFxyXG59OiBBZGRDb250YWN0TW9kYWxQcm9wcykge1xyXG4gIGNvbnN0IFtuYW1lLCBzZXROYW1lXSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBbcGhvbmVOdW1iZXIsIHNldFBob25lTnVtYmVyXSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBbc2F2aW5nLCBzZXRTYXZpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoJycpO1xyXG4gIGNvbnN0IFtzdWNjZXNzLCBzZXRTdWNjZXNzXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gYXN5bmMgKGU6IFJlYWN0LkZvcm1FdmVudCkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgc2V0RXJyb3IoJycpO1xyXG4gICAgc2V0U2F2aW5nKHRydWUpO1xyXG5cclxuICAgIGlmICghbmFtZS50cmltKCkgfHwgIXBob25lTnVtYmVyLnRyaW0oKSkge1xyXG4gICAgICBzZXRFcnJvcignTmFtYSBkYW4gbm9tb3IgdGVsZXBvbiBoYXJ1cyBkaWlzaScpO1xyXG4gICAgICBzZXRTYXZpbmcoZmFsc2UpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVmFsaWRhc2kgbm9tb3IgdGVsZXBvblxyXG4gICAgaWYgKCEvXlxcKz9bMC05XXsxMCwxNX0kLy50ZXN0KHBob25lTnVtYmVyKSkge1xyXG4gICAgICBzZXRFcnJvcignRm9ybWF0IG5vbW9yIHRlbGVwb24gdGlkYWsgdmFsaWQnKTtcclxuICAgICAgc2V0U2F2aW5nKGZhbHNlKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIFBlcmlrc2EgYXBha2FoIGtvbnRhayBkZW5nYW4gbm9tb3IgeWFuZyBzYW1hIHN1ZGFoIGFkYVxyXG4gICAgICBjb25zdCBleGlzdGluZ0NvbnRhY3RzUXVlcnkgPSBxdWVyeShcclxuICAgICAgICBjb2xsZWN0aW9uKGRiLCAnY29udGFjdHMnKSxcclxuICAgICAgICB3aGVyZSgndXNlcklkJywgJz09JywgY3VycmVudFVzZXJJZCksXHJcbiAgICAgICAgd2hlcmUoJ3Bob25lTnVtYmVyJywgJz09JywgcGhvbmVOdW1iZXIudHJpbSgpKVxyXG4gICAgICApO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgZXhpc3RpbmdDb250YWN0c1NuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhleGlzdGluZ0NvbnRhY3RzUXVlcnkpO1xyXG4gICAgICBpZiAoIWV4aXN0aW5nQ29udGFjdHNTbmFwc2hvdC5lbXB0eSkge1xyXG4gICAgICAgIHNldEVycm9yKCdLb250YWsgZGVuZ2FuIG5vbW9yIHRlbGVwb24gaW5pIHN1ZGFoIGFkYScpO1xyXG4gICAgICAgIHNldFNhdmluZyhmYWxzZSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBTaW1wYW4ga29udGFrIGJhcnVcclxuICAgICAgYXdhaXQgYWRkRG9jKGNvbGxlY3Rpb24oZGIsICdjb250YWN0cycpLCB7XHJcbiAgICAgICAgdXNlcklkOiBjdXJyZW50VXNlcklkLFxyXG4gICAgICAgIG5hbWU6IG5hbWUudHJpbSgpLFxyXG4gICAgICAgIHBob25lTnVtYmVyOiBwaG9uZU51bWJlci50cmltKCksXHJcbiAgICAgICAgY3JlYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHNldFN1Y2Nlc3ModHJ1ZSk7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIG9uQ29udGFjdEFkZGVkKCk7XHJcbiAgICAgICAgb25DbG9zZSgpO1xyXG4gICAgICB9LCAxNTAwKTtcclxuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XHJcbiAgICAgIHNldEVycm9yKGVyci5tZXNzYWdlIHx8ICdUZXJqYWRpIGtlc2FsYWhhbiBzYWF0IG1lbnlpbXBhbiBrb250YWsnKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldFNhdmluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCBiZy1ibGFjayBiZy1vcGFjaXR5LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHotNTAgcC00XCI+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3cteGwgdy1mdWxsIG1heC13LW1kIG92ZXJmbG93LWhpZGRlblwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIHAtNCBib3JkZXItYlwiPlxyXG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZFwiPlRhbWJhaCBLb250YWsgQmFydTwvaDM+XHJcbiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e29uQ2xvc2V9IGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgaG92ZXI6dGV4dC1ncmF5LTcwMFwiPlxyXG4gICAgICAgICAgICA8RmlYIHNpemU9ezI0fSAvPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9IGNsYXNzTmFtZT1cInAtNFwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00XCI+XHJcbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LWdyYXktNzAwIHRleHQtc20gZm9udC1ib2xkIG1iLTJcIiBodG1sRm9yPVwibmFtZVwiPlxyXG4gICAgICAgICAgICAgIE5hbWFcclxuICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxyXG4gICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgaWQ9XCJuYW1lXCJcclxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiTWFzdWtrYW4gbmFtYSBrb250YWtcIlxyXG4gICAgICAgICAgICAgICAgdmFsdWU9e25hbWV9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldE5hbWUoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB5LTIgcGwtMTAgcHItNCBib3JkZXIgcm91bmRlZC1sZyBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctcHJpbWFyeVwiXHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICA8RmlVc2VyIGNsYXNzTmFtZT1cImFic29sdXRlIGxlZnQtMyB0b3AtMyB0ZXh0LWdyYXktNTAwXCIgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTRcIj5cclxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtZ3JheS03MDAgdGV4dC1zbSBmb250LWJvbGQgbWItMlwiIGh0bWxGb3I9XCJwaG9uZU51bWJlclwiPlxyXG4gICAgICAgICAgICAgIE5vbW9yIFRlbGVwb25cclxuICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxyXG4gICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgaWQ9XCJwaG9uZU51bWJlclwiXHJcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkN0aDogKzYyODEyMzQ1Njc4OTBcIlxyXG4gICAgICAgICAgICAgICAgdmFsdWU9e3Bob25lTnVtYmVyfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRQaG9uZU51bWJlcihlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHktMiBwbC0xMCBwci00IGJvcmRlciByb3VuZGVkLWxnIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1wcmltYXJ5XCJcclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgIDxGaVBob25lIGNsYXNzTmFtZT1cImFic29sdXRlIGxlZnQtMyB0b3AtMyB0ZXh0LWdyYXktNTAwXCIgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBtdC0xXCI+XHJcbiAgICAgICAgICAgICAgRm9ybWF0OiArNjJ4eHh4eHh4eHh4ICh0YW5wYSBzcGFzaSlcclxuICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAge2Vycm9yICYmIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1yZWQtMTAwIGJvcmRlciBib3JkZXItcmVkLTQwMCB0ZXh0LXJlZC03MDAgcHgtNCBweS0zIHJvdW5kZWQgbWItNFwiPlxyXG4gICAgICAgICAgICAgIHtlcnJvcn1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApfVxyXG5cclxuICAgICAgICAgIHtzdWNjZXNzICYmIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmVlbi0xMDAgYm9yZGVyIGJvcmRlci1ncmVlbi00MDAgdGV4dC1ncmVlbi03MDAgcHgtNCBweS0zIHJvdW5kZWQgbWItNFwiPlxyXG4gICAgICAgICAgICAgIEtvbnRhayBiZXJoYXNpbCBkaXRhbWJhaGthbiFcclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApfVxyXG5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWVuZCBtdC02XCI+XHJcbiAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNsb3NlfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1yLTIgcHgtNCBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1sZyBob3ZlcjpiZy1ncmF5LTEwMFwiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICBCYXRhbFxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxyXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtzYXZpbmd9XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIGJnLXByaW1hcnkgdGV4dC13aGl0ZSByb3VuZGVkLWxnIGhvdmVyOmJnLXByaW1hcnktZGFyayBkaXNhYmxlZDpiZy1ncmF5LTQwMCBmbGV4IGl0ZW1zLWNlbnRlclwiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICB7c2F2aW5nID8gJ01lbnlpbXBhbi4uLicgOiAoXHJcbiAgICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgICA8RmlQbHVzIGNsYXNzTmFtZT1cIm1yLTFcIiAvPiBUYW1iYWggS29udGFrXHJcbiAgICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZm9ybT5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59ICJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsIkZpWCIsIkZpVXNlciIsIkZpUGhvbmUiLCJGaVBsdXMiLCJkYiIsImNvbGxlY3Rpb24iLCJhZGREb2MiLCJzZXJ2ZXJUaW1lc3RhbXAiLCJxdWVyeSIsIndoZXJlIiwiZ2V0RG9jcyIsIkFkZENvbnRhY3RNb2RhbCIsImN1cnJlbnRVc2VySWQiLCJvbkNsb3NlIiwib25Db250YWN0QWRkZWQiLCJuYW1lIiwic2V0TmFtZSIsInBob25lTnVtYmVyIiwic2V0UGhvbmVOdW1iZXIiLCJzYXZpbmciLCJzZXRTYXZpbmciLCJlcnJvciIsInNldEVycm9yIiwic3VjY2VzcyIsInNldFN1Y2Nlc3MiLCJoYW5kbGVTdWJtaXQiLCJlIiwicHJldmVudERlZmF1bHQiLCJ0cmltIiwidGVzdCIsImV4aXN0aW5nQ29udGFjdHNRdWVyeSIsImV4aXN0aW5nQ29udGFjdHNTbmFwc2hvdCIsImVtcHR5IiwidXNlcklkIiwiY3JlYXRlZEF0Iiwic2V0VGltZW91dCIsImVyciIsIm1lc3NhZ2UiLCJkaXYiLCJjbGFzc05hbWUiLCJoMyIsImJ1dHRvbiIsIm9uQ2xpY2siLCJzaXplIiwiZm9ybSIsIm9uU3VibWl0IiwibGFiZWwiLCJodG1sRm9yIiwiaW5wdXQiLCJpZCIsInR5cGUiLCJwbGFjZWhvbGRlciIsInZhbHVlIiwib25DaGFuZ2UiLCJ0YXJnZXQiLCJwIiwiZGlzYWJsZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/components/AddContactModal.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/ChatApp.tsx":
/*!************************************!*\
  !*** ./src/components/ChatApp.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChatApp)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/auth */ \"(ssr)/./node_modules/firebase/auth/dist/index.mjs\");\n/* harmony import */ var _firebase_config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/firebase/config */ \"(ssr)/./src/firebase/config.ts\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! firebase/firestore */ \"(ssr)/./node_modules/firebase/firestore/dist/index.mjs\");\n/* harmony import */ var _Sidebar__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Sidebar */ \"(ssr)/./src/components/Sidebar.tsx\");\n/* harmony import */ var _ChatWindow__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ChatWindow */ \"(ssr)/./src/components/ChatWindow.tsx\");\n/* harmony import */ var _lib_users__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/lib/users */ \"(ssr)/./src/lib/users.ts\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _AIChatModal__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./AIChatModal */ \"(ssr)/./src/components/AIChatModal.tsx\");\n/* harmony import */ var _TranslateSettingsModal__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./TranslateSettingsModal */ \"(ssr)/./src/components/TranslateSettingsModal.tsx\");\n/* harmony import */ var _AISettingsModal__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./AISettingsModal */ \"(ssr)/./src/components/AISettingsModal.tsx\");\n/* harmony import */ var _lib_ai_config__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/lib/ai-config */ \"(ssr)/./src/lib/ai-config.ts\");\n/* harmony import */ var _barrel_optimize_names_FiArrowLeft_react_icons_fi__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=FiMessageSquare!=!react-icons/fi */ \"(ssr)/./node_modules/react-icons/fi/index.esm.js\");\n/* harmony import */ var _lib_context__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/lib/context */ \"(ssr)/./src/lib/context.tsx\");\n/* harmony import */ var _NewChatModal__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./NewChatModal */ \"(ssr)/./src/components/NewChatModal.tsx\");\n/* harmony import */ var _IncomingCallModal__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./IncomingCallModal */ \"(ssr)/./src/components/IncomingCallModal.tsx\");\n/* harmony import */ var _VideoCallModal__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./VideoCallModal */ \"(ssr)/./src/components/VideoCallModal.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction ChatApp({ user }) {\n    const { aiConfig, updateAIConfig } = (0,_lib_context__WEBPACK_IMPORTED_MODULE_13__.useAIConfig)();\n    const [selectedChat, setSelectedChat] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isMobileView, setIsMobileView] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showSidebar, setShowSidebar] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [chatList, setChatList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loadingChats, setLoadingChats] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [usingContact, setUsingContact] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentContact, setCurrentContact] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_8__.useRouter)();\n    // State untuk modal AI\n    const [showAIChatModal, setShowAIChatModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showTranslateSettingsModal, setShowTranslateSettingsModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showAISettingsModal, setShowAISettingsModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showNewChatModal, setShowNewChatModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Tambahkan state untuk AI chat di main window\n    const [isAIChatActive, setIsAIChatActive] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showIncomingCallModal, setShowIncomingCallModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [incomingCallId, setIncomingCallId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [incomingCallChatId, setIncomingCallChatId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [showVideoCallModal, setShowVideoCallModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showAudioCallModal, setShowAudioCallModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [callType, setCallType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"audio\");\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const fetchChats = async ()=>{\n            try {\n                setLoadingChats(true);\n                // Build a simple query without orderBy to avoid requiring indexes\n                const chatsQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.collection)(_firebase_config__WEBPACK_IMPORTED_MODULE_3__.db, \"chats\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.where)(\"participants\", \"array-contains\", user.uid));\n                // Setup realtime listener for chat updates\n                const unsubscribe = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.onSnapshot)(chatsQuery, (snapshot)=>{\n                    const chatsData = [];\n                    snapshot.forEach((doc)=>{\n                        chatsData.push({\n                            id: doc.id,\n                            ...doc.data()\n                        });\n                    });\n                    // Sort chats manually by updatedAt (most recent first)\n                    chatsData.sort((a, b)=>{\n                        const aTime = a.lastMessage?.timestamp || a.createdAt;\n                        const bTime = b.lastMessage?.timestamp || b.createdAt;\n                        if (!aTime) return 1; // null timestamps at the end\n                        if (!bTime) return -1;\n                        // Handle Firestore timestamps\n                        const aMillis = aTime.seconds ? aTime.seconds * 1000 : 0;\n                        const bMillis = bTime.seconds ? bTime.seconds * 1000 : 0;\n                        return bMillis - aMillis; // descending order (newest first)\n                    });\n                    setChatList(chatsData);\n                    setLoadingChats(false);\n                }, (error)=>{\n                    console.error(\"Error in chat listener:\", error);\n                    setLoadingChats(false);\n                });\n                return ()=>unsubscribe();\n            } catch (error) {\n                console.error(\"Error setting up chat listener:\", error);\n                setLoadingChats(false);\n            }\n        };\n        const unsubscribe = fetchChats();\n        return ()=>{\n            if (unsubscribe) {\n                unsubscribe.then((unsub)=>{\n                    if (unsub) unsub();\n                });\n            }\n        };\n    }, [\n        user.uid\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!user.uid) return;\n        // Fungsi untuk memeriksa panggilan masuk dari Firestore\n        const listenForIncomingCalls = ()=>{\n            // Setup query untuk panggilan masuk\n            const callsQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.collection)(_firebase_config__WEBPACK_IMPORTED_MODULE_3__.db, \"calls\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.where)(\"recipientId\", \"==\", user.uid), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.where)(\"status\", \"==\", \"ringing\"));\n            // Gunakan onSnapshot untuk mendapatkan update real-time\n            const unsubscribe = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.onSnapshot)(callsQuery, async (snapshot)=>{\n                try {\n                    // Jika sudah ada modal panggilan aktif, tolak panggilan baru secara otomatis\n                    if (showIncomingCallModal || showVideoCallModal || showAudioCallModal) {\n                        // Check for any new calls while a call is in progress\n                        const newCalls = snapshot.docs.filter((doc)=>{\n                            const callData = doc.data();\n                            // Hanya proses panggilan yang <30 detik\n                            return new Date().getTime() - new Date(callData.startedAt).getTime() < 30000;\n                        });\n                        // Tolak secara otomatis panggilan baru saat sudah ada panggilan aktif\n                        newCalls.forEach(async (doc)=>{\n                            if (doc.id !== incomingCallId) {\n                                console.log(\"Call already in progress, automatically declining new call:\", doc.id);\n                                await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.updateDoc)(doc.ref, {\n                                    status: \"declined\",\n                                    endedAt: new Date().toISOString()\n                                });\n                            }\n                        });\n                        return;\n                    }\n                    // Filter panggilan yang masih baru (kurang dari 30 detik)\n                    const incomingCalls = snapshot.docs.map((doc)=>({\n                            id: doc.id,\n                            ...doc.data()\n                        })).filter((call)=>new Date().getTime() - new Date(call.startedAt).getTime() < 30000);\n                    // Jika ada panggilan masuk, tampilkan modal\n                    if (incomingCalls.length > 0) {\n                        const latestCall = incomingCalls[0];\n                        // Tampilkan modal panggilan masuk\n                        setIncomingCallId(latestCall.id);\n                        setIncomingCallChatId(latestCall.chatId);\n                        setShowIncomingCallModal(true);\n                        // Mainkan suara notifikasi panggilan masuk\n                        try {\n                            // Gunakan file audio statis dari folder public\n                            const ringtoneSrc = \"/sounds/ringtone.mp3\";\n                            // Buat dan konfigurasi audio\n                            const audio = new Audio(ringtoneSrc);\n                            audio.volume = 0.7;\n                            audio.load();\n                            let audioPlayed = false;\n                            // Fungsi untuk memainkan audio\n                            const playAudio = ()=>{\n                                if (audioPlayed) return;\n                                // Coba putar dengan timeout\n                                setTimeout(()=>{\n                                    audio.play().then(()=>{\n                                        audioPlayed = true;\n                                        console.log(\"Notification sound playing successfully\");\n                                    }).catch((err)=>{\n                                        console.error(\"Error playing notification:\", err);\n                                        // Jalankan audio dengan user interaction jika gagal autoplay\n                                        const playOnce = function() {\n                                            if (!audioPlayed) {\n                                                audio.play().then(()=>{\n                                                    audioPlayed = true;\n                                                    console.log(\"Notification sound playing on user interaction\");\n                                                }).catch((e)=>{\n                                                    console.warn(\"Still cannot play audio:\", e);\n                                                    // Final fallback - beep jika didukung\n                                                    try {\n                                                        if (window.HTMLAudioElement) {\n                                                            console.log(\"Trying window.beep as last resort\");\n                                                            // @ts-ignore\n                                                            window.beep && window.beep();\n                                                        }\n                                                    } catch (err) {\n                                                        console.error(\"All audio playback methods failed\");\n                                                    }\n                                                });\n                                            }\n                                            document.removeEventListener(\"click\", playOnce);\n                                            document.removeEventListener(\"touchstart\", playOnce);\n                                        };\n                                        document.addEventListener(\"click\", playOnce, {\n                                            once: true\n                                        });\n                                        document.addEventListener(\"touchstart\", playOnce, {\n                                            once: true\n                                        });\n                                    });\n                                }, 100); // Delay lebih lama (100ms)\n                            };\n                            // Coba putar audio tanpa delay\n                            playAudio();\n                        } catch (error) {\n                            console.error(\"Error with notification sound:\", error);\n                        }\n                    } else if (incomingCallId && showIncomingCallModal) {\n                        // Jika tidak ada panggilan masuk tapi modal masih terbuka, tutup modal\n                        setShowIncomingCallModal(false);\n                        setIncomingCallId(null);\n                        setIncomingCallChatId(null);\n                    }\n                    // Bersihkan panggilan yang sudah terlalu lama (lebih dari 30 detik masih 'ringing')\n                    const expiredCallsQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.collection)(_firebase_config__WEBPACK_IMPORTED_MODULE_3__.db, \"calls\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.where)(\"recipientId\", \"==\", user.uid), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.where)(\"status\", \"==\", \"ringing\"));\n                    const expiredCallsSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.getDocs)(expiredCallsQuery);\n                    expiredCallsSnapshot.docs.forEach(async (doc)=>{\n                        const callData = doc.data();\n                        if (new Date().getTime() - new Date(callData.startedAt).getTime() >= 30000) {\n                            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.updateDoc)(doc.ref, {\n                                status: \"missed\",\n                                endedAt: new Date().toISOString()\n                            });\n                        }\n                    });\n                } catch (error) {\n                    console.error(\"Error handling incoming calls:\", error);\n                }\n            });\n            // Return unsubscribe function\n            return unsubscribe;\n        };\n        const unsubscribeCalls = listenForIncomingCalls();\n        return ()=>{\n            if (unsubscribeCalls) {\n                unsubscribeCalls();\n            }\n        };\n    }, [\n        user.uid,\n        showIncomingCallModal,\n        showVideoCallModal,\n        showAudioCallModal,\n        incomingCallId\n    ]);\n    const handleLogout = async ()=>{\n        try {\n            // Set user offline status\n            await (0,_lib_users__WEBPACK_IMPORTED_MODULE_7__.setUserOffline)(user.uid);\n            // Then sign out\n            await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.signOut)(_firebase_config__WEBPACK_IMPORTED_MODULE_3__.auth);\n        } catch (error) {\n            console.error(\"Error logging out:\", error);\n        }\n    };\n    const toggleSidebar = ()=>{\n        setShowSidebar(!showSidebar);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleResize = ()=>{\n            setIsMobileView(window.innerWidth < 768);\n            if (window.innerWidth >= 768) {\n                setShowSidebar(true);\n            }\n        };\n        handleResize(); // Initialize on mount\n        window.addEventListener(\"resize\", handleResize);\n        return ()=>window.removeEventListener(\"resize\", handleResize);\n    }, []);\n    // Fungsi untuk memulai chat baru dengan kontak\n    const handleContactSelect = async (contact)=>{\n        try {\n            // Cari user dengan nomor telepon yang sama\n            const usersQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.collection)(_firebase_config__WEBPACK_IMPORTED_MODULE_3__.db, \"users\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.where)(\"phoneNumber\", \"==\", contact.phoneNumber));\n            const usersSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.getDocs)(usersQuery);\n            if (!usersSnapshot.empty) {\n                // Jika ada user dengan nomor telepon yang sama\n                const userId = usersSnapshot.docs[0].id;\n                // Cek apakah sudah ada chat dengan user tersebut\n                const chatsQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.collection)(_firebase_config__WEBPACK_IMPORTED_MODULE_3__.db, \"chats\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.where)(\"participants\", \"array-contains\", user.uid));\n                const chatsSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.getDocs)(chatsQuery);\n                let existingChatId = null;\n                chatsSnapshot.forEach((doc)=>{\n                    const chatData = doc.data();\n                    if (chatData.participants.includes(userId)) {\n                        existingChatId = doc.id;\n                    }\n                });\n                if (existingChatId) {\n                    // Jika chat sudah ada, buka chat tersebut\n                    setSelectedChat(existingChatId);\n                    setUsingContact(false);\n                    setCurrentContact(null);\n                } else {\n                    // Jika belum ada chat, buat chat baru\n                    const newChatRef = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.collection)(_firebase_config__WEBPACK_IMPORTED_MODULE_3__.db, \"chats\"), {\n                        participants: [\n                            user.uid,\n                            userId\n                        ],\n                        createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.serverTimestamp)(),\n                        updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.serverTimestamp)()\n                    });\n                    setSelectedChat(newChatRef.id);\n                    setUsingContact(false);\n                    setCurrentContact(null);\n                }\n            } else {\n                // Jika tidak ada user dengan nomor telepon yang sama\n                // Gunakan kontak langsung\n                setUsingContact(true);\n                setCurrentContact(contact);\n                setSelectedChat(null);\n            }\n            if (isMobileView) {\n                setShowSidebar(false);\n            }\n        } catch (error) {\n            console.error(\"Error starting chat with contact:\", error);\n        }\n    };\n    // Fungsi untuk menyimpan pengaturan AI\n    const handleSaveAIConfig = async (config)=>{\n        try {\n            updateAIConfig(config);\n            // Simpan juga ke firestore untuk backup\n            await (0,_lib_ai_config__WEBPACK_IMPORTED_MODULE_12__.saveAIConfig)(user.uid, config);\n        } catch (error) {\n            console.error(\"Error saving AI config:\", error);\n        }\n    };\n    // Handle AI Chat dari sidebar\n    const handleAIChatSelect = ()=>{\n        // Nonaktifkan chat yang dipilih\n        setSelectedChat(null);\n        setIsAIChatActive(true);\n        if (isMobileView) {\n            setShowSidebar(false);\n        }\n    };\n    const handleAcceptCall = (callId, isVideoCall)=>{\n        console.log(\"Accepting call:\", callId);\n        // Simpan ID panggilan masuk terlebih dahulu, lalu baru tutup modal\n        setIncomingCallId(callId);\n        // Set tipe panggilan berdasarkan jenis panggilan yang diterima\n        setCallType(isVideoCall ? \"video\" : \"audio\");\n        // Tutup modal panggilan masuk\n        setShowIncomingCallModal(false);\n        // Berikan delay kecil sebelum membuka VideoCallModal\n        // untuk memastikan IncomingCallModal sudah benar-benar tertutup\n        setTimeout(()=>{\n            // Handle panggilan dengan timer yang lebih tepat\n            const openVideoCallModal = ()=>{\n                console.log(\"Opening VideoCallModal for call:\", callId);\n                // Pastikan bahwa ketika kita membuka VideoCallModal, itu tidak langsung tertutup\n                setShowVideoCallModal(true);\n            };\n            // Jika panggilan berasal dari chat yang sedang aktif\n            if (incomingCallChatId === selectedChat) {\n                // Gunakan timer untuk memastikan status chat sudah diupdate\n                setTimeout(openVideoCallModal, 300);\n            } else {\n                // Jika dari chat lain, pindah ke chat tersebut dulu, lalu buka modal\n                setSelectedChat(incomingCallChatId);\n                // Gunakan timeout yang lebih lama untuk memastikan UI sudah diupdate sepenuhnya\n                setTimeout(openVideoCallModal, 700);\n            }\n        }, 300); // Tambahkan delay lebih lama untuk memastikan state sudah diupdate\n    };\n    const handleRejectCall = async ()=>{\n        console.log(\"Rejecting call:\", incomingCallId);\n        // Jika ada ID panggilan, update status di Firestore\n        if (incomingCallId) {\n            try {\n                await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.updateDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_4__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_3__.db, \"calls\", incomingCallId), {\n                    status: \"declined\",\n                    endedAt: new Date().toISOString() // Gunakan nilai klien untuk respons lebih cepat\n                });\n                console.log(\"Call declined successfully\");\n            } catch (error) {\n                console.error(\"Error declining call:\", error);\n            }\n        }\n        // Tutup modal dan reset state\n        setShowIncomingCallModal(false);\n        // Delay sedikit reset state untuk mencegah race condition\n        setTimeout(()=>{\n            setIncomingCallId(null);\n            setIncomingCallChatId(null);\n        }, 300);\n    };\n    // Handler untuk menutup modal video call\n    const handleVideoCallClose = ()=>{\n        console.log(\"Video call modal closed\");\n        setShowVideoCallModal(false);\n        // Delay singkat untuk memastikan tidak ada race condition\n        setTimeout(()=>{\n            setIncomingCallId(null);\n            setIncomingCallChatId(null);\n        }, 300);\n    };\n    // Simpan data user saat login ke localStorage\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Simpan data user ke localStorage untuk penggunaan offline\n        if (user && user.uid) {\n            const userData = {\n                uid: user.uid,\n                email: user.email,\n                displayName: user.displayName || user.email?.split(\"@\")[0] || \"Pengguna\",\n                photoURL: user.photoURL || null,\n                lastSeen: new Date().toISOString(),\n                isOnline: true\n            };\n            const users = JSON.parse(localStorage.getItem(\"hallo_users\") || \"{}\");\n            users[user.uid] = userData;\n            localStorage.setItem(\"hallo_users\", JSON.stringify(users));\n        }\n    }, [\n        user\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative flex h-screen overflow-hidden\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute top-0 left-0 w-full h-full overflow-hidden z-0\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute -top-24 -left-24 w-96 h-96 bg-white/10 rounded-full blur-3xl\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatApp.tsx\",\n                        lineNumber: 510,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute top-1/3 -right-24 w-64 h-64 bg-light/20 rounded-full blur-3xl\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatApp.tsx\",\n                        lineNumber: 511,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute -bottom-32 left-1/4 w-80 h-80 bg-white/10 rounded-full blur-3xl\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatApp.tsx\",\n                        lineNumber: 512,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatApp.tsx\",\n                lineNumber: 509,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex w-full h-full z-10\",\n                children: [\n                    isMobileView && selectedChat && !showSidebar && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: toggleSidebar,\n                        className: \"absolute top-4 left-4 z-30 bg-white/90 backdrop-blur-md p-2 rounded-full shadow-md hover:bg-white transition-colors\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiArrowLeft_react_icons_fi__WEBPACK_IMPORTED_MODULE_17__.FiArrowLeft, {\n                            size: 24,\n                            className: \"text-primary\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatApp.tsx\",\n                            lineNumber: 523,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatApp.tsx\",\n                        lineNumber: 519,\n                        columnNumber: 11\n                    }, this),\n                    (showSidebar || !selectedChat) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-full md:w-1/3 lg:w-1/4 h-full bg-white/90 backdrop-blur-md z-20 shadow-xl animate-slideIn overflow-hidden\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Sidebar__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                            user: user,\n                            chats: chatList,\n                            loading: loadingChats,\n                            selectedChatId: selectedChat,\n                            setSelectedChat: (chatId)=>{\n                                setSelectedChat(chatId);\n                                if (isMobileView) {\n                                    setShowSidebar(false);\n                                }\n                            },\n                            onLogout: handleLogout,\n                            onContactSelect: handleContactSelect,\n                            onOpenAIChat: handleAIChatSelect,\n                            onOpenTranslateSettings: ()=>setShowTranslateSettingsModal(true),\n                            onOpenAISettings: ()=>setShowAISettingsModal(true)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatApp.tsx\",\n                            lineNumber: 530,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatApp.tsx\",\n                        lineNumber: 529,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: `${showSidebar && !isMobileView ? \"w-2/3 lg:w-3/4\" : \"w-full\"} h-full relative ${!selectedChat && !isMobileView ? \"flex items-center justify-center\" : \"\"}`,\n                        children: selectedChat ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-full h-full bg-white/80 backdrop-blur-md shadow-lg no-border-radius overflow-hidden\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ChatWindow__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                user: user,\n                                chatId: selectedChat,\n                                onBackClick: isMobileView ? toggleSidebar : undefined\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatApp.tsx\",\n                                lineNumber: 554,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatApp.tsx\",\n                            lineNumber: 553,\n                            columnNumber: 13\n                        }, this) : isAIChatActive ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-full h-full bg-white/80 backdrop-blur-md shadow-lg no-border-radius overflow-hidden\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_AIChatModal__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                isOpen: true,\n                                onClose: ()=>setIsAIChatActive(false),\n                                customInstructions: aiConfig.customInstructions,\n                                model: aiConfig.model,\n                                defaultLanguage: aiConfig.defaultLanguage,\n                                isEmbedded: true\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatApp.tsx\",\n                                lineNumber: 562,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatApp.tsx\",\n                            lineNumber: 561,\n                            columnNumber: 13\n                        }, this) : usingContact && currentContact ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-full h-full bg-white/80 backdrop-blur-md shadow-lg no-border-radius overflow-hidden\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ChatWindow__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                user: user,\n                                chatId: null,\n                                onBackClick: isMobileView ? toggleSidebar : undefined,\n                                contact: currentContact,\n                                usingContact: true\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatApp.tsx\",\n                                lineNumber: 573,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatApp.tsx\",\n                            lineNumber: 572,\n                            columnNumber: 13\n                        }, this) : !isMobileView && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-8 text-center bg-white/60 backdrop-blur-md no-border-radius shadow-xl max-w-md\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-16 h-16 mx-auto mb-6 bg-primary rounded-full flex items-center justify-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiArrowLeft_react_icons_fi__WEBPACK_IMPORTED_MODULE_17__.FiMessageSquare, {\n                                        className: \"text-3xl text-white\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatApp.tsx\",\n                                        lineNumber: 585,\n                                        columnNumber: 19\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatApp.tsx\",\n                                    lineNumber: 584,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-2xl font-bold text-primary mb-4\",\n                                    children: \"Selamat Datang di Hallo\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatApp.tsx\",\n                                    lineNumber: 587,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-gray-600 mb-6\",\n                                    children: \"Pilih chat di samping atau mulai percakapan baru untuk memulai.\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatApp.tsx\",\n                                    lineNumber: 588,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>setShowNewChatModal(true),\n                                    className: \"px-4 py-2 bg-primary hover:bg-dark text-white font-medium rounded-xl transition-colors shadow-md shadow-primary/20 hover:shadow-lg hover:shadow-primary/30\",\n                                    children: \"Mulai Chat Baru\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatApp.tsx\",\n                                    lineNumber: 591,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatApp.tsx\",\n                            lineNumber: 583,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatApp.tsx\",\n                        lineNumber: 551,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatApp.tsx\",\n                lineNumber: 516,\n                columnNumber: 7\n            }, this),\n            showAIChatModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_AIChatModal__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                isOpen: true,\n                onClose: ()=>setShowAIChatModal(false),\n                customInstructions: aiConfig.customInstructions,\n                model: aiConfig.model,\n                defaultLanguage: aiConfig.defaultLanguage\n            }, void 0, false, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatApp.tsx\",\n                lineNumber: 605,\n                columnNumber: 9\n            }, this),\n            showTranslateSettingsModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_TranslateSettingsModal__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                isOpen: true,\n                onClose: ()=>setShowTranslateSettingsModal(false)\n            }, void 0, false, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatApp.tsx\",\n                lineNumber: 615,\n                columnNumber: 9\n            }, this),\n            showAISettingsModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_AISettingsModal__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                isOpen: true,\n                onClose: ()=>setShowAISettingsModal(false),\n                config: aiConfig,\n                onSave: handleSaveAIConfig\n            }, void 0, false, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatApp.tsx\",\n                lineNumber: 622,\n                columnNumber: 9\n            }, this),\n            showNewChatModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_NewChatModal__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                onClose: ()=>setShowNewChatModal(false),\n                onCreateChat: (userId)=>{\n                    handleContactSelect({\n                        name: \"\",\n                        phoneNumber: userId\n                    });\n                    setShowNewChatModal(false);\n                },\n                currentUserId: user.uid\n            }, void 0, false, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatApp.tsx\",\n                lineNumber: 631,\n                columnNumber: 9\n            }, this),\n            showVideoCallModal && incomingCallId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_VideoCallModal__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                isOpen: showVideoCallModal,\n                onClose: handleVideoCallClose,\n                user: user,\n                chatId: selectedChat || \"\",\n                recipientId: selectedChat ? // Temukan ID penerima dari chat saat ini (bukan penelepon)\n                chatList.find((c)=>c.id === selectedChat)?.participants.find((p)=>p !== user.uid) || \"\" : \"\",\n                isVideoCall: callType === \"video\",\n                incomingCallId: incomingCallId\n            }, void 0, false, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatApp.tsx\",\n                lineNumber: 643,\n                columnNumber: 9\n            }, this),\n            showIncomingCallModal && incomingCallId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_IncomingCallModal__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                isOpen: showIncomingCallModal,\n                onAccept: handleAcceptCall,\n                onReject: handleRejectCall,\n                user: user,\n                callId: incomingCallId\n            }, void 0, false, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatApp.tsx\",\n                lineNumber: 660,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatApp.tsx\",\n        lineNumber: 507,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cUosY0FBYyxDQUFDdkQ7b0JBQ2JOLG9CQUFvQjt3QkFBRThELE1BQU07d0JBQUkzRCxhQUFhRztvQkFBTztvQkFDcEQ5RixvQkFBb0I7Z0JBQ3RCO2dCQUNBdUosZUFBZWhMLEtBQUswQyxHQUFHOzs7Ozs7WUFLMUJSLHNCQUFzQkosZ0NBQ3JCLDhEQUFDaEMsd0RBQWNBO2dCQUNidUssUUFBUW5JO2dCQUNSb0ksU0FBUy9CO2dCQUNUdkksTUFBTUE7Z0JBQ05vRixRQUFRakYsZ0JBQWdCO2dCQUN4QjhLLGFBQWE5SyxlQUNYLDJEQUEyRDtnQkFDM0RNLFNBQVN5SyxJQUFJLENBQUNDLENBQUFBLElBQUtBLEVBQUVuSSxFQUFFLEtBQUs3QyxlQUFld0gsYUFBYXVELEtBQUtOLENBQUFBLElBQUtBLE1BQU01SyxLQUFLMEMsR0FBRyxLQUFLLEtBQ3JGO2dCQUVGMEYsYUFBYTlGLGFBQWE7Z0JBQzFCUixnQkFBZ0JBOzs7Ozs7WUFLbkJGLHlCQUF5QkUsZ0NBQ3hCLDhEQUFDakMsMkRBQWlCQTtnQkFDaEJ3SyxRQUFRekk7Z0JBQ1J3SixVQUFVbEQ7Z0JBQ1ZtRCxVQUFVL0M7Z0JBQ1Z0SSxNQUFNQTtnQkFDTm1JLFFBQVFyRzs7Ozs7Ozs7Ozs7O0FBS2xCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFsbG8vLi9zcmMvY29tcG9uZW50cy9DaGF0QXBwLnRzeD80YzJhIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFVzZXIgfSBmcm9tICdmaXJlYmFzZS9hdXRoJztcbmltcG9ydCB7IHNpZ25PdXQgfSBmcm9tICdmaXJlYmFzZS9hdXRoJztcbmltcG9ydCB7IGF1dGgsIGRiIH0gZnJvbSAnQC9maXJlYmFzZS9jb25maWcnO1xuaW1wb3J0IHsgXG4gIGNvbGxlY3Rpb24sIFxuICBxdWVyeSwgXG4gIG9yZGVyQnksIFxuICBvblNuYXBzaG90LCBcbiAgd2hlcmUsIFxuICBnZXREb2NzLCBcbiAgYWRkRG9jLCBcbiAgc2VydmVyVGltZXN0YW1wLFxuICB1cGRhdGVEb2MsXG4gIGRvY1xufSBmcm9tICdmaXJlYmFzZS9maXJlc3RvcmUnO1xuaW1wb3J0IFNpZGViYXIgZnJvbSAnLi9TaWRlYmFyJztcbmltcG9ydCBDaGF0V2luZG93IGZyb20gJy4vQ2hhdFdpbmRvdyc7XG5pbXBvcnQgeyB1c2VDb2xsZWN0aW9uRGF0YSB9IGZyb20gJ3JlYWN0LWZpcmViYXNlLWhvb2tzL2ZpcmVzdG9yZSc7XG5pbXBvcnQgeyBzZXRVc2VyT2ZmbGluZSB9IGZyb20gJ0AvbGliL3VzZXJzJztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7XG5pbXBvcnQgQUlDaGF0TW9kYWwgZnJvbSAnLi9BSUNoYXRNb2RhbCc7XG5pbXBvcnQgVHJhbnNsYXRlU2V0dGluZ3NNb2RhbCBmcm9tICcuL1RyYW5zbGF0ZVNldHRpbmdzTW9kYWwnO1xuaW1wb3J0IEFJU2V0dGluZ3NNb2RhbCBmcm9tICcuL0FJU2V0dGluZ3NNb2RhbCc7XG5pbXBvcnQgeyBBSUNvbmZpZyB9IGZyb20gJ0AvbGliL3R5cGVzJztcbmltcG9ydCB7IGdldEFJQ29uZmlnLCBzYXZlQUlDb25maWcsIERFRkFVTFRfQUlfQ09ORklHIH0gZnJvbSAnQC9saWIvYWktY29uZmlnJztcbmltcG9ydCB7IEZpQXJyb3dMZWZ0IH0gZnJvbSAncmVhY3QtaWNvbnMvZmknO1xuaW1wb3J0IHsgRmlNZXNzYWdlU3F1YXJlIH0gZnJvbSAncmVhY3QtaWNvbnMvZmknO1xuaW1wb3J0IHsgZ2V0TW9kZWxEaXNwbGF5TmFtZSB9IGZyb20gJ0AvbGliL3F3ZW4nO1xuaW1wb3J0IHsgdXNlQUlDb25maWcgfSBmcm9tICdAL2xpYi9jb250ZXh0JztcbmltcG9ydCBOZXdDaGF0TW9kYWwgZnJvbSAnLi9OZXdDaGF0TW9kYWwnO1xuaW1wb3J0IEluY29taW5nQ2FsbE1vZGFsIGZyb20gJy4vSW5jb21pbmdDYWxsTW9kYWwnO1xuaW1wb3J0IFZpZGVvQ2FsbE1vZGFsIGZyb20gJy4vVmlkZW9DYWxsTW9kYWwnO1xuXG50eXBlIENoYXQgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIHBhcnRpY2lwYW50czogc3RyaW5nW107XG4gIGxhc3RNZXNzYWdlPzoge1xuICAgIHRleHQ6IHN0cmluZztcbiAgICB0aW1lc3RhbXA6IGFueTtcbiAgICBzZW5kZXJJZDogc3RyaW5nO1xuICB9O1xuICBjcmVhdGVkQXQ6IGFueTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENoYXRBcHAoeyB1c2VyIH06IHsgdXNlcjogVXNlciB9KSB7XG4gIGNvbnN0IHsgYWlDb25maWcsIHVwZGF0ZUFJQ29uZmlnIH0gPSB1c2VBSUNvbmZpZygpO1xuICBcbiAgY29uc3QgW3NlbGVjdGVkQ2hhdCwgc2V0U2VsZWN0ZWRDaGF0XSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbaXNNb2JpbGVWaWV3LCBzZXRJc01vYmlsZVZpZXddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd1NpZGViYXIsIHNldFNob3dTaWRlYmFyXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbY2hhdExpc3QsIHNldENoYXRMaXN0XSA9IHVzZVN0YXRlPENoYXRbXT4oW10pO1xuICBjb25zdCBbbG9hZGluZ0NoYXRzLCBzZXRMb2FkaW5nQ2hhdHNdID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFt1c2luZ0NvbnRhY3QsIHNldFVzaW5nQ29udGFjdF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjdXJyZW50Q29udGFjdCwgc2V0Q3VycmVudENvbnRhY3RdID0gdXNlU3RhdGU8e25hbWU6IHN0cmluZywgcGhvbmVOdW1iZXI6IHN0cmluZ30gfCBudWxsPihudWxsKTtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIFxuICAvLyBTdGF0ZSB1bnR1ayBtb2RhbCBBSVxuICBjb25zdCBbc2hvd0FJQ2hhdE1vZGFsLCBzZXRTaG93QUlDaGF0TW9kYWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd1RyYW5zbGF0ZVNldHRpbmdzTW9kYWwsIHNldFNob3dUcmFuc2xhdGVTZXR0aW5nc01vZGFsXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dBSVNldHRpbmdzTW9kYWwsIHNldFNob3dBSVNldHRpbmdzTW9kYWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd05ld0NoYXRNb2RhbCwgc2V0U2hvd05ld0NoYXRNb2RhbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIFxuICAvLyBUYW1iYWhrYW4gc3RhdGUgdW50dWsgQUkgY2hhdCBkaSBtYWluIHdpbmRvd1xuICBjb25zdCBbaXNBSUNoYXRBY3RpdmUsIHNldElzQUlDaGF0QWN0aXZlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgXG4gIGNvbnN0IFtzaG93SW5jb21pbmdDYWxsTW9kYWwsIHNldFNob3dJbmNvbWluZ0NhbGxNb2RhbF0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IFtpbmNvbWluZ0NhbGxJZCwgc2V0SW5jb21pbmdDYWxsSWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpbmNvbWluZ0NhbGxDaGF0SWQsIHNldEluY29taW5nQ2FsbENoYXRJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3Nob3dWaWRlb0NhbGxNb2RhbCwgc2V0U2hvd1ZpZGVvQ2FsbE1vZGFsXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3QgW3Nob3dBdWRpb0NhbGxNb2RhbCwgc2V0U2hvd0F1ZGlvQ2FsbE1vZGFsXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3QgW2NhbGxUeXBlLCBzZXRDYWxsVHlwZV0gPSB1c2VTdGF0ZTwnYXVkaW8nIHwgJ3ZpZGVvJz4oJ2F1ZGlvJyk7XG4gIFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGZldGNoQ2hhdHMgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBzZXRMb2FkaW5nQ2hhdHModHJ1ZSk7XG4gICAgICAgIC8vIEJ1aWxkIGEgc2ltcGxlIHF1ZXJ5IHdpdGhvdXQgb3JkZXJCeSB0byBhdm9pZCByZXF1aXJpbmcgaW5kZXhlc1xuICAgICAgICBjb25zdCBjaGF0c1F1ZXJ5ID0gcXVlcnkoXG4gICAgICAgICAgY29sbGVjdGlvbihkYiwgJ2NoYXRzJyksXG4gICAgICAgICAgd2hlcmUoJ3BhcnRpY2lwYW50cycsICdhcnJheS1jb250YWlucycsIHVzZXIudWlkKVxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgLy8gU2V0dXAgcmVhbHRpbWUgbGlzdGVuZXIgZm9yIGNoYXQgdXBkYXRlc1xuICAgICAgICBjb25zdCB1bnN1YnNjcmliZSA9IG9uU25hcHNob3QoY2hhdHNRdWVyeSwgXG4gICAgICAgICAgKHNuYXBzaG90KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjaGF0c0RhdGE6IENoYXRbXSA9IFtdO1xuICAgICAgICAgICAgc25hcHNob3QuZm9yRWFjaCgoZG9jKSA9PiB7XG4gICAgICAgICAgICAgIGNoYXRzRGF0YS5wdXNoKHtcbiAgICAgICAgICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAgICAgICAgIC4uLmRvYy5kYXRhKClcbiAgICAgICAgICAgICAgfSBhcyBDaGF0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTb3J0IGNoYXRzIG1hbnVhbGx5IGJ5IHVwZGF0ZWRBdCAobW9zdCByZWNlbnQgZmlyc3QpXG4gICAgICAgICAgICBjaGF0c0RhdGEuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBhVGltZSA9IGEubGFzdE1lc3NhZ2U/LnRpbWVzdGFtcCB8fCBhLmNyZWF0ZWRBdDtcbiAgICAgICAgICAgICAgY29uc3QgYlRpbWUgPSBiLmxhc3RNZXNzYWdlPy50aW1lc3RhbXAgfHwgYi5jcmVhdGVkQXQ7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBpZiAoIWFUaW1lKSByZXR1cm4gMTsgIC8vIG51bGwgdGltZXN0YW1wcyBhdCB0aGUgZW5kXG4gICAgICAgICAgICAgIGlmICghYlRpbWUpIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIEhhbmRsZSBGaXJlc3RvcmUgdGltZXN0YW1wc1xuICAgICAgICAgICAgICBjb25zdCBhTWlsbGlzID0gYVRpbWUuc2Vjb25kcyA/IChhVGltZS5zZWNvbmRzICogMTAwMCkgOiAwO1xuICAgICAgICAgICAgICBjb25zdCBiTWlsbGlzID0gYlRpbWUuc2Vjb25kcyA/IChiVGltZS5zZWNvbmRzICogMTAwMCkgOiAwO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgcmV0dXJuIGJNaWxsaXMgLSBhTWlsbGlzOyAgLy8gZGVzY2VuZGluZyBvcmRlciAobmV3ZXN0IGZpcnN0KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHNldENoYXRMaXN0KGNoYXRzRGF0YSk7XG4gICAgICAgICAgICBzZXRMb2FkaW5nQ2hhdHMoZmFsc2UpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBjaGF0IGxpc3RlbmVyOicsIGVycm9yKTtcbiAgICAgICAgICAgIHNldExvYWRpbmdDaGF0cyhmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuICgpID0+IHVuc3Vic2NyaWJlKCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZXR0aW5nIHVwIGNoYXQgbGlzdGVuZXI6JywgZXJyb3IpO1xuICAgICAgICBzZXRMb2FkaW5nQ2hhdHMoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB1bnN1YnNjcmliZSA9IGZldGNoQ2hhdHMoKTtcbiAgICBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKHVuc3Vic2NyaWJlKSB7XG4gICAgICAgIHVuc3Vic2NyaWJlLnRoZW4odW5zdWIgPT4ge1xuICAgICAgICAgIGlmICh1bnN1YikgdW5zdWIoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW3VzZXIudWlkXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXVzZXIudWlkKSByZXR1cm47XG4gICAgXG4gICAgLy8gRnVuZ3NpIHVudHVrIG1lbWVyaWtzYSBwYW5nZ2lsYW4gbWFzdWsgZGFyaSBGaXJlc3RvcmVcbiAgICBjb25zdCBsaXN0ZW5Gb3JJbmNvbWluZ0NhbGxzID0gKCkgPT4ge1xuICAgICAgLy8gU2V0dXAgcXVlcnkgdW50dWsgcGFuZ2dpbGFuIG1hc3VrXG4gICAgICBjb25zdCBjYWxsc1F1ZXJ5ID0gcXVlcnkoXG4gICAgICAgIGNvbGxlY3Rpb24oZGIsICdjYWxscycpLFxuICAgICAgICB3aGVyZSgncmVjaXBpZW50SWQnLCAnPT0nLCB1c2VyLnVpZCksXG4gICAgICAgIHdoZXJlKCdzdGF0dXMnLCAnPT0nLCAncmluZ2luZycpXG4gICAgICApO1xuICAgICAgXG4gICAgICAvLyBHdW5ha2FuIG9uU25hcHNob3QgdW50dWsgbWVuZGFwYXRrYW4gdXBkYXRlIHJlYWwtdGltZVxuICAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSBvblNuYXBzaG90KGNhbGxzUXVlcnksIGFzeW5jIChzbmFwc2hvdCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIEppa2Egc3VkYWggYWRhIG1vZGFsIHBhbmdnaWxhbiBha3RpZiwgdG9sYWsgcGFuZ2dpbGFuIGJhcnUgc2VjYXJhIG90b21hdGlzXG4gICAgICAgICAgaWYgKHNob3dJbmNvbWluZ0NhbGxNb2RhbCB8fCBzaG93VmlkZW9DYWxsTW9kYWwgfHwgc2hvd0F1ZGlvQ2FsbE1vZGFsKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBmb3IgYW55IG5ldyBjYWxscyB3aGlsZSBhIGNhbGwgaXMgaW4gcHJvZ3Jlc3NcbiAgICAgICAgICAgIGNvbnN0IG5ld0NhbGxzID0gc25hcHNob3QuZG9jc1xuICAgICAgICAgICAgICAuZmlsdGVyKGRvYyA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FsbERhdGEgPSBkb2MuZGF0YSgpO1xuICAgICAgICAgICAgICAgIC8vIEhhbnlhIHByb3NlcyBwYW5nZ2lsYW4geWFuZyA8MzAgZGV0aWtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShjYWxsRGF0YS5zdGFydGVkQXQpLmdldFRpbWUoKSA8IDMwMDAwO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVG9sYWsgc2VjYXJhIG90b21hdGlzIHBhbmdnaWxhbiBiYXJ1IHNhYXQgc3VkYWggYWRhIHBhbmdnaWxhbiBha3RpZlxuICAgICAgICAgICAgbmV3Q2FsbHMuZm9yRWFjaChhc3luYyAoZG9jKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChkb2MuaWQgIT09IGluY29taW5nQ2FsbElkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0NhbGwgYWxyZWFkeSBpbiBwcm9ncmVzcywgYXV0b21hdGljYWxseSBkZWNsaW5pbmcgbmV3IGNhbGw6JywgZG9jLmlkKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVEb2MoZG9jLnJlZiwge1xuICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnZGVjbGluZWQnLFxuICAgICAgICAgICAgICAgICAgZW5kZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEZpbHRlciBwYW5nZ2lsYW4geWFuZyBtYXNpaCBiYXJ1IChrdXJhbmcgZGFyaSAzMCBkZXRpaylcbiAgICAgICAgICBjb25zdCBpbmNvbWluZ0NhbGxzID0gc25hcHNob3QuZG9jc1xuICAgICAgICAgICAgLm1hcChkb2MgPT4gKHsgaWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSBhcyBhbnkgfSkpXG4gICAgICAgICAgICAuZmlsdGVyKGNhbGwgPT4gXG4gICAgICAgICAgICAgIG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gbmV3IERhdGUoY2FsbC5zdGFydGVkQXQpLmdldFRpbWUoKSA8IDMwMDAwXG4gICAgICAgICAgICApO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEppa2EgYWRhIHBhbmdnaWxhbiBtYXN1aywgdGFtcGlsa2FuIG1vZGFsXG4gICAgICAgICAgaWYgKGluY29taW5nQ2FsbHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgbGF0ZXN0Q2FsbCA9IGluY29taW5nQ2FsbHNbMF07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFRhbXBpbGthbiBtb2RhbCBwYW5nZ2lsYW4gbWFzdWtcbiAgICAgICAgICAgIHNldEluY29taW5nQ2FsbElkKGxhdGVzdENhbGwuaWQpO1xuICAgICAgICAgICAgc2V0SW5jb21pbmdDYWxsQ2hhdElkKGxhdGVzdENhbGwuY2hhdElkKTtcbiAgICAgICAgICAgIHNldFNob3dJbmNvbWluZ0NhbGxNb2RhbCh0cnVlKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gTWFpbmthbiBzdWFyYSBub3RpZmlrYXNpIHBhbmdnaWxhbiBtYXN1a1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgLy8gR3VuYWthbiBmaWxlIGF1ZGlvIHN0YXRpcyBkYXJpIGZvbGRlciBwdWJsaWNcbiAgICAgICAgICAgICAgY29uc3QgcmluZ3RvbmVTcmMgPSAnL3NvdW5kcy9yaW5ndG9uZS5tcDMnO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gQnVhdCBkYW4ga29uZmlndXJhc2kgYXVkaW9cbiAgICAgICAgICAgICAgY29uc3QgYXVkaW8gPSBuZXcgQXVkaW8ocmluZ3RvbmVTcmMpO1xuICAgICAgICAgICAgICBhdWRpby52b2x1bWUgPSAwLjc7XG4gICAgICAgICAgICAgIGF1ZGlvLmxvYWQoKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGxldCBhdWRpb1BsYXllZCA9IGZhbHNlO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gRnVuZ3NpIHVudHVrIG1lbWFpbmthbiBhdWRpb1xuICAgICAgICAgICAgICBjb25zdCBwbGF5QXVkaW8gPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGF1ZGlvUGxheWVkKSByZXR1cm47XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gQ29iYSBwdXRhciBkZW5nYW4gdGltZW91dFxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgYXVkaW8ucGxheSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhdWRpb1BsYXllZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdOb3RpZmljYXRpb24gc291bmQgcGxheWluZyBzdWNjZXNzZnVsbHknKTtcbiAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBsYXlpbmcgbm90aWZpY2F0aW9uOicsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBKYWxhbmthbiBhdWRpbyBkZW5nYW4gdXNlciBpbnRlcmFjdGlvbiBqaWthIGdhZ2FsIGF1dG9wbGF5XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBsYXlPbmNlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCFhdWRpb1BsYXllZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW8ucGxheSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBhdWRpb1BsYXllZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdOb3RpZmljYXRpb24gc291bmQgcGxheWluZyBvbiB1c2VyIGludGVyYWN0aW9uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdTdGlsbCBjYW5ub3QgcGxheSBhdWRpbzonLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmluYWwgZmFsbGJhY2sgLSBiZWVwIGppa2EgZGlkdWt1bmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LkhUTUxBdWRpb0VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUcnlpbmcgd2luZG93LmJlZXAgYXMgbGFzdCByZXNvcnQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5iZWVwICYmIHdpbmRvdy5iZWVwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdBbGwgYXVkaW8gcGxheWJhY2sgbWV0aG9kcyBmYWlsZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcGxheU9uY2UpO1xuICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBwbGF5T25jZSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHBsYXlPbmNlLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBwbGF5T25jZSwgeyBvbmNlOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSwgMTAwKTsgLy8gRGVsYXkgbGViaWggbGFtYSAoMTAwbXMpXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBDb2JhIHB1dGFyIGF1ZGlvIHRhbnBhIGRlbGF5XG4gICAgICAgICAgICAgIHBsYXlBdWRpbygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHdpdGggbm90aWZpY2F0aW9uIHNvdW5kOicsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGluY29taW5nQ2FsbElkICYmIHNob3dJbmNvbWluZ0NhbGxNb2RhbCkge1xuICAgICAgICAgICAgLy8gSmlrYSB0aWRhayBhZGEgcGFuZ2dpbGFuIG1hc3VrIHRhcGkgbW9kYWwgbWFzaWggdGVyYnVrYSwgdHV0dXAgbW9kYWxcbiAgICAgICAgICAgIHNldFNob3dJbmNvbWluZ0NhbGxNb2RhbChmYWxzZSk7XG4gICAgICAgICAgICBzZXRJbmNvbWluZ0NhbGxJZChudWxsKTtcbiAgICAgICAgICAgIHNldEluY29taW5nQ2FsbENoYXRJZChudWxsKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQmVyc2loa2FuIHBhbmdnaWxhbiB5YW5nIHN1ZGFoIHRlcmxhbHUgbGFtYSAobGViaWggZGFyaSAzMCBkZXRpayBtYXNpaCAncmluZ2luZycpXG4gICAgICAgICAgY29uc3QgZXhwaXJlZENhbGxzUXVlcnkgPSBxdWVyeShcbiAgICAgICAgICAgIGNvbGxlY3Rpb24oZGIsICdjYWxscycpLFxuICAgICAgICAgICAgd2hlcmUoJ3JlY2lwaWVudElkJywgJz09JywgdXNlci51aWQpLFxuICAgICAgICAgICAgd2hlcmUoJ3N0YXR1cycsICc9PScsICdyaW5naW5nJylcbiAgICAgICAgICApO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IGV4cGlyZWRDYWxsc1NuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhleHBpcmVkQ2FsbHNRdWVyeSk7XG4gICAgICAgICAgXG4gICAgICAgICAgZXhwaXJlZENhbGxzU25hcHNob3QuZG9jcy5mb3JFYWNoKGFzeW5jIChkb2MpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNhbGxEYXRhID0gZG9jLmRhdGEoKTtcbiAgICAgICAgICAgIGlmIChuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIG5ldyBEYXRlKGNhbGxEYXRhLnN0YXJ0ZWRBdCkuZ2V0VGltZSgpID49IDMwMDAwKSB7XG4gICAgICAgICAgICAgIGF3YWl0IHVwZGF0ZURvYyhkb2MucmVmLCB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnbWlzc2VkJyxcbiAgICAgICAgICAgICAgICBlbmRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaGFuZGxpbmcgaW5jb21pbmcgY2FsbHM6JywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gUmV0dXJuIHVuc3Vic2NyaWJlIGZ1bmN0aW9uXG4gICAgICByZXR1cm4gdW5zdWJzY3JpYmU7XG4gICAgfTtcbiAgICBcbiAgICBjb25zdCB1bnN1YnNjcmliZUNhbGxzID0gbGlzdGVuRm9ySW5jb21pbmdDYWxscygpO1xuICAgIFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAodW5zdWJzY3JpYmVDYWxscykge1xuICAgICAgICB1bnN1YnNjcmliZUNhbGxzKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW3VzZXIudWlkLCBzaG93SW5jb21pbmdDYWxsTW9kYWwsIHNob3dWaWRlb0NhbGxNb2RhbCwgc2hvd0F1ZGlvQ2FsbE1vZGFsLCBpbmNvbWluZ0NhbGxJZF0pO1xuXG4gIGNvbnN0IGhhbmRsZUxvZ291dCA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gU2V0IHVzZXIgb2ZmbGluZSBzdGF0dXNcbiAgICAgIGF3YWl0IHNldFVzZXJPZmZsaW5lKHVzZXIudWlkKTtcbiAgICAgIC8vIFRoZW4gc2lnbiBvdXRcbiAgICAgIGF3YWl0IHNpZ25PdXQoYXV0aCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvZ2dpbmcgb3V0OicsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdG9nZ2xlU2lkZWJhciA9ICgpID0+IHtcbiAgICBzZXRTaG93U2lkZWJhcighc2hvd1NpZGViYXIpO1xuICB9O1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlUmVzaXplID0gKCkgPT4ge1xuICAgICAgc2V0SXNNb2JpbGVWaWV3KHdpbmRvdy5pbm5lcldpZHRoIDwgNzY4KTtcbiAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA+PSA3NjgpIHtcbiAgICAgICAgc2V0U2hvd1NpZGViYXIodHJ1ZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGhhbmRsZVJlc2l6ZSgpOyAvLyBJbml0aWFsaXplIG9uIG1vdW50XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZVJlc2l6ZSk7XG4gICAgXG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVSZXNpemUpO1xuICB9LCBbXSk7XG5cbiAgLy8gRnVuZ3NpIHVudHVrIG1lbXVsYWkgY2hhdCBiYXJ1IGRlbmdhbiBrb250YWtcbiAgY29uc3QgaGFuZGxlQ29udGFjdFNlbGVjdCA9IGFzeW5jIChjb250YWN0OiB7IG5hbWU6IHN0cmluZzsgcGhvbmVOdW1iZXI6IHN0cmluZyB9KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIENhcmkgdXNlciBkZW5nYW4gbm9tb3IgdGVsZXBvbiB5YW5nIHNhbWFcbiAgICAgIGNvbnN0IHVzZXJzUXVlcnkgPSBxdWVyeShcbiAgICAgICAgY29sbGVjdGlvbihkYiwgJ3VzZXJzJyksXG4gICAgICAgIHdoZXJlKCdwaG9uZU51bWJlcicsICc9PScsIGNvbnRhY3QucGhvbmVOdW1iZXIpXG4gICAgICApO1xuICAgICAgXG4gICAgICBjb25zdCB1c2Vyc1NuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyh1c2Vyc1F1ZXJ5KTtcbiAgICAgIFxuICAgICAgaWYgKCF1c2Vyc1NuYXBzaG90LmVtcHR5KSB7XG4gICAgICAgIC8vIEppa2EgYWRhIHVzZXIgZGVuZ2FuIG5vbW9yIHRlbGVwb24geWFuZyBzYW1hXG4gICAgICAgIGNvbnN0IHVzZXJJZCA9IHVzZXJzU25hcHNob3QuZG9jc1swXS5pZDtcbiAgICAgICAgXG4gICAgICAgIC8vIENlayBhcGFrYWggc3VkYWggYWRhIGNoYXQgZGVuZ2FuIHVzZXIgdGVyc2VidXRcbiAgICAgICAgY29uc3QgY2hhdHNRdWVyeSA9IHF1ZXJ5KFxuICAgICAgICAgIGNvbGxlY3Rpb24oZGIsICdjaGF0cycpLFxuICAgICAgICAgIHdoZXJlKCdwYXJ0aWNpcGFudHMnLCAnYXJyYXktY29udGFpbnMnLCB1c2VyLnVpZClcbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGNoYXRzU25hcHNob3QgPSBhd2FpdCBnZXREb2NzKGNoYXRzUXVlcnkpO1xuICAgICAgICBsZXQgZXhpc3RpbmdDaGF0SWQgPSBudWxsO1xuICAgICAgICBcbiAgICAgICAgY2hhdHNTbmFwc2hvdC5mb3JFYWNoKChkb2MpID0+IHtcbiAgICAgICAgICBjb25zdCBjaGF0RGF0YSA9IGRvYy5kYXRhKCk7XG4gICAgICAgICAgaWYgKGNoYXREYXRhLnBhcnRpY2lwYW50cy5pbmNsdWRlcyh1c2VySWQpKSB7XG4gICAgICAgICAgICBleGlzdGluZ0NoYXRJZCA9IGRvYy5pZDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgaWYgKGV4aXN0aW5nQ2hhdElkKSB7XG4gICAgICAgICAgLy8gSmlrYSBjaGF0IHN1ZGFoIGFkYSwgYnVrYSBjaGF0IHRlcnNlYnV0XG4gICAgICAgICAgc2V0U2VsZWN0ZWRDaGF0KGV4aXN0aW5nQ2hhdElkKTtcbiAgICAgICAgICBzZXRVc2luZ0NvbnRhY3QoZmFsc2UpO1xuICAgICAgICAgIHNldEN1cnJlbnRDb250YWN0KG51bGwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEppa2EgYmVsdW0gYWRhIGNoYXQsIGJ1YXQgY2hhdCBiYXJ1XG4gICAgICAgICAgY29uc3QgbmV3Q2hhdFJlZiA9IGF3YWl0IGFkZERvYyhjb2xsZWN0aW9uKGRiLCAnY2hhdHMnKSwge1xuICAgICAgICAgICAgcGFydGljaXBhbnRzOiBbdXNlci51aWQsIHVzZXJJZF0sXG4gICAgICAgICAgICBjcmVhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxuICAgICAgICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIHNldFNlbGVjdGVkQ2hhdChuZXdDaGF0UmVmLmlkKTtcbiAgICAgICAgICBzZXRVc2luZ0NvbnRhY3QoZmFsc2UpO1xuICAgICAgICAgIHNldEN1cnJlbnRDb250YWN0KG51bGwpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBKaWthIHRpZGFrIGFkYSB1c2VyIGRlbmdhbiBub21vciB0ZWxlcG9uIHlhbmcgc2FtYVxuICAgICAgICAvLyBHdW5ha2FuIGtvbnRhayBsYW5nc3VuZ1xuICAgICAgICBzZXRVc2luZ0NvbnRhY3QodHJ1ZSk7XG4gICAgICAgIHNldEN1cnJlbnRDb250YWN0KGNvbnRhY3QpO1xuICAgICAgICBzZXRTZWxlY3RlZENoYXQobnVsbCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChpc01vYmlsZVZpZXcpIHtcbiAgICAgICAgc2V0U2hvd1NpZGViYXIoZmFsc2UpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzdGFydGluZyBjaGF0IHdpdGggY29udGFjdDonLCBlcnJvcik7XG4gICAgfVxuICB9O1xuXG4gIC8vIEZ1bmdzaSB1bnR1ayBtZW55aW1wYW4gcGVuZ2F0dXJhbiBBSVxuICBjb25zdCBoYW5kbGVTYXZlQUlDb25maWcgPSBhc3luYyAoY29uZmlnOiBBSUNvbmZpZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICB1cGRhdGVBSUNvbmZpZyhjb25maWcpO1xuICAgICAgXG4gICAgICAvLyBTaW1wYW4ganVnYSBrZSBmaXJlc3RvcmUgdW50dWsgYmFja3VwXG4gICAgICBhd2FpdCBzYXZlQUlDb25maWcodXNlci51aWQsIGNvbmZpZyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBBSSBjb25maWc6JywgZXJyb3IpO1xuICAgIH1cbiAgfTtcbiAgXG4gIC8vIEhhbmRsZSBBSSBDaGF0IGRhcmkgc2lkZWJhclxuICBjb25zdCBoYW5kbGVBSUNoYXRTZWxlY3QgPSAoKSA9PiB7XG4gICAgLy8gTm9uYWt0aWZrYW4gY2hhdCB5YW5nIGRpcGlsaWhcbiAgICBzZXRTZWxlY3RlZENoYXQobnVsbCk7XG4gICAgc2V0SXNBSUNoYXRBY3RpdmUodHJ1ZSk7XG4gICAgaWYgKGlzTW9iaWxlVmlldykge1xuICAgICAgc2V0U2hvd1NpZGViYXIoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVBY2NlcHRDYWxsID0gKGNhbGxJZDogc3RyaW5nLCBpc1ZpZGVvQ2FsbDogYm9vbGVhbikgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdBY2NlcHRpbmcgY2FsbDonLCBjYWxsSWQpO1xuICAgIFxuICAgIC8vIFNpbXBhbiBJRCBwYW5nZ2lsYW4gbWFzdWsgdGVybGViaWggZGFodWx1LCBsYWx1IGJhcnUgdHV0dXAgbW9kYWxcbiAgICBzZXRJbmNvbWluZ0NhbGxJZChjYWxsSWQpO1xuICAgIFxuICAgIC8vIFNldCB0aXBlIHBhbmdnaWxhbiBiZXJkYXNhcmthbiBqZW5pcyBwYW5nZ2lsYW4geWFuZyBkaXRlcmltYVxuICAgIHNldENhbGxUeXBlKGlzVmlkZW9DYWxsID8gJ3ZpZGVvJyA6ICdhdWRpbycpO1xuICAgIFxuICAgIC8vIFR1dHVwIG1vZGFsIHBhbmdnaWxhbiBtYXN1a1xuICAgIHNldFNob3dJbmNvbWluZ0NhbGxNb2RhbChmYWxzZSk7XG4gICAgXG4gICAgLy8gQmVyaWthbiBkZWxheSBrZWNpbCBzZWJlbHVtIG1lbWJ1a2EgVmlkZW9DYWxsTW9kYWxcbiAgICAvLyB1bnR1ayBtZW1hc3Rpa2FuIEluY29taW5nQ2FsbE1vZGFsIHN1ZGFoIGJlbmFyLWJlbmFyIHRlcnR1dHVwXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAvLyBIYW5kbGUgcGFuZ2dpbGFuIGRlbmdhbiB0aW1lciB5YW5nIGxlYmloIHRlcGF0XG4gICAgICBjb25zdCBvcGVuVmlkZW9DYWxsTW9kYWwgPSAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdPcGVuaW5nIFZpZGVvQ2FsbE1vZGFsIGZvciBjYWxsOicsIGNhbGxJZCk7XG4gICAgICAgIFxuICAgICAgICAvLyBQYXN0aWthbiBiYWh3YSBrZXRpa2Ega2l0YSBtZW1idWthIFZpZGVvQ2FsbE1vZGFsLCBpdHUgdGlkYWsgbGFuZ3N1bmcgdGVydHV0dXBcbiAgICAgICAgc2V0U2hvd1ZpZGVvQ2FsbE1vZGFsKHRydWUpO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gSmlrYSBwYW5nZ2lsYW4gYmVyYXNhbCBkYXJpIGNoYXQgeWFuZyBzZWRhbmcgYWt0aWZcbiAgICAgIGlmIChpbmNvbWluZ0NhbGxDaGF0SWQgPT09IHNlbGVjdGVkQ2hhdCkge1xuICAgICAgICAvLyBHdW5ha2FuIHRpbWVyIHVudHVrIG1lbWFzdGlrYW4gc3RhdHVzIGNoYXQgc3VkYWggZGl1cGRhdGVcbiAgICAgICAgc2V0VGltZW91dChvcGVuVmlkZW9DYWxsTW9kYWwsIDMwMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBKaWthIGRhcmkgY2hhdCBsYWluLCBwaW5kYWgga2UgY2hhdCB0ZXJzZWJ1dCBkdWx1LCBsYWx1IGJ1a2EgbW9kYWxcbiAgICAgICAgc2V0U2VsZWN0ZWRDaGF0KGluY29taW5nQ2FsbENoYXRJZCk7XG4gICAgICAgIFxuICAgICAgICAvLyBHdW5ha2FuIHRpbWVvdXQgeWFuZyBsZWJpaCBsYW1hIHVudHVrIG1lbWFzdGlrYW4gVUkgc3VkYWggZGl1cGRhdGUgc2VwZW51aG55YVxuICAgICAgICBzZXRUaW1lb3V0KG9wZW5WaWRlb0NhbGxNb2RhbCwgNzAwKTtcbiAgICAgIH1cbiAgICB9LCAzMDApOyAvLyBUYW1iYWhrYW4gZGVsYXkgbGViaWggbGFtYSB1bnR1ayBtZW1hc3Rpa2FuIHN0YXRlIHN1ZGFoIGRpdXBkYXRlXG4gIH07XG4gIFxuICBjb25zdCBoYW5kbGVSZWplY3RDYWxsID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdSZWplY3RpbmcgY2FsbDonLCBpbmNvbWluZ0NhbGxJZCk7XG4gICAgXG4gICAgLy8gSmlrYSBhZGEgSUQgcGFuZ2dpbGFuLCB1cGRhdGUgc3RhdHVzIGRpIEZpcmVzdG9yZVxuICAgIGlmIChpbmNvbWluZ0NhbGxJZCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdXBkYXRlRG9jKGRvYyhkYiwgJ2NhbGxzJywgaW5jb21pbmdDYWxsSWQpLCB7XG4gICAgICAgICAgc3RhdHVzOiAnZGVjbGluZWQnLFxuICAgICAgICAgIGVuZGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSAvLyBHdW5ha2FuIG5pbGFpIGtsaWVuIHVudHVrIHJlc3BvbnMgbGViaWggY2VwYXRcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdDYWxsIGRlY2xpbmVkIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVjbGluaW5nIGNhbGw6JywgZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBUdXR1cCBtb2RhbCBkYW4gcmVzZXQgc3RhdGVcbiAgICBzZXRTaG93SW5jb21pbmdDYWxsTW9kYWwoZmFsc2UpO1xuICAgIFxuICAgIC8vIERlbGF5IHNlZGlraXQgcmVzZXQgc3RhdGUgdW50dWsgbWVuY2VnYWggcmFjZSBjb25kaXRpb25cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNldEluY29taW5nQ2FsbElkKG51bGwpO1xuICAgICAgc2V0SW5jb21pbmdDYWxsQ2hhdElkKG51bGwpO1xuICAgIH0sIDMwMCk7XG4gIH07XG4gIFxuICAvLyBIYW5kbGVyIHVudHVrIG1lbnV0dXAgbW9kYWwgdmlkZW8gY2FsbFxuICBjb25zdCBoYW5kbGVWaWRlb0NhbGxDbG9zZSA9ICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnVmlkZW8gY2FsbCBtb2RhbCBjbG9zZWQnKTtcbiAgICBzZXRTaG93VmlkZW9DYWxsTW9kYWwoZmFsc2UpO1xuICAgIFxuICAgIC8vIERlbGF5IHNpbmdrYXQgdW50dWsgbWVtYXN0aWthbiB0aWRhayBhZGEgcmFjZSBjb25kaXRpb25cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNldEluY29taW5nQ2FsbElkKG51bGwpO1xuICAgICAgc2V0SW5jb21pbmdDYWxsQ2hhdElkKG51bGwpO1xuICAgIH0sIDMwMCk7XG4gIH07XG5cbiAgLy8gU2ltcGFuIGRhdGEgdXNlciBzYWF0IGxvZ2luIGtlIGxvY2FsU3RvcmFnZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIFNpbXBhbiBkYXRhIHVzZXIga2UgbG9jYWxTdG9yYWdlIHVudHVrIHBlbmdndW5hYW4gb2ZmbGluZVxuICAgIGlmICh1c2VyICYmIHVzZXIudWlkKSB7XG4gICAgICBjb25zdCB1c2VyRGF0YSA9IHtcbiAgICAgICAgdWlkOiB1c2VyLnVpZCxcbiAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgIGRpc3BsYXlOYW1lOiB1c2VyLmRpc3BsYXlOYW1lIHx8IHVzZXIuZW1haWw/LnNwbGl0KCdAJylbMF0gfHwgJ1BlbmdndW5hJyxcbiAgICAgICAgcGhvdG9VUkw6IHVzZXIucGhvdG9VUkwgfHwgbnVsbCxcbiAgICAgICAgbGFzdFNlZW46IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgaXNPbmxpbmU6IHRydWVcbiAgICAgIH07XG4gICAgICBcbiAgICAgIGNvbnN0IHVzZXJzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaGFsbG9fdXNlcnMnKSB8fCAne30nKTtcbiAgICAgIHVzZXJzW3VzZXIudWlkXSA9IHVzZXJEYXRhO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2hhbGxvX3VzZXJzJywgSlNPTi5zdHJpbmdpZnkodXNlcnMpKTtcbiAgICB9XG4gIH0sIFt1c2VyXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGZsZXggaC1zY3JlZW4gb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICB7LyogRGVjb3JhdGl2ZSBlbGVtZW50cyAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTAgbGVmdC0wIHctZnVsbCBoLWZ1bGwgb3ZlcmZsb3ctaGlkZGVuIHotMFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIC10b3AtMjQgLWxlZnQtMjQgdy05NiBoLTk2IGJnLXdoaXRlLzEwIHJvdW5kZWQtZnVsbCBibHVyLTN4bFwiPjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0xLzMgLXJpZ2h0LTI0IHctNjQgaC02NCBiZy1saWdodC8yMCByb3VuZGVkLWZ1bGwgYmx1ci0zeGxcIj48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSAtYm90dG9tLTMyIGxlZnQtMS80IHctODAgaC04MCBiZy13aGl0ZS8xMCByb3VuZGVkLWZ1bGwgYmx1ci0zeGxcIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICB7LyogQ29udGVudCBjb250YWluZXIgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggdy1mdWxsIGgtZnVsbCB6LTEwXCI+XG4gICAgICAgIHsvKiBNb2JpbGUgYmFjayBidXR0b24gKi99XG4gICAgICAgIHtpc01vYmlsZVZpZXcgJiYgc2VsZWN0ZWRDaGF0ICYmICFzaG93U2lkZWJhciAmJiAoXG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RvZ2dsZVNpZGViYXJ9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtNCBsZWZ0LTQgei0zMCBiZy13aGl0ZS85MCBiYWNrZHJvcC1ibHVyLW1kIHAtMiByb3VuZGVkLWZ1bGwgc2hhZG93LW1kIGhvdmVyOmJnLXdoaXRlIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8RmlBcnJvd0xlZnQgc2l6ZT17MjR9IGNsYXNzTmFtZT1cInRleHQtcHJpbWFyeVwiIC8+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICl9XG5cbiAgICAgICAgey8qIFNpZGViYXIgKi99XG4gICAgICAgIHsoc2hvd1NpZGViYXIgfHwgIXNlbGVjdGVkQ2hhdCkgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIG1kOnctMS8zIGxnOnctMS80IGgtZnVsbCBiZy13aGl0ZS85MCBiYWNrZHJvcC1ibHVyLW1kIHotMjAgc2hhZG93LXhsIGFuaW1hdGUtc2xpZGVJbiBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICAgIDxTaWRlYmFyIFxuICAgICAgICAgICAgICB1c2VyPXt1c2VyfVxuICAgICAgICAgICAgICBjaGF0cz17Y2hhdExpc3R9XG4gICAgICAgICAgICAgIGxvYWRpbmc9e2xvYWRpbmdDaGF0c31cbiAgICAgICAgICAgICAgc2VsZWN0ZWRDaGF0SWQ9e3NlbGVjdGVkQ2hhdH1cbiAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRDaGF0PXsoY2hhdElkKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRDaGF0KGNoYXRJZCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzTW9iaWxlVmlldykge1xuICAgICAgICAgICAgICAgICAgc2V0U2hvd1NpZGViYXIoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgb25Mb2dvdXQ9e2hhbmRsZUxvZ291dH1cbiAgICAgICAgICAgICAgb25Db250YWN0U2VsZWN0PXtoYW5kbGVDb250YWN0U2VsZWN0fVxuICAgICAgICAgICAgICBvbk9wZW5BSUNoYXQ9e2hhbmRsZUFJQ2hhdFNlbGVjdH1cbiAgICAgICAgICAgICAgb25PcGVuVHJhbnNsYXRlU2V0dGluZ3M9eygpID0+IHNldFNob3dUcmFuc2xhdGVTZXR0aW5nc01vZGFsKHRydWUpfVxuICAgICAgICAgICAgICBvbk9wZW5BSVNldHRpbmdzPXsoKSA9PiBzZXRTaG93QUlTZXR0aW5nc01vZGFsKHRydWUpfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7LyogQ2hhdCBXaW5kb3cgb3IgRW1wdHkgU3RhdGUgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtzaG93U2lkZWJhciAmJiAhaXNNb2JpbGVWaWV3ID8gJ3ctMi8zIGxnOnctMy80JyA6ICd3LWZ1bGwnfSBoLWZ1bGwgcmVsYXRpdmUgJHshc2VsZWN0ZWRDaGF0ICYmICFpc01vYmlsZVZpZXcgPyAnZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXInIDogJyd9YH0+XG4gICAgICAgICAge3NlbGVjdGVkQ2hhdCA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBiZy13aGl0ZS84MCBiYWNrZHJvcC1ibHVyLW1kIHNoYWRvdy1sZyBuby1ib3JkZXItcmFkaXVzIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgICA8Q2hhdFdpbmRvdyBcbiAgICAgICAgICAgICAgICB1c2VyPXt1c2VyfSBcbiAgICAgICAgICAgICAgICBjaGF0SWQ9e3NlbGVjdGVkQ2hhdH1cbiAgICAgICAgICAgICAgICBvbkJhY2tDbGljaz17aXNNb2JpbGVWaWV3ID8gdG9nZ2xlU2lkZWJhciA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkgOiBpc0FJQ2hhdEFjdGl2ZSA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBiZy13aGl0ZS84MCBiYWNrZHJvcC1ibHVyLW1kIHNoYWRvdy1sZyBuby1ib3JkZXItcmFkaXVzIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgICA8QUlDaGF0TW9kYWwgXG4gICAgICAgICAgICAgICAgaXNPcGVuPXt0cnVlfVxuICAgICAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldElzQUlDaGF0QWN0aXZlKGZhbHNlKX1cbiAgICAgICAgICAgICAgICBjdXN0b21JbnN0cnVjdGlvbnM9e2FpQ29uZmlnLmN1c3RvbUluc3RydWN0aW9uc31cbiAgICAgICAgICAgICAgICBtb2RlbD17YWlDb25maWcubW9kZWx9XG4gICAgICAgICAgICAgICAgZGVmYXVsdExhbmd1YWdlPXthaUNvbmZpZy5kZWZhdWx0TGFuZ3VhZ2V9XG4gICAgICAgICAgICAgICAgaXNFbWJlZGRlZD17dHJ1ZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkgOiB1c2luZ0NvbnRhY3QgJiYgY3VycmVudENvbnRhY3QgPyAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgYmctd2hpdGUvODAgYmFja2Ryb3AtYmx1ci1tZCBzaGFkb3ctbGcgbm8tYm9yZGVyLXJhZGl1cyBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICAgICAgPENoYXRXaW5kb3cgXG4gICAgICAgICAgICAgICAgdXNlcj17dXNlcn0gXG4gICAgICAgICAgICAgICAgY2hhdElkPXtudWxsfVxuICAgICAgICAgICAgICAgIG9uQmFja0NsaWNrPXtpc01vYmlsZVZpZXcgPyB0b2dnbGVTaWRlYmFyIDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgICAgIGNvbnRhY3Q9e2N1cnJlbnRDb250YWN0fVxuICAgICAgICAgICAgICAgIHVzaW5nQ29udGFjdD17dHJ1ZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAhaXNNb2JpbGVWaWV3ICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTggdGV4dC1jZW50ZXIgYmctd2hpdGUvNjAgYmFja2Ryb3AtYmx1ci1tZCBuby1ib3JkZXItcmFkaXVzIHNoYWRvdy14bCBtYXgtdy1tZFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xNiBoLTE2IG14LWF1dG8gbWItNiBiZy1wcmltYXJ5IHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgPEZpTWVzc2FnZVNxdWFyZSBjbGFzc05hbWU9XCJ0ZXh0LTN4bCB0ZXh0LXdoaXRlXCIgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtcHJpbWFyeSBtYi00XCI+U2VsYW1hdCBEYXRhbmcgZGkgSGFsbG88L2gyPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDAgbWItNlwiPlxuICAgICAgICAgICAgICAgICAgUGlsaWggY2hhdCBkaSBzYW1waW5nIGF0YXUgbXVsYWkgcGVyY2FrYXBhbiBiYXJ1IHVudHVrIG1lbXVsYWkuXG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93TmV3Q2hhdE1vZGFsKHRydWUpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIGJnLXByaW1hcnkgaG92ZXI6YmctZGFyayB0ZXh0LXdoaXRlIGZvbnQtbWVkaXVtIHJvdW5kZWQteGwgdHJhbnNpdGlvbi1jb2xvcnMgc2hhZG93LW1kIHNoYWRvdy1wcmltYXJ5LzIwIGhvdmVyOnNoYWRvdy1sZyBob3ZlcjpzaGFkb3ctcHJpbWFyeS8zMFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgTXVsYWkgQ2hhdCBCYXJ1XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKVxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBNb2RhbHMgKi99XG4gICAgICB7c2hvd0FJQ2hhdE1vZGFsICYmIChcbiAgICAgICAgPEFJQ2hhdE1vZGFsIFxuICAgICAgICAgIGlzT3Blbj17dHJ1ZX1cbiAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRTaG93QUlDaGF0TW9kYWwoZmFsc2UpfVxuICAgICAgICAgIGN1c3RvbUluc3RydWN0aW9ucz17YWlDb25maWcuY3VzdG9tSW5zdHJ1Y3Rpb25zfVxuICAgICAgICAgIG1vZGVsPXthaUNvbmZpZy5tb2RlbH1cbiAgICAgICAgICBkZWZhdWx0TGFuZ3VhZ2U9e2FpQ29uZmlnLmRlZmF1bHRMYW5ndWFnZX1cbiAgICAgICAgLz5cbiAgICAgICl9XG5cbiAgICAgIHtzaG93VHJhbnNsYXRlU2V0dGluZ3NNb2RhbCAmJiAoXG4gICAgICAgIDxUcmFuc2xhdGVTZXR0aW5nc01vZGFsIFxuICAgICAgICAgIGlzT3Blbj17dHJ1ZX1cbiAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRTaG93VHJhbnNsYXRlU2V0dGluZ3NNb2RhbChmYWxzZSl9XG4gICAgICAgIC8+XG4gICAgICApfVxuXG4gICAgICB7c2hvd0FJU2V0dGluZ3NNb2RhbCAmJiAoXG4gICAgICAgIDxBSVNldHRpbmdzTW9kYWwgXG4gICAgICAgICAgaXNPcGVuPXt0cnVlfVxuICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldFNob3dBSVNldHRpbmdzTW9kYWwoZmFsc2UpfVxuICAgICAgICAgIGNvbmZpZz17YWlDb25maWd9XG4gICAgICAgICAgb25TYXZlPXtoYW5kbGVTYXZlQUlDb25maWd9XG4gICAgICAgIC8+XG4gICAgICApfVxuICAgICAgXG4gICAgICB7c2hvd05ld0NoYXRNb2RhbCAmJiAoXG4gICAgICAgIDxOZXdDaGF0TW9kYWwgXG4gICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0U2hvd05ld0NoYXRNb2RhbChmYWxzZSl9IFxuICAgICAgICAgIG9uQ3JlYXRlQ2hhdD17KHVzZXJJZCkgPT4ge1xuICAgICAgICAgICAgaGFuZGxlQ29udGFjdFNlbGVjdCh7IG5hbWU6IFwiXCIsIHBob25lTnVtYmVyOiB1c2VySWQgfSk7XG4gICAgICAgICAgICBzZXRTaG93TmV3Q2hhdE1vZGFsKGZhbHNlKTtcbiAgICAgICAgICB9fVxuICAgICAgICAgIGN1cnJlbnRVc2VySWQ9e3VzZXIudWlkfVxuICAgICAgICAvPlxuICAgICAgKX1cblxuICAgICAgey8qIE1vZGFsIHBhbmdnaWxhbiB2aWRlbyAqL31cbiAgICAgIHtzaG93VmlkZW9DYWxsTW9kYWwgJiYgaW5jb21pbmdDYWxsSWQgJiYgKFxuICAgICAgICA8VmlkZW9DYWxsTW9kYWxcbiAgICAgICAgICBpc09wZW49e3Nob3dWaWRlb0NhbGxNb2RhbH1cbiAgICAgICAgICBvbkNsb3NlPXtoYW5kbGVWaWRlb0NhbGxDbG9zZX1cbiAgICAgICAgICB1c2VyPXt1c2VyfVxuICAgICAgICAgIGNoYXRJZD17c2VsZWN0ZWRDaGF0IHx8ICcnfVxuICAgICAgICAgIHJlY2lwaWVudElkPXtzZWxlY3RlZENoYXQgPyBcbiAgICAgICAgICAgIC8vIFRlbXVrYW4gSUQgcGVuZXJpbWEgZGFyaSBjaGF0IHNhYXQgaW5pIChidWthbiBwZW5lbGVwb24pXG4gICAgICAgICAgICBjaGF0TGlzdC5maW5kKGMgPT4gYy5pZCA9PT0gc2VsZWN0ZWRDaGF0KT8ucGFydGljaXBhbnRzLmZpbmQocCA9PiBwICE9PSB1c2VyLnVpZCkgfHwgJycgOiBcbiAgICAgICAgICAgICcnXG4gICAgICAgICAgfVxuICAgICAgICAgIGlzVmlkZW9DYWxsPXtjYWxsVHlwZSA9PT0gJ3ZpZGVvJ31cbiAgICAgICAgICBpbmNvbWluZ0NhbGxJZD17aW5jb21pbmdDYWxsSWR9XG4gICAgICAgIC8+XG4gICAgICApfVxuICAgICAgXG4gICAgICB7LyogTW9kYWwgcGFuZ2dpbGFuIG1hc3VrICovfVxuICAgICAge3Nob3dJbmNvbWluZ0NhbGxNb2RhbCAmJiBpbmNvbWluZ0NhbGxJZCAmJiAoXG4gICAgICAgIDxJbmNvbWluZ0NhbGxNb2RhbFxuICAgICAgICAgIGlzT3Blbj17c2hvd0luY29taW5nQ2FsbE1vZGFsfVxuICAgICAgICAgIG9uQWNjZXB0PXtoYW5kbGVBY2NlcHRDYWxsfVxuICAgICAgICAgIG9uUmVqZWN0PXtoYW5kbGVSZWplY3RDYWxsfVxuICAgICAgICAgIHVzZXI9e3VzZXJ9XG4gICAgICAgICAgY2FsbElkPXtpbmNvbWluZ0NhbGxJZH1cbiAgICAgICAgLz5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59ICJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInNpZ25PdXQiLCJhdXRoIiwiZGIiLCJjb2xsZWN0aW9uIiwicXVlcnkiLCJvblNuYXBzaG90Iiwid2hlcmUiLCJnZXREb2NzIiwiYWRkRG9jIiwic2VydmVyVGltZXN0YW1wIiwidXBkYXRlRG9jIiwiZG9jIiwiU2lkZWJhciIsIkNoYXRXaW5kb3ciLCJzZXRVc2VyT2ZmbGluZSIsInVzZVJvdXRlciIsIkFJQ2hhdE1vZGFsIiwiVHJhbnNsYXRlU2V0dGluZ3NNb2RhbCIsIkFJU2V0dGluZ3NNb2RhbCIsInNhdmVBSUNvbmZpZyIsIkZpQXJyb3dMZWZ0IiwiRmlNZXNzYWdlU3F1YXJlIiwidXNlQUlDb25maWciLCJOZXdDaGF0TW9kYWwiLCJJbmNvbWluZ0NhbGxNb2RhbCIsIlZpZGVvQ2FsbE1vZGFsIiwiQ2hhdEFwcCIsInVzZXIiLCJhaUNvbmZpZyIsInVwZGF0ZUFJQ29uZmlnIiwic2VsZWN0ZWRDaGF0Iiwic2V0U2VsZWN0ZWRDaGF0IiwiaXNNb2JpbGVWaWV3Iiwic2V0SXNNb2JpbGVWaWV3Iiwic2hvd1NpZGViYXIiLCJzZXRTaG93U2lkZWJhciIsImNoYXRMaXN0Iiwic2V0Q2hhdExpc3QiLCJsb2FkaW5nQ2hhdHMiLCJzZXRMb2FkaW5nQ2hhdHMiLCJ1c2luZ0NvbnRhY3QiLCJzZXRVc2luZ0NvbnRhY3QiLCJjdXJyZW50Q29udGFjdCIsInNldEN1cnJlbnRDb250YWN0Iiwicm91dGVyIiwic2hvd0FJQ2hhdE1vZGFsIiwic2V0U2hvd0FJQ2hhdE1vZGFsIiwic2hvd1RyYW5zbGF0ZVNldHRpbmdzTW9kYWwiLCJzZXRTaG93VHJhbnNsYXRlU2V0dGluZ3NNb2RhbCIsInNob3dBSVNldHRpbmdzTW9kYWwiLCJzZXRTaG93QUlTZXR0aW5nc01vZGFsIiwic2hvd05ld0NoYXRNb2RhbCIsInNldFNob3dOZXdDaGF0TW9kYWwiLCJpc0FJQ2hhdEFjdGl2ZSIsInNldElzQUlDaGF0QWN0aXZlIiwic2hvd0luY29taW5nQ2FsbE1vZGFsIiwic2V0U2hvd0luY29taW5nQ2FsbE1vZGFsIiwiaW5jb21pbmdDYWxsSWQiLCJzZXRJbmNvbWluZ0NhbGxJZCIsImluY29taW5nQ2FsbENoYXRJZCIsInNldEluY29taW5nQ2FsbENoYXRJZCIsInNob3dWaWRlb0NhbGxNb2RhbCIsInNldFNob3dWaWRlb0NhbGxNb2RhbCIsInNob3dBdWRpb0NhbGxNb2RhbCIsInNldFNob3dBdWRpb0NhbGxNb2RhbCIsImNhbGxUeXBlIiwic2V0Q2FsbFR5cGUiLCJmZXRjaENoYXRzIiwiY2hhdHNRdWVyeSIsInVpZCIsInVuc3Vic2NyaWJlIiwic25hcHNob3QiLCJjaGF0c0RhdGEiLCJmb3JFYWNoIiwicHVzaCIsImlkIiwiZGF0YSIsInNvcnQiLCJhIiwiYiIsImFUaW1lIiwibGFzdE1lc3NhZ2UiLCJ0aW1lc3RhbXAiLCJjcmVhdGVkQXQiLCJiVGltZSIsImFNaWxsaXMiLCJzZWNvbmRzIiwiYk1pbGxpcyIsImVycm9yIiwiY29uc29sZSIsInRoZW4iLCJ1bnN1YiIsImxpc3RlbkZvckluY29taW5nQ2FsbHMiLCJjYWxsc1F1ZXJ5IiwibmV3Q2FsbHMiLCJkb2NzIiwiZmlsdGVyIiwiY2FsbERhdGEiLCJEYXRlIiwiZ2V0VGltZSIsInN0YXJ0ZWRBdCIsImxvZyIsInJlZiIsInN0YXR1cyIsImVuZGVkQXQiLCJ0b0lTT1N0cmluZyIsImluY29taW5nQ2FsbHMiLCJtYXAiLCJjYWxsIiwibGVuZ3RoIiwibGF0ZXN0Q2FsbCIsImNoYXRJZCIsInJpbmd0b25lU3JjIiwiYXVkaW8iLCJBdWRpbyIsInZvbHVtZSIsImxvYWQiLCJhdWRpb1BsYXllZCIsInBsYXlBdWRpbyIsInNldFRpbWVvdXQiLCJwbGF5IiwiY2F0Y2giLCJlcnIiLCJwbGF5T25jZSIsImUiLCJ3YXJuIiwid2luZG93IiwiSFRNTEF1ZGlvRWxlbWVudCIsImJlZXAiLCJkb2N1bWVudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVyIiwib25jZSIsImV4cGlyZWRDYWxsc1F1ZXJ5IiwiZXhwaXJlZENhbGxzU25hcHNob3QiLCJ1bnN1YnNjcmliZUNhbGxzIiwiaGFuZGxlTG9nb3V0IiwidG9nZ2xlU2lkZWJhciIsImhhbmRsZVJlc2l6ZSIsImlubmVyV2lkdGgiLCJoYW5kbGVDb250YWN0U2VsZWN0IiwiY29udGFjdCIsInVzZXJzUXVlcnkiLCJwaG9uZU51bWJlciIsInVzZXJzU25hcHNob3QiLCJlbXB0eSIsInVzZXJJZCIsImNoYXRzU25hcHNob3QiLCJleGlzdGluZ0NoYXRJZCIsImNoYXREYXRhIiwicGFydGljaXBhbnRzIiwiaW5jbHVkZXMiLCJuZXdDaGF0UmVmIiwidXBkYXRlZEF0IiwiaGFuZGxlU2F2ZUFJQ29uZmlnIiwiY29uZmlnIiwiaGFuZGxlQUlDaGF0U2VsZWN0IiwiaGFuZGxlQWNjZXB0Q2FsbCIsImNhbGxJZCIsImlzVmlkZW9DYWxsIiwib3BlblZpZGVvQ2FsbE1vZGFsIiwiaGFuZGxlUmVqZWN0Q2FsbCIsImhhbmRsZVZpZGVvQ2FsbENsb3NlIiwidXNlckRhdGEiLCJlbWFpbCIsImRpc3BsYXlOYW1lIiwic3BsaXQiLCJwaG90b1VSTCIsImxhc3RTZWVuIiwiaXNPbmxpbmUiLCJ1c2VycyIsIkpTT04iLCJwYXJzZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwiZGl2IiwiY2xhc3NOYW1lIiwiYnV0dG9uIiwib25DbGljayIsInNpemUiLCJjaGF0cyIsImxvYWRpbmciLCJzZWxlY3RlZENoYXRJZCIsIm9uTG9nb3V0Iiwib25Db250YWN0U2VsZWN0Iiwib25PcGVuQUlDaGF0Iiwib25PcGVuVHJhbnNsYXRlU2V0dGluZ3MiLCJvbk9wZW5BSVNldHRpbmdzIiwib25CYWNrQ2xpY2siLCJ1bmRlZmluZWQiLCJpc09wZW4iLCJvbkNsb3NlIiwiY3VzdG9tSW5zdHJ1Y3Rpb25zIiwibW9kZWwiLCJkZWZhdWx0TGFuZ3VhZ2UiLCJpc0VtYmVkZGVkIiwiaDIiLCJwIiwib25TYXZlIiwib25DcmVhdGVDaGF0IiwibmFtZSIsImN1cnJlbnRVc2VySWQiLCJyZWNpcGllbnRJZCIsImZpbmQiLCJjIiwib25BY2NlcHQiLCJvblJlamVjdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/ChatApp.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/ChatMessage.tsx":
/*!****************************************!*\
  !*** ./src/components/ChatMessage.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChatMessage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=format!=!date-fns */ \"(ssr)/./node_modules/date-fns/esm/format/index.js\");\n/* harmony import */ var date_fns_locale__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! date-fns/locale */ \"(ssr)/./node_modules/date-fns/esm/locale/id/index.js\");\n/* harmony import */ var _barrel_optimize_names_FiCode_FiCornerDownRight_FiDownload_FiEdit_FiFile_FiFileText_FiGlobe_FiImage_FiMoreVertical_FiMusic_FiPause_FiPlay_FiStar_FiTrash_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=FiCode,FiCornerDownRight,FiDownload,FiEdit,FiFile,FiFileText,FiGlobe,FiImage,FiMoreVertical,FiMusic,FiPause,FiPlay,FiStar,FiTrash,FiVideo,FiX!=!react-icons/fi */ \"(ssr)/./node_modules/react-icons/fi/index.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _firebase_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/firebase/config */ \"(ssr)/./src/firebase/config.ts\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/firestore */ \"(ssr)/./node_modules/firebase/firestore/dist/index.mjs\");\n/* harmony import */ var _lib_users__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/users */ \"(ssr)/./src/lib/users.ts\");\n/* harmony import */ var _lib_context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/context */ \"(ssr)/./src/lib/context.tsx\");\n/* harmony import */ var _lib_hooks_useTranslate__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/hooks/useTranslate */ \"(ssr)/./src/lib/hooks/useTranslate.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\n\n\nfunction UserAvatar({ userId, size = \"md\" }) {\n    const [userData, setUserData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [imageError, setImageError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Listener untuk data pengguna realtime\n        const unsubscribe = (0,_lib_users__WEBPACK_IMPORTED_MODULE_4__.listenToUserProfile)(userId, (data)=>{\n            setUserData(data);\n            setImageError(false);\n        });\n        return ()=>unsubscribe();\n    }, [\n        userId\n    ]);\n    // Ukuran avatar berdasarkan prop\n    const sizeClass = {\n        sm: \"h-8 w-8 text-sm\",\n        md: \"h-10 w-10 text-base\",\n        lg: \"h-12 w-12 text-lg\"\n    }[size];\n    // Ambil inisial dari nama pengguna\n    const getInitials = ()=>{\n        if (userData?.displayName) {\n            return userData.displayName.charAt(0).toUpperCase();\n        }\n        return \"U\";\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `${sizeClass} rounded-full bg-primary flex items-center justify-center overflow-hidden text-white font-medium`,\n        children: userData?.photoURL && !imageError ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n            src: userData.photoURL,\n            alt: userData?.displayName || \"Avatar\",\n            className: `${sizeClass} object-cover`,\n            onError: ()=>setImageError(true)\n        }, void 0, false, {\n            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n            lineNumber: 77,\n            columnNumber: 9\n        }, this) : getInitials()\n    }, void 0, false, {\n        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n        lineNumber: 75,\n        columnNumber: 5\n    }, this);\n}\nfunction ChatMessage({ message, isOwn, chatId, onReplyMessage, onEditMessage }) {\n    const { aiConfig } = (0,_lib_context__WEBPACK_IMPORTED_MODULE_5__.useAIConfig)();\n    const [showOptions, setShowOptions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isDeleting, setIsDeleting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isMarking, setIsMarking] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isPlaying, setIsPlaying] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [audioDuration, setAudioDuration] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [currentTime, setCurrentTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [replyMessageText, setReplyMessageText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [replySenderName, setReplySenderName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"User\");\n    const [isTranslating, setIsTranslating] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [translatedText, setTranslatedText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [translationError, setTranslationError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isShowingTranslation, setIsShowingTranslation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const optionsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const audioRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Gunakan hook useTranslate\n    const { translateMessage: translate, isTranslating: isTranslatingFromHook, translationError: hookTranslationError, cancelTranslation } = (0,_lib_hooks_useTranslate__WEBPACK_IMPORTED_MODULE_6__.useTranslate)();\n    // Fungsi untuk reset error\n    const resetError = ()=>setTranslationError(null);\n    // Fungsi untuk menerjemahkan pesan saat user klik tombol terjemahan\n    const translateMessage = async ()=>{\n        if (!message.text || isTranslating) return;\n        try {\n            setIsTranslating(true);\n            setTranslationError(null);\n            setShowOptions(false); // Tutup dropdown options segera\n            // Tampilkan indikasi loading\n            setTranslatedText(\"Menerjemahkan...\");\n            setIsShowingTranslation(true);\n            // Gunakan hook useTranslate yang sudah menangani error dan timeout dengan baik\n            const targetLang = aiConfig.translateLanguage || \"en\";\n            const result = await translate(message.text, message.id, targetLang);\n            if (result && result.translatedText) {\n                // Update state dengan hasil terjemahan\n                setTranslatedText(result.translatedText);\n            } else {\n                // Fallback minimal jika tidak ada terjemahan\n                setTranslatedText(`[${targetLang.toUpperCase()}] ${message.text}`);\n                setTranslationError(\"Gagal menerjemahkan pesan\");\n            }\n        } catch (error) {\n            console.error(\"Gagal menerjemahkan pesan:\", error);\n            // Jangan tampilkan error, cukup tampilkan terjemahan sederhana\n            setTranslatedText(`[${(aiConfig.translateLanguage || \"en\").toUpperCase()}] ${message.text}`);\n        } finally{\n            setIsTranslating(false);\n        }\n    };\n    // Terjemahkan otomatis jika pengaturan autoTranslate diaktifkan dan pesan bukan dari user sendiri\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let isMounted = true;\n        // Hanya terjemahkan jika:\n        // 1. Component masih terpasang\n        // 2. Fitur autoTranslate aktif\n        // 3. Pesan bukan dari user sendiri\n        // 4. Pesan memiliki teks\n        if (aiConfig.autoTranslate && !isOwn && message.text && !isShowingTranslation && !isTranslating) {\n            // Implementasi yang sederhana tanpa callback\n            const handleAutoTranslate = async ()=>{\n                if (!isMounted) return;\n                try {\n                    setIsTranslating(true);\n                    setTranslatedText(\"Menerjemahkan otomatis...\");\n                    setIsShowingTranslation(true);\n                    const targetLang = aiConfig.translateLanguage || \"en\";\n                    const result = await translate(message.text, message.id, targetLang);\n                    if (!isMounted) return;\n                    if (result && result.translatedText) {\n                        setTranslatedText(result.translatedText);\n                    } else {\n                        setTranslatedText(`[${targetLang.toUpperCase()}] ${message.text}`);\n                    }\n                } catch (error) {\n                    if (!isMounted) return;\n                    setTranslatedText(`[Auto] ${message.text}`);\n                } finally{\n                    if (isMounted) setIsTranslating(false);\n                }\n            };\n            // Tunggu sebentar sebelum menerjemahkan\n            const timer = setTimeout(handleAutoTranslate, 500);\n            return ()=>{\n                cancelTranslation(message.id);\n                clearTimeout(timer);\n                isMounted = false;\n            };\n        }\n        return ()=>{\n            isMounted = false;\n        };\n    }, [\n        aiConfig.autoTranslate,\n        isOwn,\n        message.text,\n        message.id,\n        translate,\n        cancelTranslation\n    ]);\n    // Penanganan timestamp yang lebih aman\n    let formattedTime = \"\";\n    try {\n        if (message.timestamp) {\n            if (message.timestamp.toDate) {\n                formattedTime = (0,_barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(message.timestamp.toDate(), \"HH:mm\", {\n                    locale: date_fns_locale__WEBPACK_IMPORTED_MODULE_8__[\"default\"]\n                });\n            } else if (message.timestamp.seconds) {\n                // Alternatif jika toDate() tidak tersedia tapi ada seconds\n                formattedTime = (0,_barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(new Date(message.timestamp.seconds * 1000), \"HH:mm\", {\n                    locale: date_fns_locale__WEBPACK_IMPORTED_MODULE_8__[\"default\"]\n                });\n            }\n        }\n    } catch (error) {\n        console.error(\"Error formatting timestamp:\", error);\n        formattedTime = \"\"; // Default to empty if there's an error\n    }\n    // Tutup dropdown saat klik di luar\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleClickOutside = (event)=>{\n            if (optionsRef.current && !optionsRef.current.contains(event.target)) {\n                setShowOptions(false);\n            }\n        };\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return ()=>{\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n        };\n    }, []);\n    // Handler untuk audio player\n    const handleLoadedMetadata = ()=>{\n        const audio = audioRef.current;\n        if (!audio) return;\n        try {\n            if (audio.duration && isFinite(audio.duration)) {\n                setAudioDuration(audio.duration);\n            } else {\n                setAudioDuration(0);\n            }\n        } catch (e) {\n            console.error(\"Error in handleLoadedMetadata:\", e);\n            setAudioDuration(0);\n        }\n    };\n    const handleTimeUpdate = ()=>{\n        const audio = audioRef.current;\n        if (!audio) return;\n        try {\n            if (audio.currentTime && isFinite(audio.currentTime)) {\n                setCurrentTime(audio.currentTime);\n            }\n        } catch (e) {\n            console.error(\"Error in handleTimeUpdate:\", e);\n        }\n    };\n    const handleEnded = ()=>{\n        setIsPlaying(false);\n        setCurrentTime(0);\n        try {\n            if (audioRef.current) {\n                audioRef.current.currentTime = 0;\n            }\n        } catch (e) {\n            console.error(\"Error in handleEnded:\", e);\n        }\n    };\n    // Reset state ketika audio berubah\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setAudioDuration(0);\n        setCurrentTime(0);\n        setIsPlaying(false);\n    }, [\n        message.fileUrl\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const audio = audioRef.current;\n        if (!audio) return;\n        try {\n            audio.addEventListener(\"loadedmetadata\", handleLoadedMetadata);\n            audio.addEventListener(\"timeupdate\", handleTimeUpdate);\n            audio.addEventListener(\"ended\", handleEnded);\n            // Load audio saat component mount\n            audio.load();\n            return ()=>{\n                audio.removeEventListener(\"loadedmetadata\", handleLoadedMetadata);\n                audio.removeEventListener(\"timeupdate\", handleTimeUpdate);\n                audio.removeEventListener(\"ended\", handleEnded);\n            };\n        } catch (e) {\n            console.error(\"Error setting up audio event listeners:\", e);\n        }\n    }, [\n        audioRef.current,\n        message.fileUrl\n    ]);\n    const toggleAudioPlayback = ()=>{\n        const audio = audioRef.current;\n        if (!audio) return;\n        try {\n            if (isPlaying) {\n                audio.pause();\n                setIsPlaying(false);\n            } else {\n                audio.play().catch((e)=>{\n                    console.error(\"Error playing audio:\", e);\n                    setIsPlaying(false);\n                });\n                setIsPlaying(true);\n            }\n        } catch (e) {\n            console.error(\"Error in toggleAudioPlayback:\", e);\n            setIsPlaying(false);\n        }\n    };\n    // Fungsi untuk memformat waktu audio\n    const formatAudioTime = (timeInSeconds)=>{\n        if (!isFinite(timeInSeconds) || timeInSeconds < 0) return \"0:00\";\n        const minutes = Math.floor(timeInSeconds / 60);\n        const seconds = Math.floor(timeInSeconds % 60);\n        return `${minutes}:${seconds.toString().padStart(2, \"0\")}`;\n    };\n    const handleDeleteMessage = async ()=>{\n        if (!chatId || isDeleting) return;\n        try {\n            setIsDeleting(true);\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.deleteDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_2__.db, \"chats\", chatId, \"messages\", message.id));\n            // Perbarui lastMessage jika pesan ini adalah pesan terakhir\n            // Ini bisa dikembangkan lebih lanjut untuk mengambil pesan terakhir sebelum yang dihapus\n            const chatRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_2__.db, \"chats\", chatId);\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.updateDoc)(chatRef, {\n                lastMessage: {\n                    text: \"Pesan telah dihapus\",\n                    timestamp: message.timestamp,\n                    senderId: message.senderId\n                }\n            });\n        } catch (error) {\n            console.error(\"Error deleting message:\", error);\n            alert(\"Gagal menghapus pesan. Silakan coba lagi.\");\n        } finally{\n            setIsDeleting(false);\n            setShowOptions(false);\n        }\n    };\n    const handleMarkMessage = async ()=>{\n        if (!chatId || isMarking) return;\n        try {\n            setIsMarking(true);\n            // Toggle status marked\n            const isCurrentlyMarked = message.isMarked || false;\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.updateDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_2__.db, \"chats\", chatId, \"messages\", message.id), {\n                isMarked: !isCurrentlyMarked\n            });\n        } catch (error) {\n            console.error(\"Error marking message:\", error);\n            alert(\"Gagal menandai pesan. Silakan coba lagi.\");\n        } finally{\n            setIsMarking(false);\n            setShowOptions(false);\n        }\n    };\n    const handleReplyMessage = ()=>{\n        if (onReplyMessage) {\n            onReplyMessage(message.id, message.text);\n            setShowOptions(false);\n        }\n    };\n    const handleEditMessage = ()=>{\n        if (onEditMessage && message.text) {\n            onEditMessage(message.id, message.text);\n            setShowOptions(false);\n        }\n    };\n    const handleCloseTranslation = ()=>{\n        setTranslatedText(null);\n        setTranslationError(null);\n        setIsShowingTranslation(false);\n        resetError(); // Juga reset error dari hook\n    };\n    // Menampilkan error terjemahan - simplify logic\n    const renderTranslationError = ()=>{\n        if (!translationError) return null;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"mt-2 p-2 rounded-lg bg-red-100 text-red-700 text-xs animate-fadeIn flex items-center justify-between\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    children: translationError\n                }, void 0, false, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                    lineNumber: 404,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: handleCloseTranslation,\n                    className: \"text-red-600 hover:text-red-800 ml-2\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCode_FiCornerDownRight_FiDownload_FiEdit_FiFile_FiFileText_FiGlobe_FiImage_FiMoreVertical_FiMusic_FiPause_FiPlay_FiStar_FiTrash_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiX, {\n                        size: 14\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                        lineNumber: 409,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                    lineNumber: 405,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n            lineNumber: 403,\n            columnNumber: 7\n        }, this);\n    };\n    // Fungsi untuk menampilkan ikon file yang sesuai\n    const getFileIcon = (fileType)=>{\n        if (!fileType) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCode_FiCornerDownRight_FiDownload_FiEdit_FiFile_FiFileText_FiGlobe_FiImage_FiMoreVertical_FiMusic_FiPause_FiPlay_FiStar_FiTrash_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiFile, {\n            size: 24\n        }, void 0, false, {\n            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n            lineNumber: 417,\n            columnNumber: 27\n        }, this);\n        // Konversi ke lowercase untuk perbandingan yang lebih mudah\n        const type = fileType.toLowerCase();\n        // Gambar\n        if (type.startsWith(\"image/\")) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCode_FiCornerDownRight_FiDownload_FiEdit_FiFile_FiFileText_FiGlobe_FiImage_FiMoreVertical_FiMusic_FiPause_FiPlay_FiStar_FiTrash_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiImage, {\n            size: 24\n        }, void 0, false, {\n            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n            lineNumber: 423,\n            columnNumber: 43\n        }, this);\n        // Video\n        if (type.startsWith(\"video/\")) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCode_FiCornerDownRight_FiDownload_FiEdit_FiFile_FiFileText_FiGlobe_FiImage_FiMoreVertical_FiMusic_FiPause_FiPlay_FiStar_FiTrash_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiVideo, {\n            size: 24\n        }, void 0, false, {\n            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n            lineNumber: 426,\n            columnNumber: 43\n        }, this);\n        // Audio\n        if (type.startsWith(\"audio/\")) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCode_FiCornerDownRight_FiDownload_FiEdit_FiFile_FiFileText_FiGlobe_FiImage_FiMoreVertical_FiMusic_FiPause_FiPlay_FiStar_FiTrash_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiMusic, {\n            size: 24\n        }, void 0, false, {\n            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n            lineNumber: 429,\n            columnNumber: 43\n        }, this);\n        // Dokumen\n        if (type.includes(\"pdf\") || type.includes(\"application/pdf\")) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCode_FiCornerDownRight_FiDownload_FiEdit_FiFile_FiFileText_FiGlobe_FiImage_FiMoreVertical_FiMusic_FiPause_FiPlay_FiStar_FiTrash_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiFileText, {\n            size: 24\n        }, void 0, false, {\n            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n            lineNumber: 435,\n            columnNumber: 14\n        }, this);\n        // Microsoft Office / OpenDocument\n        if (type.includes(\"word\") || type.includes(\"wordprocessingml\") || type.includes(\"application/msword\") || type.includes(\"application/vnd.openxmlformats-officedocument.wordprocessingml\") || type.includes(\"application/vnd.oasis.opendocument.text\")) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCode_FiCornerDownRight_FiDownload_FiEdit_FiFile_FiFileText_FiGlobe_FiImage_FiMoreVertical_FiMusic_FiPause_FiPlay_FiStar_FiTrash_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiFileText, {\n            size: 24\n        }, void 0, false, {\n            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n            lineNumber: 444,\n            columnNumber: 14\n        }, this);\n        if (type.includes(\"excel\") || type.includes(\"spreadsheetml\") || type.includes(\"application/vnd.ms-excel\") || type.includes(\"application/vnd.openxmlformats-officedocument.spreadsheetml\") || type.includes(\"application/vnd.oasis.opendocument.spreadsheet\")) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCode_FiCornerDownRight_FiDownload_FiEdit_FiFile_FiFileText_FiGlobe_FiImage_FiMoreVertical_FiMusic_FiPause_FiPlay_FiStar_FiTrash_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiFileText, {\n            size: 24\n        }, void 0, false, {\n            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n            lineNumber: 452,\n            columnNumber: 14\n        }, this);\n        if (type.includes(\"powerpoint\") || type.includes(\"presentationml\") || type.includes(\"application/vnd.ms-powerpoint\") || type.includes(\"application/vnd.openxmlformats-officedocument.presentationml\") || type.includes(\"application/vnd.oasis.opendocument.presentation\")) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCode_FiCornerDownRight_FiDownload_FiEdit_FiFile_FiFileText_FiGlobe_FiImage_FiMoreVertical_FiMusic_FiPause_FiPlay_FiStar_FiTrash_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiFileText, {\n            size: 24\n        }, void 0, false, {\n            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n            lineNumber: 460,\n            columnNumber: 14\n        }, this);\n        // Kode\n        if (type.includes(\"text\") || type.includes(\"javascript\") || type.includes(\"html\") || type.includes(\"css\") || type.includes(\"json\") || type.includes(\"xml\")) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCode_FiCornerDownRight_FiDownload_FiEdit_FiFile_FiFileText_FiGlobe_FiImage_FiMoreVertical_FiMusic_FiPause_FiPlay_FiStar_FiTrash_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiCode, {\n                size: 24\n            }, void 0, false, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                lineNumber: 471,\n                columnNumber: 14\n            }, this);\n        }\n        // Default\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCode_FiCornerDownRight_FiDownload_FiEdit_FiFile_FiFileText_FiGlobe_FiImage_FiMoreVertical_FiMusic_FiPause_FiPlay_FiStar_FiTrash_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiFile, {\n            size: 24\n        }, void 0, false, {\n            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n            lineNumber: 475,\n            columnNumber: 12\n        }, this);\n    };\n    // Format file size\n    const formatFileSize = (bytes)=>{\n        if (!bytes) return \"\";\n        if (bytes < 1024) return `${bytes} B`;\n        if (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(1)} KB`;\n        return `${(bytes / (1024 * 1024)).toFixed(1)} MB`;\n    };\n    // Cek apakah file adalah audio\n    const isAudioFile = (fileType)=>{\n        if (!fileType) return false;\n        return fileType.toLowerCase().startsWith(\"audio/\");\n    };\n    // Fetch pesan balasan jika ada\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const fetchReplyMessage = async ()=>{\n            if (message.replyTo && chatId) {\n                try {\n                    const replyDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.getDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_2__.db, \"chats\", chatId, \"messages\", message.replyTo));\n                    if (replyDoc.exists()) {\n                        const replyData = replyDoc.data();\n                        // Tentukan teks yang akan ditampilkan berdasarkan jenis konten\n                        let displayText = replyData.text || \"\";\n                        let senderName = \"\";\n                        // Dapatkan nama pengirim asli\n                        try {\n                            if (replyData.senderId) {\n                                const senderDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.getDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_2__.db, \"users\", replyData.senderId));\n                                if (senderDoc.exists()) {\n                                    const userData = senderDoc.data();\n                                    // Batasi panjang nama pengirim jika terlalu panjang\n                                    senderName = userData.displayName || userData.email || \"User\";\n                                    if (senderName.length > 20) {\n                                        senderName = senderName.substring(0, 18) + \"...\";\n                                    }\n                                }\n                            }\n                        } catch (error) {\n                            console.error(\"Error fetching reply sender info:\", error);\n                            senderName = \"User\";\n                        }\n                        if (replyData.imageUrl) {\n                            displayText = displayText || \"\\uD83D\\uDCF7 Foto\";\n                        } else if (replyData.fileUrl) {\n                            if (replyData.audio) {\n                                displayText = displayText || \"\\uD83C\\uDFA4 Pesan Suara\";\n                            } else {\n                                displayText = displayText || `📎 ${replyData.fileName || \"File\"}`;\n                            }\n                        } else if (!displayText) {\n                            displayText = \"Pesan\";\n                        }\n                        // Batasi panjang teks pesan balasan\n                        if (displayText.length > 50) {\n                            displayText = displayText.substring(0, 48) + \"...\";\n                        }\n                        setReplyMessageText(displayText);\n                        setReplySenderName(senderName);\n                    }\n                } catch (error) {\n                    console.error(\"Error fetching reply message:\", error);\n                    setReplyMessageText(\"Pesan tidak tersedia\");\n                    setReplySenderName(\"User\");\n                }\n            }\n        };\n        fetchReplyMessage();\n    }, [\n        message.replyTo,\n        chatId\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `flex ${isOwn ? \"justify-end\" : \"justify-start\"} mb-2 group/message`,\n        onDoubleClick: ()=>handleReplyMessage(),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: `relative max-w-[75%] ${isOwn ? \"order-2\" : \"order-1\"}`,\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    className: `self-center absolute ${isOwn ? \"-left-9\" : \"-right-9\"} top-1/2 transform -translate-y-1/2 p-1.5 rounded-full \r\n            bg-white/90 hover:bg-white text-gray-600 opacity-0 group-hover/message:opacity-100 \r\n            transition-all duration-200 shadow-sm focus:outline-none border border-gray-200`,\n                    onClick: ()=>setShowOptions(!showOptions),\n                    title: \"Opsi pesan\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCode_FiCornerDownRight_FiDownload_FiEdit_FiFile_FiFileText_FiGlobe_FiImage_FiMoreVertical_FiMusic_FiPause_FiPlay_FiStar_FiTrash_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiMoreVertical, {\n                        size: 16\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                        lineNumber: 565,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                    lineNumber: 558,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: `px-4 py-2.5 ${isOwn ? \"bg-gradient-to-r from-primary to-primary-dark text-white mr-1 rounded-2xl rounded-tr-sm shadow-md shadow-primary/20 border border-primary-dark/20\" : \"bg-white/95 backdrop-blur-sm text-gray-800 ml-1 rounded-2xl rounded-tl-sm shadow-md border border-gray-100\"} ${message.replyTo ? \"pt-12\" : \"\"} hover:shadow-lg transition-all duration-200 relative`,\n                    children: [\n                        message.replyTo && replyMessageText && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: `absolute top-0 left-0 right-0 px-3 py-1.5 rounded-t-2xl flex items-start ${isOwn ? \"bg-primary-dark/20 border-l-4 border-l-white/70\" : \"bg-gray-100/90 border-l-4 border-l-primary\"}`,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 min-w-0 ml-1 mb-0.5\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: `text-xs font-medium truncate max-w-[85%] ${isOwn ? \"text-white/90\" : \"text-primary\"}`,\n                                            children: replySenderName\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                            lineNumber: 587,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                        lineNumber: 586,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: `text-xs truncate ${isOwn ? \"text-white/80\" : \"text-gray-600\"}`,\n                                        children: replyMessageText\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                        lineNumber: 591,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                lineNumber: 585,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                            lineNumber: 580,\n                            columnNumber: 13\n                        }, this),\n                        showOptions && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            ref: optionsRef,\n                            className: `absolute ${isOwn ? \"right-full mr-3\" : \"left-full ml-3\"} top-1/2 -translate-y-1/2 bg-white rounded-lg shadow-xl z-20 overflow-hidden border border-gray-200 min-w-[180px] animate-scaleIn`,\n                            children: [\n                                isOwn && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute top-6 right-[-6px] w-3 h-3 bg-white border-t border-r border-gray-200 transform rotate-45\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                    lineNumber: 606,\n                                    columnNumber: 17\n                                }, this),\n                                !isOwn && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute top-6 left-[-6px] w-3 h-3 bg-white border-b border-l border-gray-200 transform rotate-45\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                    lineNumber: 611,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-gray-50 px-4 py-2.5 border-b border-gray-200\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs font-medium text-gray-500\",\n                                        children: \"Opsi Pesan\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                        lineNumber: 617,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                    lineNumber: 616,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"py-1\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: translateMessage,\n                                            disabled: isTranslating,\n                                            className: \"px-4 py-2.5 w-full text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center transition-colors\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"bg-indigo-50 p-1.5 rounded-full mr-3\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCode_FiCornerDownRight_FiDownload_FiEdit_FiFile_FiFileText_FiGlobe_FiImage_FiMoreVertical_FiMusic_FiPause_FiPlay_FiStar_FiTrash_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiGlobe, {\n                                                        className: \"text-indigo-500\",\n                                                        size: 15\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                        lineNumber: 627,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                    lineNumber: 626,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: isTranslating ? \"Menerjemahkan...\" : \"Terjemahkan\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                    lineNumber: 629,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                            lineNumber: 621,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>handleReplyMessage(),\n                                            className: \"px-4 py-2.5 w-full text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center transition-colors\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"bg-blue-50 p-1.5 rounded-full mr-3\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCode_FiCornerDownRight_FiDownload_FiEdit_FiFile_FiFileText_FiGlobe_FiImage_FiMoreVertical_FiMusic_FiPause_FiPlay_FiStar_FiTrash_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiCornerDownRight, {\n                                                        className: \"text-blue-500\",\n                                                        size: 15\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                        lineNumber: 637,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                    lineNumber: 636,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"Balas\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                    lineNumber: 639,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                            lineNumber: 632,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>handleMarkMessage(),\n                                            disabled: isMarking,\n                                            className: \"px-4 py-2.5 w-full text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center transition-colors\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: `${message.isMarked ? \"bg-yellow-100\" : \"bg-yellow-50\"} p-1.5 rounded-full mr-3`,\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCode_FiCornerDownRight_FiDownload_FiEdit_FiFile_FiFileText_FiGlobe_FiImage_FiMoreVertical_FiMusic_FiPause_FiPlay_FiStar_FiTrash_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiStar, {\n                                                        className: `${message.isMarked ? \"text-yellow-500\" : \"text-yellow-400\"}`,\n                                                        size: 15\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                        lineNumber: 648,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                    lineNumber: 647,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: message.isMarked ? \"Hapus tanda\" : \"Tandai pesan\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                    lineNumber: 650,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                            lineNumber: 642,\n                                            columnNumber: 17\n                                        }, this),\n                                        isOwn && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>handleEditMessage(),\n                                                    className: \"px-4 py-2.5 w-full text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center transition-colors\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"bg-green-50 p-1.5 rounded-full mr-3\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCode_FiCornerDownRight_FiDownload_FiEdit_FiFile_FiFileText_FiGlobe_FiImage_FiMoreVertical_FiMusic_FiPause_FiPlay_FiStar_FiTrash_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiEdit, {\n                                                                className: \"text-green-500\",\n                                                                size: 15\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                                lineNumber: 660,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                            lineNumber: 659,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            children: \"Edit\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                            lineNumber: 662,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                    lineNumber: 655,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"border-t border-gray-200\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>handleDeleteMessage(),\n                                                        disabled: isDeleting,\n                                                        className: \"px-4 py-2.5 w-full text-left text-sm text-red-600 hover:bg-red-50 flex items-center transition-colors\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"bg-red-50 p-1.5 rounded-full mr-3\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCode_FiCornerDownRight_FiDownload_FiEdit_FiFile_FiFileText_FiGlobe_FiImage_FiMoreVertical_FiMusic_FiPause_FiPlay_FiStar_FiTrash_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiTrash, {\n                                                                    className: \"text-red-500\",\n                                                                    size: 15\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                                    lineNumber: 672,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                                lineNumber: 671,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                children: isDeleting ? \"Menghapus...\" : \"Hapus\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                                lineNumber: 674,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                        lineNumber: 666,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                    lineNumber: 665,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                    lineNumber: 620,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                            lineNumber: 600,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: `${message.imageUrl || message.fileUrl ? \"space-y-2\" : \"\"} max-w-full overflow-hidden`,\n                            children: [\n                                message.text && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: `text-sm whitespace-pre-wrap break-words ${isOwn ? \"text-white\" : \"text-gray-800\"} ${!message.imageUrl && !message.fileUrl ? \"py-0.5\" : \"\"}`,\n                                    children: message.text\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                    lineNumber: 687,\n                                    columnNumber: 15\n                                }, this),\n                                isShowingTranslation && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: `mt-2 text-sm ${isOwn ? \"bg-white/20\" : \"bg-primary/10\"} p-2 rounded-xl ${isOwn ? \"text-white/90\" : \"text-gray-700\"}`,\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex justify-between items-start\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex-1\",\n                                                children: translationError ? renderTranslationError() : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm\",\n                                                    children: translatedText\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                    lineNumber: 700,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                lineNumber: 696,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: handleCloseTranslation,\n                                                className: `ml-1 p-1 rounded-full hover:bg-black/5 ${isOwn ? \"text-white/80\" : \"text-gray-500\"}`,\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCode_FiCornerDownRight_FiDownload_FiEdit_FiFile_FiFileText_FiGlobe_FiImage_FiMoreVertical_FiMusic_FiPause_FiPlay_FiStar_FiTrash_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiX, {\n                                                    size: 14\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                    lineNumber: 709,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                lineNumber: 705,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                        lineNumber: 695,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                    lineNumber: 694,\n                                    columnNumber: 15\n                                }, this),\n                                message.imageUrl && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-2 rounded-lg overflow-hidden bg-black/5 border border-white/20\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                        src: message.imageUrl,\n                                        alt: \"Image message\",\n                                        className: \"max-w-full rounded-lg object-contain hover:scale-[0.98] transition-transform cursor-pointer\",\n                                        onClick: ()=>window.open(message.imageUrl, \"_blank\"),\n                                        onLoad: ()=>{\n                                            // Scroll to bottom when image loads\n                                            const messagesContainer = document.querySelector(\".messages-container\");\n                                            if (messagesContainer) {\n                                                messagesContainer.scrollTop = messagesContainer.scrollHeight;\n                                            }\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                        lineNumber: 718,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                    lineNumber: 717,\n                                    columnNumber: 15\n                                }, this),\n                                message.fileUrl && message.fileName && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-2\",\n                                    children: message.audio ? // Audio player\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: `flex items-center p-3 rounded-xl ${isOwn ? \"bg-white/20 backdrop-blur-sm border border-white/20\" : \"bg-primary/10 backdrop-blur-sm border border-primary/20\"} transition-all hover:shadow-md`,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: toggleAudioPlayback,\n                                                className: `p-2.5 rounded-full flex items-center justify-center ${isOwn ? \"bg-white/30 text-white hover:bg-white/40\" : \"bg-primary/20 text-primary hover:bg-primary/30\"} mr-3 transition-all hover:scale-105 active:scale-95 w-10 h-10 shadow-sm`,\n                                                children: isPlaying ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCode_FiCornerDownRight_FiDownload_FiEdit_FiFile_FiFileText_FiGlobe_FiImage_FiMoreVertical_FiMusic_FiPause_FiPlay_FiStar_FiTrash_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiPause, {\n                                                    size: 18\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                    lineNumber: 752,\n                                                    columnNumber: 36\n                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCode_FiCornerDownRight_FiDownload_FiEdit_FiFile_FiFileText_FiGlobe_FiImage_FiMoreVertical_FiMusic_FiPause_FiPlay_FiStar_FiTrash_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiPlay, {\n                                                    size: 18,\n                                                    className: \"ml-0.5\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                    lineNumber: 752,\n                                                    columnNumber: 60\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                lineNumber: 744,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex-1\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"w-full bg-gray-200 h-2 rounded-full overflow-hidden\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: `h-full ${isOwn ? \"bg-white\" : \"bg-primary\"} transition-all duration-150 ease-in-out`,\n                                                                    style: {\n                                                                        width: `${currentTime / audioDuration * 100}%`\n                                                                    }\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                                    lineNumber: 758,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                                lineNumber: 757,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"ml-2\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCode_FiCornerDownRight_FiDownload_FiEdit_FiFile_FiFileText_FiGlobe_FiImage_FiMoreVertical_FiMusic_FiPause_FiPlay_FiStar_FiTrash_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiMusic, {\n                                                                    size: 14,\n                                                                    className: isOwn ? \"text-white/70\" : \"text-primary/70\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                                    lineNumber: 764,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                                lineNumber: 763,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                        lineNumber: 756,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex justify-between text-xs mt-1.5\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: isOwn ? \"text-white/80\" : \"text-gray-600\",\n                                                                children: formatAudioTime(currentTime)\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                                lineNumber: 768,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: isOwn ? \"text-white/80\" : \"text-gray-600\",\n                                                                children: formatAudioTime(audioDuration)\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                                lineNumber: 771,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                        lineNumber: 767,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                lineNumber: 755,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"audio\", {\n                                                ref: audioRef,\n                                                src: message.fileUrl,\n                                                className: \"hidden\",\n                                                preload: \"metadata\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                lineNumber: 777,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                        lineNumber: 739,\n                                        columnNumber: 19\n                                    }, this) : // Standard file attachment\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                        href: message.fileUrl,\n                                        target: \"_blank\",\n                                        rel: \"noopener noreferrer\",\n                                        className: `flex items-center p-3 rounded-xl ${isOwn ? \"bg-white/20 backdrop-blur-sm border border-white/20 hover:bg-white/30\" : \"bg-primary/10 backdrop-blur-sm border border-primary/20 hover:bg-primary/15\"} transition-all hover:shadow-md`,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: `p-2.5 rounded-xl mr-3 flex-shrink-0 ${isOwn ? \"bg-white/30 text-white\" : \"bg-primary/20 text-primary\"} w-11 h-11 flex items-center justify-center shadow-sm`,\n                                                children: getFileIcon(message.fileType)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                lineNumber: 796,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex-1 min-w-0\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: `text-sm font-medium truncate ${isOwn ? \"text-white\" : \"text-gray-800\"}`,\n                                                        children: message.fileName\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                        lineNumber: 804,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: `text-xs ${isOwn ? \"text-white/80\" : \"text-gray-500\"}`,\n                                                        children: formatFileSize(message.fileSize)\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                        lineNumber: 807,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                lineNumber: 803,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: (e)=>{\n                                                    e.preventDefault();\n                                                    window.open(message.fileUrl, \"_blank\");\n                                                },\n                                                className: `p-2 rounded-full ml-2 ${isOwn ? \"text-white/90 hover:bg-white/20\" : \"text-primary hover:bg-primary/20\"} transition-colors hover:scale-105 active:scale-95`,\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCode_FiCornerDownRight_FiDownload_FiEdit_FiFile_FiFileText_FiGlobe_FiImage_FiMoreVertical_FiMusic_FiPause_FiPlay_FiStar_FiTrash_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiDownload, {\n                                                    size: 18\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                    lineNumber: 822,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                lineNumber: 811,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                        lineNumber: 786,\n                                        columnNumber: 19\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                    lineNumber: 736,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                            lineNumber: 684,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: `flex items-center mt-1.5 text-xs ${isOwn ? \"text-white/70 justify-end\" : \"text-gray-500\"}`,\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    children: formattedTime\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                    lineNumber: 832,\n                                    columnNumber: 13\n                                }, this),\n                                isOwn && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center ml-1.5\",\n                                    children: [\n                                        message.isEdited && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"mr-1 opacity-70\",\n                                            children: \"(diubah)\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                            lineNumber: 837,\n                                            columnNumber: 19\n                                        }, this),\n                                        message.readBy && message.readBy.length > 1 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center ml-1\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                xmlns: \"http://www.w3.org/2000/svg\",\n                                                width: \"16\",\n                                                height: \"15\",\n                                                viewBox: \"0 0 16 15\",\n                                                className: \"fill-blue-400\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    d: \"M15.01 3.316l-.478-.372a.365.365 0 0 0-.51.063L8.666 9.879a.32.32 0 0 1-.484.033l-.358-.325a.319.319 0 0 0-.484.032l-.378.483a.418.418 0 0 0 .036.541l1.32 1.266c.143.14.361.125.484-.033l6.272-8.048a.366.366 0 0 0-.064-.512zm-4.1 0l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.879a.32.32 0 0 1-.484.033L1.891 7.769a.366.366 0 0 0-.515.006l-.423.433a.364.364 0 0 0 .006.514l3.258 3.185c.143.14.361.125.484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                    lineNumber: 843,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                lineNumber: 842,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                            lineNumber: 841,\n                                            columnNumber: 19\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center ml-1\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                xmlns: \"http://www.w3.org/2000/svg\",\n                                                width: \"16\",\n                                                height: \"15\",\n                                                viewBox: \"0 0 16 15\",\n                                                className: \"fill-white/80\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    d: \"M10.91 3.316l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.879a.32.32 0 0 1-.484.033L1.891 7.769a.366.366 0 0 0-.515.006l-.423.433a.364.364 0 0 0 .006.514l3.258 3.185c.143.14.361.125.484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                    lineNumber: 849,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                                lineNumber: 848,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                            lineNumber: 847,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                    lineNumber: 835,\n                                    columnNumber: 15\n                                }, this),\n                                message.isMarked && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"ml-1.5 text-yellow-400\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCode_FiCornerDownRight_FiDownload_FiEdit_FiFile_FiFileText_FiGlobe_FiImage_FiMoreVertical_FiMusic_FiPause_FiPlay_FiStar_FiTrash_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.FiStar, {\n                                        size: 12,\n                                        className: \"inline fill-current\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                        lineNumber: 858,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                                    lineNumber: 857,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                            lineNumber: 831,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n                    lineNumber: 569,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n            lineNumber: 556,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatMessage.tsx\",\n        lineNumber: 555,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFNLEdBQUcsa0JBQ3pDLDhEQUFDOUg7NENBQUlDLFdBQVU7c0RBQ2IsNEVBQUN1SjtnREFBSUMsT0FBTTtnREFBNkJWLE9BQU07Z0RBQUtXLFFBQU87Z0RBQUtDLFNBQVE7Z0RBQVkxSixXQUFVOzBEQUMzRiw0RUFBQzJKO29EQUFLQyxHQUFFOzs7Ozs7Ozs7Ozs7Ozs7aUVBSVosOERBQUM3Sjs0Q0FBSUMsV0FBVTtzREFDYiw0RUFBQ3VKO2dEQUFJQyxPQUFNO2dEQUE2QlYsT0FBTTtnREFBS1csUUFBTztnREFBS0MsU0FBUTtnREFBWTFKLFdBQVU7MERBQzNGLDRFQUFDMko7b0RBQUtDLEdBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Z0NBT2pCckosUUFBUTJGLFFBQVEsa0JBQ2YsOERBQUNLO29DQUFLdkcsV0FBVTs4Q0FDZCw0RUFBQ3BDLHVOQUFNQTt3Q0FBQ29CLE1BQU07d0NBQUlnQixXQUFVOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUTVDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFsbG8vLi9zcmMvY29tcG9uZW50cy9DaGF0TWVzc2FnZS50c3g/NTBjZSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XHJcblxyXG5pbXBvcnQgeyBmb3JtYXQgfSBmcm9tICdkYXRlLWZucyc7XHJcbmltcG9ydCB7IGlkIH0gZnJvbSAnZGF0ZS1mbnMvbG9jYWxlJztcclxuaW1wb3J0IHsgRmlDaGVjaywgRmlDaGVja1NxdWFyZSwgRmlUcmFzaCwgRmlNb3JlVmVydGljYWwsIEZpRG93bmxvYWQsIEZpRmlsZSwgRmlGaWxlVGV4dCwgRmlNdXNpYywgRmlWaWRlbywgRmlJbWFnZSwgRmlDb2RlLCBGaU1lc3NhZ2VTcXVhcmUsIEZpU3RhciwgRmlDb3JuZXJEb3duUmlnaHQsIEZpUGxheSwgRmlQYXVzZSwgRmlVc2VyLCBGaVgsIEZpR2xvYmUsIEZpRWRpdCB9IGZyb20gJ3JlYWN0LWljb25zL2ZpJztcclxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZVJlZiwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgZGIgfSBmcm9tICdAL2ZpcmViYXNlL2NvbmZpZyc7XHJcbmltcG9ydCB7IGRvYywgZGVsZXRlRG9jLCB1cGRhdGVEb2MsIGdldERvYyB9IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XHJcbmltcG9ydCB7IGxpc3RlblRvVXNlclByb2ZpbGUgfSBmcm9tICdAL2xpYi91c2Vycyc7XHJcbmltcG9ydCB7IHVzZUFJQ29uZmlnIH0gZnJvbSAnQC9saWIvY29udGV4dCc7XHJcbmltcG9ydCB7IHVzZVRyYW5zbGF0ZSB9IGZyb20gJ0AvbGliL2hvb2tzL3VzZVRyYW5zbGF0ZSc7XHJcblxyXG50eXBlIE1lc3NhZ2VQcm9wcyA9IHtcclxuICBtZXNzYWdlOiB7XHJcbiAgICBpZDogc3RyaW5nO1xyXG4gICAgdGV4dDogc3RyaW5nO1xyXG4gICAgc2VuZGVySWQ6IHN0cmluZztcclxuICAgIHRpbWVzdGFtcDogYW55O1xyXG4gICAgcmVhZEJ5OiBzdHJpbmdbXTtcclxuICAgIGltYWdlVXJsPzogc3RyaW5nO1xyXG4gICAgZmlsZVVybD86IHN0cmluZztcclxuICAgIGZpbGVOYW1lPzogc3RyaW5nO1xyXG4gICAgZmlsZVR5cGU/OiBzdHJpbmc7XHJcbiAgICBmaWxlU2l6ZT86IG51bWJlcjtcclxuICAgIGlzTWFya2VkPzogYm9vbGVhbjtcclxuICAgIHJlcGx5VG8/OiBzdHJpbmc7XHJcbiAgICBpc0VkaXRlZD86IGJvb2xlYW47XHJcbiAgICBhdWRpbz86IGJvb2xlYW47XHJcbiAgfTtcclxuICBpc093bjogYm9vbGVhbjtcclxuICBjaGF0SWQ6IHN0cmluZztcclxuICBvblJlcGx5TWVzc2FnZT86IChtZXNzYWdlSWQ6IHN0cmluZywgbWVzc2FnZVRleHQ6IHN0cmluZykgPT4gdm9pZDtcclxuICBvbkVkaXRNZXNzYWdlPzogKG1lc3NhZ2VJZDogc3RyaW5nLCBtZXNzYWdlVGV4dDogc3RyaW5nKSA9PiB2b2lkO1xyXG59O1xyXG5cclxuLy8gS29tcG9uZW4gQXZhdGFyIHVudHVrIG1lbmFtcGlsa2FuIGZvdG8gcHJvZmlsXHJcbnR5cGUgQXZhdGFyUHJvcHMgPSB7XHJcbiAgdXNlcklkOiBzdHJpbmc7XHJcbiAgc2l6ZT86ICdzbScgfCAnbWQnIHwgJ2xnJztcclxufTtcclxuXHJcbmZ1bmN0aW9uIFVzZXJBdmF0YXIoeyB1c2VySWQsIHNpemUgPSAnbWQnIH06IEF2YXRhclByb3BzKSB7XHJcbiAgY29uc3QgW3VzZXJEYXRhLCBzZXRVc2VyRGF0YV0gPSB1c2VTdGF0ZTx7IFxyXG4gICAgcGhvdG9VUkw/OiBzdHJpbmc7IFxyXG4gICAgZGlzcGxheU5hbWU/OiBzdHJpbmc7XHJcbiAgfSB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFtpbWFnZUVycm9yLCBzZXRJbWFnZUVycm9yXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgLy8gTGlzdGVuZXIgdW50dWsgZGF0YSBwZW5nZ3VuYSByZWFsdGltZVxyXG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSBsaXN0ZW5Ub1VzZXJQcm9maWxlKHVzZXJJZCwgKGRhdGEpID0+IHtcclxuICAgICAgc2V0VXNlckRhdGEoZGF0YSk7XHJcbiAgICAgIHNldEltYWdlRXJyb3IoZmFsc2UpO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIHJldHVybiAoKSA9PiB1bnN1YnNjcmliZSgpO1xyXG4gIH0sIFt1c2VySWRdKTtcclxuICBcclxuICAvLyBVa3VyYW4gYXZhdGFyIGJlcmRhc2Fya2FuIHByb3BcclxuICBjb25zdCBzaXplQ2xhc3MgPSB7XHJcbiAgICBzbTogJ2gtOCB3LTggdGV4dC1zbScsXHJcbiAgICBtZDogJ2gtMTAgdy0xMCB0ZXh0LWJhc2UnLFxyXG4gICAgbGc6ICdoLTEyIHctMTIgdGV4dC1sZycsXHJcbiAgfVtzaXplXTtcclxuICBcclxuICAvLyBBbWJpbCBpbmlzaWFsIGRhcmkgbmFtYSBwZW5nZ3VuYVxyXG4gIGNvbnN0IGdldEluaXRpYWxzID0gKCkgPT4ge1xyXG4gICAgaWYgKHVzZXJEYXRhPy5kaXNwbGF5TmFtZSkge1xyXG4gICAgICByZXR1cm4gdXNlckRhdGEuZGlzcGxheU5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gJ1UnO1xyXG4gIH07XHJcbiAgXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtzaXplQ2xhc3N9IHJvdW5kZWQtZnVsbCBiZy1wcmltYXJ5IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG92ZXJmbG93LWhpZGRlbiB0ZXh0LXdoaXRlIGZvbnQtbWVkaXVtYH0+XHJcbiAgICAgIHt1c2VyRGF0YT8ucGhvdG9VUkwgJiYgIWltYWdlRXJyb3IgPyAoXHJcbiAgICAgICAgPGltZyBcclxuICAgICAgICAgIHNyYz17dXNlckRhdGEucGhvdG9VUkx9IFxyXG4gICAgICAgICAgYWx0PXt1c2VyRGF0YT8uZGlzcGxheU5hbWUgfHwgJ0F2YXRhcid9XHJcbiAgICAgICAgICBjbGFzc05hbWU9e2Ake3NpemVDbGFzc30gb2JqZWN0LWNvdmVyYH1cclxuICAgICAgICAgIG9uRXJyb3I9eygpID0+IHNldEltYWdlRXJyb3IodHJ1ZSl9XHJcbiAgICAgICAgLz5cclxuICAgICAgKSA6IChcclxuICAgICAgICBnZXRJbml0aWFscygpXHJcbiAgICAgICl9XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDaGF0TWVzc2FnZSh7IG1lc3NhZ2UsIGlzT3duLCBjaGF0SWQsIG9uUmVwbHlNZXNzYWdlLCBvbkVkaXRNZXNzYWdlIH06IE1lc3NhZ2VQcm9wcykge1xyXG4gIGNvbnN0IHsgYWlDb25maWcgfSA9IHVzZUFJQ29uZmlnKCk7XHJcbiAgY29uc3QgW3Nob3dPcHRpb25zLCBzZXRTaG93T3B0aW9uc10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2lzRGVsZXRpbmcsIHNldElzRGVsZXRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtpc01hcmtpbmcsIHNldElzTWFya2luZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2lzUGxheWluZywgc2V0SXNQbGF5aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbYXVkaW9EdXJhdGlvbiwgc2V0QXVkaW9EdXJhdGlvbl0gPSB1c2VTdGF0ZSgwKTtcclxuICBjb25zdCBbY3VycmVudFRpbWUsIHNldEN1cnJlbnRUaW1lXSA9IHVzZVN0YXRlKDApO1xyXG4gIGNvbnN0IFtyZXBseU1lc3NhZ2VUZXh0LCBzZXRSZXBseU1lc3NhZ2VUZXh0XSA9IHVzZVN0YXRlPHN0cmluZz4oJycpO1xyXG4gIGNvbnN0IFtyZXBseVNlbmRlck5hbWUsIHNldFJlcGx5U2VuZGVyTmFtZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KCdVc2VyJyk7XHJcbiAgY29uc3QgW2lzVHJhbnNsYXRpbmcsIHNldElzVHJhbnNsYXRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFt0cmFuc2xhdGVkVGV4dCwgc2V0VHJhbnNsYXRlZFRleHRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW3RyYW5zbGF0aW9uRXJyb3IsIHNldFRyYW5zbGF0aW9uRXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW2lzU2hvd2luZ1RyYW5zbGF0aW9uLCBzZXRJc1Nob3dpbmdUcmFuc2xhdGlvbl0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3Qgb3B0aW9uc1JlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XHJcbiAgY29uc3QgYXVkaW9SZWYgPSB1c2VSZWY8SFRNTEF1ZGlvRWxlbWVudD4obnVsbCk7XHJcbiAgXHJcbiAgLy8gR3VuYWthbiBob29rIHVzZVRyYW5zbGF0ZVxyXG4gIGNvbnN0IHsgdHJhbnNsYXRlTWVzc2FnZTogdHJhbnNsYXRlLCBpc1RyYW5zbGF0aW5nOiBpc1RyYW5zbGF0aW5nRnJvbUhvb2ssIHRyYW5zbGF0aW9uRXJyb3I6IGhvb2tUcmFuc2xhdGlvbkVycm9yLCBjYW5jZWxUcmFuc2xhdGlvbiB9ID0gdXNlVHJhbnNsYXRlKCk7XHJcbiAgXHJcbiAgLy8gRnVuZ3NpIHVudHVrIHJlc2V0IGVycm9yXHJcbiAgY29uc3QgcmVzZXRFcnJvciA9ICgpID0+IHNldFRyYW5zbGF0aW9uRXJyb3IobnVsbCk7XHJcblxyXG4gIC8vIEZ1bmdzaSB1bnR1ayBtZW5lcmplbWFoa2FuIHBlc2FuIHNhYXQgdXNlciBrbGlrIHRvbWJvbCB0ZXJqZW1haGFuXHJcbiAgY29uc3QgdHJhbnNsYXRlTWVzc2FnZSA9IGFzeW5jICgpID0+IHtcclxuICAgIGlmICghbWVzc2FnZS50ZXh0IHx8IGlzVHJhbnNsYXRpbmcpIHJldHVybjtcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgc2V0SXNUcmFuc2xhdGluZyh0cnVlKTtcclxuICAgICAgc2V0VHJhbnNsYXRpb25FcnJvcihudWxsKTtcclxuICAgICAgc2V0U2hvd09wdGlvbnMoZmFsc2UpOyAvLyBUdXR1cCBkcm9wZG93biBvcHRpb25zIHNlZ2VyYVxyXG4gICAgICBcclxuICAgICAgLy8gVGFtcGlsa2FuIGluZGlrYXNpIGxvYWRpbmdcclxuICAgICAgc2V0VHJhbnNsYXRlZFRleHQoXCJNZW5lcmplbWFoa2FuLi4uXCIpO1xyXG4gICAgICBzZXRJc1Nob3dpbmdUcmFuc2xhdGlvbih0cnVlKTtcclxuICAgICAgXHJcbiAgICAgIC8vIEd1bmFrYW4gaG9vayB1c2VUcmFuc2xhdGUgeWFuZyBzdWRhaCBtZW5hbmdhbmkgZXJyb3IgZGFuIHRpbWVvdXQgZGVuZ2FuIGJhaWtcclxuICAgICAgY29uc3QgdGFyZ2V0TGFuZyA9IGFpQ29uZmlnLnRyYW5zbGF0ZUxhbmd1YWdlIHx8ICdlbic7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRyYW5zbGF0ZShtZXNzYWdlLnRleHQsIG1lc3NhZ2UuaWQsIHRhcmdldExhbmcpO1xyXG4gICAgICBcclxuICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQudHJhbnNsYXRlZFRleHQpIHtcclxuICAgICAgICAvLyBVcGRhdGUgc3RhdGUgZGVuZ2FuIGhhc2lsIHRlcmplbWFoYW5cclxuICAgICAgICBzZXRUcmFuc2xhdGVkVGV4dChyZXN1bHQudHJhbnNsYXRlZFRleHQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIEZhbGxiYWNrIG1pbmltYWwgamlrYSB0aWRhayBhZGEgdGVyamVtYWhhblxyXG4gICAgICAgIHNldFRyYW5zbGF0ZWRUZXh0KGBbJHt0YXJnZXRMYW5nLnRvVXBwZXJDYXNlKCl9XSAke21lc3NhZ2UudGV4dH1gKTtcclxuICAgICAgICBzZXRUcmFuc2xhdGlvbkVycm9yKFwiR2FnYWwgbWVuZXJqZW1haGthbiBwZXNhblwiKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignR2FnYWwgbWVuZXJqZW1haGthbiBwZXNhbjonLCBlcnJvcik7XHJcbiAgICAgIC8vIEphbmdhbiB0YW1waWxrYW4gZXJyb3IsIGN1a3VwIHRhbXBpbGthbiB0ZXJqZW1haGFuIHNlZGVyaGFuYVxyXG4gICAgICBzZXRUcmFuc2xhdGVkVGV4dChgWyR7KGFpQ29uZmlnLnRyYW5zbGF0ZUxhbmd1YWdlIHx8ICdlbicpLnRvVXBwZXJDYXNlKCl9XSAke21lc3NhZ2UudGV4dH1gKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldElzVHJhbnNsYXRpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIFRlcmplbWFoa2FuIG90b21hdGlzIGppa2EgcGVuZ2F0dXJhbiBhdXRvVHJhbnNsYXRlIGRpYWt0aWZrYW4gZGFuIHBlc2FuIGJ1a2FuIGRhcmkgdXNlciBzZW5kaXJpXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGxldCBpc01vdW50ZWQgPSB0cnVlO1xyXG4gICAgXHJcbiAgICAvLyBIYW55YSB0ZXJqZW1haGthbiBqaWthOlxyXG4gICAgLy8gMS4gQ29tcG9uZW50IG1hc2loIHRlcnBhc2FuZ1xyXG4gICAgLy8gMi4gRml0dXIgYXV0b1RyYW5zbGF0ZSBha3RpZlxyXG4gICAgLy8gMy4gUGVzYW4gYnVrYW4gZGFyaSB1c2VyIHNlbmRpcmlcclxuICAgIC8vIDQuIFBlc2FuIG1lbWlsaWtpIHRla3NcclxuICAgIGlmIChhaUNvbmZpZy5hdXRvVHJhbnNsYXRlICYmICFpc093biAmJiBtZXNzYWdlLnRleHQgJiYgIWlzU2hvd2luZ1RyYW5zbGF0aW9uICYmICFpc1RyYW5zbGF0aW5nKSB7XHJcbiAgICAgIC8vIEltcGxlbWVudGFzaSB5YW5nIHNlZGVyaGFuYSB0YW5wYSBjYWxsYmFja1xyXG4gICAgICBjb25zdCBoYW5kbGVBdXRvVHJhbnNsYXRlID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIGlmICghaXNNb3VudGVkKSByZXR1cm47XHJcbiAgICAgICAgXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIHNldElzVHJhbnNsYXRpbmcodHJ1ZSk7XHJcbiAgICAgICAgICBzZXRUcmFuc2xhdGVkVGV4dChcIk1lbmVyamVtYWhrYW4gb3RvbWF0aXMuLi5cIik7XHJcbiAgICAgICAgICBzZXRJc1Nob3dpbmdUcmFuc2xhdGlvbih0cnVlKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc3QgdGFyZ2V0TGFuZyA9IGFpQ29uZmlnLnRyYW5zbGF0ZUxhbmd1YWdlIHx8ICdlbic7XHJcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0cmFuc2xhdGUobWVzc2FnZS50ZXh0LCBtZXNzYWdlLmlkLCB0YXJnZXRMYW5nKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaWYgKCFpc01vdW50ZWQpIHJldHVybjtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQudHJhbnNsYXRlZFRleHQpIHtcclxuICAgICAgICAgICAgc2V0VHJhbnNsYXRlZFRleHQocmVzdWx0LnRyYW5zbGF0ZWRUZXh0KTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNldFRyYW5zbGF0ZWRUZXh0KGBbJHt0YXJnZXRMYW5nLnRvVXBwZXJDYXNlKCl9XSAke21lc3NhZ2UudGV4dH1gKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgaWYgKCFpc01vdW50ZWQpIHJldHVybjtcclxuICAgICAgICAgIHNldFRyYW5zbGF0ZWRUZXh0KGBbQXV0b10gJHttZXNzYWdlLnRleHR9YCk7XHJcbiAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgIGlmIChpc01vdW50ZWQpIHNldElzVHJhbnNsYXRpbmcoZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIC8vIFR1bmdndSBzZWJlbnRhciBzZWJlbHVtIG1lbmVyamVtYWhrYW5cclxuICAgICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KGhhbmRsZUF1dG9UcmFuc2xhdGUsIDUwMCk7XHJcbiAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgY2FuY2VsVHJhbnNsYXRpb24obWVzc2FnZS5pZCk7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcclxuICAgICAgICBpc01vdW50ZWQgPSBmYWxzZTtcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgaXNNb3VudGVkID0gZmFsc2U7XHJcbiAgICB9O1xyXG4gIH0sIFthaUNvbmZpZy5hdXRvVHJhbnNsYXRlLCBpc093biwgbWVzc2FnZS50ZXh0LCBtZXNzYWdlLmlkLCB0cmFuc2xhdGUsIGNhbmNlbFRyYW5zbGF0aW9uXSk7XHJcblxyXG4gIC8vIFBlbmFuZ2FuYW4gdGltZXN0YW1wIHlhbmcgbGViaWggYW1hblxyXG4gIGxldCBmb3JtYXR0ZWRUaW1lID0gJyc7XHJcbiAgdHJ5IHtcclxuICAgIGlmIChtZXNzYWdlLnRpbWVzdGFtcCkge1xyXG4gICAgICBpZiAobWVzc2FnZS50aW1lc3RhbXAudG9EYXRlKSB7XHJcbiAgICAgICAgZm9ybWF0dGVkVGltZSA9IGZvcm1hdChtZXNzYWdlLnRpbWVzdGFtcC50b0RhdGUoKSwgJ0hIOm1tJywgeyBsb2NhbGU6IGlkIH0pO1xyXG4gICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UudGltZXN0YW1wLnNlY29uZHMpIHtcclxuICAgICAgICAvLyBBbHRlcm5hdGlmIGppa2EgdG9EYXRlKCkgdGlkYWsgdGVyc2VkaWEgdGFwaSBhZGEgc2Vjb25kc1xyXG4gICAgICAgIGZvcm1hdHRlZFRpbWUgPSBmb3JtYXQobmV3IERhdGUobWVzc2FnZS50aW1lc3RhbXAuc2Vjb25kcyAqIDEwMDApLCAnSEg6bW0nLCB7IGxvY2FsZTogaWQgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZm9ybWF0dGluZyB0aW1lc3RhbXA6JywgZXJyb3IpO1xyXG4gICAgZm9ybWF0dGVkVGltZSA9ICcnOyAvLyBEZWZhdWx0IHRvIGVtcHR5IGlmIHRoZXJlJ3MgYW4gZXJyb3JcclxuICB9XHJcblxyXG4gIC8vIFR1dHVwIGRyb3Bkb3duIHNhYXQga2xpayBkaSBsdWFyXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGhhbmRsZUNsaWNrT3V0c2lkZSA9IChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICBpZiAob3B0aW9uc1JlZi5jdXJyZW50ICYmICFvcHRpb25zUmVmLmN1cnJlbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0IGFzIE5vZGUpKSB7XHJcbiAgICAgICAgc2V0U2hvd09wdGlvbnMoZmFsc2UpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVDbGlja091dHNpZGUpO1xyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcclxuICAgIH07XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyBIYW5kbGVyIHVudHVrIGF1ZGlvIHBsYXllclxyXG4gIGNvbnN0IGhhbmRsZUxvYWRlZE1ldGFkYXRhID0gKCkgPT4ge1xyXG4gICAgY29uc3QgYXVkaW8gPSBhdWRpb1JlZi5jdXJyZW50O1xyXG4gICAgaWYgKCFhdWRpbykgcmV0dXJuO1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoYXVkaW8uZHVyYXRpb24gJiYgaXNGaW5pdGUoYXVkaW8uZHVyYXRpb24pKSB7XHJcbiAgICAgICAgc2V0QXVkaW9EdXJhdGlvbihhdWRpby5kdXJhdGlvbik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2V0QXVkaW9EdXJhdGlvbigwKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBoYW5kbGVMb2FkZWRNZXRhZGF0YTonLCBlKTtcclxuICAgICAgc2V0QXVkaW9EdXJhdGlvbigwKTtcclxuICAgIH1cclxuICB9O1xyXG4gIFxyXG4gIGNvbnN0IGhhbmRsZVRpbWVVcGRhdGUgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBhdWRpbyA9IGF1ZGlvUmVmLmN1cnJlbnQ7XHJcbiAgICBpZiAoIWF1ZGlvKSByZXR1cm47XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGlmIChhdWRpby5jdXJyZW50VGltZSAmJiBpc0Zpbml0ZShhdWRpby5jdXJyZW50VGltZSkpIHtcclxuICAgICAgICBzZXRDdXJyZW50VGltZShhdWRpby5jdXJyZW50VGltZSk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gaGFuZGxlVGltZVVwZGF0ZTonLCBlKTtcclxuICAgIH1cclxuICB9O1xyXG4gIFxyXG4gIGNvbnN0IGhhbmRsZUVuZGVkID0gKCkgPT4ge1xyXG4gICAgc2V0SXNQbGF5aW5nKGZhbHNlKTtcclxuICAgIHNldEN1cnJlbnRUaW1lKDApO1xyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKGF1ZGlvUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBhdWRpb1JlZi5jdXJyZW50LmN1cnJlbnRUaW1lID0gMDtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBoYW5kbGVFbmRlZDonLCBlKTtcclxuICAgIH1cclxuICB9O1xyXG4gIFxyXG4gIC8vIFJlc2V0IHN0YXRlIGtldGlrYSBhdWRpbyBiZXJ1YmFoXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIHNldEF1ZGlvRHVyYXRpb24oMCk7XHJcbiAgICBzZXRDdXJyZW50VGltZSgwKTtcclxuICAgIHNldElzUGxheWluZyhmYWxzZSk7XHJcbiAgfSwgW21lc3NhZ2UuZmlsZVVybF0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgYXVkaW8gPSBhdWRpb1JlZi5jdXJyZW50O1xyXG4gICAgaWYgKCFhdWRpbykgcmV0dXJuO1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICBhdWRpby5hZGRFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsIGhhbmRsZUxvYWRlZE1ldGFkYXRhKTtcclxuICAgICAgYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcigndGltZXVwZGF0ZScsIGhhbmRsZVRpbWVVcGRhdGUpO1xyXG4gICAgICBhdWRpby5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIGhhbmRsZUVuZGVkKTtcclxuICAgICAgXHJcbiAgICAgIC8vIExvYWQgYXVkaW8gc2FhdCBjb21wb25lbnQgbW91bnRcclxuICAgICAgYXVkaW8ubG9hZCgpO1xyXG4gICAgICBcclxuICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICBhdWRpby5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsIGhhbmRsZUxvYWRlZE1ldGFkYXRhKTtcclxuICAgICAgICBhdWRpby5yZW1vdmVFdmVudExpc3RlbmVyKCd0aW1ldXBkYXRlJywgaGFuZGxlVGltZVVwZGF0ZSk7XHJcbiAgICAgICAgYXVkaW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBoYW5kbGVFbmRlZCk7XHJcbiAgICAgIH07XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNldHRpbmcgdXAgYXVkaW8gZXZlbnQgbGlzdGVuZXJzOicsIGUpO1xyXG4gICAgfVxyXG4gIH0sIFthdWRpb1JlZi5jdXJyZW50LCBtZXNzYWdlLmZpbGVVcmxdKTtcclxuXHJcbiAgY29uc3QgdG9nZ2xlQXVkaW9QbGF5YmFjayA9ICgpID0+IHtcclxuICAgIGNvbnN0IGF1ZGlvID0gYXVkaW9SZWYuY3VycmVudDtcclxuICAgIGlmICghYXVkaW8pIHJldHVybjtcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKGlzUGxheWluZykge1xyXG4gICAgICAgIGF1ZGlvLnBhdXNlKCk7XHJcbiAgICAgICAgc2V0SXNQbGF5aW5nKGZhbHNlKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhdWRpby5wbGF5KCkuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwbGF5aW5nIGF1ZGlvOicsIGUpO1xyXG4gICAgICAgICAgc2V0SXNQbGF5aW5nKGZhbHNlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBzZXRJc1BsYXlpbmcodHJ1ZSk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gdG9nZ2xlQXVkaW9QbGF5YmFjazonLCBlKTtcclxuICAgICAgc2V0SXNQbGF5aW5nKGZhbHNlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBGdW5nc2kgdW50dWsgbWVtZm9ybWF0IHdha3R1IGF1ZGlvXHJcbiAgY29uc3QgZm9ybWF0QXVkaW9UaW1lID0gKHRpbWVJblNlY29uZHM6IG51bWJlcikgPT4ge1xyXG4gICAgaWYgKCFpc0Zpbml0ZSh0aW1lSW5TZWNvbmRzKSB8fCB0aW1lSW5TZWNvbmRzIDwgMCkgcmV0dXJuICcwOjAwJztcclxuICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKHRpbWVJblNlY29uZHMgLyA2MCk7XHJcbiAgICBjb25zdCBzZWNvbmRzID0gTWF0aC5mbG9vcih0aW1lSW5TZWNvbmRzICUgNjApO1xyXG4gICAgcmV0dXJuIGAke21pbnV0ZXN9OiR7c2Vjb25kcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YDtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVEZWxldGVNZXNzYWdlID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKCFjaGF0SWQgfHwgaXNEZWxldGluZykgcmV0dXJuO1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICBzZXRJc0RlbGV0aW5nKHRydWUpO1xyXG4gICAgICBhd2FpdCBkZWxldGVEb2MoZG9jKGRiLCAnY2hhdHMnLCBjaGF0SWQsICdtZXNzYWdlcycsIG1lc3NhZ2UuaWQpKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFBlcmJhcnVpIGxhc3RNZXNzYWdlIGppa2EgcGVzYW4gaW5pIGFkYWxhaCBwZXNhbiB0ZXJha2hpclxyXG4gICAgICAvLyBJbmkgYmlzYSBkaWtlbWJhbmdrYW4gbGViaWggbGFuanV0IHVudHVrIG1lbmdhbWJpbCBwZXNhbiB0ZXJha2hpciBzZWJlbHVtIHlhbmcgZGloYXB1c1xyXG4gICAgICBjb25zdCBjaGF0UmVmID0gZG9jKGRiLCAnY2hhdHMnLCBjaGF0SWQpO1xyXG4gICAgICBhd2FpdCB1cGRhdGVEb2MoY2hhdFJlZiwge1xyXG4gICAgICAgIGxhc3RNZXNzYWdlOiB7XHJcbiAgICAgICAgICB0ZXh0OiAnUGVzYW4gdGVsYWggZGloYXB1cycsXHJcbiAgICAgICAgICB0aW1lc3RhbXA6IG1lc3NhZ2UudGltZXN0YW1wLFxyXG4gICAgICAgICAgc2VuZGVySWQ6IG1lc3NhZ2Uuc2VuZGVySWRcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIG1lc3NhZ2U6JywgZXJyb3IpO1xyXG4gICAgICBhbGVydCgnR2FnYWwgbWVuZ2hhcHVzIHBlc2FuLiBTaWxha2FuIGNvYmEgbGFnaS4nKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldElzRGVsZXRpbmcoZmFsc2UpO1xyXG4gICAgICBzZXRTaG93T3B0aW9ucyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlTWFya01lc3NhZ2UgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBpZiAoIWNoYXRJZCB8fCBpc01hcmtpbmcpIHJldHVybjtcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgc2V0SXNNYXJraW5nKHRydWUpO1xyXG4gICAgICBcclxuICAgICAgLy8gVG9nZ2xlIHN0YXR1cyBtYXJrZWRcclxuICAgICAgY29uc3QgaXNDdXJyZW50bHlNYXJrZWQgPSBtZXNzYWdlLmlzTWFya2VkIHx8IGZhbHNlO1xyXG4gICAgICBcclxuICAgICAgYXdhaXQgdXBkYXRlRG9jKGRvYyhkYiwgJ2NoYXRzJywgY2hhdElkLCAnbWVzc2FnZXMnLCBtZXNzYWdlLmlkKSwge1xyXG4gICAgICAgIGlzTWFya2VkOiAhaXNDdXJyZW50bHlNYXJrZWRcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbWFya2luZyBtZXNzYWdlOicsIGVycm9yKTtcclxuICAgICAgYWxlcnQoJ0dhZ2FsIG1lbmFuZGFpIHBlc2FuLiBTaWxha2FuIGNvYmEgbGFnaS4nKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldElzTWFya2luZyhmYWxzZSk7XHJcbiAgICAgIHNldFNob3dPcHRpb25zKGZhbHNlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVSZXBseU1lc3NhZ2UgPSAoKSA9PiB7XHJcbiAgICBpZiAob25SZXBseU1lc3NhZ2UpIHtcclxuICAgICAgb25SZXBseU1lc3NhZ2UobWVzc2FnZS5pZCwgbWVzc2FnZS50ZXh0KTtcclxuICAgICAgc2V0U2hvd09wdGlvbnMoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUVkaXRNZXNzYWdlID0gKCkgPT4ge1xyXG4gICAgaWYgKG9uRWRpdE1lc3NhZ2UgJiYgbWVzc2FnZS50ZXh0KSB7XHJcbiAgICAgIG9uRWRpdE1lc3NhZ2UobWVzc2FnZS5pZCwgbWVzc2FnZS50ZXh0KTtcclxuICAgICAgc2V0U2hvd09wdGlvbnMoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUNsb3NlVHJhbnNsYXRpb24gPSAoKSA9PiB7XHJcbiAgICBzZXRUcmFuc2xhdGVkVGV4dChudWxsKTtcclxuICAgIHNldFRyYW5zbGF0aW9uRXJyb3IobnVsbCk7XHJcbiAgICBzZXRJc1Nob3dpbmdUcmFuc2xhdGlvbihmYWxzZSk7XHJcbiAgICByZXNldEVycm9yKCk7IC8vIEp1Z2EgcmVzZXQgZXJyb3IgZGFyaSBob29rXHJcbiAgfTtcclxuICBcclxuICAvLyBNZW5hbXBpbGthbiBlcnJvciB0ZXJqZW1haGFuIC0gc2ltcGxpZnkgbG9naWNcclxuICBjb25zdCByZW5kZXJUcmFuc2xhdGlvbkVycm9yID0gKCkgPT4ge1xyXG4gICAgaWYgKCF0cmFuc2xhdGlvbkVycm9yKSByZXR1cm4gbnVsbDtcclxuICAgIFxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIHAtMiByb3VuZGVkLWxnIGJnLXJlZC0xMDAgdGV4dC1yZWQtNzAwIHRleHQteHMgYW5pbWF0ZS1mYWRlSW4gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XHJcbiAgICAgICAgPHNwYW4+e3RyYW5zbGF0aW9uRXJyb3J9PC9zcGFuPlxyXG4gICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDbG9zZVRyYW5zbGF0aW9ufVxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1yZWQtNjAwIGhvdmVyOnRleHQtcmVkLTgwMCBtbC0yXCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICA8RmlYIHNpemU9ezE0fSAvPlxyXG4gICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfTtcclxuXHJcbiAgLy8gRnVuZ3NpIHVudHVrIG1lbmFtcGlsa2FuIGlrb24gZmlsZSB5YW5nIHNlc3VhaVxyXG4gIGNvbnN0IGdldEZpbGVJY29uID0gKGZpbGVUeXBlOiBzdHJpbmcgfCB1bmRlZmluZWQpID0+IHtcclxuICAgIGlmICghZmlsZVR5cGUpIHJldHVybiA8RmlGaWxlIHNpemU9ezI0fSAvPjtcclxuICAgIFxyXG4gICAgLy8gS29udmVyc2kga2UgbG93ZXJjYXNlIHVudHVrIHBlcmJhbmRpbmdhbiB5YW5nIGxlYmloIG11ZGFoXHJcbiAgICBjb25zdCB0eXBlID0gZmlsZVR5cGUudG9Mb3dlckNhc2UoKTtcclxuICAgIFxyXG4gICAgLy8gR2FtYmFyXHJcbiAgICBpZiAodHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkgcmV0dXJuIDxGaUltYWdlIHNpemU9ezI0fSAvPjtcclxuICAgIFxyXG4gICAgLy8gVmlkZW9cclxuICAgIGlmICh0eXBlLnN0YXJ0c1dpdGgoJ3ZpZGVvLycpKSByZXR1cm4gPEZpVmlkZW8gc2l6ZT17MjR9IC8+O1xyXG4gICAgXHJcbiAgICAvLyBBdWRpb1xyXG4gICAgaWYgKHR5cGUuc3RhcnRzV2l0aCgnYXVkaW8vJykpIHJldHVybiA8RmlNdXNpYyBzaXplPXsyNH0gLz47XHJcbiAgICBcclxuICAgIC8vIERva3VtZW5cclxuICAgIGlmIChcclxuICAgICAgdHlwZS5pbmNsdWRlcygncGRmJykgfHwgXHJcbiAgICAgIHR5cGUuaW5jbHVkZXMoJ2FwcGxpY2F0aW9uL3BkZicpXHJcbiAgICApIHJldHVybiA8RmlGaWxlVGV4dCBzaXplPXsyNH0gLz47XHJcbiAgICBcclxuICAgIC8vIE1pY3Jvc29mdCBPZmZpY2UgLyBPcGVuRG9jdW1lbnRcclxuICAgIGlmIChcclxuICAgICAgdHlwZS5pbmNsdWRlcygnd29yZCcpIHx8IFxyXG4gICAgICB0eXBlLmluY2x1ZGVzKCd3b3JkcHJvY2Vzc2luZ21sJykgfHxcclxuICAgICAgdHlwZS5pbmNsdWRlcygnYXBwbGljYXRpb24vbXN3b3JkJykgfHxcclxuICAgICAgdHlwZS5pbmNsdWRlcygnYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LndvcmRwcm9jZXNzaW5nbWwnKSB8fFxyXG4gICAgICB0eXBlLmluY2x1ZGVzKCdhcHBsaWNhdGlvbi92bmQub2FzaXMub3BlbmRvY3VtZW50LnRleHQnKVxyXG4gICAgKSByZXR1cm4gPEZpRmlsZVRleHQgc2l6ZT17MjR9IC8+O1xyXG4gICAgXHJcbiAgICBpZiAoXHJcbiAgICAgIHR5cGUuaW5jbHVkZXMoJ2V4Y2VsJykgfHwgXHJcbiAgICAgIHR5cGUuaW5jbHVkZXMoJ3NwcmVhZHNoZWV0bWwnKSB8fFxyXG4gICAgICB0eXBlLmluY2x1ZGVzKCdhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwnKSB8fFxyXG4gICAgICB0eXBlLmluY2x1ZGVzKCdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbCcpIHx8XHJcbiAgICAgIHR5cGUuaW5jbHVkZXMoJ2FwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQuc3ByZWFkc2hlZXQnKVxyXG4gICAgKSByZXR1cm4gPEZpRmlsZVRleHQgc2l6ZT17MjR9IC8+O1xyXG4gICAgXHJcbiAgICBpZiAoXHJcbiAgICAgIHR5cGUuaW5jbHVkZXMoJ3Bvd2VycG9pbnQnKSB8fCBcclxuICAgICAgdHlwZS5pbmNsdWRlcygncHJlc2VudGF0aW9ubWwnKSB8fFxyXG4gICAgICB0eXBlLmluY2x1ZGVzKCdhcHBsaWNhdGlvbi92bmQubXMtcG93ZXJwb2ludCcpIHx8XHJcbiAgICAgIHR5cGUuaW5jbHVkZXMoJ2FwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5wcmVzZW50YXRpb25tbCcpIHx8XHJcbiAgICAgIHR5cGUuaW5jbHVkZXMoJ2FwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQucHJlc2VudGF0aW9uJylcclxuICAgICkgcmV0dXJuIDxGaUZpbGVUZXh0IHNpemU9ezI0fSAvPjtcclxuICAgIFxyXG4gICAgLy8gS29kZVxyXG4gICAgaWYgKFxyXG4gICAgICB0eXBlLmluY2x1ZGVzKCd0ZXh0JykgfHwgXHJcbiAgICAgIHR5cGUuaW5jbHVkZXMoJ2phdmFzY3JpcHQnKSB8fCBcclxuICAgICAgdHlwZS5pbmNsdWRlcygnaHRtbCcpIHx8IFxyXG4gICAgICB0eXBlLmluY2x1ZGVzKCdjc3MnKSB8fFxyXG4gICAgICB0eXBlLmluY2x1ZGVzKCdqc29uJykgfHxcclxuICAgICAgdHlwZS5pbmNsdWRlcygneG1sJylcclxuICAgICkge1xyXG4gICAgICByZXR1cm4gPEZpQ29kZSBzaXplPXsyNH0gLz47XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIERlZmF1bHRcclxuICAgIHJldHVybiA8RmlGaWxlIHNpemU9ezI0fSAvPjtcclxuICB9O1xyXG5cclxuICAvLyBGb3JtYXQgZmlsZSBzaXplXHJcbiAgY29uc3QgZm9ybWF0RmlsZVNpemUgPSAoYnl0ZXM6IG51bWJlciB8IHVuZGVmaW5lZCkgPT4ge1xyXG4gICAgaWYgKCFieXRlcykgcmV0dXJuICcnO1xyXG4gICAgXHJcbiAgICBpZiAoYnl0ZXMgPCAxMDI0KSByZXR1cm4gYCR7Ynl0ZXN9IEJgO1xyXG4gICAgaWYgKGJ5dGVzIDwgMTAyNCAqIDEwMjQpIHJldHVybiBgJHsoYnl0ZXMgLyAxMDI0KS50b0ZpeGVkKDEpfSBLQmA7XHJcbiAgICByZXR1cm4gYCR7KGJ5dGVzIC8gKDEwMjQgKiAxMDI0KSkudG9GaXhlZCgxKX0gTUJgO1xyXG4gIH07XHJcblxyXG4gIC8vIENlayBhcGFrYWggZmlsZSBhZGFsYWggYXVkaW9cclxuICBjb25zdCBpc0F1ZGlvRmlsZSA9IChmaWxlVHlwZTogc3RyaW5nIHwgdW5kZWZpbmVkKSA9PiB7XHJcbiAgICBpZiAoIWZpbGVUeXBlKSByZXR1cm4gZmFsc2U7XHJcbiAgICByZXR1cm4gZmlsZVR5cGUudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKCdhdWRpby8nKTtcclxuICB9O1xyXG5cclxuICAvLyBGZXRjaCBwZXNhbiBiYWxhc2FuIGppa2EgYWRhXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGZldGNoUmVwbHlNZXNzYWdlID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICBpZiAobWVzc2FnZS5yZXBseVRvICYmIGNoYXRJZCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCByZXBseURvYyA9IGF3YWl0IGdldERvYyhkb2MoZGIsICdjaGF0cycsIGNoYXRJZCwgJ21lc3NhZ2VzJywgbWVzc2FnZS5yZXBseVRvKSk7XHJcbiAgICAgICAgICBpZiAocmVwbHlEb2MuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgY29uc3QgcmVwbHlEYXRhID0gcmVwbHlEb2MuZGF0YSgpO1xyXG4gICAgICAgICAgICAvLyBUZW50dWthbiB0ZWtzIHlhbmcgYWthbiBkaXRhbXBpbGthbiBiZXJkYXNhcmthbiBqZW5pcyBrb250ZW5cclxuICAgICAgICAgICAgbGV0IGRpc3BsYXlUZXh0ID0gcmVwbHlEYXRhLnRleHQgfHwgJyc7XHJcbiAgICAgICAgICAgIGxldCBzZW5kZXJOYW1lID0gJyc7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBEYXBhdGthbiBuYW1hIHBlbmdpcmltIGFzbGlcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICBpZiAocmVwbHlEYXRhLnNlbmRlcklkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzZW5kZXJEb2MgPSBhd2FpdCBnZXREb2MoZG9jKGRiLCAndXNlcnMnLCByZXBseURhdGEuc2VuZGVySWQpKTtcclxuICAgICAgICAgICAgICAgIGlmIChzZW5kZXJEb2MuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgY29uc3QgdXNlckRhdGEgPSBzZW5kZXJEb2MuZGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgICAvLyBCYXRhc2kgcGFuamFuZyBuYW1hIHBlbmdpcmltIGppa2EgdGVybGFsdSBwYW5qYW5nXHJcbiAgICAgICAgICAgICAgICAgIHNlbmRlck5hbWUgPSB1c2VyRGF0YS5kaXNwbGF5TmFtZSB8fCB1c2VyRGF0YS5lbWFpbCB8fCAnVXNlcic7XHJcbiAgICAgICAgICAgICAgICAgIGlmIChzZW5kZXJOYW1lLmxlbmd0aCA+IDIwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VuZGVyTmFtZSA9IHNlbmRlck5hbWUuc3Vic3RyaW5nKDAsIDE4KSArICcuLi4nO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHJlcGx5IHNlbmRlciBpbmZvOicsIGVycm9yKTtcclxuICAgICAgICAgICAgICBzZW5kZXJOYW1lID0gJ1VzZXInO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAocmVwbHlEYXRhLmltYWdlVXJsKSB7XHJcbiAgICAgICAgICAgICAgZGlzcGxheVRleHQgPSBkaXNwbGF5VGV4dCB8fCAn8J+TtyBGb3RvJztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChyZXBseURhdGEuZmlsZVVybCkge1xyXG4gICAgICAgICAgICAgIGlmIChyZXBseURhdGEuYXVkaW8pIHtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXlUZXh0ID0gZGlzcGxheVRleHQgfHwgJ/CfjqQgUGVzYW4gU3VhcmEnOyBcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheVRleHQgPSBkaXNwbGF5VGV4dCB8fCBg8J+TjiAke3JlcGx5RGF0YS5maWxlTmFtZSB8fCAnRmlsZSd9YDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWRpc3BsYXlUZXh0KSB7XHJcbiAgICAgICAgICAgICAgZGlzcGxheVRleHQgPSAnUGVzYW4nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBCYXRhc2kgcGFuamFuZyB0ZWtzIHBlc2FuIGJhbGFzYW5cclxuICAgICAgICAgICAgaWYgKGRpc3BsYXlUZXh0Lmxlbmd0aCA+IDUwKSB7XHJcbiAgICAgICAgICAgICAgZGlzcGxheVRleHQgPSBkaXNwbGF5VGV4dC5zdWJzdHJpbmcoMCwgNDgpICsgJy4uLic7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHNldFJlcGx5TWVzc2FnZVRleHQoZGlzcGxheVRleHQpO1xyXG4gICAgICAgICAgICBzZXRSZXBseVNlbmRlck5hbWUoc2VuZGVyTmFtZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHJlcGx5IG1lc3NhZ2U6JywgZXJyb3IpO1xyXG4gICAgICAgICAgc2V0UmVwbHlNZXNzYWdlVGV4dCgnUGVzYW4gdGlkYWsgdGVyc2VkaWEnKTtcclxuICAgICAgICAgIHNldFJlcGx5U2VuZGVyTmFtZSgnVXNlcicpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBmZXRjaFJlcGx5TWVzc2FnZSgpO1xyXG4gIH0sIFttZXNzYWdlLnJlcGx5VG8sIGNoYXRJZF0pO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9e2BmbGV4ICR7aXNPd24gPyAnanVzdGlmeS1lbmQnIDogJ2p1c3RpZnktc3RhcnQnfSBtYi0yIGdyb3VwL21lc3NhZ2VgfSBvbkRvdWJsZUNsaWNrPXsoKSA9PiBoYW5kbGVSZXBseU1lc3NhZ2UoKX0+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgcmVsYXRpdmUgbWF4LXctWzc1JV0gJHtpc093biA/ICdvcmRlci0yJyA6ICdvcmRlci0xJ31gfT5cclxuICAgICAgICB7LyogVG9tYm9sIG9wc2kgdW50dWsgcGVzYW4gZGkgbHVhciBidWJibGUgY2hhdCAqL31cclxuICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgY2xhc3NOYW1lPXtgc2VsZi1jZW50ZXIgYWJzb2x1dGUgJHtpc093biA/ICctbGVmdC05JyA6ICctcmlnaHQtOSd9IHRvcC0xLzIgdHJhbnNmb3JtIC10cmFuc2xhdGUteS0xLzIgcC0xLjUgcm91bmRlZC1mdWxsIFxyXG4gICAgICAgICAgICBiZy13aGl0ZS85MCBob3ZlcjpiZy13aGl0ZSB0ZXh0LWdyYXktNjAwIG9wYWNpdHktMCBncm91cC1ob3Zlci9tZXNzYWdlOm9wYWNpdHktMTAwIFxyXG4gICAgICAgICAgICB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgc2hhZG93LXNtIGZvY3VzOm91dGxpbmUtbm9uZSBib3JkZXIgYm9yZGVyLWdyYXktMjAwYH1cclxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dPcHRpb25zKCFzaG93T3B0aW9ucyl9XHJcbiAgICAgICAgICB0aXRsZT1cIk9wc2kgcGVzYW5cIlxyXG4gICAgICAgID5cclxuICAgICAgICAgIDxGaU1vcmVWZXJ0aWNhbCBzaXplPXsxNn0gLz5cclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgXHJcbiAgICAgICAgey8qIE1lc3NhZ2UgYnViYmxlICovfVxyXG4gICAgICAgIDxkaXYgXHJcbiAgICAgICAgICBjbGFzc05hbWU9e2BweC00IHB5LTIuNSAke1xyXG4gICAgICAgICAgICBpc093biBcclxuICAgICAgICAgICAgPyAnYmctZ3JhZGllbnQtdG8tciBmcm9tLXByaW1hcnkgdG8tcHJpbWFyeS1kYXJrIHRleHQtd2hpdGUgbXItMSByb3VuZGVkLTJ4bCByb3VuZGVkLXRyLXNtIHNoYWRvdy1tZCBzaGFkb3ctcHJpbWFyeS8yMCBib3JkZXIgYm9yZGVyLXByaW1hcnktZGFyay8yMCcgXHJcbiAgICAgICAgICAgIDogJ2JnLXdoaXRlLzk1IGJhY2tkcm9wLWJsdXItc20gdGV4dC1ncmF5LTgwMCBtbC0xIHJvdW5kZWQtMnhsIHJvdW5kZWQtdGwtc20gc2hhZG93LW1kIGJvcmRlciBib3JkZXItZ3JheS0xMDAnXHJcbiAgICAgICAgICB9ICR7XHJcbiAgICAgICAgICAgIG1lc3NhZ2UucmVwbHlUbyA/ICdwdC0xMicgOiAnJ1xyXG4gICAgICAgICAgfSBob3ZlcjpzaGFkb3ctbGcgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIHJlbGF0aXZlYH1cclxuICAgICAgICA+XHJcbiAgICAgICAgICB7LyogUmVwbHkgdG8gbWVzc2FnZSByZWZlcmVuY2UgKi99XHJcbiAgICAgICAgICB7bWVzc2FnZS5yZXBseVRvICYmIHJlcGx5TWVzc2FnZVRleHQgJiYgKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGFic29sdXRlIHRvcC0wIGxlZnQtMCByaWdodC0wIHB4LTMgcHktMS41IHJvdW5kZWQtdC0yeGwgZmxleCBpdGVtcy1zdGFydCAke1xyXG4gICAgICAgICAgICAgIGlzT3duIFxyXG4gICAgICAgICAgICAgID8gJ2JnLXByaW1hcnktZGFyay8yMCBib3JkZXItbC00IGJvcmRlci1sLXdoaXRlLzcwJyBcclxuICAgICAgICAgICAgICA6ICdiZy1ncmF5LTEwMC85MCBib3JkZXItbC00IGJvcmRlci1sLXByaW1hcnknXHJcbiAgICAgICAgICAgIH1gfT5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBtaW4tdy0wIG1sLTEgbWItMC41XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT17YHRleHQteHMgZm9udC1tZWRpdW0gdHJ1bmNhdGUgbWF4LXctWzg1JV0gJHtpc093biA/ICd0ZXh0LXdoaXRlLzkwJyA6ICd0ZXh0LXByaW1hcnknfWB9PlxyXG4gICAgICAgICAgICAgICAgICAgIHtyZXBseVNlbmRlck5hbWV9XHJcbiAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPXtgdGV4dC14cyB0cnVuY2F0ZSAke2lzT3duID8gJ3RleHQtd2hpdGUvODAnIDogJ3RleHQtZ3JheS02MDAnfWB9PlxyXG4gICAgICAgICAgICAgICAgICB7cmVwbHlNZXNzYWdlVGV4dH1cclxuICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICB7LyogRHJvcGRvd24gbWVudSB1bnR1ayBwZXNhbiAqL31cclxuICAgICAgICAgIHtzaG93T3B0aW9ucyAmJiAoXHJcbiAgICAgICAgICAgIDxkaXYgXHJcbiAgICAgICAgICAgICAgcmVmPXtvcHRpb25zUmVmfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YGFic29sdXRlICR7aXNPd24gPyAncmlnaHQtZnVsbCBtci0zJyA6ICdsZWZ0LWZ1bGwgbWwtMyd9IHRvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMiBiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy14bCB6LTIwIG92ZXJmbG93LWhpZGRlbiBib3JkZXIgYm9yZGVyLWdyYXktMjAwIG1pbi13LVsxODBweF0gYW5pbWF0ZS1zY2FsZUluYH1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIHsvKiBQYW5haCBpbmRpa2F0b3IgZHJvcGRvd24gKi99XHJcbiAgICAgICAgICAgICAge2lzT3duICYmIChcclxuICAgICAgICAgICAgICAgIDxkaXYgXHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC02IHJpZ2h0LVstNnB4XSB3LTMgaC0zIGJnLXdoaXRlIGJvcmRlci10IGJvcmRlci1yIGJvcmRlci1ncmF5LTIwMCB0cmFuc2Zvcm0gcm90YXRlLTQ1XCJcclxuICAgICAgICAgICAgICAgID48L2Rpdj5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgIHshaXNPd24gJiYgKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBcclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTYgbGVmdC1bLTZweF0gdy0zIGgtMyBiZy13aGl0ZSBib3JkZXItYiBib3JkZXItbCBib3JkZXItZ3JheS0yMDAgdHJhbnNmb3JtIHJvdGF0ZS00NVwiXHJcbiAgICAgICAgICAgICAgICA+PC9kaXY+XHJcbiAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktNTAgcHgtNCBweS0yLjUgYm9yZGVyLWIgYm9yZGVyLWdyYXktMjAwXCI+XHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZ3JheS01MDBcIj5PcHNpIFBlc2FuPC9wPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHktMVwiPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0cmFuc2xhdGVNZXNzYWdlfVxyXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNUcmFuc2xhdGluZ31cclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yLjUgdy1mdWxsIHRleHQtbGVmdCB0ZXh0LXNtIHRleHQtZ3JheS03MDAgaG92ZXI6YmctZ3JheS01MCBmbGV4IGl0ZW1zLWNlbnRlciB0cmFuc2l0aW9uLWNvbG9yc1wiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctaW5kaWdvLTUwIHAtMS41IHJvdW5kZWQtZnVsbCBtci0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPEZpR2xvYmUgY2xhc3NOYW1lPVwidGV4dC1pbmRpZ28tNTAwXCIgc2l6ZT17MTV9IC8+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8c3Bhbj57aXNUcmFuc2xhdGluZyA/ICdNZW5lcmplbWFoa2FuLi4uJyA6ICdUZXJqZW1haGthbid9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlUmVwbHlNZXNzYWdlKCl9XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMi41IHctZnVsbCB0ZXh0LWxlZnQgdGV4dC1zbSB0ZXh0LWdyYXktNzAwIGhvdmVyOmJnLWdyYXktNTAgZmxleCBpdGVtcy1jZW50ZXIgdHJhbnNpdGlvbi1jb2xvcnNcIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWJsdWUtNTAgcC0xLjUgcm91bmRlZC1mdWxsIG1yLTNcIj5cclxuICAgICAgICAgICAgICAgICAgICA8RmlDb3JuZXJEb3duUmlnaHQgY2xhc3NOYW1lPVwidGV4dC1ibHVlLTUwMFwiIHNpemU9ezE1fSAvPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4+QmFsYXM8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVNYXJrTWVzc2FnZSgpfVxyXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNNYXJraW5nfVxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIuNSB3LWZ1bGwgdGV4dC1sZWZ0IHRleHQtc20gdGV4dC1ncmF5LTcwMCBob3ZlcjpiZy1ncmF5LTUwIGZsZXggaXRlbXMtY2VudGVyIHRyYW5zaXRpb24tY29sb3JzXCJcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake21lc3NhZ2UuaXNNYXJrZWQgPyAnYmcteWVsbG93LTEwMCcgOiAnYmcteWVsbG93LTUwJ30gcC0xLjUgcm91bmRlZC1mdWxsIG1yLTNgfT5cclxuICAgICAgICAgICAgICAgICAgICA8RmlTdGFyIGNsYXNzTmFtZT17YCR7bWVzc2FnZS5pc01hcmtlZCA/ICd0ZXh0LXllbGxvdy01MDAnIDogJ3RleHQteWVsbG93LTQwMCd9YH0gc2l6ZT17MTV9IC8+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8c3Bhbj57bWVzc2FnZS5pc01hcmtlZCA/ICdIYXB1cyB0YW5kYScgOiAnVGFuZGFpIHBlc2FuJ308L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAge2lzT3duICYmIChcclxuICAgICAgICAgICAgICAgICAgPD5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVFZGl0TWVzc2FnZSgpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yLjUgdy1mdWxsIHRleHQtbGVmdCB0ZXh0LXNtIHRleHQtZ3JheS03MDAgaG92ZXI6YmctZ3JheS01MCBmbGV4IGl0ZW1zLWNlbnRlciB0cmFuc2l0aW9uLWNvbG9yc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmVlbi01MCBwLTEuNSByb3VuZGVkLWZ1bGwgbXItM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8RmlFZGl0IGNsYXNzTmFtZT1cInRleHQtZ3JlZW4tNTAwXCIgc2l6ZT17MTV9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPkVkaXQ8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItdCBib3JkZXItZ3JheS0yMDBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlRGVsZXRlTWVzc2FnZSgpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNEZWxldGluZ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yLjUgdy1mdWxsIHRleHQtbGVmdCB0ZXh0LXNtIHRleHQtcmVkLTYwMCBob3ZlcjpiZy1yZWQtNTAgZmxleCBpdGVtcy1jZW50ZXIgdHJhbnNpdGlvbi1jb2xvcnNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXJlZC01MCBwLTEuNSByb3VuZGVkLWZ1bGwgbXItM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxGaVRyYXNoIGNsYXNzTmFtZT1cInRleHQtcmVkLTUwMFwiIHNpemU9ezE1fSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+e2lzRGVsZXRpbmcgPyAnTWVuZ2hhcHVzLi4uJyA6ICdIYXB1cyd9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICB7LyogTWVzc2FnZSBjb250ZW50ICovfVxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake21lc3NhZ2UuaW1hZ2VVcmwgfHwgbWVzc2FnZS5maWxlVXJsID8gJ3NwYWNlLXktMicgOiAnJ30gbWF4LXctZnVsbCBvdmVyZmxvdy1oaWRkZW5gfT5cclxuICAgICAgICAgICAgey8qIFRleHQgY29udGVudCAqL31cclxuICAgICAgICAgICAge21lc3NhZ2UudGV4dCAmJiAoXHJcbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPXtgdGV4dC1zbSB3aGl0ZXNwYWNlLXByZS13cmFwIGJyZWFrLXdvcmRzICR7aXNPd24gPyAndGV4dC13aGl0ZScgOiAndGV4dC1ncmF5LTgwMCd9ICR7IW1lc3NhZ2UuaW1hZ2VVcmwgJiYgIW1lc3NhZ2UuZmlsZVVybCA/ICdweS0wLjUnIDogJyd9YH0+XHJcbiAgICAgICAgICAgICAgICB7bWVzc2FnZS50ZXh0fVxyXG4gICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHsvKiBUcmFuc2xhdGlvbiBVSSAqL31cclxuICAgICAgICAgICAge2lzU2hvd2luZ1RyYW5zbGF0aW9uICYmIChcclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YG10LTIgdGV4dC1zbSAke2lzT3duID8gJ2JnLXdoaXRlLzIwJyA6ICdiZy1wcmltYXJ5LzEwJ30gcC0yIHJvdW5kZWQteGwgJHtpc093biA/ICd0ZXh0LXdoaXRlLzkwJyA6ICd0ZXh0LWdyYXktNzAwJ31gfT5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtc3RhcnRcIj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cclxuICAgICAgICAgICAgICAgICAgICB7dHJhbnNsYXRpb25FcnJvciA/IChcclxuICAgICAgICAgICAgICAgICAgICAgIHJlbmRlclRyYW5zbGF0aW9uRXJyb3IoKVxyXG4gICAgICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0cmFuc2xhdGVkVGV4dH1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsb3NlVHJhbnNsYXRpb259XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgbWwtMSBwLTEgcm91bmRlZC1mdWxsIGhvdmVyOmJnLWJsYWNrLzUgJHtpc093biA/ICd0ZXh0LXdoaXRlLzgwJyA6ICd0ZXh0LWdyYXktNTAwJ31gfVxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPEZpWCBzaXplPXsxNH0gLz5cclxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHsvKiBJbWFnZSBjb250ZW50ICovfVxyXG4gICAgICAgICAgICB7bWVzc2FnZS5pbWFnZVVybCAmJiAoXHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIHJvdW5kZWQtbGcgb3ZlcmZsb3ctaGlkZGVuIGJnLWJsYWNrLzUgYm9yZGVyIGJvcmRlci13aGl0ZS8yMFwiPlxyXG4gICAgICAgICAgICAgICAgPGltZyBcclxuICAgICAgICAgICAgICAgICAgc3JjPXttZXNzYWdlLmltYWdlVXJsfSBcclxuICAgICAgICAgICAgICAgICAgYWx0PVwiSW1hZ2UgbWVzc2FnZVwiIFxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtYXgtdy1mdWxsIHJvdW5kZWQtbGcgb2JqZWN0LWNvbnRhaW4gaG92ZXI6c2NhbGUtWzAuOThdIHRyYW5zaXRpb24tdHJhbnNmb3JtIGN1cnNvci1wb2ludGVyXCJcclxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gd2luZG93Lm9wZW4obWVzc2FnZS5pbWFnZVVybCwgJ19ibGFuaycpfVxyXG4gICAgICAgICAgICAgICAgICBvbkxvYWQ9eygpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBTY3JvbGwgdG8gYm90dG9tIHdoZW4gaW1hZ2UgbG9hZHNcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZXNzYWdlcy1jb250YWluZXInKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZXNDb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzQ29udGFpbmVyLnNjcm9sbFRvcCA9IG1lc3NhZ2VzQ29udGFpbmVyLnNjcm9sbEhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgey8qIEZpbGUgY29udGVudCAqL31cclxuICAgICAgICAgICAge21lc3NhZ2UuZmlsZVVybCAmJiBtZXNzYWdlLmZpbGVOYW1lICYmIChcclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTJcIj5cclxuICAgICAgICAgICAgICAgIHttZXNzYWdlLmF1ZGlvID8gKFxyXG4gICAgICAgICAgICAgICAgICAvLyBBdWRpbyBwbGF5ZXJcclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BmbGV4IGl0ZW1zLWNlbnRlciBwLTMgcm91bmRlZC14bCAke1xyXG4gICAgICAgICAgICAgICAgICAgIGlzT3duIFxyXG4gICAgICAgICAgICAgICAgICAgID8gJ2JnLXdoaXRlLzIwIGJhY2tkcm9wLWJsdXItc20gYm9yZGVyIGJvcmRlci13aGl0ZS8yMCcgXHJcbiAgICAgICAgICAgICAgICAgICAgOiAnYmctcHJpbWFyeS8xMCBiYWNrZHJvcC1ibHVyLXNtIGJvcmRlciBib3JkZXItcHJpbWFyeS8yMCdcclxuICAgICAgICAgICAgICAgICAgfSB0cmFuc2l0aW9uLWFsbCBob3ZlcjpzaGFkb3ctbWRgfT5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0b2dnbGVBdWRpb1BsYXliYWNrfVxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcC0yLjUgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyICR7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzT3duIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy13aGl0ZS8zMCB0ZXh0LXdoaXRlIGhvdmVyOmJnLXdoaXRlLzQwJyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiAnYmctcHJpbWFyeS8yMCB0ZXh0LXByaW1hcnkgaG92ZXI6YmctcHJpbWFyeS8zMCdcclxuICAgICAgICAgICAgICAgICAgICAgIH0gbXItMyB0cmFuc2l0aW9uLWFsbCBob3ZlcjpzY2FsZS0xMDUgYWN0aXZlOnNjYWxlLTk1IHctMTAgaC0xMCBzaGFkb3ctc21gfVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgIHtpc1BsYXlpbmcgPyA8RmlQYXVzZSBzaXplPXsxOH0gLz4gOiA8RmlQbGF5IHNpemU9ezE4fSBjbGFzc05hbWU9XCJtbC0wLjVcIiAvPn1cclxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBiZy1ncmF5LTIwMCBoLTIgcm91bmRlZC1mdWxsIG92ZXJmbG93LWhpZGRlblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BoLWZ1bGwgJHtpc093biA/ICdiZy13aGl0ZScgOiAnYmctcHJpbWFyeSd9IHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTE1MCBlYXNlLWluLW91dGB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e3dpZHRoOiBgJHsoY3VycmVudFRpbWUgLyBhdWRpb0R1cmF0aW9uKSAqIDEwMH0lYH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtbC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEZpTXVzaWMgc2l6ZT17MTR9IGNsYXNzTmFtZT17aXNPd24gPyAndGV4dC13aGl0ZS83MCcgOiAndGV4dC1wcmltYXJ5LzcwJ30gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdGV4dC14cyBtdC0xLjVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtpc093biA/ICd0ZXh0LXdoaXRlLzgwJyA6ICd0ZXh0LWdyYXktNjAwJ30+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdEF1ZGlvVGltZShjdXJyZW50VGltZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtpc093biA/ICd0ZXh0LXdoaXRlLzgwJyA6ICd0ZXh0LWdyYXktNjAwJ30+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdEF1ZGlvVGltZShhdWRpb0R1cmF0aW9uKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgPGF1ZGlvIFxyXG4gICAgICAgICAgICAgICAgICAgICAgcmVmPXthdWRpb1JlZn1cclxuICAgICAgICAgICAgICAgICAgICAgIHNyYz17bWVzc2FnZS5maWxlVXJsfVxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaGlkZGVuXCJcclxuICAgICAgICAgICAgICAgICAgICAgIHByZWxvYWQ9XCJtZXRhZGF0YVwiXHJcbiAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICAvLyBTdGFuZGFyZCBmaWxlIGF0dGFjaG1lbnRcclxuICAgICAgICAgICAgICAgICAgPGEgXHJcbiAgICAgICAgICAgICAgICAgICAgaHJlZj17bWVzc2FnZS5maWxlVXJsfSBcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIiBcclxuICAgICAgICAgICAgICAgICAgICByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCJcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4IGl0ZW1zLWNlbnRlciBwLTMgcm91bmRlZC14bCAke1xyXG4gICAgICAgICAgICAgICAgICAgICAgaXNPd24gXHJcbiAgICAgICAgICAgICAgICAgICAgICA/ICdiZy13aGl0ZS8yMCBiYWNrZHJvcC1ibHVyLXNtIGJvcmRlciBib3JkZXItd2hpdGUvMjAgaG92ZXI6Ymctd2hpdGUvMzAnIFxyXG4gICAgICAgICAgICAgICAgICAgICAgOiAnYmctcHJpbWFyeS8xMCBiYWNrZHJvcC1ibHVyLXNtIGJvcmRlciBib3JkZXItcHJpbWFyeS8yMCBob3ZlcjpiZy1wcmltYXJ5LzE1J1xyXG4gICAgICAgICAgICAgICAgICAgIH0gdHJhbnNpdGlvbi1hbGwgaG92ZXI6c2hhZG93LW1kYH1cclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgcC0yLjUgcm91bmRlZC14bCBtci0zIGZsZXgtc2hyaW5rLTAgJHtcclxuICAgICAgICAgICAgICAgICAgICAgIGlzT3duIFxyXG4gICAgICAgICAgICAgICAgICAgICAgPyAnYmctd2hpdGUvMzAgdGV4dC13aGl0ZScgXHJcbiAgICAgICAgICAgICAgICAgICAgICA6ICdiZy1wcmltYXJ5LzIwIHRleHQtcHJpbWFyeSdcclxuICAgICAgICAgICAgICAgICAgICB9IHctMTEgaC0xMSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBzaGFkb3ctc21gfT5cclxuICAgICAgICAgICAgICAgICAgICAgIHtnZXRGaWxlSWNvbihtZXNzYWdlLmZpbGVUeXBlKX1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBtaW4tdy0wXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9e2B0ZXh0LXNtIGZvbnQtbWVkaXVtIHRydW5jYXRlICR7aXNPd24gPyAndGV4dC13aGl0ZScgOiAndGV4dC1ncmF5LTgwMCd9YH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHttZXNzYWdlLmZpbGVOYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPXtgdGV4dC14cyAke2lzT3duID8gJ3RleHQtd2hpdGUvODAnIDogJ3RleHQtZ3JheS01MDAnfWB9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0RmlsZVNpemUobWVzc2FnZS5maWxlU2l6ZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cub3BlbihtZXNzYWdlLmZpbGVVcmwsICdfYmxhbmsnKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BwLTIgcm91bmRlZC1mdWxsIG1sLTIgJHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNPd24gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gJ3RleHQtd2hpdGUvOTAgaG92ZXI6Ymctd2hpdGUvMjAnIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICd0ZXh0LXByaW1hcnkgaG92ZXI6YmctcHJpbWFyeS8yMCdcclxuICAgICAgICAgICAgICAgICAgICAgIH0gdHJhbnNpdGlvbi1jb2xvcnMgaG92ZXI6c2NhbGUtMTA1IGFjdGl2ZTpzY2FsZS05NWB9XHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPEZpRG93bmxvYWQgc2l6ZT17MTh9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgey8qIE1lc3NhZ2UgbWV0YSAqL31cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgZmxleCBpdGVtcy1jZW50ZXIgbXQtMS41IHRleHQteHMgJHtpc093biA/ICd0ZXh0LXdoaXRlLzcwIGp1c3RpZnktZW5kJyA6ICd0ZXh0LWdyYXktNTAwJ31gfT5cclxuICAgICAgICAgICAgPHNwYW4+e2Zvcm1hdHRlZFRpbWV9PC9zcGFuPlxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAge2lzT3duICYmIChcclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1sLTEuNVwiPlxyXG4gICAgICAgICAgICAgICAge21lc3NhZ2UuaXNFZGl0ZWQgJiYgKFxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtci0xIG9wYWNpdHktNzBcIj4oZGl1YmFoKTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHttZXNzYWdlLnJlYWRCeSAmJiBtZXNzYWdlLnJlYWRCeS5sZW5ndGggPiAxID8gKFxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1sLTFcIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjE2XCIgaGVpZ2h0PVwiMTVcIiB2aWV3Qm94PVwiMCAwIDE2IDE1XCIgY2xhc3NOYW1lPVwiZmlsbC1ibHVlLTQwMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0xNS4wMSAzLjMxNmwtLjQ3OC0uMzcyYS4zNjUuMzY1IDAgMCAwLS41MS4wNjNMOC42NjYgOS44NzlhLjMyLjMyIDAgMCAxLS40ODQuMDMzbC0uMzU4LS4zMjVhLjMxOS4zMTkgMCAwIDAtLjQ4NC4wMzJsLS4zNzguNDgzYS40MTguNDE4IDAgMCAwIC4wMzYuNTQxbDEuMzIgMS4yNjZjLjE0My4xNC4zNjEuMTI1LjQ4NC0uMDMzbDYuMjcyLTguMDQ4YS4zNjYuMzY2IDAgMCAwLS4wNjQtLjUxMnptLTQuMSAwbC0uNDc4LS4zNzJhLjM2NS4zNjUgMCAwIDAtLjUxLjA2M0w0LjU2NiA5Ljg3OWEuMzIuMzIgMCAwIDEtLjQ4NC4wMzNMMS44OTEgNy43NjlhLjM2Ni4zNjYgMCAwIDAtLjUxNS4wMDZsLS40MjMuNDMzYS4zNjQuMzY0IDAgMCAwIC4wMDYuNTE0bDMuMjU4IDMuMTg1Yy4xNDMuMTQuMzYxLjEyNS40ODQtLjAzM2w2LjI3Mi04LjA0OGEuMzY1LjM2NSAwIDAgMC0uMDYzLS41MXpcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgbWwtMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNVwiIHZpZXdCb3g9XCIwIDAgMTYgMTVcIiBjbGFzc05hbWU9XCJmaWxsLXdoaXRlLzgwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTEwLjkxIDMuMzE2bC0uNDc4LS4zNzJhLjM2NS4zNjUgMCAwIDAtLjUxLjA2M0w0LjU2NiA5Ljg3OWEuMzIuMzIgMCAwIDEtLjQ4NC4wMzNMMS44OTEgNy43NjlhLjM2Ni4zNjYgMCAwIDAtLjUxNS4wMDZsLS40MjMuNDMzYS4zNjQuMzY0IDAgMCAwIC4wMDYuNTE0bDMuMjU4IDMuMTg1Yy4xNDMuMTQuMzYxLjEyNS40ODQtLjAzM2w2LjI3Mi04LjA0OGEuMzY1LjM2NSAwIDAgMC0uMDYzLS41MXpcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB7bWVzc2FnZS5pc01hcmtlZCAmJiAoXHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtMS41IHRleHQteWVsbG93LTQwMFwiPlxyXG4gICAgICAgICAgICAgICAgPEZpU3RhciBzaXplPXsxMn0gY2xhc3NOYW1lPVwiaW5saW5lIGZpbGwtY3VycmVudFwiIC8+XHJcbiAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufSAiXSwibmFtZXMiOlsiZm9ybWF0IiwiaWQiLCJGaVRyYXNoIiwiRmlNb3JlVmVydGljYWwiLCJGaURvd25sb2FkIiwiRmlGaWxlIiwiRmlGaWxlVGV4dCIsIkZpTXVzaWMiLCJGaVZpZGVvIiwiRmlJbWFnZSIsIkZpQ29kZSIsIkZpU3RhciIsIkZpQ29ybmVyRG93blJpZ2h0IiwiRmlQbGF5IiwiRmlQYXVzZSIsIkZpWCIsIkZpR2xvYmUiLCJGaUVkaXQiLCJ1c2VTdGF0ZSIsInVzZVJlZiIsInVzZUVmZmVjdCIsImRiIiwiZG9jIiwiZGVsZXRlRG9jIiwidXBkYXRlRG9jIiwiZ2V0RG9jIiwibGlzdGVuVG9Vc2VyUHJvZmlsZSIsInVzZUFJQ29uZmlnIiwidXNlVHJhbnNsYXRlIiwiVXNlckF2YXRhciIsInVzZXJJZCIsInNpemUiLCJ1c2VyRGF0YSIsInNldFVzZXJEYXRhIiwiaW1hZ2VFcnJvciIsInNldEltYWdlRXJyb3IiLCJ1bnN1YnNjcmliZSIsImRhdGEiLCJzaXplQ2xhc3MiLCJzbSIsIm1kIiwibGciLCJnZXRJbml0aWFscyIsImRpc3BsYXlOYW1lIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJkaXYiLCJjbGFzc05hbWUiLCJwaG90b1VSTCIsImltZyIsInNyYyIsImFsdCIsIm9uRXJyb3IiLCJDaGF0TWVzc2FnZSIsIm1lc3NhZ2UiLCJpc093biIsImNoYXRJZCIsIm9uUmVwbHlNZXNzYWdlIiwib25FZGl0TWVzc2FnZSIsImFpQ29uZmlnIiwic2hvd09wdGlvbnMiLCJzZXRTaG93T3B0aW9ucyIsImlzRGVsZXRpbmciLCJzZXRJc0RlbGV0aW5nIiwiaXNNYXJraW5nIiwic2V0SXNNYXJraW5nIiwiaXNQbGF5aW5nIiwic2V0SXNQbGF5aW5nIiwiYXVkaW9EdXJhdGlvbiIsInNldEF1ZGlvRHVyYXRpb24iLCJjdXJyZW50VGltZSIsInNldEN1cnJlbnRUaW1lIiwicmVwbHlNZXNzYWdlVGV4dCIsInNldFJlcGx5TWVzc2FnZVRleHQiLCJyZXBseVNlbmRlck5hbWUiLCJzZXRSZXBseVNlbmRlck5hbWUiLCJpc1RyYW5zbGF0aW5nIiwic2V0SXNUcmFuc2xhdGluZyIsInRyYW5zbGF0ZWRUZXh0Iiwic2V0VHJhbnNsYXRlZFRleHQiLCJ0cmFuc2xhdGlvbkVycm9yIiwic2V0VHJhbnNsYXRpb25FcnJvciIsImlzU2hvd2luZ1RyYW5zbGF0aW9uIiwic2V0SXNTaG93aW5nVHJhbnNsYXRpb24iLCJvcHRpb25zUmVmIiwiYXVkaW9SZWYiLCJ0cmFuc2xhdGVNZXNzYWdlIiwidHJhbnNsYXRlIiwiaXNUcmFuc2xhdGluZ0Zyb21Ib29rIiwiaG9va1RyYW5zbGF0aW9uRXJyb3IiLCJjYW5jZWxUcmFuc2xhdGlvbiIsInJlc2V0RXJyb3IiLCJ0ZXh0IiwidGFyZ2V0TGFuZyIsInRyYW5zbGF0ZUxhbmd1YWdlIiwicmVzdWx0IiwiZXJyb3IiLCJjb25zb2xlIiwiaXNNb3VudGVkIiwiYXV0b1RyYW5zbGF0ZSIsImhhbmRsZUF1dG9UcmFuc2xhdGUiLCJ0aW1lciIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJmb3JtYXR0ZWRUaW1lIiwidGltZXN0YW1wIiwidG9EYXRlIiwibG9jYWxlIiwic2Vjb25kcyIsIkRhdGUiLCJoYW5kbGVDbGlja091dHNpZGUiLCJldmVudCIsImN1cnJlbnQiLCJjb250YWlucyIsInRhcmdldCIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVMb2FkZWRNZXRhZGF0YSIsImF1ZGlvIiwiZHVyYXRpb24iLCJpc0Zpbml0ZSIsImUiLCJoYW5kbGVUaW1lVXBkYXRlIiwiaGFuZGxlRW5kZWQiLCJmaWxlVXJsIiwibG9hZCIsInRvZ2dsZUF1ZGlvUGxheWJhY2siLCJwYXVzZSIsInBsYXkiLCJjYXRjaCIsImZvcm1hdEF1ZGlvVGltZSIsInRpbWVJblNlY29uZHMiLCJtaW51dGVzIiwiTWF0aCIsImZsb29yIiwidG9TdHJpbmciLCJwYWRTdGFydCIsImhhbmRsZURlbGV0ZU1lc3NhZ2UiLCJjaGF0UmVmIiwibGFzdE1lc3NhZ2UiLCJzZW5kZXJJZCIsImFsZXJ0IiwiaGFuZGxlTWFya01lc3NhZ2UiLCJpc0N1cnJlbnRseU1hcmtlZCIsImlzTWFya2VkIiwiaGFuZGxlUmVwbHlNZXNzYWdlIiwiaGFuZGxlRWRpdE1lc3NhZ2UiLCJoYW5kbGVDbG9zZVRyYW5zbGF0aW9uIiwicmVuZGVyVHJhbnNsYXRpb25FcnJvciIsInNwYW4iLCJidXR0b24iLCJvbkNsaWNrIiwiZ2V0RmlsZUljb24iLCJmaWxlVHlwZSIsInR5cGUiLCJ0b0xvd2VyQ2FzZSIsInN0YXJ0c1dpdGgiLCJpbmNsdWRlcyIsImZvcm1hdEZpbGVTaXplIiwiYnl0ZXMiLCJ0b0ZpeGVkIiwiaXNBdWRpb0ZpbGUiLCJmZXRjaFJlcGx5TWVzc2FnZSIsInJlcGx5VG8iLCJyZXBseURvYyIsImV4aXN0cyIsInJlcGx5RGF0YSIsImRpc3BsYXlUZXh0Iiwic2VuZGVyTmFtZSIsInNlbmRlckRvYyIsImVtYWlsIiwibGVuZ3RoIiwic3Vic3RyaW5nIiwiaW1hZ2VVcmwiLCJmaWxlTmFtZSIsIm9uRG91YmxlQ2xpY2siLCJ0aXRsZSIsInAiLCJyZWYiLCJkaXNhYmxlZCIsIndpbmRvdyIsIm9wZW4iLCJvbkxvYWQiLCJtZXNzYWdlc0NvbnRhaW5lciIsInF1ZXJ5U2VsZWN0b3IiLCJzY3JvbGxUb3AiLCJzY3JvbGxIZWlnaHQiLCJzdHlsZSIsIndpZHRoIiwicHJlbG9hZCIsImEiLCJocmVmIiwicmVsIiwiZmlsZVNpemUiLCJwcmV2ZW50RGVmYXVsdCIsImlzRWRpdGVkIiwicmVhZEJ5Iiwic3ZnIiwieG1sbnMiLCJoZWlnaHQiLCJ2aWV3Qm94IiwicGF0aCIsImQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/components/ChatMessage.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/ChatWindow.tsx":
/*!***************************************!*\
  !*** ./src/components/ChatWindow.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChatWindow)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _firebase_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/firebase/config */ \"(ssr)/./src/firebase/config.ts\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/firestore */ \"(ssr)/./node_modules/firebase/firestore/dist/index.mjs\");\n/* harmony import */ var _barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=format!=!date-fns */ \"(ssr)/./node_modules/date-fns/esm/format/index.js\");\n/* harmony import */ var date_fns_locale__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! date-fns/locale */ \"(ssr)/./node_modules/date-fns/esm/locale/id/index.js\");\n/* harmony import */ var _barrel_optimize_names_FiArrowLeft_FiCamera_FiCheck_FiFile_FiMessageSquare_FiMic_FiPaperclip_FiPhone_FiSend_FiSmile_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=FiArrowLeft,FiCamera,FiCheck,FiFile,FiMessageSquare,FiMic,FiPaperclip,FiPhone,FiSend,FiSmile,FiVideo,FiX!=!react-icons/fi */ \"(ssr)/./node_modules/react-icons/fi/index.esm.js\");\n/* harmony import */ var _ChatMessage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ChatMessage */ \"(ssr)/./src/components/ChatMessage.tsx\");\n/* harmony import */ var emoji_picker_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! emoji-picker-react */ \"(ssr)/./node_modules/emoji-picker-react/dist/emoji-picker-react.esm.js\");\n/* harmony import */ var _lib_users__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/users */ \"(ssr)/./src/lib/users.ts\");\n/* harmony import */ var _VideoCallModal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./VideoCallModal */ \"(ssr)/./src/components/VideoCallModal.tsx\");\n/* harmony import */ var _IncomingCallModal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./IncomingCallModal */ \"(ssr)/./src/components/IncomingCallModal.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\n\n\n\n\nfunction UserAvatar({ userId, size = \"md\" }) {\n    const [userData, setUserData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [imageError, setImageError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Listener untuk data pengguna realtime\n        const unsubscribe = (0,_lib_users__WEBPACK_IMPORTED_MODULE_6__.listenToUserProfile)(userId, (data)=>{\n            setUserData(data);\n            setImageError(false); // Reset error state saat data user berubah\n        });\n        return ()=>unsubscribe();\n    }, [\n        userId\n    ]);\n    // Ukuran avatar berdasarkan prop\n    const sizeClass = {\n        sm: \"h-8 w-8 text-sm\",\n        md: \"h-10 w-10 text-base\",\n        lg: \"h-12 w-12 text-lg\"\n    }[size];\n    // Ambil inisial dari nama pengguna atau email\n    const getInitials = ()=>{\n        if (userData?.displayName) {\n            return userData.displayName.charAt(0).toUpperCase();\n        } else if (userData?.email) {\n            return userData.email.charAt(0).toUpperCase();\n        }\n        return \"U\";\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `${sizeClass} rounded-full bg-primary flex items-center justify-center overflow-hidden text-white font-medium`,\n        children: userData?.photoURL && !imageError ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n            src: userData.photoURL,\n            alt: userData?.displayName || \"Avatar\",\n            className: `${sizeClass} object-cover`,\n            onError: (e)=>{\n                console.error(\"Error loading avatar\");\n                setImageError(true); // Set state error, akan memicu render dengan inisial\n            }\n        }, void 0, false, {\n            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n            lineNumber: 73,\n            columnNumber: 9\n        }, this) : getInitials()\n    }, void 0, false, {\n        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n        lineNumber: 71,\n        columnNumber: 5\n    }, this);\n}\nfunction ChatWindow({ user, chatId, onBackClick, contact = null, usingContact = false }) {\n    const [message, setMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [chatPartner, setChatPartner] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [uploadError, setUploadError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [previewUrl, setPreviewUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [showEmojiPicker, setShowEmojiPicker] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [imageFile, setImageFile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [generalFile, setGeneralFile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isUploading, setIsUploading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const emojiPickerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const fileInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const generalFileInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [partnerName, setPartnerName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [partnerPhoneNumber, setPartnerPhoneNumber] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [showAttachMenu, setShowAttachMenu] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [partnerOnlineStatus, setPartnerOnlineStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Offline\");\n    const [partnerLastSeen, setPartnerLastSeen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const inputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [isRecording, setIsRecording] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [mediaRecorder, setMediaRecorder] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [audioChunks, setAudioChunks] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [audioBlob, setAudioBlob] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isProcessingAudio, setIsProcessingAudio] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [replyingTo, setReplyingTo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [editingMessage, setEditingMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isEditing, setIsEditing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const attachMenuRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [shouldScroll, setShouldScroll] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [userScrolled, setUserScrolled] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showVideoCallModal, setShowVideoCallModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showAudioCallModal, setShowAudioCallModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showIncomingCallModal, setShowIncomingCallModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [incomingCallId, setIncomingCallId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [callType, setCallType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"video\");\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Tutup emoji picker ketika klik di luar komponen\n        const handleClickOutside = (event)=>{\n            if (emojiPickerRef.current && !emojiPickerRef.current.contains(event.target)) {\n                setShowEmojiPicker(false);\n            }\n            // Tutup menu lampiran file ketika klik di luar komponen\n            if (attachMenuRef.current && !attachMenuRef.current.contains(event.target)) {\n                setShowAttachMenu(false);\n            }\n        };\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return ()=>{\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n        };\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setMessages([]);\n        setChatPartner(null);\n        setLoading(true);\n        setError(null);\n        if (!chatId) {\n            setLoading(false);\n            return;\n        }\n        // Fungsi helper untuk update status partner\n        const updatePartnerStatus = (partnerData)=>{\n            if (partnerData.isOnline) {\n                setPartnerOnlineStatus(\"Online\");\n            } else if (partnerData.lastSeen) {\n                setPartnerOnlineStatus(\"Terakhir dilihat\");\n                setPartnerLastSeen(partnerData.lastSeen);\n            } else {\n                setPartnerOnlineStatus(\"Offline\");\n            }\n        };\n        // Ambil detail chat untuk mendapatkan informasi partner\n        const fetchChatPartner = async ()=>{\n            try {\n                const chatDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.getDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_2__.db, \"chats\", chatId));\n                if (chatDoc.exists()) {\n                    const chatData = chatDoc.data();\n                    const partnerId = chatData.participants.find((id)=>id !== user.uid);\n                    if (partnerId) {\n                        try {\n                            const partnerRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_2__.db, \"users\", partnerId);\n                            const partnerDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.getDoc)(partnerRef);\n                            if (partnerDoc.exists()) {\n                                const partnerData = partnerDoc.data();\n                                setChatPartner({\n                                    ...partnerData,\n                                    id: partnerId\n                                });\n                                setPartnerName(partnerData.displayName || partnerData.email || \"Pengguna\");\n                                setPartnerPhoneNumber(partnerData.phoneNumber || null);\n                                // Set status awal\n                                updatePartnerStatus(partnerData);\n                                // Gunakan listener untuk data pengguna realtime\n                                const unsubscribeProfile = (0,_lib_users__WEBPACK_IMPORTED_MODULE_6__.listenToUserProfile)(partnerId, (userData)=>{\n                                    setChatPartner({\n                                        ...userData,\n                                        id: partnerId\n                                    });\n                                    setPartnerName(userData.displayName || userData.email || \"Pengguna\");\n                                    setPartnerPhoneNumber(userData.phoneNumber || null);\n                                    updatePartnerStatus(userData);\n                                });\n                                // Return cleanup function\n                                return unsubscribeProfile;\n                            } else {\n                                setChatPartner({\n                                    id: partnerId,\n                                    displayName: \"Pengguna\",\n                                    email: \"\"\n                                });\n                            }\n                        } catch (partnerError) {\n                            console.error(\"Error fetching partner info:\", partnerError);\n                            setChatPartner({\n                                id: partnerId,\n                                displayName: \"Pengguna\",\n                                email: \"\"\n                            });\n                        }\n                    }\n                }\n            } catch (error) {\n                console.error(\"Error fetching chat partner:\", error);\n                setError(\"Gagal memuat informasi chat\");\n            }\n            // Default return jika tidak ada listener\n            return ()=>{};\n        };\n        // Menjalankan fetch chat partner dan mendapatkan unsubscribe function\n        const unsubscribePartner = fetchChatPartner();\n        // Fetch pesan menggunakan onSnapshot untuk realtime updates\n        const messagesQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.collection)(_firebase_config__WEBPACK_IMPORTED_MODULE_2__.db, \"chats\", chatId, \"messages\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.orderBy)(\"timestamp\", \"asc\"));\n        const unsubscribeMessages = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.onSnapshot)(messagesQuery, async (snapshot)=>{\n            const newMessages = snapshot.docs.map((doc)=>({\n                    id: doc.id,\n                    ...doc.data()\n                }));\n            setMessages(newMessages);\n            setLoading(false);\n            // Tandai pesan sebagai dibaca\n            for (const msg of newMessages){\n                if (msg.senderId !== user.uid && !msg.readBy?.includes(user.uid)) {\n                    try {\n                        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.updateDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_2__.db, \"chats\", chatId, \"messages\", msg.id), {\n                            readBy: [\n                                ...msg.readBy || [],\n                                user.uid\n                            ]\n                        });\n                    } catch (updateError) {\n                        console.error(\"Error marking message as read:\", updateError);\n                    }\n                }\n            }\n            // Cek apakah pesan baru datang dari pengguna lain\n            const lastMsg = snapshot.docChanges().find((change)=>change.type === \"added\" && change.doc.data().senderId !== user.uid);\n            // Hanya scroll otomatis jika ada pesan baru dari pengguna lain\n            // atau jika pengguna belum melakukan scroll manual\n            if (lastMsg && !userScrolled || !userScrolled) {\n                setTimeout(()=>{\n                    scrollToBottom();\n                }, 100);\n            }\n        }, (error)=>{\n            console.error(\"Error fetching messages:\", error);\n            setError(\"Gagal memuat pesan\");\n            setLoading(false);\n        });\n        // Clean up listeners\n        return ()=>{\n            unsubscribeMessages();\n            unsubscribePartner.then((unsub)=>{\n                if (typeof unsub === \"function\") {\n                    unsub();\n                }\n            });\n        };\n    }, [\n        chatId,\n        user.uid\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (shouldScroll && !userScrolled) {\n            scrollToBottom();\n        }\n    }, [\n        messages,\n        shouldScroll,\n        userScrolled\n    ]);\n    const scrollToBottom = ()=>{\n        if (messagesEndRef.current) {\n            messagesEndRef.current.scrollIntoView({\n                behavior: \"smooth\"\n            });\n        }\n    };\n    // Deteksi ketika user scroll manual\n    const handleScroll = (e)=>{\n        const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n        const isScrolledToBottom = scrollHeight - scrollTop - clientHeight < 20;\n        // Jika user scroll up\n        if (!isScrolledToBottom) {\n            setUserScrolled(true);\n        } else {\n            setUserScrolled(false);\n        }\n    };\n    const handleSendMessage = async (e)=>{\n        e.preventDefault();\n        // Reset userScrolled saat mengirim pesan baru\n        setUserScrolled(false);\n        setShouldScroll(true);\n        // Jika dalam mode edit, panggil saveEdit\n        if (isEditing && editingMessage) {\n            await saveEdit();\n            return;\n        }\n        if (!message.trim() && !imageFile && !generalFile || !chatId) return;\n        setUploadError(null); // Reset error saat memulai upload\n        try {\n            let finalImageUrl = \"\";\n            let fileInfo = {\n                fileUrl: \"\",\n                fileName: \"\",\n                fileType: \"\",\n                fileSize: 0\n            };\n            setIsUploading(true);\n            // Jika ada file umum, upload ke Cloudinary melalui API kita\n            if (generalFile) {\n                try {\n                    console.log(\"Memulai upload file umum:\", generalFile.name, generalFile.type);\n                    const formData = new FormData();\n                    formData.append(\"file\", generalFile);\n                    const response = await fetch(\"/api/upload-file\", {\n                        method: \"POST\",\n                        body: formData\n                    });\n                    if (!response.ok) {\n                        const errorData = await response.json();\n                        console.error(\"Error response dari API:\", errorData);\n                        throw new Error(`Gagal mengupload file: ${errorData.message || response.statusText}`);\n                    }\n                    const data = await response.json();\n                    console.log(\"Respons upload file:\", data);\n                    if (data.success && data.url) {\n                        fileInfo = {\n                            fileUrl: data.url,\n                            fileName: generalFile.name,\n                            fileType: generalFile.type || \"application/octet-stream\",\n                            fileSize: generalFile.size\n                        };\n                        console.log(\"File berhasil diupload ke Cloudinary:\", data.url);\n                    }\n                } catch (error) {\n                    console.error(\"Error upload file ke Cloudinary:\", error);\n                    setUploadError(error instanceof Error ? error.message : \"Gagal mengupload file. Silakan coba lagi.\");\n                    setIsUploading(false);\n                    return;\n                }\n            } else if (imageFile) {\n                try {\n                    const formData = new FormData();\n                    formData.append(\"file\", imageFile);\n                    const response = await fetch(\"/api/upload-file\", {\n                        method: \"POST\",\n                        body: formData\n                    });\n                    if (!response.ok) {\n                        throw new Error(\"Gagal mengupload gambar\");\n                    }\n                    const data = await response.json();\n                    if (data.success && data.url) {\n                        finalImageUrl = data.url;\n                        console.log(\"Gambar berhasil diupload ke Cloudinary:\", finalImageUrl);\n                    }\n                } catch (error) {\n                    console.error(\"Error upload file ke Cloudinary:\", error);\n                    setUploadError(error instanceof Error ? error.message : \"Gagal mengupload gambar. Silakan coba lagi.\");\n                    setIsUploading(false);\n                    return;\n                }\n            }\n            setIsUploading(false);\n            // Simpan pesan ke Firestore\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.collection)(_firebase_config__WEBPACK_IMPORTED_MODULE_2__.db, \"chats\", chatId, \"messages\"), {\n                text: message,\n                senderId: user.uid,\n                timestamp: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.serverTimestamp)(),\n                readBy: [\n                    user.uid\n                ],\n                ...finalImageUrl ? {\n                    imageUrl: finalImageUrl\n                } : {},\n                ...fileInfo.fileUrl ? {\n                    fileUrl: fileInfo.fileUrl,\n                    fileName: fileInfo.fileName,\n                    fileType: fileInfo.fileType,\n                    fileSize: fileInfo.fileSize\n                } : {},\n                ...replyingTo ? {\n                    replyTo: replyingTo.id\n                } : {}\n            });\n            // Update terakhir chat\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.updateDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_2__.db, \"chats\", chatId), {\n                lastMessage: {\n                    text: fileInfo.fileUrl ? `📎 ${fileInfo.fileName}` : finalImageUrl ? \"\\uD83D\\uDCF7 Gambar\" : message,\n                    timestamp: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.serverTimestamp)(),\n                    senderId: user.uid\n                },\n                updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.serverTimestamp)()\n            });\n            // Reset state\n            setMessage(\"\");\n            setPreviewUrl(null);\n            setImageFile(null);\n            setGeneralFile(null);\n            setShowEmojiPicker(false);\n            setShowAttachMenu(false);\n            setReplyingTo(null);\n            // Reload messages after sending\n            const messagesQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.collection)(_firebase_config__WEBPACK_IMPORTED_MODULE_2__.db, \"chats\", chatId, \"messages\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.orderBy)(\"timestamp\", \"asc\"));\n            const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.getDocs)(messagesQuery);\n            const newMessages = snapshot.docs.map((doc)=>({\n                    id: doc.id,\n                    ...doc.data()\n                }));\n            setMessages(newMessages);\n            // Scroll ke bawah hanya untuk pesan yang dikirim sendiri\n            setTimeout(()=>{\n                // Izinkan scrolling otomatis setelah mengirim pesan sendiri\n                setShouldScroll(true);\n                setUserScrolled(false);\n                scrollToBottom();\n            }, 100);\n        } catch (error) {\n            console.error(\"Error sending message:\", error);\n        }\n    };\n    const handleImageFileChange = (e)=>{\n        const file = e.target.files?.[0];\n        if (!file) return;\n        // Validasi tipe file\n        if (!file.type.startsWith(\"image/\")) {\n            alert(\"Hanya file gambar yang diperbolehkan\");\n            return;\n        }\n        // Validasi ukuran file (max 5MB)\n        if (file.size > 5 * 1024 * 1024) {\n            alert(\"Ukuran gambar maksimal 5MB\");\n            return;\n        }\n        setImageFile(file);\n        setGeneralFile(null);\n        // Buat preview URL\n        const reader = new FileReader();\n        reader.onload = (event)=>{\n            setPreviewUrl(event.target?.result);\n        };\n        reader.readAsDataURL(file);\n    };\n    const handleGeneralFileChange = (e)=>{\n        const file = e.target.files?.[0];\n        if (!file) return;\n        console.log(\"File yang dipilih:\", file.name, file.type, file.size);\n        // Validasi ukuran file (max 10MB)\n        if (file.size > 10 * 1024 * 1024) {\n            alert(\"Ukuran file maksimal 10MB\");\n            return;\n        }\n        setGeneralFile(file);\n        setImageFile(null);\n        setPreviewUrl(null);\n    };\n    const handleRemoveImage = ()=>{\n        setPreviewUrl(null);\n        setImageFile(null);\n        if (fileInputRef.current) {\n            fileInputRef.current.value = \"\";\n        }\n    };\n    const handleRemoveFile = ()=>{\n        setGeneralFile(null);\n        if (generalFileInputRef.current) {\n            generalFileInputRef.current.value = \"\";\n        }\n    };\n    const handleEmojiClick = (emojiData)=>{\n        setMessage((prev)=>prev + emojiData.emoji);\n    };\n    const formatLastSeen = (timestamp)=>{\n        if (!timestamp) return \"\";\n        try {\n            // Konversi timestamp Firestore ke Date\n            const date = timestamp.toDate ? timestamp.toDate() : timestamp.seconds ? new Date(timestamp.seconds * 1000) : new Date();\n            const now = new Date();\n            const diffMs = now.getTime() - date.getTime();\n            const diffMins = Math.round(diffMs / 60000);\n            const diffHours = Math.round(diffMs / 3600000);\n            const diffDays = Math.round(diffMs / 86400000);\n            if (diffMins < 1) return \"baru saja\";\n            if (diffMins < 60) return `${diffMins} menit yang lalu`;\n            if (diffHours < 24) return `${diffHours} jam yang lalu`;\n            if (diffDays === 1) return \"kemarin\";\n            if (diffDays < 7) return `${diffDays} hari yang lalu`;\n            return (0,_barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(date, \"dd/MM/yyyy\", {\n                locale: date_fns_locale__WEBPACK_IMPORTED_MODULE_10__[\"default\"]\n            });\n        } catch (error) {\n            console.error(\"Error formatting last seen:\", error);\n            return \"\";\n        }\n    };\n    // Fungsi untuk membuka WhatsApp\n    const openWhatsApp = ()=>{\n        if (!partnerPhoneNumber) return;\n        // Bersihkan nomor telepon (hanya angka dan +)\n        const cleanNumber = partnerPhoneNumber.replace(/[^\\d+]/g, \"\");\n        window.open(`https://wa.me/${cleanNumber}`, \"_blank\");\n    };\n    // Tambahkan efek untuk menangani kontak\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (usingContact && contact) {\n            // Jika menggunakan kontak langsung tanpa chat id\n            setChatPartner({\n                displayName: contact.name,\n                email: \"\",\n                phoneNumber: contact.phoneNumber\n            });\n            setPartnerName(contact.name);\n            setPartnerPhoneNumber(contact.phoneNumber);\n            setLoading(false);\n        }\n    }, [\n        usingContact,\n        contact\n    ]);\n    const clearUploadError = ()=>{\n        if (uploadError) {\n            setUploadError(null);\n        }\n    };\n    // Fungsi untuk memulai rekaman suara\n    const startVoiceRecording = async ()=>{\n        try {\n            // Reset state terlebih dahulu\n            setAudioChunks([]);\n            setAudioBlob(null);\n            setIsProcessingAudio(false);\n            const stream = await navigator.mediaDevices.getUserMedia({\n                audio: true\n            });\n            const recorder = new MediaRecorder(stream, {\n                mimeType: \"audio/webm;codecs=opus\"\n            });\n            // Simpan chunks setiap 300ms\n            let chunks = [];\n            recorder.ondataavailable = (e)=>{\n                if (e.data.size > 0) {\n                    chunks.push(e.data);\n                }\n            };\n            recorder.onstop = async ()=>{\n                try {\n                    // Pastikan ada audio chunks yang direkam\n                    if (chunks.length === 0) {\n                        console.log(\"Tidak ada audio yang direkam\");\n                        setUploadError(\"Tidak ada audio yang direkam. Silakan coba lagi.\");\n                        setIsProcessingAudio(false);\n                        return;\n                    }\n                    setIsProcessingAudio(true);\n                    // Buat audio blob dengan format yang didukung\n                    const audioBlob = new Blob(chunks, {\n                        type: \"audio/webm\"\n                    });\n                    if (audioBlob.size < 100) {\n                        console.log(\"Rekaman audio terlalu pendek\");\n                        setUploadError(\"Rekaman terlalu pendek. Silakan coba lagi.\");\n                        setIsProcessingAudio(false);\n                        return;\n                    }\n                    setAudioBlob(audioBlob);\n                    setAudioChunks(chunks);\n                    // Upload audio ke server\n                    const formData = new FormData();\n                    formData.append(\"file\", audioBlob, \"voice-message.webm\");\n                    console.log(\"Uploading audio file, size:\", audioBlob.size);\n                    const response = await fetch(\"/api/upload-file\", {\n                        method: \"POST\",\n                        body: formData\n                    });\n                    if (!response.ok) {\n                        const errorData = await response.json();\n                        console.error(\"Upload response error:\", errorData);\n                        throw new Error(errorData.message || \"Gagal mengupload voice chat\");\n                    }\n                    const data = await response.json();\n                    console.log(\"Upload response:\", data);\n                    if (data.success && data.url && chatId) {\n                        // Kirim pesan audio\n                        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.collection)(_firebase_config__WEBPACK_IMPORTED_MODULE_2__.db, \"chats\", chatId, \"messages\"), {\n                            text: \"\\uD83C\\uDFA4 Voice Message\",\n                            senderId: user.uid,\n                            timestamp: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.serverTimestamp)(),\n                            readBy: [\n                                user.uid\n                            ],\n                            fileUrl: data.url,\n                            fileName: \"voice-message.webm\",\n                            fileType: \"audio/webm\",\n                            fileSize: audioBlob.size,\n                            audio: true,\n                            ...replyingTo ? {\n                                replyTo: replyingTo.id\n                            } : {}\n                        });\n                        // Update terakhir chat\n                        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.updateDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_2__.db, \"chats\", chatId), {\n                            lastMessage: {\n                                text: \"\\uD83C\\uDFA4 Voice Message\",\n                                timestamp: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.serverTimestamp)(),\n                                senderId: user.uid\n                            },\n                            updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.serverTimestamp)()\n                        });\n                        // Reload pesan untuk menampilkan pesan audio baru\n                        const messagesQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.collection)(_firebase_config__WEBPACK_IMPORTED_MODULE_2__.db, \"chats\", chatId, \"messages\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.orderBy)(\"timestamp\", \"asc\"));\n                        const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.getDocs)(messagesQuery);\n                        const newMessages = snapshot.docs.map((doc)=>({\n                                id: doc.id,\n                                ...doc.data()\n                            }));\n                        setMessages(newMessages);\n                        scrollToBottom();\n                        setReplyingTo(null);\n                    }\n                } catch (error) {\n                    console.error(\"Error sending voice message:\", error);\n                    setUploadError(\"Gagal mengirim pesan suara. Silakan coba lagi.\");\n                } finally{\n                    setIsProcessingAudio(false);\n                    setAudioChunks([]);\n                    chunks = [];\n                }\n            };\n            setMediaRecorder(recorder);\n            // Mulai rekaman dengan interval chunk 300ms\n            recorder.start(300);\n            setIsRecording(true);\n        } catch (error) {\n            console.error(\"Error accessing microphone:\", error);\n            setUploadError(\"Gagal mengakses mikrofon. Pastikan mikrofon diizinkan di browser Anda.\");\n        }\n    };\n    // Fungsi untuk berhenti merekam\n    const stopVoiceRecording = ()=>{\n        if (!mediaRecorder) return;\n        try {\n            if (mediaRecorder.state === \"recording\") {\n                // Berhenti merekam\n                mediaRecorder.stop();\n                // Stop semua audio tracks\n                if (mediaRecorder.stream) {\n                    mediaRecorder.stream.getTracks().forEach((track)=>track.stop());\n                }\n            }\n            setIsRecording(false);\n        } catch (error) {\n            console.error(\"Error stopping recording:\", error);\n            setUploadError(\"Gagal menghentikan rekaman. Coba lagi.\");\n            setIsRecording(false);\n        }\n    };\n    // Fungsi untuk membalas pesan\n    const handleReplyMessage = (messageId, messageText)=>{\n        setReplyingTo({\n            id: messageId,\n            text: messageText\n        });\n        // Untuk balas pesan, kita tetap scroll otomatis\n        setShouldScroll(true);\n        setUserScrolled(false);\n        // Fokus ke input pesan\n        if (inputRef.current) {\n            inputRef.current.focus();\n        }\n    };\n    // Fungsi untuk membatalkan balasan\n    const cancelReply = ()=>{\n        setReplyingTo(null);\n    // Tidak perlu mengubah scroll behavior saat cancel reply\n    };\n    // Fungsi untuk menangani edit pesan\n    const handleEditMessage = (messageId, messageText)=>{\n        setEditingMessage({\n            id: messageId,\n            text: messageText\n        });\n        setMessage(messageText);\n        setIsEditing(true);\n        // Matikan scroll otomatis saat mengedit\n        setShouldScroll(false);\n        // Fokus ke input pesan\n        if (inputRef.current) {\n            inputRef.current.focus();\n        }\n    };\n    // Fungsi untuk membatalkan edit\n    const cancelEdit = ()=>{\n        setEditingMessage(null);\n        setIsEditing(false);\n        setMessage(\"\");\n        // Tetap matikan scroll otomatis setelah cancel edit\n        setShouldScroll(false);\n    };\n    // Fungsi untuk menyimpan edit\n    const saveEdit = async ()=>{\n        if (!chatId || !editingMessage || !message.trim()) return;\n        try {\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.updateDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_2__.db, \"chats\", chatId, \"messages\", editingMessage.id), {\n                text: message.trim(),\n                isEdited: true\n            });\n            // Reset state edit\n            setEditingMessage(null);\n            setIsEditing(false);\n            setMessage(\"\");\n            // Tetap matikan scroll otomatis setelah edit\n            setShouldScroll(false);\n        } catch (error) {\n            console.error(\"Error updating message:\", error);\n            alert(\"Gagal mengedit pesan. Silakan coba lagi.\");\n        }\n    };\n    // Di dalam komponen ChatWindow, tambahkan efek untuk menandai pesan sebagai sudah dibaca\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (chatId) {\n            // Perbarui timestamp terakhir dibaca\n            const currentTime = Date.now();\n            localStorage.setItem(`lastRead_${chatId}`, currentTime.toString());\n            // Beritahu komponen lain bahwa pesan telah dibaca\n            const event = new CustomEvent(\"messageRead\", {\n                detail: {\n                    chatId\n                }\n            });\n            window.dispatchEvent(event);\n        }\n    }, [\n        chatId,\n        messages\n    ]); // Ketika pesan berubah atau chatId berubah\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Mendengarkan panggilan masuk\n        const listenForIncomingCalls = ()=>{\n            if (!user.uid) return;\n            // Setup interval untuk memeriksa localStorage setiap 2 detik\n            const intervalId = setInterval(()=>{\n                try {\n                    // Ambil semua panggilan dari localStorage\n                    const calls = JSON.parse(localStorage.getItem(\"hallo_calls\") || \"{}\");\n                    // Filter panggilan yang sedang 'ringing' dan ditujukan ke pengguna ini dan chatId ini\n                    const incomingCalls = Object.entries(calls).map(([id, data])=>({\n                            id,\n                            ...data\n                        })).filter((call)=>call.recipientId === user.uid && call.status === \"ringing\" && call.chatId === chatId && // Hanya tampilkan notifikasi jika panggilan kurang dari 30 detik yang lalu\n                        new Date().getTime() - new Date(call.startedAt).getTime() < 30000);\n                    // Jika ada panggilan masuk, tampilkan modal\n                    if (incomingCalls.length > 0) {\n                        const latestCall = incomingCalls[0];\n                        setIncomingCallId(latestCall.id);\n                        setShowIncomingCallModal(true);\n                    }\n                    // Jika ada panggilan yang sedang ditampilkan tapi sudah tidak ringing, tutup modal\n                    if (incomingCallId) {\n                        const currentCall = calls[incomingCallId];\n                        if (!currentCall || currentCall.status !== \"ringing\") {\n                            setShowIncomingCallModal(false);\n                            setIncomingCallId(null);\n                        }\n                    }\n                } catch (error) {\n                    console.error(\"Error checking for incoming calls:\", error);\n                }\n            }, 2000);\n            // Return cleanup function\n            return ()=>clearInterval(intervalId);\n        };\n        const unsubscribeCalls = listenForIncomingCalls();\n        return ()=>{\n            if (unsubscribeCalls) {\n                unsubscribeCalls();\n            }\n        };\n    }, [\n        user.uid,\n        chatId,\n        incomingCallId\n    ]);\n    const handleVideoCall = ()=>{\n        if (!chatPartner || !chatPartner.id) {\n            alert(\"Tidak dapat melakukan panggilan, informasi pengguna tidak ditemukan\");\n            return;\n        }\n        // Cek apakah partner sedang online untuk meningkatkan keberhasilan panggilan\n        if (partnerOnlineStatus !== \"Online\") {\n            if (!confirm(\"Pengguna ini terlihat tidak aktif. Tetap ingin melakukan panggilan video?\")) {\n                return;\n            }\n        }\n        // Berikan delay kecil sebelum memulai panggilan untuk memastikan UI tidak lag\n        setTimeout(()=>{\n            console.log(\"Starting video call with:\", chatPartner.id);\n            setCallType(\"video\");\n            setShowVideoCallModal(true);\n        }, 100);\n    };\n    const handleAudioCall = ()=>{\n        if (!chatPartner || !chatPartner.id) {\n            alert(\"Tidak dapat melakukan panggilan, informasi pengguna tidak ditemukan\");\n            return;\n        }\n        // Cek apakah partner sedang online untuk meningkatkan keberhasilan panggilan\n        if (partnerOnlineStatus !== \"Online\") {\n            if (!confirm(\"Pengguna ini terlihat tidak aktif. Tetap ingin melakukan panggilan audio?\")) {\n                return;\n            }\n        }\n        // Berikan delay kecil sebelum memulai panggilan untuk memastikan UI tidak lag\n        setTimeout(()=>{\n            console.log(\"Starting audio call with:\", chatPartner.id);\n            setCallType(\"audio\");\n            setShowVideoCallModal(true);\n        }, 100);\n    };\n    const handleAcceptCall = (callId, isVideoCall)=>{\n        console.log(\"Accepting call in ChatWindow:\", callId, isVideoCall ? \"video\" : \"audio\");\n        setIncomingCallId(callId);\n        setShowIncomingCallModal(false);\n        // Gunakan timeout untuk memastikan modal incoming call ditutup terlebih dahulu\n        setTimeout(()=>{\n            setCallType(isVideoCall ? \"video\" : \"audio\");\n            setShowVideoCallModal(true);\n        }, 200);\n    };\n    const handleRejectCall = ()=>{\n        console.log(\"Rejecting call in ChatWindow\");\n        setShowIncomingCallModal(false);\n        // Gunakan timeout untuk memastikan state reset setelah modal ditutup\n        setTimeout(()=>{\n            setIncomingCallId(null);\n        }, 200);\n    };\n    if (!chatId) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex flex-col h-full bg-gray-50\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-primary p-4 text-white\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"font-medium\",\n                        children: \"Pilih chat untuk memulai percakapan\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                        lineNumber: 984,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                    lineNumber: 983,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex-1 flex items-center justify-center\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-500\",\n                        children: \"Pilih atau mulai chat baru untuk memulai percakapan\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                        lineNumber: 987,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                    lineNumber: 986,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n            lineNumber: 982,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col h-full overflow-visible\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-gradient-to-r from-primary via-primary to-primary-dark p-3 flex items-center text-white border-b border-primary-dark/40 shadow-sm navbar-no-radius\",\n                style: {\n                    borderRadius: \"0\",\n                    overflow: \"visible\"\n                },\n                children: [\n                    onBackClick && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onBackClick,\n                        className: \"mr-2 p-1.5 hover:bg-white/10 transition-colors\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiArrowLeft_FiCamera_FiCheck_FiFile_FiMessageSquare_FiMic_FiPaperclip_FiPhone_FiSend_FiSmile_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_11__.FiArrowLeft, {\n                            size: 22\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                            lineNumber: 1008,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                        lineNumber: 1004,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center flex-1 min-w-0\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(UserAvatar, {\n                                userId: chatPartner?.id || \"0\",\n                                size: \"lg\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                lineNumber: 1013,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"ml-3 flex-1 min-w-0\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        className: \"font-medium text-base truncate\",\n                                        children: partnerName || \"Memuat...\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                        lineNumber: 1016,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs text-white/80 flex items-center\",\n                                        children: partnerOnlineStatus === \"Online\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"w-1.5 h-1.5 bg-green-400 rounded-full mr-1 animate-pulse\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                                    lineNumber: 1020,\n                                                    columnNumber: 19\n                                                }, this),\n                                                partnerOnlineStatus\n                                            ]\n                                        }, void 0, true) : partnerOnlineStatus === \"Terakhir dilihat\" && partnerLastSeen ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                \"Terakhir dilihat \",\n                                                formatLastSeen(partnerLastSeen)\n                                            ]\n                                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: \"Offline\"\n                                        }, void 0, false)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                        lineNumber: 1017,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                lineNumber: 1015,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex space-x-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleAudioCall,\n                                        className: \"rounded-full p-2 hover:bg-primary-dark focus:outline-none\",\n                                        title: \"Panggilan Suara\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiArrowLeft_FiCamera_FiCheck_FiFile_FiMessageSquare_FiMic_FiPaperclip_FiPhone_FiSend_FiSmile_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_11__.FiPhone, {\n                                            size: 20\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                            lineNumber: 1038,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                        lineNumber: 1033,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleVideoCall,\n                                        className: \"rounded-full p-2 hover:bg-primary-dark focus:outline-none\",\n                                        title: \"Panggilan Video\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiArrowLeft_FiCamera_FiCheck_FiFile_FiMessageSquare_FiMic_FiPaperclip_FiPhone_FiSend_FiSmile_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_11__.FiVideo, {\n                                            size: 20\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                            lineNumber: 1045,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                        lineNumber: 1040,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                lineNumber: 1032,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                        lineNumber: 1012,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                lineNumber: 996,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 p-4 overflow-y-auto relative\",\n                onScroll: handleScroll,\n                style: {\n                    backgroundImage: `url(\"data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23aaaaaa' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E\")`,\n                    backgroundColor: \"#e6e0d4\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"relative z-10\",\n                        children: loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex justify-center items-center h-full\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                lineNumber: 1063,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                            lineNumber: 1062,\n                            columnNumber: 13\n                        }, this) : error ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center p-4 bg-red-50 rounded-xl shadow\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-red-500\",\n                                    children: error\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                    lineNumber: 1067,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>window.location.reload(),\n                                    className: \"mt-2 px-4 py-2 bg-primary text-white rounded-xl hover:bg-dark transition-colors\",\n                                    children: \"Coba Lagi\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                    lineNumber: 1068,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                            lineNumber: 1066,\n                            columnNumber: 13\n                        }, this) : messages.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center mt-8\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-16 h-16 mx-auto mb-4 bg-primary/10 text-primary rounded-full flex items-center justify-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiArrowLeft_FiCamera_FiCheck_FiFile_FiMessageSquare_FiMic_FiPaperclip_FiPhone_FiSend_FiSmile_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_11__.FiMessageSquare, {\n                                        size: 24\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                        lineNumber: 1078,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                    lineNumber: 1077,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-lg font-medium text-gray-800\",\n                                    children: \"Belum ada pesan\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                    lineNumber: 1080,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-gray-500 text-sm mt-1 mb-4\",\n                                    children: \"Kirim pesan untuk memulai percakapan\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                    lineNumber: 1081,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                            lineNumber: 1076,\n                            columnNumber: 13\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex flex-col space-y-2 pb-2\",\n                            children: [\n                                messages.map((msg)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ChatMessage__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                        message: msg,\n                                        isOwn: msg.senderId === user.uid,\n                                        onReplyMessage: (msgId, text)=>handleReplyMessage(msgId, text),\n                                        onEditMessage: (msgId, text)=>handleEditMessage(msgId, text),\n                                        chatId: chatId\n                                    }, msg.id, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                        lineNumber: 1086,\n                                        columnNumber: 17\n                                    }, this)),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    ref: messagesEndRef\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                    lineNumber: 1095,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                            lineNumber: 1084,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                        lineNumber: 1060,\n                        columnNumber: 9\n                    }, this),\n                    messages.length > 10 && userScrolled && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: scrollToBottom,\n                        className: \"fixed bottom-20 right-4 bg-white/90 backdrop-blur-md p-2.5 rounded-full shadow-md hover:bg-white transition-colors z-20\",\n                        title: \"Scroll ke pesan terbaru\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                            xmlns: \"http://www.w3.org/2000/svg\",\n                            width: \"22\",\n                            height: \"22\",\n                            viewBox: \"0 0 24 24\",\n                            fill: \"none\",\n                            stroke: \"currentColor\",\n                            strokeWidth: \"2\",\n                            strokeLinecap: \"round\",\n                            strokeLinejoin: \"round\",\n                            className: \"text-primary\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"line\", {\n                                    x1: \"12\",\n                                    y1: \"5\",\n                                    x2: \"12\",\n                                    y2: \"19\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                    lineNumber: 1107,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"polyline\", {\n                                    points: \"19 12 12 19 5 12\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                    lineNumber: 1108,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                            lineNumber: 1106,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                        lineNumber: 1101,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                lineNumber: 1052,\n                columnNumber: 7\n            }, this),\n            previewUrl && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-3 bg-white border-t\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"relative rounded-md overflow-hidden bg-gray-100 inline-block\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                            src: previewUrl,\n                            alt: \"Upload preview\",\n                            className: \"max-h-48 max-w-full object-contain\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                            lineNumber: 1118,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleRemoveImage,\n                            className: \"absolute top-1 right-1 bg-white/80 backdrop-blur-sm p-1 rounded-full shadow hover:bg-white\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiArrowLeft_FiCamera_FiCheck_FiFile_FiMessageSquare_FiMic_FiPaperclip_FiPhone_FiSend_FiSmile_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_11__.FiX, {\n                                size: 16,\n                                className: \"text-red-500\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                lineNumber: 1127,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                            lineNumber: 1123,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                    lineNumber: 1117,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                lineNumber: 1116,\n                columnNumber: 9\n            }, this),\n            generalFile && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-3 bg-white border-t\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center p-2 rounded-md bg-gray-100 max-w-full\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-2 bg-primary/10 rounded-md mr-2\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiArrowLeft_FiCamera_FiCheck_FiFile_FiMessageSquare_FiMic_FiPaperclip_FiPhone_FiSend_FiSmile_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_11__.FiFile, {\n                                className: \"text-primary\",\n                                size: 24\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                lineNumber: 1138,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                            lineNumber: 1137,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex-1 min-w-0\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm font-medium truncate\",\n                                    children: generalFile.name\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                    lineNumber: 1141,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-xs text-gray-500\",\n                                    children: [\n                                        (generalFile.size / 1024 / 1024).toFixed(2),\n                                        \" MB\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                    lineNumber: 1142,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                            lineNumber: 1140,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleRemoveFile,\n                            className: \"ml-2 p-1 rounded-full hover:bg-gray-200\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiArrowLeft_FiCamera_FiCheck_FiFile_FiMessageSquare_FiMic_FiPaperclip_FiPhone_FiSend_FiSmile_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_11__.FiX, {\n                                size: 16,\n                                className: \"text-red-500\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                lineNumber: 1150,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                            lineNumber: 1146,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                    lineNumber: 1136,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                lineNumber: 1135,\n                columnNumber: 9\n            }, this),\n            replyingTo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-2 bg-white border-t border-gray-200\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center p-1.5 bg-gray-50 border-l-4 border-l-primary rounded-sm overflow-hidden\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex-1 flex flex-col min-w-0 ml-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center space-x-1\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-xs font-medium text-primary truncate max-w-[70%]\",\n                                        children: chatPartner?.displayName || \"User\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                        lineNumber: 1162,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                    lineNumber: 1161,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm text-gray-700 truncate\",\n                                    children: replyingTo.text\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                    lineNumber: 1166,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                            lineNumber: 1160,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: cancelReply,\n                            className: \"p-1.5 rounded-full hover:bg-gray-200 text-gray-500\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiArrowLeft_FiCamera_FiCheck_FiFile_FiMessageSquare_FiMic_FiPaperclip_FiPhone_FiSend_FiSmile_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_11__.FiX, {\n                                size: 18\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                lineNumber: 1172,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                            lineNumber: 1168,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                    lineNumber: 1159,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                lineNumber: 1158,\n                columnNumber: 9\n            }, this),\n            isEditing && editingMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-3 bg-white border-t\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-1 h-full bg-orange-500 rounded-full mr-2\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                            lineNumber: 1182,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex-1 flex flex-col min-w-0\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-xs font-medium text-orange-500\",\n                                    children: \"Edit pesan\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                    lineNumber: 1184,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm text-gray-700 truncate\",\n                                    children: message || editingMessage.text\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                    lineNumber: 1185,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                            lineNumber: 1183,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: cancelEdit,\n                            className: \"p-1 hover:bg-gray-100 rounded-full\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiArrowLeft_FiCamera_FiCheck_FiFile_FiMessageSquare_FiMic_FiPaperclip_FiPhone_FiSend_FiSmile_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_11__.FiX, {\n                                size: 18,\n                                className: \"text-gray-500\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                lineNumber: 1193,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                            lineNumber: 1189,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                    lineNumber: 1181,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                lineNumber: 1180,\n                columnNumber: 9\n            }, this),\n            uploadError && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-3 bg-red-50 border-t border-red-200\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-sm text-red-600 flex-1\",\n                            children: uploadError\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                            lineNumber: 1203,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: clearUploadError,\n                            className: \"p-1 hover:bg-red-100 rounded-full\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiArrowLeft_FiCamera_FiCheck_FiFile_FiMessageSquare_FiMic_FiPaperclip_FiPhone_FiSend_FiSmile_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_11__.FiX, {\n                                size: 18,\n                                className: \"text-red-500\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                lineNumber: 1208,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                            lineNumber: 1204,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                    lineNumber: 1202,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                lineNumber: 1201,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-3 bg-white border-t relative\",\n                children: [\n                    showAttachMenu && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        ref: attachMenuRef,\n                        className: \"absolute bottom-16 left-3 bg-white/80 backdrop-blur-sm rounded-lg shadow-lg overflow-hidden z-20\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-2 grid grid-cols-2 gap-1\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>{\n                                        if (fileInputRef.current) fileInputRef.current.click();\n                                        setShowAttachMenu(false);\n                                    },\n                                    className: \"flex flex-col items-center p-3 rounded-lg hover:bg-gray-100\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center mb-1\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiArrowLeft_FiCamera_FiCheck_FiFile_FiMessageSquare_FiMic_FiPaperclip_FiPhone_FiSend_FiSmile_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_11__.FiCamera, {\n                                                className: \"text-primary\",\n                                                size: 18\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                                lineNumber: 1231,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                            lineNumber: 1230,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-xs text-gray-600\",\n                                            children: \"Foto\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                            lineNumber: 1233,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                    lineNumber: 1223,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>{\n                                        if (generalFileInputRef.current) generalFileInputRef.current.click();\n                                        setShowAttachMenu(false);\n                                    },\n                                    className: \"flex flex-col items-center p-3 rounded-lg hover:bg-gray-100\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center mb-1\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiArrowLeft_FiCamera_FiCheck_FiFile_FiMessageSquare_FiMic_FiPaperclip_FiPhone_FiSend_FiSmile_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_11__.FiFile, {\n                                                className: \"text-primary\",\n                                                size: 18\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                                lineNumber: 1244,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                            lineNumber: 1243,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-xs text-gray-600\",\n                                            children: \"Dokumen\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                            lineNumber: 1246,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                    lineNumber: 1236,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                            lineNumber: 1222,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                        lineNumber: 1218,\n                        columnNumber: 11\n                    }, this),\n                    showEmojiPicker && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        ref: emojiPickerRef,\n                        className: \"absolute bottom-16 right-3 z-20 bg-white/80 backdrop-blur-sm rounded-lg shadow-lg overflow-hidden\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(emoji_picker_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                            onEmojiClick: handleEmojiClick,\n                            width: 280,\n                            height: 350\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                            lineNumber: 1258,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                        lineNumber: 1254,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setShowAttachMenu(!showAttachMenu),\n                                className: \"p-2 rounded-full text-gray-500 hover:text-primary hover:bg-primary/10 transition-colors\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiArrowLeft_FiCamera_FiCheck_FiFile_FiMessageSquare_FiMic_FiPaperclip_FiPhone_FiSend_FiSmile_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_11__.FiPaperclip, {\n                                    size: 22\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                    lineNumber: 1272,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                lineNumber: 1268,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 mx-2 relative\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    ref: inputRef,\n                                    type: \"text\",\n                                    value: message,\n                                    onChange: (e)=>setMessage(e.target.value),\n                                    onKeyDown: (e)=>{\n                                        if (e.key === \"Enter\" && !e.shiftKey) {\n                                            e.preventDefault();\n                                            if (isEditing) {\n                                                saveEdit();\n                                            } else {\n                                                handleSendMessage(e);\n                                            }\n                                        }\n                                    },\n                                    placeholder: \"Ketik pesan...\",\n                                    className: \"w-full py-2.5 px-4 bg-gray-100 rounded-full focus:outline-none focus:ring-2 focus:ring-primary/50 focus:bg-white transition-all\",\n                                    disabled: isUploading || isProcessingAudio\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                    lineNumber: 1277,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                lineNumber: 1276,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setShowEmojiPicker(!showEmojiPicker),\n                                className: \"p-2 rounded-full text-gray-500 hover:text-primary hover:bg-primary/10 transition-colors\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiArrowLeft_FiCamera_FiCheck_FiFile_FiMessageSquare_FiMic_FiPaperclip_FiPhone_FiSend_FiSmile_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_11__.FiSmile, {\n                                    size: 22\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                    lineNumber: 1303,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                lineNumber: 1299,\n                                columnNumber: 11\n                            }, this),\n                            !message && !imageFile && !generalFile && !isEditing ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onMouseDown: startVoiceRecording,\n                                onMouseUp: stopVoiceRecording,\n                                onTouchStart: startVoiceRecording,\n                                onTouchEnd: stopVoiceRecording,\n                                className: `p-2 rounded-full ${isRecording ? \"bg-red-500 text-white animate-pulse\" : isProcessingAudio ? \"bg-gray-300 text-gray-500 cursor-not-allowed\" : \"bg-primary text-white hover:bg-dark transition-colors\"}`,\n                                children: isRecording ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-6 h-6 flex items-center justify-center relative\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"absolute inset-0 bg-red-500 rounded-full animate-ping opacity-75\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                            lineNumber: 1323,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiArrowLeft_FiCamera_FiCheck_FiFile_FiMessageSquare_FiMic_FiPaperclip_FiPhone_FiSend_FiSmile_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_11__.FiMic, {\n                                            size: 20\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                            lineNumber: 1324,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                    lineNumber: 1322,\n                                    columnNumber: 17\n                                }, this) : isProcessingAudio ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-6 h-6 flex items-center justify-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"animate-spin rounded-full h-4 w-4 border-2 border-t-white\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                        lineNumber: 1328,\n                                        columnNumber: 19\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                    lineNumber: 1327,\n                                    columnNumber: 17\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiArrowLeft_FiCamera_FiCheck_FiFile_FiMessageSquare_FiMic_FiPaperclip_FiPhone_FiSend_FiSmile_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_11__.FiMic, {\n                                    size: 20\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                    lineNumber: 1331,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                lineNumber: 1308,\n                                columnNumber: 13\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: isEditing ? saveEdit : handleSendMessage,\n                                disabled: isUploading || !message && !imageFile && !generalFile,\n                                className: `p-2 rounded-full ${!message && !imageFile && !generalFile || isUploading ? \"bg-gray-300 text-gray-500 cursor-not-allowed\" : \"bg-primary text-white hover:bg-dark transition-colors\"}`,\n                                children: isUploading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-6 h-6 flex items-center justify-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"animate-spin rounded-full h-4 w-4 border-2 border-t-white\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                        lineNumber: 1346,\n                                        columnNumber: 19\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                    lineNumber: 1345,\n                                    columnNumber: 17\n                                }, this) : isEditing ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiArrowLeft_FiCamera_FiCheck_FiFile_FiMessageSquare_FiMic_FiPaperclip_FiPhone_FiSend_FiSmile_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_11__.FiCheck, {\n                                    size: 20\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                    lineNumber: 1349,\n                                    columnNumber: 17\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiArrowLeft_FiCamera_FiCheck_FiFile_FiMessageSquare_FiMic_FiPaperclip_FiPhone_FiSend_FiSmile_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_11__.FiSend, {\n                                    size: 20\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                    lineNumber: 1351,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                                lineNumber: 1335,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                        lineNumber: 1266,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        ref: fileInputRef,\n                        type: \"file\",\n                        accept: \"image/*\",\n                        onChange: handleImageFileChange,\n                        className: \"hidden\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                        lineNumber: 1358,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        ref: generalFileInputRef,\n                        type: \"file\",\n                        onChange: handleGeneralFileChange,\n                        className: \"hidden\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                        lineNumber: 1366,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                lineNumber: 1215,\n                columnNumber: 7\n            }, this),\n            showVideoCallModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_VideoCallModal__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                isOpen: true,\n                onClose: ()=>setShowVideoCallModal(false),\n                user: user,\n                chatId: chatId,\n                recipientId: chatPartner?.id || \"\",\n                isVideoCall: callType === \"video\"\n            }, void 0, false, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                lineNumber: 1376,\n                columnNumber: 9\n            }, this),\n            showAudioCallModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_VideoCallModal__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                isOpen: true,\n                onClose: ()=>setShowAudioCallModal(false),\n                user: user,\n                chatId: chatId,\n                recipientId: chatPartner?.id || \"\",\n                isVideoCall: callType === \"video\"\n            }, void 0, false, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                lineNumber: 1387,\n                columnNumber: 9\n            }, this),\n            showIncomingCallModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_IncomingCallModal__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                isOpen: true,\n                onAccept: handleAcceptCall,\n                onReject: handleRejectCall,\n                user: user,\n                callId: incomingCallId || \"\"\n            }, void 0, false, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n                lineNumber: 1398,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ChatWindow.tsx\",\n        lineNumber: 994,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9DaGF0V2luZG93LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRW9EO0FBRWI7QUFhWDtBQUNNO0FBQ0c7QUFDMkk7QUFDeEk7QUFDSztBQUVLO0FBQ0o7QUFDTTtBQVFwRCxTQUFTaUMsV0FBVyxFQUFFQyxNQUFNLEVBQUVDLE9BQU8sSUFBSSxFQUFlO0lBQ3RELE1BQU0sQ0FBQ0MsVUFBVUMsWUFBWSxHQUFHckMsK0NBQVFBLENBSTlCO0lBQ1YsTUFBTSxDQUFDc0MsWUFBWUMsY0FBYyxHQUFHdkMsK0NBQVFBLENBQUM7SUFFN0NDLGdEQUFTQSxDQUFDO1FBQ1Isd0NBQXdDO1FBQ3hDLE1BQU11QyxjQUFjViwrREFBbUJBLENBQUNJLFFBQVEsQ0FBQ087WUFDL0NKLFlBQVlJO1lBQ1pGLGNBQWMsUUFBUSwyQ0FBMkM7UUFDbkU7UUFFQSxPQUFPLElBQU1DO0lBQ2YsR0FBRztRQUFDTjtLQUFPO0lBRVgsaUNBQWlDO0lBQ2pDLE1BQU1RLFlBQVk7UUFDaEJDLElBQUk7UUFDSkMsSUFBSTtRQUNKQyxJQUFJO0lBQ04sQ0FBQyxDQUFDVixLQUFLO0lBRVAsOENBQThDO0lBQzlDLE1BQU1XLGNBQWM7UUFDbEIsSUFBSVYsVUFBVVcsYUFBYTtZQUN6QixPQUFPWCxTQUFTVyxXQUFXLENBQUNDLE1BQU0sQ0FBQyxHQUFHQyxXQUFXO1FBQ25ELE9BQU8sSUFBSWIsVUFBVWMsT0FBTztZQUMxQixPQUFPZCxTQUFTYyxLQUFLLENBQUNGLE1BQU0sQ0FBQyxHQUFHQyxXQUFXO1FBQzdDO1FBQ0EsT0FBTztJQUNUO0lBRUEscUJBQ0UsOERBQUNFO1FBQUlDLFdBQVcsQ0FBQyxFQUFFVixVQUFVLGdHQUFnRyxDQUFDO2tCQUMzSE4sVUFBVWlCLFlBQVksQ0FBQ2YsMkJBQ3RCLDhEQUFDZ0I7WUFDQ0MsS0FBS25CLFNBQVNpQixRQUFRO1lBQ3RCRyxLQUFLcEIsVUFBVVcsZUFBZTtZQUM5QkssV0FBVyxDQUFDLEVBQUVWLFVBQVUsYUFBYSxDQUFDO1lBQ3RDZSxTQUFTLENBQUNDO2dCQUNSQyxRQUFRQyxLQUFLLENBQUM7Z0JBQ2RyQixjQUFjLE9BQU8scURBQXFEO1lBQzVFOzs7OzttQkFHRk87Ozs7OztBQUlSO0FBMEJlLFNBQVNlLFdBQVcsRUFDakNDLElBQUksRUFDSkMsTUFBTSxFQUNOQyxXQUFXLEVBQ1hDLFVBQVUsSUFBSSxFQUNkQyxlQUFlLEtBQUssRUFDSjtJQUNoQixNQUFNLENBQUNDLFNBQVNDLFdBQVcsR0FBR3BFLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ3FFLFVBQVVDLFlBQVksR0FBR3RFLCtDQUFRQSxDQUFZLEVBQUU7SUFDdEQsTUFBTSxDQUFDdUUsYUFBYUMsZUFBZSxHQUFHeEUsK0NBQVFBLENBQU07SUFDcEQsTUFBTSxDQUFDeUUsU0FBU0MsV0FBVyxHQUFHMUUsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDNEQsT0FBT2UsU0FBUyxHQUFHM0UsK0NBQVFBLENBQWdCO0lBQ2xELE1BQU0sQ0FBQzRFLGFBQWFDLGVBQWUsR0FBRzdFLCtDQUFRQSxDQUFnQjtJQUM5RCxNQUFNLENBQUM4RSxZQUFZQyxjQUFjLEdBQUcvRSwrQ0FBUUEsQ0FBZ0I7SUFDNUQsTUFBTSxDQUFDZ0YsaUJBQWlCQyxtQkFBbUIsR0FBR2pGLCtDQUFRQSxDQUFDO0lBQ3ZELE1BQU0sQ0FBQ2tGLFdBQVdDLGFBQWEsR0FBR25GLCtDQUFRQSxDQUFjO0lBQ3hELE1BQU0sQ0FBQ29GLGFBQWFDLGVBQWUsR0FBR3JGLCtDQUFRQSxDQUFjO0lBQzVELE1BQU0sQ0FBQ3NGLGFBQWFDLGVBQWUsR0FBR3ZGLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU13RixpQkFBaUJ0Riw2Q0FBTUEsQ0FBaUI7SUFDOUMsTUFBTXVGLGlCQUFpQnZGLDZDQUFNQSxDQUFpQjtJQUM5QyxNQUFNd0YsZUFBZXhGLDZDQUFNQSxDQUFtQjtJQUM5QyxNQUFNeUYsc0JBQXNCekYsNkNBQU1BLENBQW1CO0lBQ3JELE1BQU0sQ0FBQzBGLGFBQWFDLGVBQWUsR0FBRzdGLCtDQUFRQSxDQUFnQjtJQUM5RCxNQUFNLENBQUM4RixvQkFBb0JDLHNCQUFzQixHQUFHL0YsK0NBQVFBLENBQWdCO0lBQzVFLE1BQU0sQ0FBQ2dHLGdCQUFnQkMsa0JBQWtCLEdBQUdqRywrQ0FBUUEsQ0FBQztJQUNyRCxNQUFNLENBQUNrRyxxQkFBcUJDLHVCQUF1QixHQUFHbkcsK0NBQVFBLENBQVM7SUFDdkUsTUFBTSxDQUFDb0csaUJBQWlCQyxtQkFBbUIsR0FBR3JHLCtDQUFRQSxDQUFNO0lBQzVELE1BQU1zRyxXQUFXcEcsNkNBQU1BLENBQW1CO0lBQzFDLE1BQU0sQ0FBQ3FHLGFBQWFDLGVBQWUsR0FBR3hHLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQ3lHLGVBQWVDLGlCQUFpQixHQUFHMUcsK0NBQVFBLENBQXVCO0lBQ3pFLE1BQU0sQ0FBQzJHLGFBQWFDLGVBQWUsR0FBRzVHLCtDQUFRQSxDQUFTLEVBQUU7SUFDekQsTUFBTSxDQUFDNkcsV0FBV0MsYUFBYSxHQUFHOUcsK0NBQVFBLENBQWM7SUFDeEQsTUFBTSxDQUFDK0csbUJBQW1CQyxxQkFBcUIsR0FBR2hILCtDQUFRQSxDQUFDO0lBQzNELE1BQU0sQ0FBQ2lILFlBQVlDLGNBQWMsR0FBR2xILCtDQUFRQSxDQUFvQztJQUNoRixNQUFNLENBQUNtSCxnQkFBZ0JDLGtCQUFrQixHQUFHcEgsK0NBQVFBLENBQW9DO0lBQ3hGLE1BQU0sQ0FBQ3FILFdBQVdDLGFBQWEsR0FBR3RILCtDQUFRQSxDQUFDO0lBQzNDLE1BQU11SCxnQkFBZ0JySCw2Q0FBTUEsQ0FBaUI7SUFDN0MsTUFBTSxDQUFDc0gsY0FBY0MsZ0JBQWdCLEdBQUd6SCwrQ0FBUUEsQ0FBQztJQUNqRCxNQUFNLENBQUMwSCxjQUFjQyxnQkFBZ0IsR0FBRzNILCtDQUFRQSxDQUFDO0lBQ2pELE1BQU0sQ0FBQzRILG9CQUFvQkMsc0JBQXNCLEdBQUc3SCwrQ0FBUUEsQ0FBVTtJQUN0RSxNQUFNLENBQUM4SCxvQkFBb0JDLHNCQUFzQixHQUFHL0gsK0NBQVFBLENBQVU7SUFDdEUsTUFBTSxDQUFDZ0ksdUJBQXVCQyx5QkFBeUIsR0FBR2pJLCtDQUFRQSxDQUFVO0lBQzVFLE1BQU0sQ0FBQ2tJLGdCQUFnQkMsa0JBQWtCLEdBQUduSSwrQ0FBUUEsQ0FBZ0I7SUFDcEUsTUFBTSxDQUFDb0ksVUFBVUMsWUFBWSxHQUFHckksK0NBQVFBLENBQW9CO0lBRTVEQyxnREFBU0EsQ0FBQztRQUNSLGtEQUFrRDtRQUNsRCxNQUFNcUkscUJBQXFCLENBQUNDO1lBQzFCLElBQUk5QyxlQUFlK0MsT0FBTyxJQUFJLENBQUMvQyxlQUFlK0MsT0FBTyxDQUFDQyxRQUFRLENBQUNGLE1BQU1HLE1BQU0sR0FBVztnQkFDcEZ6RCxtQkFBbUI7WUFDckI7WUFFQSx3REFBd0Q7WUFDeEQsSUFBSXNDLGNBQWNpQixPQUFPLElBQUksQ0FBQ2pCLGNBQWNpQixPQUFPLENBQUNDLFFBQVEsQ0FBQ0YsTUFBTUcsTUFBTSxHQUFXO2dCQUNsRnpDLGtCQUFrQjtZQUNwQjtRQUNGO1FBRUEwQyxTQUFTQyxnQkFBZ0IsQ0FBQyxhQUFhTjtRQUN2QyxPQUFPO1lBQ0xLLFNBQVNFLG1CQUFtQixDQUFDLGFBQWFQO1FBQzVDO0lBQ0YsR0FBRyxFQUFFO0lBRUxySSxnREFBU0EsQ0FBQztRQUNScUUsWUFBWSxFQUFFO1FBQ2RFLGVBQWU7UUFDZkUsV0FBVztRQUNYQyxTQUFTO1FBRVQsSUFBSSxDQUFDWixRQUFRO1lBQ1hXLFdBQVc7WUFDWDtRQUNGO1FBRUEsNENBQTRDO1FBQzVDLE1BQU1vRSxzQkFBc0IsQ0FBQ0M7WUFDM0IsSUFBSUEsWUFBWUMsUUFBUSxFQUFFO2dCQUN4QjdDLHVCQUF1QjtZQUN6QixPQUFPLElBQUk0QyxZQUFZRSxRQUFRLEVBQUU7Z0JBQy9COUMsdUJBQXVCO2dCQUN2QkUsbUJBQW1CMEMsWUFBWUUsUUFBUTtZQUN6QyxPQUFPO2dCQUNMOUMsdUJBQXVCO1lBQ3pCO1FBQ0Y7UUFFQSx3REFBd0Q7UUFDeEQsTUFBTStDLG1CQUFtQjtZQUN2QixJQUFJO2dCQUNGLE1BQU1DLFVBQVUsTUFBTXhJLDBEQUFNQSxDQUFDRCx1REFBR0EsQ0FBQ1AsZ0RBQUVBLEVBQUUsU0FBUzREO2dCQUM5QyxJQUFJb0YsUUFBUUMsTUFBTSxJQUFJO29CQUNwQixNQUFNQyxXQUFXRixRQUFRMUcsSUFBSTtvQkFDN0IsTUFBTTZHLFlBQVlELFNBQVNFLFlBQVksQ0FBQ0MsSUFBSSxDQUFDLENBQUN6SSxLQUFlQSxPQUFPK0MsS0FBSzJGLEdBQUc7b0JBRTVFLElBQUlILFdBQVc7d0JBQ2IsSUFBSTs0QkFDRixNQUFNSSxhQUFhaEosdURBQUdBLENBQUNQLGdEQUFFQSxFQUFFLFNBQVNtSjs0QkFDcEMsTUFBTUssYUFBYSxNQUFNaEosMERBQU1BLENBQUMrSTs0QkFFaEMsSUFBSUMsV0FBV1AsTUFBTSxJQUFJO2dDQUN2QixNQUFNTCxjQUFjWSxXQUFXbEgsSUFBSTtnQ0FDbkMrQixlQUFlO29DQUFDLEdBQUd1RSxXQUFXO29DQUFFaEksSUFBSXVJO2dDQUFTO2dDQUM3Q3pELGVBQWVrRCxZQUFZaEcsV0FBVyxJQUFJZ0csWUFBWTdGLEtBQUssSUFBSTtnQ0FDL0Q2QyxzQkFBc0JnRCxZQUFZYSxXQUFXLElBQUk7Z0NBRWpELGtCQUFrQjtnQ0FDbEJkLG9CQUFvQkM7Z0NBRXBCLGdEQUFnRDtnQ0FDaEQsTUFBTWMscUJBQXFCL0gsK0RBQW1CQSxDQUFDd0gsV0FBVyxDQUFDbEg7b0NBQ3pEb0MsZUFBZTt3Q0FBQyxHQUFHcEMsUUFBUTt3Q0FBRXJCLElBQUl1STtvQ0FBUztvQ0FDMUN6RCxlQUFlekQsU0FBU1csV0FBVyxJQUFJWCxTQUFTYyxLQUFLLElBQUk7b0NBQ3pENkMsc0JBQXNCM0QsU0FBU3dILFdBQVcsSUFBSTtvQ0FDOUNkLG9CQUFvQjFHO2dDQUN0QjtnQ0FFQSwwQkFBMEI7Z0NBQzFCLE9BQU95SDs0QkFDVCxPQUFPO2dDQUNMckYsZUFBZTtvQ0FBRXpELElBQUl1STtvQ0FBV3ZHLGFBQWE7b0NBQVlHLE9BQU87Z0NBQUc7NEJBQ3JFO3dCQUNGLEVBQUUsT0FBTzRHLGNBQWM7NEJBQ3JCbkcsUUFBUUMsS0FBSyxDQUFDLGdDQUFnQ2tHOzRCQUM5Q3RGLGVBQWU7Z0NBQUV6RCxJQUFJdUk7Z0NBQVd2RyxhQUFhO2dDQUFZRyxPQUFPOzRCQUFHO3dCQUNyRTtvQkFDRjtnQkFDRjtZQUNGLEVBQUUsT0FBT1UsT0FBTztnQkFDZEQsUUFBUUMsS0FBSyxDQUFDLGdDQUFnQ0E7Z0JBQzlDZSxTQUFTO1lBQ1g7WUFFQSx5Q0FBeUM7WUFDekMsT0FBTyxLQUFPO1FBQ2hCO1FBRUEsc0VBQXNFO1FBQ3RFLE1BQU1vRixxQkFBcUJiO1FBRTNCLDREQUE0RDtRQUM1RCxNQUFNYyxnQkFBZ0IzSix5REFBS0EsQ0FDekJELDhEQUFVQSxDQUFDRCxnREFBRUEsRUFBRSxTQUFTNEQsUUFBUSxhQUNoQ3pELDJEQUFPQSxDQUFDLGFBQWE7UUFHdkIsTUFBTTJKLHNCQUFzQjFKLDhEQUFVQSxDQUNwQ3lKLGVBQ0EsT0FBT0U7WUFDTCxNQUFNQyxjQUFjRCxTQUFTRSxJQUFJLENBQUNDLEdBQUcsQ0FBQyxDQUFDM0osTUFBUztvQkFDOUNLLElBQUlMLElBQUlLLEVBQUU7b0JBQ1YsR0FBR0wsSUFBSStCLElBQUksRUFBRTtnQkFDZjtZQUVBNkIsWUFBWTZGO1lBQ1p6RixXQUFXO1lBRVgsOEJBQThCO1lBQzlCLEtBQUssTUFBTTRGLE9BQU9ILFlBQWE7Z0JBQzdCLElBQUlHLElBQUlDLFFBQVEsS0FBS3pHLEtBQUsyRixHQUFHLElBQUksQ0FBQ2EsSUFBSUUsTUFBTSxFQUFFQyxTQUFTM0csS0FBSzJGLEdBQUcsR0FBRztvQkFDaEUsSUFBSTt3QkFDRixNQUFNN0ksNkRBQVNBLENBQUNGLHVEQUFHQSxDQUFDUCxnREFBRUEsRUFBRSxTQUFTNEQsUUFBUSxZQUFZdUcsSUFBSXZKLEVBQUUsR0FBRzs0QkFDNUR5SixRQUFRO21DQUFLRixJQUFJRSxNQUFNLElBQUksRUFBRTtnQ0FBRzFHLEtBQUsyRixHQUFHOzZCQUFDO3dCQUMzQztvQkFDRixFQUFFLE9BQU9pQixhQUFhO3dCQUNwQi9HLFFBQVFDLEtBQUssQ0FBQyxrQ0FBa0M4RztvQkFDbEQ7Z0JBQ0Y7WUFDRjtZQUVBLGtEQUFrRDtZQUNsRCxNQUFNQyxVQUFVVCxTQUFTVSxVQUFVLEdBQUdwQixJQUFJLENBQUNxQixDQUFBQSxTQUN6Q0EsT0FBT0MsSUFBSSxLQUFLLFdBQVdELE9BQU9uSyxHQUFHLENBQUMrQixJQUFJLEdBQUc4SCxRQUFRLEtBQUt6RyxLQUFLMkYsR0FBRztZQUdwRSwrREFBK0Q7WUFDL0QsbURBQW1EO1lBQ25ELElBQUksV0FBWSxDQUFDL0IsZ0JBQWlCLENBQUNBLGNBQWM7Z0JBQy9DcUQsV0FBVztvQkFDVEM7Z0JBQ0YsR0FBRztZQUNMO1FBQ0YsR0FDQSxDQUFDcEg7WUFDQ0QsUUFBUUMsS0FBSyxDQUFDLDRCQUE0QkE7WUFDMUNlLFNBQVM7WUFDVEQsV0FBVztRQUNiO1FBR0YscUJBQXFCO1FBQ3JCLE9BQU87WUFDTHVGO1lBQ0FGLG1CQUFtQmtCLElBQUksQ0FBQ0MsQ0FBQUE7Z0JBQ3RCLElBQUksT0FBT0EsVUFBVSxZQUFZO29CQUMvQkE7Z0JBQ0Y7WUFDRjtRQUNGO0lBQ0YsR0FBRztRQUFDbkg7UUFBUUQsS0FBSzJGLEdBQUc7S0FBQztJQUVyQnhKLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSXVILGdCQUFnQixDQUFDRSxjQUFjO1lBQ2pDc0Q7UUFDRjtJQUNGLEdBQUc7UUFBQzNHO1FBQVVtRDtRQUFjRTtLQUFhO0lBRXpDLE1BQU1zRCxpQkFBaUI7UUFDckIsSUFBSXhGLGVBQWVnRCxPQUFPLEVBQUU7WUFDMUJoRCxlQUFlZ0QsT0FBTyxDQUFDMkMsY0FBYyxDQUFDO2dCQUFFQyxVQUFVO1lBQVM7UUFDN0Q7SUFDRjtJQUVBLG9DQUFvQztJQUNwQyxNQUFNQyxlQUFlLENBQUMzSDtRQUNwQixNQUFNLEVBQUU0SCxTQUFTLEVBQUVDLFlBQVksRUFBRUMsWUFBWSxFQUFFLEdBQUc5SCxFQUFFK0gsYUFBYTtRQUNqRSxNQUFNQyxxQkFBcUJILGVBQWVELFlBQVlFLGVBQWU7UUFFckUsc0JBQXNCO1FBQ3RCLElBQUksQ0FBQ0Usb0JBQW9CO1lBQ3ZCL0QsZ0JBQWdCO1FBQ2xCLE9BQU87WUFDTEEsZ0JBQWdCO1FBQ2xCO0lBQ0Y7SUFFQSxNQUFNZ0Usb0JBQW9CLE9BQU9qSTtRQUMvQkEsRUFBRWtJLGNBQWM7UUFFaEIsOENBQThDO1FBQzlDakUsZ0JBQWdCO1FBQ2hCRixnQkFBZ0I7UUFFaEIseUNBQXlDO1FBQ3pDLElBQUlKLGFBQWFGLGdCQUFnQjtZQUMvQixNQUFNMEU7WUFDTjtRQUNGO1FBRUEsSUFBSSxDQUFFMUgsUUFBUTJILElBQUksTUFBTSxDQUFDNUcsYUFBYSxDQUFDRSxlQUFnQixDQUFDckIsUUFBUTtRQUVoRWMsZUFBZSxPQUFPLGtDQUFrQztRQUV4RCxJQUFJO1lBQ0YsSUFBSWtILGdCQUFnQjtZQUNwQixJQUFJQyxXQUFXO2dCQUNiQyxTQUFTO2dCQUNUQyxVQUFVO2dCQUNWQyxVQUFVO2dCQUNWQyxVQUFVO1lBQ1o7WUFFQTdHLGVBQWU7WUFFZiw0REFBNEQ7WUFDNUQsSUFBSUgsYUFBYTtnQkFDZixJQUFJO29CQUNGekIsUUFBUTBJLEdBQUcsQ0FBQyw2QkFBNkJqSCxZQUFZa0gsSUFBSSxFQUFFbEgsWUFBWTBGLElBQUk7b0JBQzNFLE1BQU15QixXQUFXLElBQUlDO29CQUNyQkQsU0FBU0UsTUFBTSxDQUFDLFFBQVFySDtvQkFFeEIsTUFBTXNILFdBQVcsTUFBTUMsTUFBTSxvQkFBb0I7d0JBQy9DQyxRQUFRO3dCQUNSQyxNQUFNTjtvQkFDUjtvQkFFQSxJQUFJLENBQUNHLFNBQVNJLEVBQUUsRUFBRTt3QkFDaEIsTUFBTUMsWUFBWSxNQUFNTCxTQUFTTSxJQUFJO3dCQUNyQ3JKLFFBQVFDLEtBQUssQ0FBQyw0QkFBNEJtSjt3QkFDMUMsTUFBTSxJQUFJRSxNQUFNLENBQUMsdUJBQXVCLEVBQUVGLFVBQVU1SSxPQUFPLElBQUl1SSxTQUFTUSxVQUFVLENBQUMsQ0FBQztvQkFDdEY7b0JBRUEsTUFBTXpLLE9BQU8sTUFBTWlLLFNBQVNNLElBQUk7b0JBQ2hDckosUUFBUTBJLEdBQUcsQ0FBQyx3QkFBd0I1SjtvQkFFcEMsSUFBSUEsS0FBSzBLLE9BQU8sSUFBSTFLLEtBQUsySyxHQUFHLEVBQUU7d0JBQzVCcEIsV0FBVzs0QkFDVEMsU0FBU3hKLEtBQUsySyxHQUFHOzRCQUNqQmxCLFVBQVU5RyxZQUFZa0gsSUFBSTs0QkFDMUJILFVBQVUvRyxZQUFZMEYsSUFBSSxJQUFJOzRCQUM5QnNCLFVBQVVoSCxZQUFZakQsSUFBSTt3QkFDNUI7d0JBQ0F3QixRQUFRMEksR0FBRyxDQUFDLHlDQUF5QzVKLEtBQUsySyxHQUFHO29CQUMvRDtnQkFDRixFQUFFLE9BQU94SixPQUFPO29CQUNkRCxRQUFRQyxLQUFLLENBQUMsb0NBQW9DQTtvQkFDbERpQixlQUFlakIsaUJBQWlCcUosUUFBUXJKLE1BQU1PLE9BQU8sR0FBRztvQkFDeERvQixlQUFlO29CQUNmO2dCQUNGO1lBQ0YsT0FFSyxJQUFJTCxXQUFXO2dCQUNsQixJQUFJO29CQUNGLE1BQU1xSCxXQUFXLElBQUlDO29CQUNyQkQsU0FBU0UsTUFBTSxDQUFDLFFBQVF2SDtvQkFFeEIsTUFBTXdILFdBQVcsTUFBTUMsTUFBTSxvQkFBb0I7d0JBQy9DQyxRQUFRO3dCQUNSQyxNQUFNTjtvQkFDUjtvQkFFQSxJQUFJLENBQUNHLFNBQVNJLEVBQUUsRUFBRTt3QkFDaEIsTUFBTSxJQUFJRyxNQUFNO29CQUNsQjtvQkFFQSxNQUFNeEssT0FBTyxNQUFNaUssU0FBU00sSUFBSTtvQkFDaEMsSUFBSXZLLEtBQUswSyxPQUFPLElBQUkxSyxLQUFLMkssR0FBRyxFQUFFO3dCQUM1QnJCLGdCQUFnQnRKLEtBQUsySyxHQUFHO3dCQUN4QnpKLFFBQVEwSSxHQUFHLENBQUMsMkNBQTJDTjtvQkFDekQ7Z0JBQ0YsRUFBRSxPQUFPbkksT0FBTztvQkFDZEQsUUFBUUMsS0FBSyxDQUFDLG9DQUFvQ0E7b0JBQ2xEaUIsZUFBZWpCLGlCQUFpQnFKLFFBQVFySixNQUFNTyxPQUFPLEdBQUc7b0JBQ3hEb0IsZUFBZTtvQkFDZjtnQkFDRjtZQUNGO1lBRUFBLGVBQWU7WUFFZiw0QkFBNEI7WUFDNUIsTUFBTS9FLDBEQUFNQSxDQUFDSiw4REFBVUEsQ0FBQ0QsZ0RBQUVBLEVBQUUsU0FBUzRELFFBQVEsYUFBYTtnQkFDeERzSixNQUFNbEo7Z0JBQ05vRyxVQUFVekcsS0FBSzJGLEdBQUc7Z0JBQ2xCNkQsV0FBVzdNLG1FQUFlQTtnQkFDMUIrSixRQUFRO29CQUFDMUcsS0FBSzJGLEdBQUc7aUJBQUM7Z0JBQ2xCLEdBQUlzQyxnQkFBZ0I7b0JBQUV3QixVQUFVeEI7Z0JBQWMsSUFBSSxDQUFDLENBQUM7Z0JBQ3BELEdBQUlDLFNBQVNDLE9BQU8sR0FBRztvQkFDckJBLFNBQVNELFNBQVNDLE9BQU87b0JBQ3pCQyxVQUFVRixTQUFTRSxRQUFRO29CQUMzQkMsVUFBVUgsU0FBU0csUUFBUTtvQkFDM0JDLFVBQVVKLFNBQVNJLFFBQVE7Z0JBQzdCLElBQUksQ0FBQyxDQUFDO2dCQUNOLEdBQUluRixhQUFhO29CQUFFdUcsU0FBU3ZHLFdBQVdsRyxFQUFFO2dCQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2xEO1lBRUEsdUJBQXVCO1lBQ3ZCLE1BQU1ILDZEQUFTQSxDQUFDRix1REFBR0EsQ0FBQ1AsZ0RBQUVBLEVBQUUsU0FBUzRELFNBQVM7Z0JBQ3hDMEosYUFBYTtvQkFDWEosTUFBTXJCLFNBQVNDLE9BQU8sR0FDbEIsQ0FBQyxHQUFHLEVBQUVELFNBQVNFLFFBQVEsQ0FBQyxDQUFDLEdBQ3hCSCxnQkFBZ0Isd0JBQWM1SDtvQkFDbkNtSixXQUFXN00sbUVBQWVBO29CQUMxQjhKLFVBQVV6RyxLQUFLMkYsR0FBRztnQkFDcEI7Z0JBQ0FpRSxXQUFXak4sbUVBQWVBO1lBQzVCO1lBRUEsY0FBYztZQUNkMkQsV0FBVztZQUNYVyxjQUFjO1lBQ2RJLGFBQWE7WUFDYkUsZUFBZTtZQUNmSixtQkFBbUI7WUFDbkJnQixrQkFBa0I7WUFDbEJpQixjQUFjO1lBRWQsZ0NBQWdDO1lBQ2hDLE1BQU04QyxnQkFBZ0IzSix5REFBS0EsQ0FDekJELDhEQUFVQSxDQUFDRCxnREFBRUEsRUFBRSxTQUFTNEQsUUFBUSxhQUNoQ3pELDJEQUFPQSxDQUFDLGFBQWE7WUFHdkIsTUFBTTRKLFdBQVcsTUFBTXJKLDJEQUFPQSxDQUFDbUo7WUFDL0IsTUFBTUcsY0FBY0QsU0FBU0UsSUFBSSxDQUFDQyxHQUFHLENBQUMsQ0FBQzNKLE1BQVM7b0JBQzlDSyxJQUFJTCxJQUFJSyxFQUFFO29CQUNWLEdBQUdMLElBQUkrQixJQUFJLEVBQUU7Z0JBQ2Y7WUFFQTZCLFlBQVk2RjtZQUVaLHlEQUF5RDtZQUN6RFksV0FBVztnQkFDVCw0REFBNEQ7Z0JBQzVEdEQsZ0JBQWdCO2dCQUNoQkUsZ0JBQWdCO2dCQUNoQnFEO1lBQ0YsR0FBRztRQUNMLEVBQUUsT0FBT3BILE9BQU87WUFDZEQsUUFBUUMsS0FBSyxDQUFDLDBCQUEwQkE7UUFDMUM7SUFDRjtJQUVBLE1BQU0rSix3QkFBd0IsQ0FBQ2pLO1FBQzdCLE1BQU1rSyxPQUFPbEssRUFBRWdGLE1BQU0sQ0FBQ21GLEtBQUssRUFBRSxDQUFDLEVBQUU7UUFDaEMsSUFBSSxDQUFDRCxNQUFNO1FBRVgscUJBQXFCO1FBQ3JCLElBQUksQ0FBQ0EsS0FBSzlDLElBQUksQ0FBQ2dELFVBQVUsQ0FBQyxXQUFXO1lBQ25DQyxNQUFNO1lBQ047UUFDRjtRQUVBLGlDQUFpQztRQUNqQyxJQUFJSCxLQUFLekwsSUFBSSxHQUFHLElBQUksT0FBTyxNQUFNO1lBQy9CNEwsTUFBTTtZQUNOO1FBQ0Y7UUFFQTVJLGFBQWF5STtRQUNidkksZUFBZTtRQUVmLG1CQUFtQjtRQUNuQixNQUFNMkksU0FBUyxJQUFJQztRQUNuQkQsT0FBT0UsTUFBTSxHQUFHLENBQUMzRjtZQUNmeEQsY0FBY3dELE1BQU1HLE1BQU0sRUFBRXlGO1FBQzlCO1FBQ0FILE9BQU9JLGFBQWEsQ0FBQ1I7SUFDdkI7SUFFQSxNQUFNUywwQkFBMEIsQ0FBQzNLO1FBQy9CLE1BQU1rSyxPQUFPbEssRUFBRWdGLE1BQU0sQ0FBQ21GLEtBQUssRUFBRSxDQUFDLEVBQUU7UUFDaEMsSUFBSSxDQUFDRCxNQUFNO1FBRVhqSyxRQUFRMEksR0FBRyxDQUFDLHNCQUFzQnVCLEtBQUt0QixJQUFJLEVBQUVzQixLQUFLOUMsSUFBSSxFQUFFOEMsS0FBS3pMLElBQUk7UUFFakUsa0NBQWtDO1FBQ2xDLElBQUl5TCxLQUFLekwsSUFBSSxHQUFHLEtBQUssT0FBTyxNQUFNO1lBQ2hDNEwsTUFBTTtZQUNOO1FBQ0Y7UUFFQTFJLGVBQWV1STtRQUNmekksYUFBYTtRQUNiSixjQUFjO0lBQ2hCO0lBRUEsTUFBTXVKLG9CQUFvQjtRQUN4QnZKLGNBQWM7UUFDZEksYUFBYTtRQUNiLElBQUlPLGFBQWE4QyxPQUFPLEVBQUU7WUFDeEI5QyxhQUFhOEMsT0FBTyxDQUFDK0YsS0FBSyxHQUFHO1FBQy9CO0lBQ0Y7SUFFQSxNQUFNQyxtQkFBbUI7UUFDdkJuSixlQUFlO1FBQ2YsSUFBSU0sb0JBQW9CNkMsT0FBTyxFQUFFO1lBQy9CN0Msb0JBQW9CNkMsT0FBTyxDQUFDK0YsS0FBSyxHQUFHO1FBQ3RDO0lBQ0Y7SUFFQSxNQUFNRSxtQkFBbUIsQ0FBQ0M7UUFDeEJ0SyxXQUFXdUssQ0FBQUEsT0FBUUEsT0FBT0QsVUFBVUUsS0FBSztJQUMzQztJQUVBLE1BQU1DLGlCQUFpQixDQUFDdkI7UUFDdEIsSUFBSSxDQUFDQSxXQUFXLE9BQU87UUFFdkIsSUFBSTtZQUNGLHVDQUF1QztZQUN2QyxNQUFNd0IsT0FBT3hCLFVBQVV5QixNQUFNLEdBQUd6QixVQUFVeUIsTUFBTSxLQUNuQ3pCLFVBQVUwQixPQUFPLEdBQUcsSUFBSUMsS0FBSzNCLFVBQVUwQixPQUFPLEdBQUcsUUFDakQsSUFBSUM7WUFFakIsTUFBTUMsTUFBTSxJQUFJRDtZQUNoQixNQUFNRSxTQUFTRCxJQUFJRSxPQUFPLEtBQUtOLEtBQUtNLE9BQU87WUFDM0MsTUFBTUMsV0FBV0MsS0FBS0MsS0FBSyxDQUFDSixTQUFTO1lBQ3JDLE1BQU1LLFlBQVlGLEtBQUtDLEtBQUssQ0FBQ0osU0FBUztZQUN0QyxNQUFNTSxXQUFXSCxLQUFLQyxLQUFLLENBQUNKLFNBQVM7WUFFckMsSUFBSUUsV0FBVyxHQUFHLE9BQU87WUFDekIsSUFBSUEsV0FBVyxJQUFJLE9BQU8sQ0FBQyxFQUFFQSxTQUFTLGdCQUFnQixDQUFDO1lBQ3ZELElBQUlHLFlBQVksSUFBSSxPQUFPLENBQUMsRUFBRUEsVUFBVSxjQUFjLENBQUM7WUFDdkQsSUFBSUMsYUFBYSxHQUFHLE9BQU87WUFDM0IsSUFBSUEsV0FBVyxHQUFHLE9BQU8sQ0FBQyxFQUFFQSxTQUFTLGVBQWUsQ0FBQztZQUVyRCxPQUFPM08sa0ZBQU1BLENBQUNnTyxNQUFNLGNBQWM7Z0JBQUVZLFFBQVEzTyx3REFBRUE7WUFBQztRQUNqRCxFQUFFLE9BQU82QyxPQUFPO1lBQ2RELFFBQVFDLEtBQUssQ0FBQywrQkFBK0JBO1lBQzdDLE9BQU87UUFDVDtJQUNGO0lBRUEsZ0NBQWdDO0lBQ2hDLE1BQU0rTCxlQUFlO1FBQ25CLElBQUksQ0FBQzdKLG9CQUFvQjtRQUV6Qiw4Q0FBOEM7UUFDOUMsTUFBTThKLGNBQWM5SixtQkFBbUIrSixPQUFPLENBQUMsV0FBVztRQUMxREMsT0FBT0MsSUFBSSxDQUFDLENBQUMsY0FBYyxFQUFFSCxZQUFZLENBQUMsRUFBRTtJQUM5QztJQUVBLHdDQUF3QztJQUN4QzNQLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSWlFLGdCQUFnQkQsU0FBUztZQUMzQixpREFBaUQ7WUFDakRPLGVBQWU7Z0JBQ2J6QixhQUFha0IsUUFBUXFJLElBQUk7Z0JBQ3pCcEosT0FBTztnQkFDUDBHLGFBQWEzRixRQUFRMkYsV0FBVztZQUNsQztZQUNBL0QsZUFBZTVCLFFBQVFxSSxJQUFJO1lBQzNCdkcsc0JBQXNCOUIsUUFBUTJGLFdBQVc7WUFDekNsRixXQUFXO1FBQ2I7SUFDRixHQUFHO1FBQUNSO1FBQWNEO0tBQVE7SUFFMUIsTUFBTStMLG1CQUFtQjtRQUN2QixJQUFJcEwsYUFBYTtZQUNmQyxlQUFlO1FBQ2pCO0lBQ0Y7SUFFQSxxQ0FBcUM7SUFDckMsTUFBTW9MLHNCQUFzQjtRQUMxQixJQUFJO1lBQ0YsOEJBQThCO1lBQzlCckosZUFBZSxFQUFFO1lBQ2pCRSxhQUFhO1lBQ2JFLHFCQUFxQjtZQUVyQixNQUFNa0osU0FBUyxNQUFNQyxVQUFVQyxZQUFZLENBQUNDLFlBQVksQ0FBQztnQkFBRUMsT0FBTztZQUFLO1lBRXZFLE1BQU1DLFdBQVcsSUFBSUMsY0FBY04sUUFBUTtnQkFDekNPLFVBQVU7WUFDWjtZQUVBLDZCQUE2QjtZQUM3QixJQUFJQyxTQUFpQixFQUFFO1lBRXZCSCxTQUFTSSxlQUFlLEdBQUcsQ0FBQ2pOO2dCQUMxQixJQUFJQSxFQUFFakIsSUFBSSxDQUFDTixJQUFJLEdBQUcsR0FBRztvQkFDbkJ1TyxPQUFPRSxJQUFJLENBQUNsTixFQUFFakIsSUFBSTtnQkFDcEI7WUFDRjtZQUVBOE4sU0FBU00sTUFBTSxHQUFHO2dCQUNoQixJQUFJO29CQUNGLHlDQUF5QztvQkFDekMsSUFBSUgsT0FBT0ksTUFBTSxLQUFLLEdBQUc7d0JBQ3ZCbk4sUUFBUTBJLEdBQUcsQ0FBQzt3QkFDWnhILGVBQWU7d0JBQ2ZtQyxxQkFBcUI7d0JBQ3JCO29CQUNGO29CQUVBQSxxQkFBcUI7b0JBRXJCLDhDQUE4QztvQkFDOUMsTUFBTUgsWUFBWSxJQUFJa0ssS0FBS0wsUUFBUTt3QkFBRTVGLE1BQU07b0JBQWE7b0JBRXhELElBQUlqRSxVQUFVMUUsSUFBSSxHQUFHLEtBQUs7d0JBQ3hCd0IsUUFBUTBJLEdBQUcsQ0FBQzt3QkFDWnhILGVBQWU7d0JBQ2ZtQyxxQkFBcUI7d0JBQ3JCO29CQUNGO29CQUVBRixhQUFhRDtvQkFDYkQsZUFBZThKO29CQUVmLHlCQUF5QjtvQkFDekIsTUFBTW5FLFdBQVcsSUFBSUM7b0JBQ3JCRCxTQUFTRSxNQUFNLENBQUMsUUFBUTVGLFdBQVc7b0JBRW5DbEQsUUFBUTBJLEdBQUcsQ0FBQywrQkFBK0J4RixVQUFVMUUsSUFBSTtvQkFFekQsTUFBTXVLLFdBQVcsTUFBTUMsTUFBTSxvQkFBb0I7d0JBQy9DQyxRQUFRO3dCQUNSQyxNQUFNTjtvQkFDUjtvQkFFQSxJQUFJLENBQUNHLFNBQVNJLEVBQUUsRUFBRTt3QkFDaEIsTUFBTUMsWUFBWSxNQUFNTCxTQUFTTSxJQUFJO3dCQUNyQ3JKLFFBQVFDLEtBQUssQ0FBQywwQkFBMEJtSjt3QkFDeEMsTUFBTSxJQUFJRSxNQUFNRixVQUFVNUksT0FBTyxJQUFJO29CQUN2QztvQkFFQSxNQUFNMUIsT0FBTyxNQUFNaUssU0FBU00sSUFBSTtvQkFDaENySixRQUFRMEksR0FBRyxDQUFDLG9CQUFvQjVKO29CQUVoQyxJQUFJQSxLQUFLMEssT0FBTyxJQUFJMUssS0FBSzJLLEdBQUcsSUFBSXJKLFFBQVE7d0JBQ3RDLG9CQUFvQjt3QkFDcEIsTUFBTXZELDBEQUFNQSxDQUFDSiw4REFBVUEsQ0FBQ0QsZ0RBQUVBLEVBQUUsU0FBUzRELFFBQVEsYUFBYTs0QkFDeERzSixNQUFNOzRCQUNOOUMsVUFBVXpHLEtBQUsyRixHQUFHOzRCQUNsQjZELFdBQVc3TSxtRUFBZUE7NEJBQzFCK0osUUFBUTtnQ0FBQzFHLEtBQUsyRixHQUFHOzZCQUFDOzRCQUNsQndDLFNBQVN4SixLQUFLMkssR0FBRzs0QkFDakJsQixVQUFVOzRCQUNWQyxVQUFVOzRCQUNWQyxVQUFVdkYsVUFBVTFFLElBQUk7NEJBQ3hCbU8sT0FBTzs0QkFDUCxHQUFJckosYUFBYTtnQ0FBRXVHLFNBQVN2RyxXQUFXbEcsRUFBRTs0QkFBQyxJQUFJLENBQUMsQ0FBQzt3QkFDbEQ7d0JBRUEsdUJBQXVCO3dCQUN2QixNQUFNSCw2REFBU0EsQ0FBQ0YsdURBQUdBLENBQUNQLGdEQUFFQSxFQUFFLFNBQVM0RCxTQUFTOzRCQUN4QzBKLGFBQWE7Z0NBQ1hKLE1BQU07Z0NBQ05DLFdBQVc3TSxtRUFBZUE7Z0NBQzFCOEosVUFBVXpHLEtBQUsyRixHQUFHOzRCQUNwQjs0QkFDQWlFLFdBQVdqTixtRUFBZUE7d0JBQzVCO3dCQUVBLGtEQUFrRDt3QkFDbEQsTUFBTXVKLGdCQUFnQjNKLHlEQUFLQSxDQUN6QkQsOERBQVVBLENBQUNELGdEQUFFQSxFQUFFLFNBQVM0RCxRQUFRLGFBQ2hDekQsMkRBQU9BLENBQUMsYUFBYTt3QkFHdkIsTUFBTTRKLFdBQVcsTUFBTXJKLDJEQUFPQSxDQUFDbUo7d0JBQy9CLE1BQU1HLGNBQWNELFNBQVNFLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUMzSixNQUFTO2dDQUM5Q0ssSUFBSUwsSUFBSUssRUFBRTtnQ0FDVixHQUFHTCxJQUFJK0IsSUFBSSxFQUFFOzRCQUNmO3dCQUVBNkIsWUFBWTZGO3dCQUNaYTt3QkFFQTlELGNBQWM7b0JBQ2hCO2dCQUNGLEVBQUUsT0FBT3RELE9BQU87b0JBQ2RELFFBQVFDLEtBQUssQ0FBQyxnQ0FBZ0NBO29CQUM5Q2lCLGVBQWU7Z0JBQ2pCLFNBQVU7b0JBQ1JtQyxxQkFBcUI7b0JBQ3JCSixlQUFlLEVBQUU7b0JBQ2pCOEosU0FBUyxFQUFFO2dCQUNiO1lBQ0Y7WUFFQWhLLGlCQUFpQjZKO1lBRWpCLDRDQUE0QztZQUM1Q0EsU0FBU1MsS0FBSyxDQUFDO1lBQ2Z4SyxlQUFlO1FBQ2pCLEVBQUUsT0FBTzVDLE9BQU87WUFDZEQsUUFBUUMsS0FBSyxDQUFDLCtCQUErQkE7WUFDN0NpQixlQUFlO1FBQ2pCO0lBQ0Y7SUFFQSxnQ0FBZ0M7SUFDaEMsTUFBTW9NLHFCQUFxQjtRQUN6QixJQUFJLENBQUN4SyxlQUFlO1FBRXBCLElBQUk7WUFDRixJQUFJQSxjQUFjeUssS0FBSyxLQUFLLGFBQWE7Z0JBQ3ZDLG1CQUFtQjtnQkFDbkJ6SyxjQUFjMEssSUFBSTtnQkFFbEIsMEJBQTBCO2dCQUMxQixJQUFJMUssY0FBY3lKLE1BQU0sRUFBRTtvQkFDeEJ6SixjQUFjeUosTUFBTSxDQUFDa0IsU0FBUyxHQUFHQyxPQUFPLENBQUNDLENBQUFBLFFBQVNBLE1BQU1ILElBQUk7Z0JBQzlEO1lBQ0Y7WUFFQTNLLGVBQWU7UUFDakIsRUFBRSxPQUFPNUMsT0FBTztZQUNkRCxRQUFRQyxLQUFLLENBQUMsNkJBQTZCQTtZQUMzQ2lCLGVBQWU7WUFDZjJCLGVBQWU7UUFDakI7SUFDRjtJQUVBLDhCQUE4QjtJQUM5QixNQUFNK0sscUJBQXFCLENBQUNDLFdBQW1CQztRQUM3Q3ZLLGNBQWM7WUFDWm5HLElBQUl5UTtZQUNKbkUsTUFBTW9FO1FBQ1I7UUFFQSxnREFBZ0Q7UUFDaERoSyxnQkFBZ0I7UUFDaEJFLGdCQUFnQjtRQUVoQix1QkFBdUI7UUFDdkIsSUFBSXJCLFNBQVNrQyxPQUFPLEVBQUU7WUFDcEJsQyxTQUFTa0MsT0FBTyxDQUFDa0osS0FBSztRQUN4QjtJQUNGO0lBRUEsbUNBQW1DO0lBQ25DLE1BQU1DLGNBQWM7UUFDbEJ6SyxjQUFjO0lBQ2QseURBQXlEO0lBQzNEO0lBRUEsb0NBQW9DO0lBQ3BDLE1BQU0wSyxvQkFBb0IsQ0FBQ0osV0FBbUJDO1FBQzVDckssa0JBQWtCO1lBQ2hCckcsSUFBSXlRO1lBQ0puRSxNQUFNb0U7UUFDUjtRQUVBck4sV0FBV3FOO1FBQ1huSyxhQUFhO1FBRWIsd0NBQXdDO1FBQ3hDRyxnQkFBZ0I7UUFFaEIsdUJBQXVCO1FBQ3ZCLElBQUluQixTQUFTa0MsT0FBTyxFQUFFO1lBQ3BCbEMsU0FBU2tDLE9BQU8sQ0FBQ2tKLEtBQUs7UUFDeEI7SUFDRjtJQUVBLGdDQUFnQztJQUNoQyxNQUFNRyxhQUFhO1FBQ2pCekssa0JBQWtCO1FBQ2xCRSxhQUFhO1FBQ2JsRCxXQUFXO1FBQ1gsb0RBQW9EO1FBQ3BEcUQsZ0JBQWdCO0lBQ2xCO0lBRUEsOEJBQThCO0lBQzlCLE1BQU1vRSxXQUFXO1FBQ2YsSUFBSSxDQUFDOUgsVUFBVSxDQUFDb0Qsa0JBQWtCLENBQUNoRCxRQUFRMkgsSUFBSSxJQUFJO1FBRW5ELElBQUk7WUFDRixNQUFNbEwsNkRBQVNBLENBQUNGLHVEQUFHQSxDQUFDUCxnREFBRUEsRUFBRSxTQUFTNEQsUUFBUSxZQUFZb0QsZUFBZXBHLEVBQUUsR0FBRztnQkFDdkVzTSxNQUFNbEosUUFBUTJILElBQUk7Z0JBQ2xCZ0csVUFBVTtZQUNaO1lBRUEsbUJBQW1CO1lBQ25CMUssa0JBQWtCO1lBQ2xCRSxhQUFhO1lBQ2JsRCxXQUFXO1lBQ1gsNkNBQTZDO1lBQzdDcUQsZ0JBQWdCO1FBRWxCLEVBQUUsT0FBTzdELE9BQU87WUFDZEQsUUFBUUMsS0FBSyxDQUFDLDJCQUEyQkE7WUFDekNtSyxNQUFNO1FBQ1I7SUFDRjtJQUVBLHlGQUF5RjtJQUN6RjlOLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSThELFFBQVE7WUFDVixxQ0FBcUM7WUFDckMsTUFBTWdPLGNBQWM5QyxLQUFLQyxHQUFHO1lBQzVCOEMsYUFBYUMsT0FBTyxDQUFDLENBQUMsU0FBUyxFQUFFbE8sT0FBTyxDQUFDLEVBQUVnTyxZQUFZRyxRQUFRO1lBRS9ELGtEQUFrRDtZQUNsRCxNQUFNM0osUUFBUSxJQUFJNEosWUFBWSxlQUFlO2dCQUMzQ0MsUUFBUTtvQkFBRXJPO2dCQUFPO1lBQ25CO1lBQ0ErTCxPQUFPdUMsYUFBYSxDQUFDOUo7UUFDdkI7SUFDRixHQUFHO1FBQUN4RTtRQUFRTTtLQUFTLEdBQUcsMkNBQTJDO0lBRW5FcEUsZ0RBQVNBLENBQUM7UUFDUiwrQkFBK0I7UUFDL0IsTUFBTXFTLHlCQUF5QjtZQUM3QixJQUFJLENBQUN4TyxLQUFLMkYsR0FBRyxFQUFFO1lBRWYsNkRBQTZEO1lBQzdELE1BQU04SSxhQUFhQyxZQUFZO2dCQUM3QixJQUFJO29CQUNGLDBDQUEwQztvQkFDMUMsTUFBTUMsUUFBUUMsS0FBS0MsS0FBSyxDQUFDWCxhQUFhWSxPQUFPLENBQUMsa0JBQWtCO29CQUVoRSxzRkFBc0Y7b0JBQ3RGLE1BQU1DLGdCQUFnQkMsT0FBT0MsT0FBTyxDQUFDTixPQUNsQ3BJLEdBQUcsQ0FBQyxDQUFDLENBQUN0SixJQUFJMEIsS0FBSyxHQUFNOzRCQUFFMUI7NEJBQUksR0FBRzBCLElBQUk7d0JBQVEsSUFDMUN1USxNQUFNLENBQUNDLENBQUFBLE9BQ05BLEtBQUtDLFdBQVcsS0FBS3BQLEtBQUsyRixHQUFHLElBQzdCd0osS0FBS0UsTUFBTSxLQUFLLGFBQ2hCRixLQUFLbFAsTUFBTSxLQUFLQSxVQUNoQiwyRUFBMkU7d0JBQzNFLElBQUlrTCxPQUFPRyxPQUFPLEtBQUssSUFBSUgsS0FBS2dFLEtBQUtHLFNBQVMsRUFBRWhFLE9BQU8sS0FBSztvQkFHaEUsNENBQTRDO29CQUM1QyxJQUFJeUQsY0FBYy9CLE1BQU0sR0FBRyxHQUFHO3dCQUM1QixNQUFNdUMsYUFBYVIsYUFBYSxDQUFDLEVBQUU7d0JBQ25DMUssa0JBQWtCa0wsV0FBV3RTLEVBQUU7d0JBQy9Ca0gseUJBQXlCO29CQUMzQjtvQkFFQSxtRkFBbUY7b0JBQ25GLElBQUlDLGdCQUFnQjt3QkFDbEIsTUFBTW9MLGNBQWNiLEtBQUssQ0FBQ3ZLLGVBQWU7d0JBQ3pDLElBQUksQ0FBQ29MLGVBQWVBLFlBQVlILE1BQU0sS0FBSyxXQUFXOzRCQUNwRGxMLHlCQUF5Qjs0QkFDekJFLGtCQUFrQjt3QkFDcEI7b0JBQ0Y7Z0JBQ0YsRUFBRSxPQUFPdkUsT0FBTztvQkFDZEQsUUFBUUMsS0FBSyxDQUFDLHNDQUFzQ0E7Z0JBQ3REO1lBQ0YsR0FBRztZQUVILDBCQUEwQjtZQUMxQixPQUFPLElBQU0yUCxjQUFjaEI7UUFDN0I7UUFFQSxNQUFNaUIsbUJBQW1CbEI7UUFFekIsT0FBTztZQUNMLElBQUlrQixrQkFBa0I7Z0JBQ3BCQTtZQUNGO1FBQ0Y7SUFDRixHQUFHO1FBQUMxUCxLQUFLMkYsR0FBRztRQUFFMUY7UUFBUW1FO0tBQWU7SUFFckMsTUFBTXVMLGtCQUFrQjtRQUN0QixJQUFJLENBQUNsUCxlQUFlLENBQUNBLFlBQVl4RCxFQUFFLEVBQUU7WUFDbkNnTixNQUFNO1lBQ047UUFDRjtRQUVBLDZFQUE2RTtRQUM3RSxJQUFJN0gsd0JBQXdCLFVBQVU7WUFDcEMsSUFBSSxDQUFDd04sUUFBUSw4RUFBOEU7Z0JBQ3pGO1lBQ0Y7UUFDRjtRQUVBLDhFQUE4RTtRQUM5RTNJLFdBQVc7WUFDVHBILFFBQVEwSSxHQUFHLENBQUMsNkJBQTZCOUgsWUFBWXhELEVBQUU7WUFDdkRzSCxZQUFZO1lBQ1pSLHNCQUFzQjtRQUN4QixHQUFHO0lBQ0w7SUFFQSxNQUFNOEwsa0JBQWtCO1FBQ3RCLElBQUksQ0FBQ3BQLGVBQWUsQ0FBQ0EsWUFBWXhELEVBQUUsRUFBRTtZQUNuQ2dOLE1BQU07WUFDTjtRQUNGO1FBRUEsNkVBQTZFO1FBQzdFLElBQUk3SCx3QkFBd0IsVUFBVTtZQUNwQyxJQUFJLENBQUN3TixRQUFRLDhFQUE4RTtnQkFDekY7WUFDRjtRQUNGO1FBRUEsOEVBQThFO1FBQzlFM0ksV0FBVztZQUNUcEgsUUFBUTBJLEdBQUcsQ0FBQyw2QkFBNkI5SCxZQUFZeEQsRUFBRTtZQUN2RHNILFlBQVk7WUFDWlIsc0JBQXNCO1FBQ3hCLEdBQUc7SUFDTDtJQUVBLE1BQU0rTCxtQkFBbUIsQ0FBQ0MsUUFBZ0JDO1FBQ3hDblEsUUFBUTBJLEdBQUcsQ0FBQyxpQ0FBaUN3SCxRQUFRQyxjQUFjLFVBQVU7UUFDN0UzTCxrQkFBa0IwTDtRQUNsQjVMLHlCQUF5QjtRQUV6QiwrRUFBK0U7UUFDL0U4QyxXQUFXO1lBQ1QxQyxZQUFZeUwsY0FBYyxVQUFVO1lBQ3BDak0sc0JBQXNCO1FBQ3hCLEdBQUc7SUFDTDtJQUVBLE1BQU1rTSxtQkFBbUI7UUFDdkJwUSxRQUFRMEksR0FBRyxDQUFDO1FBQ1pwRSx5QkFBeUI7UUFFekIscUVBQXFFO1FBQ3JFOEMsV0FBVztZQUNUNUMsa0JBQWtCO1FBQ3BCLEdBQUc7SUFDTDtJQUVBLElBQUksQ0FBQ3BFLFFBQVE7UUFDWCxxQkFDRSw4REFBQ1o7WUFBSUMsV0FBVTs7OEJBQ2IsOERBQUNEO29CQUFJQyxXQUFVOzhCQUNiLDRFQUFDNFE7d0JBQUc1USxXQUFVO2tDQUFjOzs7Ozs7Ozs7Ozs4QkFFOUIsOERBQUNEO29CQUFJQyxXQUFVOzhCQUNiLDRFQUFDNlE7d0JBQUU3USxXQUFVO2tDQUFnQjs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFJckM7SUFFQSxxQkFDRSw4REFBQ0Q7UUFBSUMsV0FBVTs7MEJBRWIsOERBQUNEO2dCQUNDQyxXQUFVO2dCQUNWOFEsT0FBTztvQkFDTEMsY0FBYztvQkFDZEMsVUFBVTtnQkFDWjs7b0JBRUNwUSw2QkFDQyw4REFBQ3FRO3dCQUNDQyxTQUFTdFE7d0JBQ1RaLFdBQVU7a0NBRVYsNEVBQUNoQyx3TEFBV0E7NEJBQUNlLE1BQU07Ozs7Ozs7Ozs7O2tDQUl2Qiw4REFBQ2dCO3dCQUFJQyxXQUFVOzswQ0FDYiw4REFBQ25CO2dDQUFXQyxRQUFRcUMsYUFBYXhELE1BQU07Z0NBQUtvQixNQUFLOzs7Ozs7MENBRWpELDhEQUFDZ0I7Z0NBQUlDLFdBQVU7O2tEQUNiLDhEQUFDNFE7d0NBQUc1USxXQUFVO2tEQUFrQ3dDLGVBQWU7Ozs7OztrREFDL0QsOERBQUNxTzt3Q0FBRTdRLFdBQVU7a0RBQ1Y4Qyx3QkFBd0IseUJBQ3ZCOzs4REFDRSw4REFBQ3FPO29EQUFLblIsV0FBVTs7Ozs7O2dEQUNmOEM7OzJEQUVEQSx3QkFBd0Isc0JBQXNCRSxnQ0FDaEQ7O2dEQUFFO2dEQUFrQnlJLGVBQWV6STs7eUVBRW5DO3NEQUFFOzs7Ozs7Ozs7Ozs7OzBDQU1SLDhEQUFDakQ7Z0NBQUlDLFdBQVU7O2tEQUNiLDhEQUFDaVI7d0NBQ0NDLFNBQVNYO3dDQUNUdlEsV0FBVTt3Q0FDVm9SLE9BQU07a0RBRU4sNEVBQUM3UyxvTEFBT0E7NENBQUNRLE1BQU07Ozs7Ozs7Ozs7O2tEQUVqQiw4REFBQ2tTO3dDQUNDQyxTQUFTYjt3Q0FDVHJRLFdBQVU7d0NBQ1ZvUixPQUFNO2tEQUVOLDRFQUFDOVMsb0xBQU9BOzRDQUFDUyxNQUFNOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQkFPdkIsOERBQUNnQjtnQkFDQ0MsV0FBVTtnQkFDVnFSLFVBQVVwSjtnQkFDVjZJLE9BQU87b0JBQ0xRLGlCQUFpQixDQUFDLHF0Q0FBcXRDLENBQUM7b0JBQ3h1Q0MsaUJBQWlCO2dCQUNuQjs7a0NBRUEsOERBQUN4Ujt3QkFBSUMsV0FBVTtrQ0FDWnFCLHdCQUNDLDhEQUFDdEI7NEJBQUlDLFdBQVU7c0NBQ2IsNEVBQUNEO2dDQUFJQyxXQUFVOzs7Ozs7Ozs7O21DQUVmUSxzQkFDRiw4REFBQ1Q7NEJBQUlDLFdBQVU7OzhDQUNiLDhEQUFDNlE7b0NBQUU3USxXQUFVOzhDQUFnQlE7Ozs7Ozs4Q0FDN0IsOERBQUN5UTtvQ0FDQ0MsU0FBUyxJQUFNeEUsT0FBTzhFLFFBQVEsQ0FBQ0MsTUFBTTtvQ0FDckN6UixXQUFVOzhDQUNYOzs7Ozs7Ozs7OzttQ0FJRGlCLFNBQVN5TSxNQUFNLEtBQUssa0JBQ3RCLDhEQUFDM047NEJBQUlDLFdBQVU7OzhDQUNiLDhEQUFDRDtvQ0FBSUMsV0FBVTs4Q0FDYiw0RUFBQzVCLDRMQUFlQTt3Q0FBQ1csTUFBTTs7Ozs7Ozs7Ozs7OENBRXpCLDhEQUFDMlM7b0NBQUcxUixXQUFVOzhDQUFvQzs7Ozs7OzhDQUNsRCw4REFBQzZRO29DQUFFN1EsV0FBVTs4Q0FBa0M7Ozs7Ozs7Ozs7O2lEQUdqRCw4REFBQ0Q7NEJBQUlDLFdBQVU7O2dDQUNaaUIsU0FBU2dHLEdBQUcsQ0FBQyxDQUFDQyxvQkFDYiw4REFBQzFJLG9EQUFXQTt3Q0FFVnVDLFNBQVNtRzt3Q0FDVHlLLE9BQU96SyxJQUFJQyxRQUFRLEtBQUt6RyxLQUFLMkYsR0FBRzt3Q0FDaEN1TCxnQkFBZ0IsQ0FBQ0MsT0FBZTVILE9BQWlCa0UsbUJBQW1CMEQsT0FBTzVIO3dDQUMzRTZILGVBQWUsQ0FBQ0QsT0FBZTVILE9BQWlCdUUsa0JBQWtCcUQsT0FBTzVIO3dDQUN6RXRKLFFBQVFBO3VDQUxIdUcsSUFBSXZKLEVBQUU7Ozs7OzhDQVFmLDhEQUFDb0M7b0NBQUlnUyxLQUFLM1A7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQUtmbkIsU0FBU3lNLE1BQU0sR0FBRyxNQUFNcEosOEJBQ3ZCLDhEQUFDMk07d0JBQ0NDLFNBQVN0Sjt3QkFDVDVILFdBQVU7d0JBQ1ZvUixPQUFNO2tDQUVOLDRFQUFDWTs0QkFBSUMsT0FBTTs0QkFBNkJDLE9BQU07NEJBQUtDLFFBQU87NEJBQUtDLFNBQVE7NEJBQVlDLE1BQUs7NEJBQU9DLFFBQU87NEJBQWVDLGFBQVk7NEJBQUlDLGVBQWM7NEJBQVFDLGdCQUFlOzRCQUFRelMsV0FBVTs7OENBQzFMLDhEQUFDMFM7b0NBQUtDLElBQUc7b0NBQUtDLElBQUc7b0NBQUlDLElBQUc7b0NBQUtDLElBQUc7Ozs7Ozs4Q0FDaEMsOERBQUNDO29DQUFTQyxRQUFPOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztZQU94QnRSLDRCQUNDLDhEQUFDM0I7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNEO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ0U7NEJBQ0NDLEtBQUt1Qjs0QkFDTHRCLEtBQUk7NEJBQ0pKLFdBQVU7Ozs7OztzQ0FFWiw4REFBQ2lSOzRCQUNDQyxTQUFTaEc7NEJBQ1RsTCxXQUFVO3NDQUVWLDRFQUFDL0IsZ0xBQUdBO2dDQUFDYyxNQUFNO2dDQUFJaUIsV0FBVTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztZQU9oQ2dDLDZCQUNDLDhEQUFDakM7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNEO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ0Q7NEJBQUlDLFdBQVU7c0NBQ2IsNEVBQUM3QixtTEFBTUE7Z0NBQUM2QixXQUFVO2dDQUFlakIsTUFBTTs7Ozs7Ozs7Ozs7c0NBRXpDLDhEQUFDZ0I7NEJBQUlDLFdBQVU7OzhDQUNiLDhEQUFDNlE7b0NBQUU3USxXQUFVOzhDQUFnQ2dDLFlBQVlrSCxJQUFJOzs7Ozs7OENBQzdELDhEQUFDMkg7b0NBQUU3USxXQUFVOzt3Q0FDVGdDLENBQUFBLFlBQVlqRCxJQUFJLEdBQUcsT0FBTyxJQUFHLEVBQUdrVSxPQUFPLENBQUM7d0NBQUc7Ozs7Ozs7Ozs7Ozs7c0NBR2pELDhEQUFDaEM7NEJBQ0NDLFNBQVM5Rjs0QkFDVHBMLFdBQVU7c0NBRVYsNEVBQUMvQixnTEFBR0E7Z0NBQUNjLE1BQU07Z0NBQUlpQixXQUFVOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1lBT2hDNkQsNEJBQ0MsOERBQUM5RDtnQkFBSUMsV0FBVTswQkFDYiw0RUFBQ0Q7b0JBQUlDLFdBQVU7O3NDQUNiLDhEQUFDRDs0QkFBSUMsV0FBVTs7OENBQ2IsOERBQUNEO29DQUFJQyxXQUFVOzhDQUNiLDRFQUFDbVI7d0NBQUtuUixXQUFVO2tEQUNibUIsYUFBYXhCLGVBQWU7Ozs7Ozs7Ozs7OzhDQUdqQyw4REFBQ2tSO29DQUFFN1EsV0FBVTs4Q0FBa0M2RCxXQUFXb0csSUFBSTs7Ozs7Ozs7Ozs7O3NDQUVoRSw4REFBQ2dIOzRCQUNDQyxTQUFTM0M7NEJBQ1R2TyxXQUFVO3NDQUVWLDRFQUFDL0IsZ0xBQUdBO2dDQUFDYyxNQUFNOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1lBT2xCa0YsYUFBYUYsZ0NBQ1osOERBQUNoRTtnQkFBSUMsV0FBVTswQkFDYiw0RUFBQ0Q7b0JBQUlDLFdBQVU7O3NDQUNiLDhEQUFDRDs0QkFBSUMsV0FBVTs7Ozs7O3NDQUNmLDhEQUFDRDs0QkFBSUMsV0FBVTs7OENBQ2IsOERBQUNtUjtvQ0FBS25SLFdBQVU7OENBQXNDOzs7Ozs7OENBQ3RELDhEQUFDNlE7b0NBQUU3USxXQUFVOzhDQUNWZSxXQUFXZ0QsZUFBZWtHLElBQUk7Ozs7Ozs7Ozs7OztzQ0FHbkMsOERBQUNnSDs0QkFDQ0MsU0FBU3pDOzRCQUNUek8sV0FBVTtzQ0FFViw0RUFBQy9CLGdMQUFHQTtnQ0FBQ2MsTUFBTTtnQ0FBSWlCLFdBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7WUFPaEN3Qiw2QkFDQyw4REFBQ3pCO2dCQUFJQyxXQUFVOzBCQUNiLDRFQUFDRDtvQkFBSUMsV0FBVTs7c0NBQ2IsOERBQUM2UTs0QkFBRTdRLFdBQVU7c0NBQStCd0I7Ozs7OztzQ0FDNUMsOERBQUN5UDs0QkFDQ0MsU0FBU3RFOzRCQUNUNU0sV0FBVTtzQ0FFViw0RUFBQy9CLGdMQUFHQTtnQ0FBQ2MsTUFBTTtnQ0FBSWlCLFdBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBT2pDLDhEQUFDRDtnQkFBSUMsV0FBVTs7b0JBRVo0QyxnQ0FDQyw4REFBQzdDO3dCQUNDZ1MsS0FBSzVOO3dCQUNMbkUsV0FBVTtrQ0FFViw0RUFBQ0Q7NEJBQUlDLFdBQVU7OzhDQUNiLDhEQUFDaVI7b0NBQ0NDLFNBQVM7d0NBQ1AsSUFBSTVPLGFBQWE4QyxPQUFPLEVBQUU5QyxhQUFhOEMsT0FBTyxDQUFDOE4sS0FBSzt3Q0FDcERyUSxrQkFBa0I7b0NBQ3BCO29DQUNBN0MsV0FBVTs7c0RBRVYsOERBQUNEOzRDQUFJQyxXQUFVO3NEQUNiLDRFQUFDOUIscUxBQVFBO2dEQUFDOEIsV0FBVTtnREFBZWpCLE1BQU07Ozs7Ozs7Ozs7O3NEQUUzQyw4REFBQ29TOzRDQUFLblIsV0FBVTtzREFBd0I7Ozs7Ozs7Ozs7Ozs4Q0FHMUMsOERBQUNpUjtvQ0FDQ0MsU0FBUzt3Q0FDUCxJQUFJM08sb0JBQW9CNkMsT0FBTyxFQUFFN0Msb0JBQW9CNkMsT0FBTyxDQUFDOE4sS0FBSzt3Q0FDbEVyUSxrQkFBa0I7b0NBQ3BCO29DQUNBN0MsV0FBVTs7c0RBRVYsOERBQUNEOzRDQUFJQyxXQUFVO3NEQUNiLDRFQUFDN0IsbUxBQU1BO2dEQUFDNkIsV0FBVTtnREFBZWpCLE1BQU07Ozs7Ozs7Ozs7O3NEQUV6Qyw4REFBQ29TOzRDQUFLblIsV0FBVTtzREFBd0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQU8vQzRCLGlDQUNDLDhEQUFDN0I7d0JBQ0NnUyxLQUFLMVA7d0JBQ0xyQyxXQUFVO2tDQUVWLDRFQUFDdkIsMERBQVdBOzRCQUNWMFUsY0FBYzlIOzRCQUNkNkcsT0FBTzs0QkFDUEMsUUFBUTs7Ozs7Ozs7Ozs7a0NBS2QsOERBQUNwUzt3QkFBSUMsV0FBVTs7MENBRWIsOERBQUNpUjtnQ0FDQ0MsU0FBUyxJQUFNck8sa0JBQWtCLENBQUNEO2dDQUNsQzVDLFdBQVU7MENBRVYsNEVBQUNuQyx3TEFBV0E7b0NBQUNrQixNQUFNOzs7Ozs7Ozs7OzswQ0FJckIsOERBQUNnQjtnQ0FBSUMsV0FBVTswQ0FDYiw0RUFBQ29UO29DQUNDckIsS0FBSzdPO29DQUNMd0UsTUFBSztvQ0FDTHlELE9BQU9wSztvQ0FDUHNTLFVBQVUsQ0FBQy9TLElBQU1VLFdBQVdWLEVBQUVnRixNQUFNLENBQUM2RixLQUFLO29DQUMxQ21JLFdBQVdoVCxDQUFBQTt3Q0FDVCxJQUFJQSxFQUFFaVQsR0FBRyxLQUFLLFdBQVcsQ0FBQ2pULEVBQUVrVCxRQUFRLEVBQUU7NENBQ3BDbFQsRUFBRWtJLGNBQWM7NENBQ2hCLElBQUl2RSxXQUFXO2dEQUNid0U7NENBQ0YsT0FBTztnREFDTEYsa0JBQWtCakk7NENBQ3BCO3dDQUNGO29DQUNGO29DQUNBbVQsYUFBWTtvQ0FDWnpULFdBQVU7b0NBQ1YwVCxVQUFVeFIsZUFBZXlCOzs7Ozs7Ozs7OzswQ0FLN0IsOERBQUNzTjtnQ0FDQ0MsU0FBUyxJQUFNclAsbUJBQW1CLENBQUNEO2dDQUNuQzVCLFdBQVU7MENBRVYsNEVBQUNqQyxvTEFBT0E7b0NBQUNnQixNQUFNOzs7Ozs7Ozs7Ozs0QkFJaEIsQ0FBQ2dDLFdBQVcsQ0FBQ2UsYUFBYSxDQUFDRSxlQUFlLENBQUNpQywwQkFDMUMsOERBQUNnTjtnQ0FDQzBDLGFBQWE5RztnQ0FDYitHLFdBQVcvRjtnQ0FDWGdHLGNBQWNoSDtnQ0FDZGlILFlBQVlqRztnQ0FDWjdOLFdBQVcsQ0FBQyxpQkFBaUIsRUFDM0JtRCxjQUNFLHdDQUNBUSxvQkFDRSxpREFDQSx3REFDTCxDQUFDOzBDQUVEUiw0QkFDQyw4REFBQ3BEO29DQUFJQyxXQUFVOztzREFDYiw4REFBQ0Q7NENBQUlDLFdBQVU7Ozs7OztzREFDZiw4REFBQ2xDLGtMQUFLQTs0Q0FBQ2lCLE1BQU07Ozs7Ozs7Ozs7OzJDQUViNEUsa0NBQ0YsOERBQUM1RDtvQ0FBSUMsV0FBVTs4Q0FDYiw0RUFBQ0Q7d0NBQUlDLFdBQVU7Ozs7Ozs7Ozs7eURBR2pCLDhEQUFDbEMsa0xBQUtBO29DQUFDaUIsTUFBTTs7Ozs7Ozs7OztxREFJakIsOERBQUNrUztnQ0FDQ0MsU0FBU2pOLFlBQVl3RSxXQUFXRjtnQ0FDaENtTCxVQUFVeFIsZUFBZ0IsQ0FBQ25CLFdBQVcsQ0FBQ2UsYUFBYSxDQUFDRTtnQ0FDckRoQyxXQUFXLENBQUMsaUJBQWlCLEVBQzNCLENBQUVlLFdBQVcsQ0FBQ2UsYUFBYSxDQUFDRSxlQUFnQkUsY0FDMUMsaURBQ0Esd0RBQ0gsQ0FBQzswQ0FFREEsNEJBQ0MsOERBQUNuQztvQ0FBSUMsV0FBVTs4Q0FDYiw0RUFBQ0Q7d0NBQUlDLFdBQVU7Ozs7Ozs7Ozs7MkNBRWZpRSwwQkFDRiw4REFBQzVGLG9MQUFPQTtvQ0FBQ1UsTUFBTTs7Ozs7eURBRWYsOERBQUNuQixtTEFBTUE7b0NBQUNtQixNQUFNOzs7Ozs7Ozs7Ozs7Ozs7OztrQ0FPdEIsOERBQUNxVTt3QkFDQ3JCLEtBQUt6UDt3QkFDTG9GLE1BQUs7d0JBQ0xxTSxRQUFPO3dCQUNQVixVQUFVOUk7d0JBQ1Z2SyxXQUFVOzs7Ozs7a0NBR1osOERBQUNvVDt3QkFDQ3JCLEtBQUt4UDt3QkFDTG1GLE1BQUs7d0JBQ0wyTCxVQUFVcEk7d0JBQ1ZqTCxXQUFVOzs7Ozs7Ozs7Ozs7WUFLYndFLG9DQUNDLDhEQUFDN0YsdURBQWNBO2dCQUNicVYsUUFBUTtnQkFDUkMsU0FBUyxJQUFNeFAsc0JBQXNCO2dCQUNyQy9ELE1BQU1BO2dCQUNOQyxRQUFRQTtnQkFDUm1QLGFBQWEzTyxhQUFheEQsTUFBTTtnQkFDaEMrUyxhQUFhMUwsYUFBYTs7Ozs7O1lBSTdCTixvQ0FDQyw4REFBQy9GLHVEQUFjQTtnQkFDYnFWLFFBQVE7Z0JBQ1JDLFNBQVMsSUFBTXRQLHNCQUFzQjtnQkFDckNqRSxNQUFNQTtnQkFDTkMsUUFBUUE7Z0JBQ1JtUCxhQUFhM08sYUFBYXhELE1BQU07Z0JBQ2hDK1MsYUFBYTFMLGFBQWE7Ozs7OztZQUk3QkosdUNBQ0MsOERBQUNoRywwREFBaUJBO2dCQUNoQm9WLFFBQVE7Z0JBQ1JFLFVBQVUxRDtnQkFDVjJELFVBQVV4RDtnQkFDVmpRLE1BQU1BO2dCQUNOK1AsUUFBUTNMLGtCQUFrQjs7Ozs7Ozs7Ozs7O0FBS3BDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFsbG8vLi9zcmMvY29tcG9uZW50cy9DaGF0V2luZG93LnRzeD85ZTU1Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcclxuXHJcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgVXNlciB9IGZyb20gJ2ZpcmViYXNlL2F1dGgnO1xyXG5pbXBvcnQgeyBkYiB9IGZyb20gJ0AvZmlyZWJhc2UvY29uZmlnJztcclxuaW1wb3J0IHsgXHJcbiAgY29sbGVjdGlvbiwgXHJcbiAgcXVlcnksIFxyXG4gIG9yZGVyQnksIFxyXG4gIG9uU25hcHNob3QsIFxyXG4gIGFkZERvYywgXHJcbiAgc2VydmVyVGltZXN0YW1wLFxyXG4gIGRvYyxcclxuICBnZXREb2MsXHJcbiAgdXBkYXRlRG9jLFxyXG4gIGdldERvY3MsXHJcbiAgd2hlcmVcclxufSBmcm9tICdmaXJlYmFzZS9maXJlc3RvcmUnO1xyXG5pbXBvcnQgeyBmb3JtYXQgfSBmcm9tICdkYXRlLWZucyc7XHJcbmltcG9ydCB7IGlkIH0gZnJvbSAnZGF0ZS1mbnMvbG9jYWxlJztcclxuaW1wb3J0IHsgRmlTZW5kLCBGaVBhcGVyY2xpcCwgRmlNaWMsIEZpU21pbGUsIEZpQXJyb3dMZWZ0LCBGaVVzZXIsIEZpWCwgRmlDYW1lcmEsIEZpRmlsZSwgRmlDb3JuZXJEb3duUmlnaHQsIEZpTWVzc2FnZVNxdWFyZSwgRmlDaGVjaywgRmlWaWRlbywgRmlQaG9uZSB9IGZyb20gJ3JlYWN0LWljb25zL2ZpJztcclxuaW1wb3J0IENoYXRNZXNzYWdlIGZyb20gJy4vQ2hhdE1lc3NhZ2UnO1xyXG5pbXBvcnQgRW1vamlQaWNrZXIgZnJvbSAnZW1vamktcGlja2VyLXJlYWN0JztcclxuaW1wb3J0IHsgRW1vamlDbGlja0RhdGEgfSBmcm9tICdlbW9qaS1waWNrZXItcmVhY3QnO1xyXG5pbXBvcnQgeyBsaXN0ZW5Ub1VzZXJQcm9maWxlIH0gZnJvbSAnQC9saWIvdXNlcnMnO1xyXG5pbXBvcnQgVmlkZW9DYWxsTW9kYWwgZnJvbSAnLi9WaWRlb0NhbGxNb2RhbCc7XHJcbmltcG9ydCBJbmNvbWluZ0NhbGxNb2RhbCBmcm9tICcuL0luY29taW5nQ2FsbE1vZGFsJztcclxuXHJcbi8vIEtvbXBvbmVuIEF2YXRhciB1bnR1ayBtZW5hbXBpbGthbiBmb3RvIHByb2ZpbFxyXG50eXBlIEF2YXRhclByb3BzID0ge1xyXG4gIHVzZXJJZDogc3RyaW5nO1xyXG4gIHNpemU/OiAnc20nIHwgJ21kJyB8ICdsZyc7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBVc2VyQXZhdGFyKHsgdXNlcklkLCBzaXplID0gJ21kJyB9OiBBdmF0YXJQcm9wcykge1xyXG4gIGNvbnN0IFt1c2VyRGF0YSwgc2V0VXNlckRhdGFdID0gdXNlU3RhdGU8eyBcclxuICAgIHBob3RvVVJMPzogc3RyaW5nOyBcclxuICAgIGRpc3BsYXlOYW1lPzogc3RyaW5nO1xyXG4gICAgZW1haWw/OiBzdHJpbmc7XHJcbiAgfSB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFtpbWFnZUVycm9yLCBzZXRJbWFnZUVycm9yXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgLy8gTGlzdGVuZXIgdW50dWsgZGF0YSBwZW5nZ3VuYSByZWFsdGltZVxyXG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSBsaXN0ZW5Ub1VzZXJQcm9maWxlKHVzZXJJZCwgKGRhdGEpID0+IHtcclxuICAgICAgc2V0VXNlckRhdGEoZGF0YSk7XHJcbiAgICAgIHNldEltYWdlRXJyb3IoZmFsc2UpOyAvLyBSZXNldCBlcnJvciBzdGF0ZSBzYWF0IGRhdGEgdXNlciBiZXJ1YmFoXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgcmV0dXJuICgpID0+IHVuc3Vic2NyaWJlKCk7XHJcbiAgfSwgW3VzZXJJZF0pO1xyXG4gIFxyXG4gIC8vIFVrdXJhbiBhdmF0YXIgYmVyZGFzYXJrYW4gcHJvcFxyXG4gIGNvbnN0IHNpemVDbGFzcyA9IHtcclxuICAgIHNtOiAnaC04IHctOCB0ZXh0LXNtJyxcclxuICAgIG1kOiAnaC0xMCB3LTEwIHRleHQtYmFzZScsXHJcbiAgICBsZzogJ2gtMTIgdy0xMiB0ZXh0LWxnJyxcclxuICB9W3NpemVdO1xyXG4gIFxyXG4gIC8vIEFtYmlsIGluaXNpYWwgZGFyaSBuYW1hIHBlbmdndW5hIGF0YXUgZW1haWxcclxuICBjb25zdCBnZXRJbml0aWFscyA9ICgpID0+IHtcclxuICAgIGlmICh1c2VyRGF0YT8uZGlzcGxheU5hbWUpIHtcclxuICAgICAgcmV0dXJuIHVzZXJEYXRhLmRpc3BsYXlOYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgfSBlbHNlIGlmICh1c2VyRGF0YT8uZW1haWwpIHtcclxuICAgICAgcmV0dXJuIHVzZXJEYXRhLmVtYWlsLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICdVJztcclxuICB9O1xyXG4gIFxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT17YCR7c2l6ZUNsYXNzfSByb3VuZGVkLWZ1bGwgYmctcHJpbWFyeSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBvdmVyZmxvdy1oaWRkZW4gdGV4dC13aGl0ZSBmb250LW1lZGl1bWB9PlxyXG4gICAgICB7dXNlckRhdGE/LnBob3RvVVJMICYmICFpbWFnZUVycm9yID8gKFxyXG4gICAgICAgIDxpbWcgXHJcbiAgICAgICAgICBzcmM9e3VzZXJEYXRhLnBob3RvVVJMfSBcclxuICAgICAgICAgIGFsdD17dXNlckRhdGE/LmRpc3BsYXlOYW1lIHx8ICdBdmF0YXInfVxyXG4gICAgICAgICAgY2xhc3NOYW1lPXtgJHtzaXplQ2xhc3N9IG9iamVjdC1jb3ZlcmB9XHJcbiAgICAgICAgICBvbkVycm9yPXsoZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgbG9hZGluZyBhdmF0YXJcIik7XHJcbiAgICAgICAgICAgIHNldEltYWdlRXJyb3IodHJ1ZSk7IC8vIFNldCBzdGF0ZSBlcnJvciwgYWthbiBtZW1pY3UgcmVuZGVyIGRlbmdhbiBpbmlzaWFsXHJcbiAgICAgICAgICB9fVxyXG4gICAgICAgIC8+XHJcbiAgICAgICkgOiAoXHJcbiAgICAgICAgZ2V0SW5pdGlhbHMoKVxyXG4gICAgICApfVxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxudHlwZSBNZXNzYWdlID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgdGV4dDogc3RyaW5nO1xyXG4gIHNlbmRlcklkOiBzdHJpbmc7XHJcbiAgdGltZXN0YW1wOiBhbnk7XHJcbiAgcmVhZEJ5OiBzdHJpbmdbXTtcclxuICBpbWFnZVVybD86IHN0cmluZztcclxuICBmaWxlVXJsPzogc3RyaW5nO1xyXG4gIGZpbGVOYW1lPzogc3RyaW5nO1xyXG4gIGZpbGVUeXBlPzogc3RyaW5nO1xyXG4gIGZpbGVTaXplPzogbnVtYmVyO1xyXG4gIHJlcGx5VG8/OiBzdHJpbmc7XHJcbiAgaXNFZGl0ZWQ/OiBib29sZWFuO1xyXG4gIGF1ZGlvPzogYm9vbGVhbjtcclxufTtcclxuXHJcbnR5cGUgQ2hhdFdpbmRvd1Byb3BzID0ge1xyXG4gIHVzZXI6IFVzZXI7XHJcbiAgY2hhdElkOiBzdHJpbmcgfCBudWxsO1xyXG4gIG9uQmFja0NsaWNrPzogKCkgPT4gdm9pZDtcclxuICBjb250YWN0PzogeyBuYW1lOiBzdHJpbmc7IHBob25lTnVtYmVyOiBzdHJpbmcgfSB8IG51bGw7XHJcbiAgdXNpbmdDb250YWN0PzogYm9vbGVhbjtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENoYXRXaW5kb3coeyBcclxuICB1c2VyLCBcclxuICBjaGF0SWQsIFxyXG4gIG9uQmFja0NsaWNrLFxyXG4gIGNvbnRhY3QgPSBudWxsLFxyXG4gIHVzaW5nQ29udGFjdCA9IGZhbHNlXHJcbn06IENoYXRXaW5kb3dQcm9wcykge1xyXG4gIGNvbnN0IFttZXNzYWdlLCBzZXRNZXNzYWdlXSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBbbWVzc2FnZXMsIHNldE1lc3NhZ2VzXSA9IHVzZVN0YXRlPE1lc3NhZ2VbXT4oW10pO1xyXG4gIGNvbnN0IFtjaGF0UGFydG5lciwgc2V0Q2hhdFBhcnRuZXJdID0gdXNlU3RhdGU8YW55PihudWxsKTtcclxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcclxuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFt1cGxvYWRFcnJvciwgc2V0VXBsb2FkRXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW3ByZXZpZXdVcmwsIHNldFByZXZpZXdVcmxdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW3Nob3dFbW9qaVBpY2tlciwgc2V0U2hvd0Vtb2ppUGlja2VyXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbaW1hZ2VGaWxlLCBzZXRJbWFnZUZpbGVdID0gdXNlU3RhdGU8RmlsZSB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFtnZW5lcmFsRmlsZSwgc2V0R2VuZXJhbEZpbGVdID0gdXNlU3RhdGU8RmlsZSB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFtpc1VwbG9hZGluZywgc2V0SXNVcGxvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IG1lc3NhZ2VzRW5kUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcclxuICBjb25zdCBlbW9qaVBpY2tlclJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XHJcbiAgY29uc3QgZmlsZUlucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpO1xyXG4gIGNvbnN0IGdlbmVyYWxGaWxlSW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7XHJcbiAgY29uc3QgW3BhcnRuZXJOYW1lLCBzZXRQYXJ0bmVyTmFtZV0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbcGFydG5lclBob25lTnVtYmVyLCBzZXRQYXJ0bmVyUGhvbmVOdW1iZXJdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW3Nob3dBdHRhY2hNZW51LCBzZXRTaG93QXR0YWNoTWVudV0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW3BhcnRuZXJPbmxpbmVTdGF0dXMsIHNldFBhcnRuZXJPbmxpbmVTdGF0dXNdID0gdXNlU3RhdGU8c3RyaW5nPignT2ZmbGluZScpO1xyXG4gIGNvbnN0IFtwYXJ0bmVyTGFzdFNlZW4sIHNldFBhcnRuZXJMYXN0U2Vlbl0gPSB1c2VTdGF0ZTxhbnk+KG51bGwpO1xyXG4gIGNvbnN0IGlucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpO1xyXG4gIGNvbnN0IFtpc1JlY29yZGluZywgc2V0SXNSZWNvcmRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFttZWRpYVJlY29yZGVyLCBzZXRNZWRpYVJlY29yZGVyXSA9IHVzZVN0YXRlPE1lZGlhUmVjb3JkZXIgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbYXVkaW9DaHVua3MsIHNldEF1ZGlvQ2h1bmtzXSA9IHVzZVN0YXRlPEJsb2JbXT4oW10pO1xyXG4gIGNvbnN0IFthdWRpb0Jsb2IsIHNldEF1ZGlvQmxvYl0gPSB1c2VTdGF0ZTxCbG9iIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW2lzUHJvY2Vzc2luZ0F1ZGlvLCBzZXRJc1Byb2Nlc3NpbmdBdWRpb10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW3JlcGx5aW5nVG8sIHNldFJlcGx5aW5nVG9dID0gdXNlU3RhdGU8e2lkOiBzdHJpbmcsIHRleHQ6IHN0cmluZ30gfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbZWRpdGluZ01lc3NhZ2UsIHNldEVkaXRpbmdNZXNzYWdlXSA9IHVzZVN0YXRlPHtpZDogc3RyaW5nLCB0ZXh0OiBzdHJpbmd9IHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW2lzRWRpdGluZywgc2V0SXNFZGl0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBhdHRhY2hNZW51UmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcclxuICBjb25zdCBbc2hvdWxkU2Nyb2xsLCBzZXRTaG91bGRTY3JvbGxdID0gdXNlU3RhdGUodHJ1ZSk7XHJcbiAgY29uc3QgW3VzZXJTY3JvbGxlZCwgc2V0VXNlclNjcm9sbGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbc2hvd1ZpZGVvQ2FsbE1vZGFsLCBzZXRTaG93VmlkZW9DYWxsTW9kYWxdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xyXG4gIGNvbnN0IFtzaG93QXVkaW9DYWxsTW9kYWwsIHNldFNob3dBdWRpb0NhbGxNb2RhbF0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XHJcbiAgY29uc3QgW3Nob3dJbmNvbWluZ0NhbGxNb2RhbCwgc2V0U2hvd0luY29taW5nQ2FsbE1vZGFsXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcclxuICBjb25zdCBbaW5jb21pbmdDYWxsSWQsIHNldEluY29taW5nQ2FsbElkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFtjYWxsVHlwZSwgc2V0Q2FsbFR5cGVdID0gdXNlU3RhdGU8J3ZpZGVvJyB8ICdhdWRpbyc+KCd2aWRlbycpO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgLy8gVHV0dXAgZW1vamkgcGlja2VyIGtldGlrYSBrbGlrIGRpIGx1YXIga29tcG9uZW5cclxuICAgIGNvbnN0IGhhbmRsZUNsaWNrT3V0c2lkZSA9IChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICBpZiAoZW1vamlQaWNrZXJSZWYuY3VycmVudCAmJiAhZW1vamlQaWNrZXJSZWYuY3VycmVudC5jb250YWlucyhldmVudC50YXJnZXQgYXMgTm9kZSkpIHtcclxuICAgICAgICBzZXRTaG93RW1vamlQaWNrZXIoZmFsc2UpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBUdXR1cCBtZW51IGxhbXBpcmFuIGZpbGUga2V0aWthIGtsaWsgZGkgbHVhciBrb21wb25lblxyXG4gICAgICBpZiAoYXR0YWNoTWVudVJlZi5jdXJyZW50ICYmICFhdHRhY2hNZW51UmVmLmN1cnJlbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0IGFzIE5vZGUpKSB7XHJcbiAgICAgICAgc2V0U2hvd0F0dGFjaE1lbnUoZmFsc2UpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVDbGlja091dHNpZGUpO1xyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcclxuICAgIH07XHJcbiAgfSwgW10pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgc2V0TWVzc2FnZXMoW10pO1xyXG4gICAgc2V0Q2hhdFBhcnRuZXIobnVsbCk7XHJcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xyXG4gICAgc2V0RXJyb3IobnVsbCk7XHJcblxyXG4gICAgaWYgKCFjaGF0SWQpIHtcclxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBGdW5nc2kgaGVscGVyIHVudHVrIHVwZGF0ZSBzdGF0dXMgcGFydG5lclxyXG4gICAgY29uc3QgdXBkYXRlUGFydG5lclN0YXR1cyA9IChwYXJ0bmVyRGF0YTogYW55KSA9PiB7XHJcbiAgICAgIGlmIChwYXJ0bmVyRGF0YS5pc09ubGluZSkge1xyXG4gICAgICAgIHNldFBhcnRuZXJPbmxpbmVTdGF0dXMoJ09ubGluZScpO1xyXG4gICAgICB9IGVsc2UgaWYgKHBhcnRuZXJEYXRhLmxhc3RTZWVuKSB7XHJcbiAgICAgICAgc2V0UGFydG5lck9ubGluZVN0YXR1cygnVGVyYWtoaXIgZGlsaWhhdCcpO1xyXG4gICAgICAgIHNldFBhcnRuZXJMYXN0U2VlbihwYXJ0bmVyRGF0YS5sYXN0U2Vlbik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2V0UGFydG5lck9ubGluZVN0YXR1cygnT2ZmbGluZScpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIEFtYmlsIGRldGFpbCBjaGF0IHVudHVrIG1lbmRhcGF0a2FuIGluZm9ybWFzaSBwYXJ0bmVyXHJcbiAgICBjb25zdCBmZXRjaENoYXRQYXJ0bmVyID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGNoYXREb2MgPSBhd2FpdCBnZXREb2MoZG9jKGRiLCAnY2hhdHMnLCBjaGF0SWQpKTtcclxuICAgICAgICBpZiAoY2hhdERvYy5leGlzdHMoKSkge1xyXG4gICAgICAgICAgY29uc3QgY2hhdERhdGEgPSBjaGF0RG9jLmRhdGEoKTtcclxuICAgICAgICAgIGNvbnN0IHBhcnRuZXJJZCA9IGNoYXREYXRhLnBhcnRpY2lwYW50cy5maW5kKChpZDogc3RyaW5nKSA9PiBpZCAhPT0gdXNlci51aWQpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAocGFydG5lcklkKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgcGFydG5lclJlZiA9IGRvYyhkYiwgJ3VzZXJzJywgcGFydG5lcklkKTtcclxuICAgICAgICAgICAgICBjb25zdCBwYXJ0bmVyRG9jID0gYXdhaXQgZ2V0RG9jKHBhcnRuZXJSZWYpO1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIGlmIChwYXJ0bmVyRG9jLmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJ0bmVyRGF0YSA9IHBhcnRuZXJEb2MuZGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgc2V0Q2hhdFBhcnRuZXIoey4uLnBhcnRuZXJEYXRhLCBpZDogcGFydG5lcklkfSk7XHJcbiAgICAgICAgICAgICAgICBzZXRQYXJ0bmVyTmFtZShwYXJ0bmVyRGF0YS5kaXNwbGF5TmFtZSB8fCBwYXJ0bmVyRGF0YS5lbWFpbCB8fCAnUGVuZ2d1bmEnKTtcclxuICAgICAgICAgICAgICAgIHNldFBhcnRuZXJQaG9uZU51bWJlcihwYXJ0bmVyRGF0YS5waG9uZU51bWJlciB8fCBudWxsKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gU2V0IHN0YXR1cyBhd2FsXHJcbiAgICAgICAgICAgICAgICB1cGRhdGVQYXJ0bmVyU3RhdHVzKHBhcnRuZXJEYXRhKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gR3VuYWthbiBsaXN0ZW5lciB1bnR1ayBkYXRhIHBlbmdndW5hIHJlYWx0aW1lXHJcbiAgICAgICAgICAgICAgICBjb25zdCB1bnN1YnNjcmliZVByb2ZpbGUgPSBsaXN0ZW5Ub1VzZXJQcm9maWxlKHBhcnRuZXJJZCwgKHVzZXJEYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIHNldENoYXRQYXJ0bmVyKHsuLi51c2VyRGF0YSwgaWQ6IHBhcnRuZXJJZH0pO1xyXG4gICAgICAgICAgICAgICAgICBzZXRQYXJ0bmVyTmFtZSh1c2VyRGF0YS5kaXNwbGF5TmFtZSB8fCB1c2VyRGF0YS5lbWFpbCB8fCAnUGVuZ2d1bmEnKTtcclxuICAgICAgICAgICAgICAgICAgc2V0UGFydG5lclBob25lTnVtYmVyKHVzZXJEYXRhLnBob25lTnVtYmVyIHx8IG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICB1cGRhdGVQYXJ0bmVyU3RhdHVzKHVzZXJEYXRhKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gY2xlYW51cCBmdW5jdGlvblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuc3Vic2NyaWJlUHJvZmlsZTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2V0Q2hhdFBhcnRuZXIoeyBpZDogcGFydG5lcklkLCBkaXNwbGF5TmFtZTogJ1BlbmdndW5hJywgZW1haWw6ICcnIH0pO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBjYXRjaCAocGFydG5lckVycm9yKSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcGFydG5lciBpbmZvOicsIHBhcnRuZXJFcnJvcik7XHJcbiAgICAgICAgICAgICAgc2V0Q2hhdFBhcnRuZXIoeyBpZDogcGFydG5lcklkLCBkaXNwbGF5TmFtZTogJ1BlbmdndW5hJywgZW1haWw6ICcnIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGNoYXQgcGFydG5lcjonLCBlcnJvcik7XHJcbiAgICAgICAgc2V0RXJyb3IoJ0dhZ2FsIG1lbXVhdCBpbmZvcm1hc2kgY2hhdCcpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBEZWZhdWx0IHJldHVybiBqaWthIHRpZGFrIGFkYSBsaXN0ZW5lclxyXG4gICAgICByZXR1cm4gKCkgPT4ge307XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIE1lbmphbGFua2FuIGZldGNoIGNoYXQgcGFydG5lciBkYW4gbWVuZGFwYXRrYW4gdW5zdWJzY3JpYmUgZnVuY3Rpb25cclxuICAgIGNvbnN0IHVuc3Vic2NyaWJlUGFydG5lciA9IGZldGNoQ2hhdFBhcnRuZXIoKTtcclxuXHJcbiAgICAvLyBGZXRjaCBwZXNhbiBtZW5nZ3VuYWthbiBvblNuYXBzaG90IHVudHVrIHJlYWx0aW1lIHVwZGF0ZXNcclxuICAgIGNvbnN0IG1lc3NhZ2VzUXVlcnkgPSBxdWVyeShcclxuICAgICAgY29sbGVjdGlvbihkYiwgJ2NoYXRzJywgY2hhdElkLCAnbWVzc2FnZXMnKSxcclxuICAgICAgb3JkZXJCeSgndGltZXN0YW1wJywgJ2FzYycpXHJcbiAgICApO1xyXG4gICAgXHJcbiAgICBjb25zdCB1bnN1YnNjcmliZU1lc3NhZ2VzID0gb25TbmFwc2hvdChcclxuICAgICAgbWVzc2FnZXNRdWVyeSxcclxuICAgICAgYXN5bmMgKHNuYXBzaG90KSA9PiB7XHJcbiAgICAgICAgY29uc3QgbmV3TWVzc2FnZXMgPSBzbmFwc2hvdC5kb2NzLm1hcCgoZG9jKSA9PiAoe1xyXG4gICAgICAgICAgaWQ6IGRvYy5pZCxcclxuICAgICAgICAgIC4uLmRvYy5kYXRhKCksXHJcbiAgICAgICAgfSkpIGFzIE1lc3NhZ2VbXTtcclxuICAgICAgICBcclxuICAgICAgICBzZXRNZXNzYWdlcyhuZXdNZXNzYWdlcyk7XHJcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gVGFuZGFpIHBlc2FuIHNlYmFnYWkgZGliYWNhXHJcbiAgICAgICAgZm9yIChjb25zdCBtc2cgb2YgbmV3TWVzc2FnZXMpIHtcclxuICAgICAgICAgIGlmIChtc2cuc2VuZGVySWQgIT09IHVzZXIudWlkICYmICFtc2cucmVhZEJ5Py5pbmNsdWRlcyh1c2VyLnVpZCkpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVEb2MoZG9jKGRiLCAnY2hhdHMnLCBjaGF0SWQsICdtZXNzYWdlcycsIG1zZy5pZCksIHtcclxuICAgICAgICAgICAgICAgIHJlYWRCeTogWy4uLihtc2cucmVhZEJ5IHx8IFtdKSwgdXNlci51aWRdXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKHVwZGF0ZUVycm9yKSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbWFya2luZyBtZXNzYWdlIGFzIHJlYWQ6JywgdXBkYXRlRXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENlayBhcGFrYWggcGVzYW4gYmFydSBkYXRhbmcgZGFyaSBwZW5nZ3VuYSBsYWluXHJcbiAgICAgICAgY29uc3QgbGFzdE1zZyA9IHNuYXBzaG90LmRvY0NoYW5nZXMoKS5maW5kKGNoYW5nZSA9PiBcclxuICAgICAgICAgIGNoYW5nZS50eXBlID09PSAnYWRkZWQnICYmIGNoYW5nZS5kb2MuZGF0YSgpLnNlbmRlcklkICE9PSB1c2VyLnVpZFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gSGFueWEgc2Nyb2xsIG90b21hdGlzIGppa2EgYWRhIHBlc2FuIGJhcnUgZGFyaSBwZW5nZ3VuYSBsYWluXHJcbiAgICAgICAgLy8gYXRhdSBqaWthIHBlbmdndW5hIGJlbHVtIG1lbGFrdWthbiBzY3JvbGwgbWFudWFsXHJcbiAgICAgICAgaWYgKChsYXN0TXNnICYmICF1c2VyU2Nyb2xsZWQpIHx8ICF1c2VyU2Nyb2xsZWQpIHtcclxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBzY3JvbGxUb0JvdHRvbSgpO1xyXG4gICAgICAgICAgfSwgMTAwKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIChlcnJvcikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIG1lc3NhZ2VzOicsIGVycm9yKTtcclxuICAgICAgICBzZXRFcnJvcignR2FnYWwgbWVtdWF0IHBlc2FuJyk7XHJcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgICBcclxuICAgIC8vIENsZWFuIHVwIGxpc3RlbmVyc1xyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgdW5zdWJzY3JpYmVNZXNzYWdlcygpO1xyXG4gICAgICB1bnN1YnNjcmliZVBhcnRuZXIudGhlbih1bnN1YiA9PiB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB1bnN1YiA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgdW5zdWIoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuICB9LCBbY2hhdElkLCB1c2VyLnVpZF0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKHNob3VsZFNjcm9sbCAmJiAhdXNlclNjcm9sbGVkKSB7XHJcbiAgICAgIHNjcm9sbFRvQm90dG9tKCk7XHJcbiAgICB9XHJcbiAgfSwgW21lc3NhZ2VzLCBzaG91bGRTY3JvbGwsIHVzZXJTY3JvbGxlZF0pO1xyXG5cclxuICBjb25zdCBzY3JvbGxUb0JvdHRvbSA9ICgpID0+IHtcclxuICAgIGlmIChtZXNzYWdlc0VuZFJlZi5jdXJyZW50KSB7XHJcbiAgICAgIG1lc3NhZ2VzRW5kUmVmLmN1cnJlbnQuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gRGV0ZWtzaSBrZXRpa2EgdXNlciBzY3JvbGwgbWFudWFsXHJcbiAgY29uc3QgaGFuZGxlU2Nyb2xsID0gKGU6IFJlYWN0LlVJRXZlbnQ8SFRNTERpdkVsZW1lbnQ+KSA9PiB7XHJcbiAgICBjb25zdCB7IHNjcm9sbFRvcCwgc2Nyb2xsSGVpZ2h0LCBjbGllbnRIZWlnaHQgfSA9IGUuY3VycmVudFRhcmdldDtcclxuICAgIGNvbnN0IGlzU2Nyb2xsZWRUb0JvdHRvbSA9IHNjcm9sbEhlaWdodCAtIHNjcm9sbFRvcCAtIGNsaWVudEhlaWdodCA8IDIwO1xyXG4gICAgXHJcbiAgICAvLyBKaWthIHVzZXIgc2Nyb2xsIHVwXHJcbiAgICBpZiAoIWlzU2Nyb2xsZWRUb0JvdHRvbSkge1xyXG4gICAgICBzZXRVc2VyU2Nyb2xsZWQodHJ1ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzZXRVc2VyU2Nyb2xsZWQoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVNlbmRNZXNzYWdlID0gYXN5bmMgKGU6IFJlYWN0LkZvcm1FdmVudCkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgXHJcbiAgICAvLyBSZXNldCB1c2VyU2Nyb2xsZWQgc2FhdCBtZW5naXJpbSBwZXNhbiBiYXJ1XHJcbiAgICBzZXRVc2VyU2Nyb2xsZWQoZmFsc2UpO1xyXG4gICAgc2V0U2hvdWxkU2Nyb2xsKHRydWUpO1xyXG4gICAgXHJcbiAgICAvLyBKaWthIGRhbGFtIG1vZGUgZWRpdCwgcGFuZ2dpbCBzYXZlRWRpdFxyXG4gICAgaWYgKGlzRWRpdGluZyAmJiBlZGl0aW5nTWVzc2FnZSkge1xyXG4gICAgICBhd2FpdCBzYXZlRWRpdCgpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICgoIW1lc3NhZ2UudHJpbSgpICYmICFpbWFnZUZpbGUgJiYgIWdlbmVyYWxGaWxlKSB8fCAhY2hhdElkKSByZXR1cm47XHJcblxyXG4gICAgc2V0VXBsb2FkRXJyb3IobnVsbCk7IC8vIFJlc2V0IGVycm9yIHNhYXQgbWVtdWxhaSB1cGxvYWRcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IGZpbmFsSW1hZ2VVcmwgPSAnJztcclxuICAgICAgbGV0IGZpbGVJbmZvID0ge1xyXG4gICAgICAgIGZpbGVVcmw6ICcnLFxyXG4gICAgICAgIGZpbGVOYW1lOiAnJyxcclxuICAgICAgICBmaWxlVHlwZTogJycsXHJcbiAgICAgICAgZmlsZVNpemU6IDBcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIHNldElzVXBsb2FkaW5nKHRydWUpO1xyXG4gICAgICBcclxuICAgICAgLy8gSmlrYSBhZGEgZmlsZSB1bXVtLCB1cGxvYWQga2UgQ2xvdWRpbmFyeSBtZWxhbHVpIEFQSSBraXRhXHJcbiAgICAgIGlmIChnZW5lcmFsRmlsZSkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnTWVtdWxhaSB1cGxvYWQgZmlsZSB1bXVtOicsIGdlbmVyYWxGaWxlLm5hbWUsIGdlbmVyYWxGaWxlLnR5cGUpO1xyXG4gICAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGdlbmVyYWxGaWxlKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS91cGxvYWQtZmlsZScsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGJvZHk6IGZvcm1EYXRhXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlc3BvbnNlIGRhcmkgQVBJOicsIGVycm9yRGF0YSk7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgR2FnYWwgbWVuZ3VwbG9hZCBmaWxlOiAke2Vycm9yRGF0YS5tZXNzYWdlIHx8IHJlc3BvbnNlLnN0YXR1c1RleHR9YCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnUmVzcG9ucyB1cGxvYWQgZmlsZTonLCBkYXRhKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaWYgKGRhdGEuc3VjY2VzcyAmJiBkYXRhLnVybCkge1xyXG4gICAgICAgICAgICBmaWxlSW5mbyA9IHtcclxuICAgICAgICAgICAgICBmaWxlVXJsOiBkYXRhLnVybCxcclxuICAgICAgICAgICAgICBmaWxlTmFtZTogZ2VuZXJhbEZpbGUubmFtZSxcclxuICAgICAgICAgICAgICBmaWxlVHlwZTogZ2VuZXJhbEZpbGUudHlwZSB8fCAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJyxcclxuICAgICAgICAgICAgICBmaWxlU2l6ZTogZ2VuZXJhbEZpbGUuc2l6ZVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRmlsZSBiZXJoYXNpbCBkaXVwbG9hZCBrZSBDbG91ZGluYXJ5OicsIGRhdGEudXJsKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBsb2FkIGZpbGUga2UgQ2xvdWRpbmFyeTonLCBlcnJvcik7XHJcbiAgICAgICAgICBzZXRVcGxvYWRFcnJvcihlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdHYWdhbCBtZW5ndXBsb2FkIGZpbGUuIFNpbGFrYW4gY29iYSBsYWdpLicpO1xyXG4gICAgICAgICAgc2V0SXNVcGxvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICAvLyBKaWthIGFkYSBmaWxlIGdhbWJhciwgdXBsb2FkIGZpbGUga2UgQ2xvdWRpbmFyeSBtZWxhbHVpIEFQSSBraXRhXHJcbiAgICAgIGVsc2UgaWYgKGltYWdlRmlsZSkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgaW1hZ2VGaWxlKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS91cGxvYWQtZmlsZScsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGJvZHk6IGZvcm1EYXRhXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0dhZ2FsIG1lbmd1cGxvYWQgZ2FtYmFyJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzICYmIGRhdGEudXJsKSB7XHJcbiAgICAgICAgICAgIGZpbmFsSW1hZ2VVcmwgPSBkYXRhLnVybDtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0dhbWJhciBiZXJoYXNpbCBkaXVwbG9hZCBrZSBDbG91ZGluYXJ5OicsIGZpbmFsSW1hZ2VVcmwpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGxvYWQgZmlsZSBrZSBDbG91ZGluYXJ5OicsIGVycm9yKTtcclxuICAgICAgICAgIHNldFVwbG9hZEVycm9yKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0dhZ2FsIG1lbmd1cGxvYWQgZ2FtYmFyLiBTaWxha2FuIGNvYmEgbGFnaS4nKTtcclxuICAgICAgICAgIHNldElzVXBsb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHNldElzVXBsb2FkaW5nKGZhbHNlKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFNpbXBhbiBwZXNhbiBrZSBGaXJlc3RvcmVcclxuICAgICAgYXdhaXQgYWRkRG9jKGNvbGxlY3Rpb24oZGIsICdjaGF0cycsIGNoYXRJZCwgJ21lc3NhZ2VzJyksIHtcclxuICAgICAgICB0ZXh0OiBtZXNzYWdlLFxyXG4gICAgICAgIHNlbmRlcklkOiB1c2VyLnVpZCxcclxuICAgICAgICB0aW1lc3RhbXA6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4gICAgICAgIHJlYWRCeTogW3VzZXIudWlkXSxcclxuICAgICAgICAuLi4oZmluYWxJbWFnZVVybCA/IHsgaW1hZ2VVcmw6IGZpbmFsSW1hZ2VVcmwgfSA6IHt9KSxcclxuICAgICAgICAuLi4oZmlsZUluZm8uZmlsZVVybCA/IHsgXHJcbiAgICAgICAgICBmaWxlVXJsOiBmaWxlSW5mby5maWxlVXJsLFxyXG4gICAgICAgICAgZmlsZU5hbWU6IGZpbGVJbmZvLmZpbGVOYW1lLFxyXG4gICAgICAgICAgZmlsZVR5cGU6IGZpbGVJbmZvLmZpbGVUeXBlLFxyXG4gICAgICAgICAgZmlsZVNpemU6IGZpbGVJbmZvLmZpbGVTaXplXHJcbiAgICAgICAgfSA6IHt9KSxcclxuICAgICAgICAuLi4ocmVwbHlpbmdUbyA/IHsgcmVwbHlUbzogcmVwbHlpbmdUby5pZCB9IDoge30pXHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgLy8gVXBkYXRlIHRlcmFraGlyIGNoYXRcclxuICAgICAgYXdhaXQgdXBkYXRlRG9jKGRvYyhkYiwgJ2NoYXRzJywgY2hhdElkKSwge1xyXG4gICAgICAgIGxhc3RNZXNzYWdlOiB7XHJcbiAgICAgICAgICB0ZXh0OiBmaWxlSW5mby5maWxlVXJsIFxyXG4gICAgICAgICAgICA/IGDwn5OOICR7ZmlsZUluZm8uZmlsZU5hbWV9YCBcclxuICAgICAgICAgICAgOiAoZmluYWxJbWFnZVVybCA/ICfwn5O3IEdhbWJhcicgOiBtZXNzYWdlKSxcclxuICAgICAgICAgIHRpbWVzdGFtcDogc2VydmVyVGltZXN0YW1wKCksXHJcbiAgICAgICAgICBzZW5kZXJJZDogdXNlci51aWRcclxuICAgICAgICB9LFxyXG4gICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKClcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBSZXNldCBzdGF0ZVxyXG4gICAgICBzZXRNZXNzYWdlKCcnKTtcclxuICAgICAgc2V0UHJldmlld1VybChudWxsKTtcclxuICAgICAgc2V0SW1hZ2VGaWxlKG51bGwpO1xyXG4gICAgICBzZXRHZW5lcmFsRmlsZShudWxsKTtcclxuICAgICAgc2V0U2hvd0Vtb2ppUGlja2VyKGZhbHNlKTtcclxuICAgICAgc2V0U2hvd0F0dGFjaE1lbnUoZmFsc2UpO1xyXG4gICAgICBzZXRSZXBseWluZ1RvKG51bGwpO1xyXG4gICAgICBcclxuICAgICAgLy8gUmVsb2FkIG1lc3NhZ2VzIGFmdGVyIHNlbmRpbmdcclxuICAgICAgY29uc3QgbWVzc2FnZXNRdWVyeSA9IHF1ZXJ5KFxyXG4gICAgICAgIGNvbGxlY3Rpb24oZGIsICdjaGF0cycsIGNoYXRJZCwgJ21lc3NhZ2VzJyksXHJcbiAgICAgICAgb3JkZXJCeSgndGltZXN0YW1wJywgJ2FzYycpXHJcbiAgICAgICk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvY3MobWVzc2FnZXNRdWVyeSk7XHJcbiAgICAgIGNvbnN0IG5ld01lc3NhZ2VzID0gc25hcHNob3QuZG9jcy5tYXAoKGRvYykgPT4gKHtcclxuICAgICAgICBpZDogZG9jLmlkLFxyXG4gICAgICAgIC4uLmRvYy5kYXRhKCksXHJcbiAgICAgIH0pKSBhcyBNZXNzYWdlW107XHJcbiAgICAgIFxyXG4gICAgICBzZXRNZXNzYWdlcyhuZXdNZXNzYWdlcyk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBTY3JvbGwga2UgYmF3YWggaGFueWEgdW50dWsgcGVzYW4geWFuZyBkaWtpcmltIHNlbmRpcmlcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgLy8gSXppbmthbiBzY3JvbGxpbmcgb3RvbWF0aXMgc2V0ZWxhaCBtZW5naXJpbSBwZXNhbiBzZW5kaXJpXHJcbiAgICAgICAgc2V0U2hvdWxkU2Nyb2xsKHRydWUpO1xyXG4gICAgICAgIHNldFVzZXJTY3JvbGxlZChmYWxzZSk7XHJcbiAgICAgICAgc2Nyb2xsVG9Cb3R0b20oKTtcclxuICAgICAgfSwgMTAwKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgbWVzc2FnZTonLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlSW1hZ2VGaWxlQ2hhbmdlID0gKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XHJcbiAgICBjb25zdCBmaWxlID0gZS50YXJnZXQuZmlsZXM/LlswXTtcclxuICAgIGlmICghZmlsZSkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICAvLyBWYWxpZGFzaSB0aXBlIGZpbGVcclxuICAgIGlmICghZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ2ltYWdlLycpKSB7XHJcbiAgICAgIGFsZXJ0KCdIYW55YSBmaWxlIGdhbWJhciB5YW5nIGRpcGVyYm9sZWhrYW4nKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBWYWxpZGFzaSB1a3VyYW4gZmlsZSAobWF4IDVNQilcclxuICAgIGlmIChmaWxlLnNpemUgPiA1ICogMTAyNCAqIDEwMjQpIHtcclxuICAgICAgYWxlcnQoJ1VrdXJhbiBnYW1iYXIgbWFrc2ltYWwgNU1CJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgc2V0SW1hZ2VGaWxlKGZpbGUpO1xyXG4gICAgc2V0R2VuZXJhbEZpbGUobnVsbCk7XHJcbiAgICBcclxuICAgIC8vIEJ1YXQgcHJldmlldyBVUkxcclxuICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICByZWFkZXIub25sb2FkID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgIHNldFByZXZpZXdVcmwoZXZlbnQudGFyZ2V0Py5yZXN1bHQgYXMgc3RyaW5nKTtcclxuICAgIH07XHJcbiAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVHZW5lcmFsRmlsZUNoYW5nZSA9IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xyXG4gICAgY29uc3QgZmlsZSA9IGUudGFyZ2V0LmZpbGVzPy5bMF07XHJcbiAgICBpZiAoIWZpbGUpIHJldHVybjtcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ0ZpbGUgeWFuZyBkaXBpbGloOicsIGZpbGUubmFtZSwgZmlsZS50eXBlLCBmaWxlLnNpemUpO1xyXG4gICAgXHJcbiAgICAvLyBWYWxpZGFzaSB1a3VyYW4gZmlsZSAobWF4IDEwTUIpXHJcbiAgICBpZiAoZmlsZS5zaXplID4gMTAgKiAxMDI0ICogMTAyNCkge1xyXG4gICAgICBhbGVydCgnVWt1cmFuIGZpbGUgbWFrc2ltYWwgMTBNQicpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHNldEdlbmVyYWxGaWxlKGZpbGUpO1xyXG4gICAgc2V0SW1hZ2VGaWxlKG51bGwpO1xyXG4gICAgc2V0UHJldmlld1VybChudWxsKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVSZW1vdmVJbWFnZSA9ICgpID0+IHtcclxuICAgIHNldFByZXZpZXdVcmwobnVsbCk7XHJcbiAgICBzZXRJbWFnZUZpbGUobnVsbCk7XHJcbiAgICBpZiAoZmlsZUlucHV0UmVmLmN1cnJlbnQpIHtcclxuICAgICAgZmlsZUlucHV0UmVmLmN1cnJlbnQudmFsdWUgPSAnJztcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVSZW1vdmVGaWxlID0gKCkgPT4ge1xyXG4gICAgc2V0R2VuZXJhbEZpbGUobnVsbCk7XHJcbiAgICBpZiAoZ2VuZXJhbEZpbGVJbnB1dFJlZi5jdXJyZW50KSB7XHJcbiAgICAgIGdlbmVyYWxGaWxlSW5wdXRSZWYuY3VycmVudC52YWx1ZSA9ICcnO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgXHJcbiAgY29uc3QgaGFuZGxlRW1vamlDbGljayA9IChlbW9qaURhdGE6IEVtb2ppQ2xpY2tEYXRhKSA9PiB7XHJcbiAgICBzZXRNZXNzYWdlKHByZXYgPT4gcHJldiArIGVtb2ppRGF0YS5lbW9qaSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZm9ybWF0TGFzdFNlZW4gPSAodGltZXN0YW1wOiBhbnkpOiBzdHJpbmcgPT4ge1xyXG4gICAgaWYgKCF0aW1lc3RhbXApIHJldHVybiAnJztcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gS29udmVyc2kgdGltZXN0YW1wIEZpcmVzdG9yZSBrZSBEYXRlXHJcbiAgICAgIGNvbnN0IGRhdGUgPSB0aW1lc3RhbXAudG9EYXRlID8gdGltZXN0YW1wLnRvRGF0ZSgpIDogXHJcbiAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXAuc2Vjb25kcyA/IG5ldyBEYXRlKHRpbWVzdGFtcC5zZWNvbmRzICogMTAwMCkgOiBcclxuICAgICAgICAgICAgICAgICAgIG5ldyBEYXRlKCk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICBjb25zdCBkaWZmTXMgPSBub3cuZ2V0VGltZSgpIC0gZGF0ZS5nZXRUaW1lKCk7XHJcbiAgICAgIGNvbnN0IGRpZmZNaW5zID0gTWF0aC5yb3VuZChkaWZmTXMgLyA2MDAwMCk7XHJcbiAgICAgIGNvbnN0IGRpZmZIb3VycyA9IE1hdGgucm91bmQoZGlmZk1zIC8gMzYwMDAwMCk7XHJcbiAgICAgIGNvbnN0IGRpZmZEYXlzID0gTWF0aC5yb3VuZChkaWZmTXMgLyA4NjQwMDAwMCk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoZGlmZk1pbnMgPCAxKSByZXR1cm4gJ2JhcnUgc2FqYSc7XHJcbiAgICAgIGlmIChkaWZmTWlucyA8IDYwKSByZXR1cm4gYCR7ZGlmZk1pbnN9IG1lbml0IHlhbmcgbGFsdWA7XHJcbiAgICAgIGlmIChkaWZmSG91cnMgPCAyNCkgcmV0dXJuIGAke2RpZmZIb3Vyc30gamFtIHlhbmcgbGFsdWA7XHJcbiAgICAgIGlmIChkaWZmRGF5cyA9PT0gMSkgcmV0dXJuICdrZW1hcmluJztcclxuICAgICAgaWYgKGRpZmZEYXlzIDwgNykgcmV0dXJuIGAke2RpZmZEYXlzfSBoYXJpIHlhbmcgbGFsdWA7XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gZm9ybWF0KGRhdGUsICdkZC9NTS95eXl5JywgeyBsb2NhbGU6IGlkIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZm9ybWF0dGluZyBsYXN0IHNlZW46JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gRnVuZ3NpIHVudHVrIG1lbWJ1a2EgV2hhdHNBcHBcclxuICBjb25zdCBvcGVuV2hhdHNBcHAgPSAoKSA9PiB7XHJcbiAgICBpZiAoIXBhcnRuZXJQaG9uZU51bWJlcikgcmV0dXJuO1xyXG4gICAgXHJcbiAgICAvLyBCZXJzaWhrYW4gbm9tb3IgdGVsZXBvbiAoaGFueWEgYW5na2EgZGFuICspXHJcbiAgICBjb25zdCBjbGVhbk51bWJlciA9IHBhcnRuZXJQaG9uZU51bWJlci5yZXBsYWNlKC9bXlxcZCtdL2csICcnKTtcclxuICAgIHdpbmRvdy5vcGVuKGBodHRwczovL3dhLm1lLyR7Y2xlYW5OdW1iZXJ9YCwgJ19ibGFuaycpO1xyXG4gIH07XHJcblxyXG4gIC8vIFRhbWJhaGthbiBlZmVrIHVudHVrIG1lbmFuZ2FuaSBrb250YWtcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKHVzaW5nQ29udGFjdCAmJiBjb250YWN0KSB7XHJcbiAgICAgIC8vIEppa2EgbWVuZ2d1bmFrYW4ga29udGFrIGxhbmdzdW5nIHRhbnBhIGNoYXQgaWRcclxuICAgICAgc2V0Q2hhdFBhcnRuZXIoe1xyXG4gICAgICAgIGRpc3BsYXlOYW1lOiBjb250YWN0Lm5hbWUsXHJcbiAgICAgICAgZW1haWw6ICcnLFxyXG4gICAgICAgIHBob25lTnVtYmVyOiBjb250YWN0LnBob25lTnVtYmVyXHJcbiAgICAgIH0pO1xyXG4gICAgICBzZXRQYXJ0bmVyTmFtZShjb250YWN0Lm5hbWUpO1xyXG4gICAgICBzZXRQYXJ0bmVyUGhvbmVOdW1iZXIoY29udGFjdC5waG9uZU51bWJlcik7XHJcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH0sIFt1c2luZ0NvbnRhY3QsIGNvbnRhY3RdKTtcclxuXHJcbiAgY29uc3QgY2xlYXJVcGxvYWRFcnJvciA9ICgpID0+IHtcclxuICAgIGlmICh1cGxvYWRFcnJvcikge1xyXG4gICAgICBzZXRVcGxvYWRFcnJvcihudWxsKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBGdW5nc2kgdW50dWsgbWVtdWxhaSByZWthbWFuIHN1YXJhXHJcbiAgY29uc3Qgc3RhcnRWb2ljZVJlY29yZGluZyA9IGFzeW5jICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIFJlc2V0IHN0YXRlIHRlcmxlYmloIGRhaHVsdVxyXG4gICAgICBzZXRBdWRpb0NodW5rcyhbXSk7XHJcbiAgICAgIHNldEF1ZGlvQmxvYihudWxsKTtcclxuICAgICAgc2V0SXNQcm9jZXNzaW5nQXVkaW8oZmFsc2UpO1xyXG4gICAgICBcclxuICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoeyBhdWRpbzogdHJ1ZSB9KTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHJlY29yZGVyID0gbmV3IE1lZGlhUmVjb3JkZXIoc3RyZWFtLCB7XHJcbiAgICAgICAgbWltZVR5cGU6ICdhdWRpby93ZWJtO2NvZGVjcz1vcHVzJ1xyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIC8vIFNpbXBhbiBjaHVua3Mgc2V0aWFwIDMwMG1zXHJcbiAgICAgIGxldCBjaHVua3M6IEJsb2JbXSA9IFtdO1xyXG4gICAgICBcclxuICAgICAgcmVjb3JkZXIub25kYXRhYXZhaWxhYmxlID0gKGUpID0+IHtcclxuICAgICAgICBpZiAoZS5kYXRhLnNpemUgPiAwKSB7XHJcbiAgICAgICAgICBjaHVua3MucHVzaChlLmRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIHJlY29yZGVyLm9uc3RvcCA9IGFzeW5jICgpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgLy8gUGFzdGlrYW4gYWRhIGF1ZGlvIGNodW5rcyB5YW5nIGRpcmVrYW1cclxuICAgICAgICAgIGlmIChjaHVua3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUaWRhayBhZGEgYXVkaW8geWFuZyBkaXJla2FtJyk7XHJcbiAgICAgICAgICAgIHNldFVwbG9hZEVycm9yKCdUaWRhayBhZGEgYXVkaW8geWFuZyBkaXJla2FtLiBTaWxha2FuIGNvYmEgbGFnaS4nKTtcclxuICAgICAgICAgICAgc2V0SXNQcm9jZXNzaW5nQXVkaW8oZmFsc2UpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHNldElzUHJvY2Vzc2luZ0F1ZGlvKHRydWUpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBCdWF0IGF1ZGlvIGJsb2IgZGVuZ2FuIGZvcm1hdCB5YW5nIGRpZHVrdW5nXHJcbiAgICAgICAgICBjb25zdCBhdWRpb0Jsb2IgPSBuZXcgQmxvYihjaHVua3MsIHsgdHlwZTogJ2F1ZGlvL3dlYm0nIH0pO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAoYXVkaW9CbG9iLnNpemUgPCAxMDApIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1Jla2FtYW4gYXVkaW8gdGVybGFsdSBwZW5kZWsnKTtcclxuICAgICAgICAgICAgc2V0VXBsb2FkRXJyb3IoJ1Jla2FtYW4gdGVybGFsdSBwZW5kZWsuIFNpbGFrYW4gY29iYSBsYWdpLicpO1xyXG4gICAgICAgICAgICBzZXRJc1Byb2Nlc3NpbmdBdWRpbyhmYWxzZSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgc2V0QXVkaW9CbG9iKGF1ZGlvQmxvYik7XHJcbiAgICAgICAgICBzZXRBdWRpb0NodW5rcyhjaHVua3MpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBVcGxvYWQgYXVkaW8ga2Ugc2VydmVyXHJcbiAgICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgYXVkaW9CbG9iLCAndm9pY2UtbWVzc2FnZS53ZWJtJyk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdVcGxvYWRpbmcgYXVkaW8gZmlsZSwgc2l6ZTonLCBhdWRpb0Jsb2Iuc2l6ZSk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvdXBsb2FkLWZpbGUnLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICBib2R5OiBmb3JtRGF0YVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdVcGxvYWQgcmVzcG9uc2UgZXJyb3I6JywgZXJyb3JEYXRhKTtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yRGF0YS5tZXNzYWdlIHx8ICdHYWdhbCBtZW5ndXBsb2FkIHZvaWNlIGNoYXQnKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdVcGxvYWQgcmVzcG9uc2U6JywgZGF0YSk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MgJiYgZGF0YS51cmwgJiYgY2hhdElkKSB7XHJcbiAgICAgICAgICAgIC8vIEtpcmltIHBlc2FuIGF1ZGlvXHJcbiAgICAgICAgICAgIGF3YWl0IGFkZERvYyhjb2xsZWN0aW9uKGRiLCAnY2hhdHMnLCBjaGF0SWQsICdtZXNzYWdlcycpLCB7XHJcbiAgICAgICAgICAgICAgdGV4dDogJ/CfjqQgVm9pY2UgTWVzc2FnZScsXHJcbiAgICAgICAgICAgICAgc2VuZGVySWQ6IHVzZXIudWlkLFxyXG4gICAgICAgICAgICAgIHRpbWVzdGFtcDogc2VydmVyVGltZXN0YW1wKCksXHJcbiAgICAgICAgICAgICAgcmVhZEJ5OiBbdXNlci51aWRdLFxyXG4gICAgICAgICAgICAgIGZpbGVVcmw6IGRhdGEudXJsLFxyXG4gICAgICAgICAgICAgIGZpbGVOYW1lOiAndm9pY2UtbWVzc2FnZS53ZWJtJyxcclxuICAgICAgICAgICAgICBmaWxlVHlwZTogJ2F1ZGlvL3dlYm0nLFxyXG4gICAgICAgICAgICAgIGZpbGVTaXplOiBhdWRpb0Jsb2Iuc2l6ZSxcclxuICAgICAgICAgICAgICBhdWRpbzogdHJ1ZSwgLy8gUGVudGluZzogdGFuZGFpIGluaSBzZWJhZ2FpIGF1ZGlvXHJcbiAgICAgICAgICAgICAgLi4uKHJlcGx5aW5nVG8gPyB7IHJlcGx5VG86IHJlcGx5aW5nVG8uaWQgfSA6IHt9KVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0ZXJha2hpciBjaGF0XHJcbiAgICAgICAgICAgIGF3YWl0IHVwZGF0ZURvYyhkb2MoZGIsICdjaGF0cycsIGNoYXRJZCksIHtcclxuICAgICAgICAgICAgICBsYXN0TWVzc2FnZToge1xyXG4gICAgICAgICAgICAgICAgdGV4dDogJ/CfjqQgVm9pY2UgTWVzc2FnZScsXHJcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4gICAgICAgICAgICAgICAgc2VuZGVySWQ6IHVzZXIudWlkXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gUmVsb2FkIHBlc2FuIHVudHVrIG1lbmFtcGlsa2FuIHBlc2FuIGF1ZGlvIGJhcnVcclxuICAgICAgICAgICAgY29uc3QgbWVzc2FnZXNRdWVyeSA9IHF1ZXJ5KFxyXG4gICAgICAgICAgICAgIGNvbGxlY3Rpb24oZGIsICdjaGF0cycsIGNoYXRJZCwgJ21lc3NhZ2VzJyksXHJcbiAgICAgICAgICAgICAgb3JkZXJCeSgndGltZXN0YW1wJywgJ2FzYycpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvY3MobWVzc2FnZXNRdWVyeSk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld01lc3NhZ2VzID0gc25hcHNob3QuZG9jcy5tYXAoKGRvYykgPT4gKHtcclxuICAgICAgICAgICAgICBpZDogZG9jLmlkLFxyXG4gICAgICAgICAgICAgIC4uLmRvYy5kYXRhKCksXHJcbiAgICAgICAgICAgIH0pKSBhcyBNZXNzYWdlW107XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBzZXRNZXNzYWdlcyhuZXdNZXNzYWdlcyk7XHJcbiAgICAgICAgICAgIHNjcm9sbFRvQm90dG9tKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBzZXRSZXBseWluZ1RvKG51bGwpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZW5kaW5nIHZvaWNlIG1lc3NhZ2U6JywgZXJyb3IpO1xyXG4gICAgICAgICAgc2V0VXBsb2FkRXJyb3IoJ0dhZ2FsIG1lbmdpcmltIHBlc2FuIHN1YXJhLiBTaWxha2FuIGNvYmEgbGFnaS4nKTtcclxuICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgc2V0SXNQcm9jZXNzaW5nQXVkaW8oZmFsc2UpO1xyXG4gICAgICAgICAgc2V0QXVkaW9DaHVua3MoW10pO1xyXG4gICAgICAgICAgY2h1bmtzID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgc2V0TWVkaWFSZWNvcmRlcihyZWNvcmRlcik7XHJcbiAgICAgIFxyXG4gICAgICAvLyBNdWxhaSByZWthbWFuIGRlbmdhbiBpbnRlcnZhbCBjaHVuayAzMDBtc1xyXG4gICAgICByZWNvcmRlci5zdGFydCgzMDApO1xyXG4gICAgICBzZXRJc1JlY29yZGluZyh0cnVlKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFjY2Vzc2luZyBtaWNyb3Bob25lOicsIGVycm9yKTtcclxuICAgICAgc2V0VXBsb2FkRXJyb3IoJ0dhZ2FsIG1lbmdha3NlcyBtaWtyb2Zvbi4gUGFzdGlrYW4gbWlrcm9mb24gZGlpemlua2FuIGRpIGJyb3dzZXIgQW5kYS4nKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBGdW5nc2kgdW50dWsgYmVyaGVudGkgbWVyZWthbVxyXG4gIGNvbnN0IHN0b3BWb2ljZVJlY29yZGluZyA9ICgpID0+IHtcclxuICAgIGlmICghbWVkaWFSZWNvcmRlcikgcmV0dXJuO1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAobWVkaWFSZWNvcmRlci5zdGF0ZSA9PT0gJ3JlY29yZGluZycpIHtcclxuICAgICAgICAvLyBCZXJoZW50aSBtZXJla2FtXHJcbiAgICAgICAgbWVkaWFSZWNvcmRlci5zdG9wKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gU3RvcCBzZW11YSBhdWRpbyB0cmFja3NcclxuICAgICAgICBpZiAobWVkaWFSZWNvcmRlci5zdHJlYW0pIHtcclxuICAgICAgICAgIG1lZGlhUmVjb3JkZXIuc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2godHJhY2sgPT4gdHJhY2suc3RvcCgpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHNldElzUmVjb3JkaW5nKGZhbHNlKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN0b3BwaW5nIHJlY29yZGluZzonLCBlcnJvcik7XHJcbiAgICAgIHNldFVwbG9hZEVycm9yKCdHYWdhbCBtZW5naGVudGlrYW4gcmVrYW1hbi4gQ29iYSBsYWdpLicpO1xyXG4gICAgICBzZXRJc1JlY29yZGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gRnVuZ3NpIHVudHVrIG1lbWJhbGFzIHBlc2FuXHJcbiAgY29uc3QgaGFuZGxlUmVwbHlNZXNzYWdlID0gKG1lc3NhZ2VJZDogc3RyaW5nLCBtZXNzYWdlVGV4dDogc3RyaW5nKSA9PiB7XHJcbiAgICBzZXRSZXBseWluZ1RvKHtcclxuICAgICAgaWQ6IG1lc3NhZ2VJZCxcclxuICAgICAgdGV4dDogbWVzc2FnZVRleHRcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAvLyBVbnR1ayBiYWxhcyBwZXNhbiwga2l0YSB0ZXRhcCBzY3JvbGwgb3RvbWF0aXNcclxuICAgIHNldFNob3VsZFNjcm9sbCh0cnVlKTtcclxuICAgIHNldFVzZXJTY3JvbGxlZChmYWxzZSk7XHJcbiAgICBcclxuICAgIC8vIEZva3VzIGtlIGlucHV0IHBlc2FuXHJcbiAgICBpZiAoaW5wdXRSZWYuY3VycmVudCkge1xyXG4gICAgICBpbnB1dFJlZi5jdXJyZW50LmZvY3VzKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gRnVuZ3NpIHVudHVrIG1lbWJhdGFsa2FuIGJhbGFzYW5cclxuICBjb25zdCBjYW5jZWxSZXBseSA9ICgpID0+IHtcclxuICAgIHNldFJlcGx5aW5nVG8obnVsbCk7XHJcbiAgICAvLyBUaWRhayBwZXJsdSBtZW5ndWJhaCBzY3JvbGwgYmVoYXZpb3Igc2FhdCBjYW5jZWwgcmVwbHlcclxuICB9O1xyXG5cclxuICAvLyBGdW5nc2kgdW50dWsgbWVuYW5nYW5pIGVkaXQgcGVzYW5cclxuICBjb25zdCBoYW5kbGVFZGl0TWVzc2FnZSA9IChtZXNzYWdlSWQ6IHN0cmluZywgbWVzc2FnZVRleHQ6IHN0cmluZykgPT4ge1xyXG4gICAgc2V0RWRpdGluZ01lc3NhZ2Uoe1xyXG4gICAgICBpZDogbWVzc2FnZUlkLFxyXG4gICAgICB0ZXh0OiBtZXNzYWdlVGV4dFxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIHNldE1lc3NhZ2UobWVzc2FnZVRleHQpO1xyXG4gICAgc2V0SXNFZGl0aW5nKHRydWUpO1xyXG4gICAgXHJcbiAgICAvLyBNYXRpa2FuIHNjcm9sbCBvdG9tYXRpcyBzYWF0IG1lbmdlZGl0XHJcbiAgICBzZXRTaG91bGRTY3JvbGwoZmFsc2UpO1xyXG4gICAgXHJcbiAgICAvLyBGb2t1cyBrZSBpbnB1dCBwZXNhblxyXG4gICAgaWYgKGlucHV0UmVmLmN1cnJlbnQpIHtcclxuICAgICAgaW5wdXRSZWYuY3VycmVudC5mb2N1cygpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIEZ1bmdzaSB1bnR1ayBtZW1iYXRhbGthbiBlZGl0XHJcbiAgY29uc3QgY2FuY2VsRWRpdCA9ICgpID0+IHtcclxuICAgIHNldEVkaXRpbmdNZXNzYWdlKG51bGwpO1xyXG4gICAgc2V0SXNFZGl0aW5nKGZhbHNlKTtcclxuICAgIHNldE1lc3NhZ2UoJycpO1xyXG4gICAgLy8gVGV0YXAgbWF0aWthbiBzY3JvbGwgb3RvbWF0aXMgc2V0ZWxhaCBjYW5jZWwgZWRpdFxyXG4gICAgc2V0U2hvdWxkU2Nyb2xsKGZhbHNlKTtcclxuICB9O1xyXG5cclxuICAvLyBGdW5nc2kgdW50dWsgbWVueWltcGFuIGVkaXRcclxuICBjb25zdCBzYXZlRWRpdCA9IGFzeW5jICgpID0+IHtcclxuICAgIGlmICghY2hhdElkIHx8ICFlZGl0aW5nTWVzc2FnZSB8fCAhbWVzc2FnZS50cmltKCkpIHJldHVybjtcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgdXBkYXRlRG9jKGRvYyhkYiwgJ2NoYXRzJywgY2hhdElkLCAnbWVzc2FnZXMnLCBlZGl0aW5nTWVzc2FnZS5pZCksIHtcclxuICAgICAgICB0ZXh0OiBtZXNzYWdlLnRyaW0oKSxcclxuICAgICAgICBpc0VkaXRlZDogdHJ1ZVxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIC8vIFJlc2V0IHN0YXRlIGVkaXRcclxuICAgICAgc2V0RWRpdGluZ01lc3NhZ2UobnVsbCk7XHJcbiAgICAgIHNldElzRWRpdGluZyhmYWxzZSk7XHJcbiAgICAgIHNldE1lc3NhZ2UoJycpO1xyXG4gICAgICAvLyBUZXRhcCBtYXRpa2FuIHNjcm9sbCBvdG9tYXRpcyBzZXRlbGFoIGVkaXRcclxuICAgICAgc2V0U2hvdWxkU2Nyb2xsKGZhbHNlKTtcclxuICAgICAgXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBtZXNzYWdlOicsIGVycm9yKTtcclxuICAgICAgYWxlcnQoJ0dhZ2FsIG1lbmdlZGl0IHBlc2FuLiBTaWxha2FuIGNvYmEgbGFnaS4nKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBEaSBkYWxhbSBrb21wb25lbiBDaGF0V2luZG93LCB0YW1iYWhrYW4gZWZlayB1bnR1ayBtZW5hbmRhaSBwZXNhbiBzZWJhZ2FpIHN1ZGFoIGRpYmFjYVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoY2hhdElkKSB7XHJcbiAgICAgIC8vIFBlcmJhcnVpIHRpbWVzdGFtcCB0ZXJha2hpciBkaWJhY2FcclxuICAgICAgY29uc3QgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgbGFzdFJlYWRfJHtjaGF0SWR9YCwgY3VycmVudFRpbWUudG9TdHJpbmcoKSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBCZXJpdGFodSBrb21wb25lbiBsYWluIGJhaHdhIHBlc2FuIHRlbGFoIGRpYmFjYVxyXG4gICAgICBjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudCgnbWVzc2FnZVJlYWQnLCB7IFxyXG4gICAgICAgIGRldGFpbDogeyBjaGF0SWQgfVxyXG4gICAgICB9KTtcclxuICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xyXG4gICAgfVxyXG4gIH0sIFtjaGF0SWQsIG1lc3NhZ2VzXSk7IC8vIEtldGlrYSBwZXNhbiBiZXJ1YmFoIGF0YXUgY2hhdElkIGJlcnViYWhcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIC8vIE1lbmRlbmdhcmthbiBwYW5nZ2lsYW4gbWFzdWtcclxuICAgIGNvbnN0IGxpc3RlbkZvckluY29taW5nQ2FsbHMgPSAoKSA9PiB7XHJcbiAgICAgIGlmICghdXNlci51aWQpIHJldHVybjtcclxuICAgICAgXHJcbiAgICAgIC8vIFNldHVwIGludGVydmFsIHVudHVrIG1lbWVyaWtzYSBsb2NhbFN0b3JhZ2Ugc2V0aWFwIDIgZGV0aWtcclxuICAgICAgY29uc3QgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgLy8gQW1iaWwgc2VtdWEgcGFuZ2dpbGFuIGRhcmkgbG9jYWxTdG9yYWdlXHJcbiAgICAgICAgICBjb25zdCBjYWxscyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2hhbGxvX2NhbGxzJykgfHwgJ3t9Jyk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIEZpbHRlciBwYW5nZ2lsYW4geWFuZyBzZWRhbmcgJ3JpbmdpbmcnIGRhbiBkaXR1anVrYW4ga2UgcGVuZ2d1bmEgaW5pIGRhbiBjaGF0SWQgaW5pXHJcbiAgICAgICAgICBjb25zdCBpbmNvbWluZ0NhbGxzID0gT2JqZWN0LmVudHJpZXMoY2FsbHMpXHJcbiAgICAgICAgICAgIC5tYXAoKFtpZCwgZGF0YV0pID0+ICh7IGlkLCAuLi5kYXRhIGFzIGFueSB9KSlcclxuICAgICAgICAgICAgLmZpbHRlcihjYWxsID0+IFxyXG4gICAgICAgICAgICAgIGNhbGwucmVjaXBpZW50SWQgPT09IHVzZXIudWlkICYmIFxyXG4gICAgICAgICAgICAgIGNhbGwuc3RhdHVzID09PSAncmluZ2luZycgJiZcclxuICAgICAgICAgICAgICBjYWxsLmNoYXRJZCA9PT0gY2hhdElkICYmXHJcbiAgICAgICAgICAgICAgLy8gSGFueWEgdGFtcGlsa2FuIG5vdGlmaWthc2kgamlrYSBwYW5nZ2lsYW4ga3VyYW5nIGRhcmkgMzAgZGV0aWsgeWFuZyBsYWx1XHJcbiAgICAgICAgICAgICAgbmV3IERhdGUoKS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShjYWxsLnN0YXJ0ZWRBdCkuZ2V0VGltZSgpIDwgMzAwMDBcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gSmlrYSBhZGEgcGFuZ2dpbGFuIG1hc3VrLCB0YW1waWxrYW4gbW9kYWxcclxuICAgICAgICAgIGlmIChpbmNvbWluZ0NhbGxzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY29uc3QgbGF0ZXN0Q2FsbCA9IGluY29taW5nQ2FsbHNbMF07XHJcbiAgICAgICAgICAgIHNldEluY29taW5nQ2FsbElkKGxhdGVzdENhbGwuaWQpO1xyXG4gICAgICAgICAgICBzZXRTaG93SW5jb21pbmdDYWxsTW9kYWwodHJ1ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIEppa2EgYWRhIHBhbmdnaWxhbiB5YW5nIHNlZGFuZyBkaXRhbXBpbGthbiB0YXBpIHN1ZGFoIHRpZGFrIHJpbmdpbmcsIHR1dHVwIG1vZGFsXHJcbiAgICAgICAgICBpZiAoaW5jb21pbmdDYWxsSWQpIHtcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudENhbGwgPSBjYWxsc1tpbmNvbWluZ0NhbGxJZF07XHJcbiAgICAgICAgICAgIGlmICghY3VycmVudENhbGwgfHwgY3VycmVudENhbGwuc3RhdHVzICE9PSAncmluZ2luZycpIHtcclxuICAgICAgICAgICAgICBzZXRTaG93SW5jb21pbmdDYWxsTW9kYWwoZmFsc2UpO1xyXG4gICAgICAgICAgICAgIHNldEluY29taW5nQ2FsbElkKG51bGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIGZvciBpbmNvbWluZyBjYWxsczonLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCAyMDAwKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFJldHVybiBjbGVhbnVwIGZ1bmN0aW9uXHJcbiAgICAgIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKGludGVydmFsSWQpO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgY29uc3QgdW5zdWJzY3JpYmVDYWxscyA9IGxpc3RlbkZvckluY29taW5nQ2FsbHMoKTtcclxuICAgIFxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgaWYgKHVuc3Vic2NyaWJlQ2FsbHMpIHtcclxuICAgICAgICB1bnN1YnNjcmliZUNhbGxzKCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfSwgW3VzZXIudWlkLCBjaGF0SWQsIGluY29taW5nQ2FsbElkXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZVZpZGVvQ2FsbCA9ICgpID0+IHtcclxuICAgIGlmICghY2hhdFBhcnRuZXIgfHwgIWNoYXRQYXJ0bmVyLmlkKSB7XHJcbiAgICAgIGFsZXJ0KCdUaWRhayBkYXBhdCBtZWxha3VrYW4gcGFuZ2dpbGFuLCBpbmZvcm1hc2kgcGVuZ2d1bmEgdGlkYWsgZGl0ZW11a2FuJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gQ2VrIGFwYWthaCBwYXJ0bmVyIHNlZGFuZyBvbmxpbmUgdW50dWsgbWVuaW5na2F0a2FuIGtlYmVyaGFzaWxhbiBwYW5nZ2lsYW5cclxuICAgIGlmIChwYXJ0bmVyT25saW5lU3RhdHVzICE9PSAnT25saW5lJykge1xyXG4gICAgICBpZiAoIWNvbmZpcm0oJ1BlbmdndW5hIGluaSB0ZXJsaWhhdCB0aWRhayBha3RpZi4gVGV0YXAgaW5naW4gbWVsYWt1a2FuIHBhbmdnaWxhbiB2aWRlbz8nKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBCZXJpa2FuIGRlbGF5IGtlY2lsIHNlYmVsdW0gbWVtdWxhaSBwYW5nZ2lsYW4gdW50dWsgbWVtYXN0aWthbiBVSSB0aWRhayBsYWdcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZygnU3RhcnRpbmcgdmlkZW8gY2FsbCB3aXRoOicsIGNoYXRQYXJ0bmVyLmlkKTtcclxuICAgICAgc2V0Q2FsbFR5cGUoJ3ZpZGVvJyk7XHJcbiAgICAgIHNldFNob3dWaWRlb0NhbGxNb2RhbCh0cnVlKTtcclxuICAgIH0sIDEwMCk7XHJcbiAgfTtcclxuICBcclxuICBjb25zdCBoYW5kbGVBdWRpb0NhbGwgPSAoKSA9PiB7XHJcbiAgICBpZiAoIWNoYXRQYXJ0bmVyIHx8ICFjaGF0UGFydG5lci5pZCkge1xyXG4gICAgICBhbGVydCgnVGlkYWsgZGFwYXQgbWVsYWt1a2FuIHBhbmdnaWxhbiwgaW5mb3JtYXNpIHBlbmdndW5hIHRpZGFrIGRpdGVtdWthbicpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIENlayBhcGFrYWggcGFydG5lciBzZWRhbmcgb25saW5lIHVudHVrIG1lbmluZ2thdGthbiBrZWJlcmhhc2lsYW4gcGFuZ2dpbGFuXHJcbiAgICBpZiAocGFydG5lck9ubGluZVN0YXR1cyAhPT0gJ09ubGluZScpIHtcclxuICAgICAgaWYgKCFjb25maXJtKCdQZW5nZ3VuYSBpbmkgdGVybGloYXQgdGlkYWsgYWt0aWYuIFRldGFwIGluZ2luIG1lbGFrdWthbiBwYW5nZ2lsYW4gYXVkaW8/JykpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gQmVyaWthbiBkZWxheSBrZWNpbCBzZWJlbHVtIG1lbXVsYWkgcGFuZ2dpbGFuIHVudHVrIG1lbWFzdGlrYW4gVUkgdGlkYWsgbGFnXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coJ1N0YXJ0aW5nIGF1ZGlvIGNhbGwgd2l0aDonLCBjaGF0UGFydG5lci5pZCk7XHJcbiAgICAgIHNldENhbGxUeXBlKCdhdWRpbycpO1xyXG4gICAgICBzZXRTaG93VmlkZW9DYWxsTW9kYWwodHJ1ZSk7XHJcbiAgICB9LCAxMDApO1xyXG4gIH07XHJcbiAgXHJcbiAgY29uc3QgaGFuZGxlQWNjZXB0Q2FsbCA9IChjYWxsSWQ6IHN0cmluZywgaXNWaWRlb0NhbGw6IGJvb2xlYW4pID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCdBY2NlcHRpbmcgY2FsbCBpbiBDaGF0V2luZG93OicsIGNhbGxJZCwgaXNWaWRlb0NhbGwgPyAndmlkZW8nIDogJ2F1ZGlvJyk7XHJcbiAgICBzZXRJbmNvbWluZ0NhbGxJZChjYWxsSWQpO1xyXG4gICAgc2V0U2hvd0luY29taW5nQ2FsbE1vZGFsKGZhbHNlKTtcclxuICAgIFxyXG4gICAgLy8gR3VuYWthbiB0aW1lb3V0IHVudHVrIG1lbWFzdGlrYW4gbW9kYWwgaW5jb21pbmcgY2FsbCBkaXR1dHVwIHRlcmxlYmloIGRhaHVsdVxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHNldENhbGxUeXBlKGlzVmlkZW9DYWxsID8gJ3ZpZGVvJyA6ICdhdWRpbycpO1xyXG4gICAgICBzZXRTaG93VmlkZW9DYWxsTW9kYWwodHJ1ZSk7XHJcbiAgICB9LCAyMDApO1xyXG4gIH07XHJcbiAgXHJcbiAgY29uc3QgaGFuZGxlUmVqZWN0Q2FsbCA9ICgpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCdSZWplY3RpbmcgY2FsbCBpbiBDaGF0V2luZG93Jyk7XHJcbiAgICBzZXRTaG93SW5jb21pbmdDYWxsTW9kYWwoZmFsc2UpO1xyXG4gICAgXHJcbiAgICAvLyBHdW5ha2FuIHRpbWVvdXQgdW50dWsgbWVtYXN0aWthbiBzdGF0ZSByZXNldCBzZXRlbGFoIG1vZGFsIGRpdHV0dXBcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBzZXRJbmNvbWluZ0NhbGxJZChudWxsKTtcclxuICAgIH0sIDIwMCk7XHJcbiAgfTtcclxuXHJcbiAgaWYgKCFjaGF0SWQpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBoLWZ1bGwgYmctZ3JheS01MFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctcHJpbWFyeSBwLTQgdGV4dC13aGl0ZVwiPlxyXG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+UGlsaWggY2hhdCB1bnR1ayBtZW11bGFpIHBlcmNha2FwYW48L2gyPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XHJcbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwXCI+UGlsaWggYXRhdSBtdWxhaSBjaGF0IGJhcnUgdW50dWsgbWVtdWxhaSBwZXJjYWthcGFuPC9wPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGgtZnVsbCBvdmVyZmxvdy12aXNpYmxlXCI+XHJcbiAgICAgIHsvKiBDaGF0IEhlYWRlciAqL31cclxuICAgICAgPGRpdiBcclxuICAgICAgICBjbGFzc05hbWU9XCJiZy1ncmFkaWVudC10by1yIGZyb20tcHJpbWFyeSB2aWEtcHJpbWFyeSB0by1wcmltYXJ5LWRhcmsgcC0zIGZsZXggaXRlbXMtY2VudGVyIHRleHQtd2hpdGUgYm9yZGVyLWIgYm9yZGVyLXByaW1hcnktZGFyay80MCBzaGFkb3ctc20gbmF2YmFyLW5vLXJhZGl1c1wiIFxyXG4gICAgICAgIHN0eWxlPXt7IFxyXG4gICAgICAgICAgYm9yZGVyUmFkaXVzOiAnMCcsIFxyXG4gICAgICAgICAgb3ZlcmZsb3c6ICd2aXNpYmxlJyxcclxuICAgICAgICB9fVxyXG4gICAgICA+XHJcbiAgICAgICAge29uQmFja0NsaWNrICYmIChcclxuICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e29uQmFja0NsaWNrfVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJtci0yIHAtMS41IGhvdmVyOmJnLXdoaXRlLzEwIHRyYW5zaXRpb24tY29sb3JzXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPEZpQXJyb3dMZWZ0IHNpemU9ezIyfSAvPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgKX1cclxuICAgICAgICBcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGZsZXgtMSBtaW4tdy0wXCI+XHJcbiAgICAgICAgICA8VXNlckF2YXRhciB1c2VySWQ9e2NoYXRQYXJ0bmVyPy5pZCB8fCAnMCd9IHNpemU9XCJsZ1wiIC8+XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWwtMyBmbGV4LTEgbWluLXctMFwiPlxyXG4gICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1iYXNlIHRydW5jYXRlXCI+e3BhcnRuZXJOYW1lIHx8ICdNZW11YXQuLi4nfTwvaDI+XHJcbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC13aGl0ZS84MCBmbGV4IGl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgIHtwYXJ0bmVyT25saW5lU3RhdHVzID09PSAnT25saW5lJyA/IChcclxuICAgICAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInctMS41IGgtMS41IGJnLWdyZWVuLTQwMCByb3VuZGVkLWZ1bGwgbXItMSBhbmltYXRlLXB1bHNlXCI+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICB7cGFydG5lck9ubGluZVN0YXR1c31cclxuICAgICAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgICAgICkgOiBwYXJ0bmVyT25saW5lU3RhdHVzID09PSAnVGVyYWtoaXIgZGlsaWhhdCcgJiYgcGFydG5lckxhc3RTZWVuID8gKFxyXG4gICAgICAgICAgICAgICAgPD5UZXJha2hpciBkaWxpaGF0IHtmb3JtYXRMYXN0U2VlbihwYXJ0bmVyTGFzdFNlZW4pfTwvPlxyXG4gICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICA8Pk9mZmxpbmU8Lz5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICB7LyogVG9tYm9sIFZpZGVvIGRhbiBBdWRpbyBDYWxsICovfVxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHNwYWNlLXgtM1wiPlxyXG4gICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUF1ZGlvQ2FsbH1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLWZ1bGwgcC0yIGhvdmVyOmJnLXByaW1hcnktZGFyayBmb2N1czpvdXRsaW5lLW5vbmVcIlxyXG4gICAgICAgICAgICAgIHRpdGxlPVwiUGFuZ2dpbGFuIFN1YXJhXCJcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxGaVBob25lIHNpemU9ezIwfSAvPlxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVWaWRlb0NhbGx9XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1mdWxsIHAtMiBob3ZlcjpiZy1wcmltYXJ5LWRhcmsgZm9jdXM6b3V0bGluZS1ub25lXCJcclxuICAgICAgICAgICAgICB0aXRsZT1cIlBhbmdnaWxhbiBWaWRlb1wiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8RmlWaWRlbyBzaXplPXsyMH0gLz5cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIFxyXG4gICAgICB7LyogQ2hhdCBNZXNzYWdlcyAqL31cclxuICAgICAgPGRpdiBcclxuICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgcC00IG92ZXJmbG93LXktYXV0byByZWxhdGl2ZVwiXHJcbiAgICAgICAgb25TY3JvbGw9e2hhbmRsZVNjcm9sbH1cclxuICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgYmFja2dyb3VuZEltYWdlOiBgdXJsKFwiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB3aWR0aD0nMTAwJyBoZWlnaHQ9JzEwMCcgdmlld0JveD0nMCAwIDEwMCAxMDAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyclM0UlM0NwYXRoIGQ9J00xMSAxOGMzLjg2NiAwIDctMy4xMzQgNy03cy0zLjEzNC03LTctNy03IDMuMTM0LTcgNyAzLjEzNCA3IDcgN3ptNDggMjVjMy44NjYgMCA3LTMuMTM0IDctN3MtMy4xMzQtNy03LTctNyAzLjEzNC03IDcgMy4xMzQgNyA3IDd6bS00My03YzEuNjU3IDAgMy0xLjM0MyAzLTNzLTEuMzQzLTMtMy0zLTMgMS4zNDMtMyAzIDEuMzQzIDMgMyAzem02MyAzMWMxLjY1NyAwIDMtMS4zNDMgMy0zcy0xLjM0My0zLTMtMy0zIDEuMzQzLTMgMyAxLjM0MyAzIDMgM3pNMzQgOTBjMS42NTcgMCAzLTEuMzQzIDMtM3MtMS4zNDMtMy0zLTMtMyAxLjM0My0zIDMgMS4zNDMgMyAzIDN6bTU2LTc2YzEuNjU3IDAgMy0xLjM0MyAzLTNzLTEuMzQzLTMtMy0zLTMgMS4zNDMtMyAzIDEuMzQzIDMgMyAzek0xMiA4NmMyLjIxIDAgNC0xLjc5IDQtNHMtMS43OS00LTQtNC00IDEuNzktNCA0IDEuNzkgNCA0IDR6bTI4LTY1YzIuMjEgMCA0LTEuNzkgNC00cy0xLjc5LTQtNC00LTQgMS43OS00IDQgMS43OSA0IDQgNHptMjMtMTFjMi43NiAwIDUtMi4yNCA1LTVzLTIuMjQtNS01LTUtNSAyLjI0LTUgNSAyLjI0IDUgNSA1em0tNiA2MGMyLjIxIDAgNC0xLjc5IDQtNHMtMS43OS00LTQtNC00IDEuNzktNCA0IDEuNzkgNCA0IDR6bTI5IDIyYzIuNzYgMCA1LTIuMjQgNS01cy0yLjI0LTUtNS01LTUgMi4yNC01IDUgMi4yNCA1IDUgNXpNMzIgNjNjMi43NiAwIDUtMi4yNCA1LTVzLTIuMjQtNS01LTUtNSAyLjI0LTUgNSAyLjI0IDUgNSA1em01Ny0xM2MyLjc2IDAgNS0yLjI0IDUtNXMtMi4yNC01LTUtNS01IDIuMjQtNSA1IDIuMjQgNSA1IDV6bS05LTIxYzEuMTA1IDAgMi0uODk1IDItMnMtLjg5NS0yLTItMi0yIC44OTUtMiAyIC44OTUgMiAyIDJ6TTYwIDkxYzEuMTA1IDAgMi0uODk1IDItMnMtLjg5NS0yLTItMi0yIC44OTUtMiAyIC44OTUgMiAyIDJ6TTM1IDQxYzEuMTA1IDAgMi0uODk1IDItMnMtLjg5NS0yLTItMi0yIC44OTUtMiAyIC44OTUgMiAyIDJ6TTEyIDYwYzEuMTA1IDAgMi0uODk1IDItMnMtLjg5NS0yLTItMi0yIC44OTUtMiAyIC44OTUgMiAyIDJ6JyBmaWxsPSclMjNhYWFhYWEnIGZpbGwtb3BhY2l0eT0nMC4wNScgZmlsbC1ydWxlPSdldmVub2RkJy8lM0UlM0Mvc3ZnJTNFXCIpYCxcclxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNlNmUwZDQnXHJcbiAgICAgICAgfX1cclxuICAgICAgPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgei0xMFwiPlxyXG4gICAgICAgICAge2xvYWRpbmcgPyAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXIgaC1mdWxsXCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtMTAgdy0xMCBib3JkZXItdC0yIGJvcmRlci1iLTIgYm9yZGVyLXByaW1hcnlcIj48L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApIDogZXJyb3IgPyAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcC00IGJnLXJlZC01MCByb3VuZGVkLXhsIHNoYWRvd1wiPlxyXG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtcmVkLTUwMFwiPntlcnJvcn08L3A+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTIgcHgtNCBweS0yIGJnLXByaW1hcnkgdGV4dC13aGl0ZSByb3VuZGVkLXhsIGhvdmVyOmJnLWRhcmsgdHJhbnNpdGlvbi1jb2xvcnNcIlxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIENvYmEgTGFnaVxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICkgOiBtZXNzYWdlcy5sZW5ndGggPT09IDAgPyAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgbXQtOFwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xNiBoLTE2IG14LWF1dG8gbWItNCBiZy1wcmltYXJ5LzEwIHRleHQtcHJpbWFyeSByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgIDxGaU1lc3NhZ2VTcXVhcmUgc2l6ZT17MjR9IC8+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTgwMFwiPkJlbHVtIGFkYSBwZXNhbjwvaDM+XHJcbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMCB0ZXh0LXNtIG10LTEgbWItNFwiPktpcmltIHBlc2FuIHVudHVrIG1lbXVsYWkgcGVyY2FrYXBhbjwvcD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgc3BhY2UteS0yIHBiLTJcIj5cclxuICAgICAgICAgICAgICB7bWVzc2FnZXMubWFwKChtc2cpID0+IChcclxuICAgICAgICAgICAgICAgIDxDaGF0TWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgICBrZXk9e21zZy5pZH1cclxuICAgICAgICAgICAgICAgICAgbWVzc2FnZT17bXNnfVxyXG4gICAgICAgICAgICAgICAgICBpc093bj17bXNnLnNlbmRlcklkID09PSB1c2VyLnVpZH1cclxuICAgICAgICAgICAgICAgICAgb25SZXBseU1lc3NhZ2U9eyhtc2dJZDogc3RyaW5nLCB0ZXh0OiBzdHJpbmcpID0+IGhhbmRsZVJlcGx5TWVzc2FnZShtc2dJZCwgdGV4dCl9XHJcbiAgICAgICAgICAgICAgICAgIG9uRWRpdE1lc3NhZ2U9eyhtc2dJZDogc3RyaW5nLCB0ZXh0OiBzdHJpbmcpID0+IGhhbmRsZUVkaXRNZXNzYWdlKG1zZ0lkLCB0ZXh0KX1cclxuICAgICAgICAgICAgICAgICAgY2hhdElkPXtjaGF0SWR9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgIDxkaXYgcmVmPXttZXNzYWdlc0VuZFJlZn0gLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIFxyXG4gICAgICAgIHttZXNzYWdlcy5sZW5ndGggPiAxMCAmJiB1c2VyU2Nyb2xsZWQgJiYgKFxyXG4gICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgb25DbGljaz17c2Nyb2xsVG9Cb3R0b219XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZpeGVkIGJvdHRvbS0yMCByaWdodC00IGJnLXdoaXRlLzkwIGJhY2tkcm9wLWJsdXItbWQgcC0yLjUgcm91bmRlZC1mdWxsIHNoYWRvdy1tZCBob3ZlcjpiZy13aGl0ZSB0cmFuc2l0aW9uLWNvbG9ycyB6LTIwXCJcclxuICAgICAgICAgICAgdGl0bGU9XCJTY3JvbGwga2UgcGVzYW4gdGVyYmFydVwiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjJcIiBoZWlnaHQ9XCIyMlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZVdpZHRoPVwiMlwiIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBjbGFzc05hbWU9XCJ0ZXh0LXByaW1hcnlcIj5cclxuICAgICAgICAgICAgICA8bGluZSB4MT1cIjEyXCIgeTE9XCI1XCIgeDI9XCIxMlwiIHkyPVwiMTlcIj48L2xpbmU+XHJcbiAgICAgICAgICAgICAgPHBvbHlsaW5lIHBvaW50cz1cIjE5IDEyIDEyIDE5IDUgMTJcIj48L3BvbHlsaW5lPlxyXG4gICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICl9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICBcclxuICAgICAgey8qIFByZXZpZXcgVXBsb2FkIEltYWdlICovfVxyXG4gICAgICB7cHJldmlld1VybCAmJiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTMgYmctd2hpdGUgYm9yZGVyLXRcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgcm91bmRlZC1tZCBvdmVyZmxvdy1oaWRkZW4gYmctZ3JheS0xMDAgaW5saW5lLWJsb2NrXCI+XHJcbiAgICAgICAgICAgIDxpbWcgXHJcbiAgICAgICAgICAgICAgc3JjPXtwcmV2aWV3VXJsfSBcclxuICAgICAgICAgICAgICBhbHQ9XCJVcGxvYWQgcHJldmlld1wiIFxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1heC1oLTQ4IG1heC13LWZ1bGwgb2JqZWN0LWNvbnRhaW5cIiBcclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVSZW1vdmVJbWFnZX1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMSByaWdodC0xIGJnLXdoaXRlLzgwIGJhY2tkcm9wLWJsdXItc20gcC0xIHJvdW5kZWQtZnVsbCBzaGFkb3cgaG92ZXI6Ymctd2hpdGVcIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPEZpWCBzaXplPXsxNn0gY2xhc3NOYW1lPVwidGV4dC1yZWQtNTAwXCIgLz5cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuICAgICAgXHJcbiAgICAgIHsvKiBQcmV2aWV3IFVwbG9hZCBGaWxlICovfVxyXG4gICAgICB7Z2VuZXJhbEZpbGUgJiYgKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0zIGJnLXdoaXRlIGJvcmRlci10XCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHAtMiByb3VuZGVkLW1kIGJnLWdyYXktMTAwIG1heC13LWZ1bGxcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTIgYmctcHJpbWFyeS8xMCByb3VuZGVkLW1kIG1yLTJcIj5cclxuICAgICAgICAgICAgICA8RmlGaWxlIGNsYXNzTmFtZT1cInRleHQtcHJpbWFyeVwiIHNpemU9ezI0fSAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgbWluLXctMFwiPlxyXG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdHJ1bmNhdGVcIj57Z2VuZXJhbEZpbGUubmFtZX08L3A+XHJcbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+XHJcbiAgICAgICAgICAgICAgICB7KGdlbmVyYWxGaWxlLnNpemUgLyAxMDI0IC8gMTAyNCkudG9GaXhlZCgyKX0gTUJcclxuICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVJlbW92ZUZpbGV9XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibWwtMiBwLTEgcm91bmRlZC1mdWxsIGhvdmVyOmJnLWdyYXktMjAwXCJcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxGaVggc2l6ZT17MTZ9IGNsYXNzTmFtZT1cInRleHQtcmVkLTUwMFwiIC8+XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICl9XHJcbiAgICAgIFxyXG4gICAgICB7LyogUmVwbHkgdG8gTWVzc2FnZSAqL31cclxuICAgICAge3JlcGx5aW5nVG8gJiYgKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0yIGJnLXdoaXRlIGJvcmRlci10IGJvcmRlci1ncmF5LTIwMFwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBwLTEuNSBiZy1ncmF5LTUwIGJvcmRlci1sLTQgYm9yZGVyLWwtcHJpbWFyeSByb3VuZGVkLXNtIG92ZXJmbG93LWhpZGRlblwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBmbGV4IGZsZXgtY29sIG1pbi13LTAgbWwtMlwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0xXCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtcHJpbWFyeSB0cnVuY2F0ZSBtYXgtdy1bNzAlXVwiPlxyXG4gICAgICAgICAgICAgICAgICB7Y2hhdFBhcnRuZXI/LmRpc3BsYXlOYW1lIHx8ICdVc2VyJ31cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS03MDAgdHJ1bmNhdGVcIj57cmVwbHlpbmdUby50ZXh0fTwvcD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgICAgb25DbGljaz17Y2FuY2VsUmVwbHl9XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0xLjUgcm91bmRlZC1mdWxsIGhvdmVyOmJnLWdyYXktMjAwIHRleHQtZ3JheS01MDBcIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPEZpWCBzaXplPXsxOH0gLz5cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuICAgICAgXHJcbiAgICAgIHsvKiBFZGl0IE1lc3NhZ2UgKi99XHJcbiAgICAgIHtpc0VkaXRpbmcgJiYgZWRpdGluZ01lc3NhZ2UgJiYgKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0zIGJnLXdoaXRlIGJvcmRlci10XCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xIGgtZnVsbCBiZy1vcmFuZ2UtNTAwIHJvdW5kZWQtZnVsbCBtci0yXCI+PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIGZsZXggZmxleC1jb2wgbWluLXctMFwiPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1vcmFuZ2UtNTAwXCI+RWRpdCBwZXNhbjwvc3Bhbj5cclxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS03MDAgdHJ1bmNhdGVcIj5cclxuICAgICAgICAgICAgICAgIHttZXNzYWdlIHx8IGVkaXRpbmdNZXNzYWdlLnRleHR9XHJcbiAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgICBvbkNsaWNrPXtjYW5jZWxFZGl0fVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMSBob3ZlcjpiZy1ncmF5LTEwMCByb3VuZGVkLWZ1bGxcIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPEZpWCBzaXplPXsxOH0gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMFwiIC8+XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICl9XHJcbiAgICAgIFxyXG4gICAgICB7LyogVXBsb2FkIEVycm9yICovfVxyXG4gICAgICB7dXBsb2FkRXJyb3IgJiYgKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0zIGJnLXJlZC01MCBib3JkZXItdCBib3JkZXItcmVkLTIwMFwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtcmVkLTYwMCBmbGV4LTFcIj57dXBsb2FkRXJyb3J9PC9wPlxyXG4gICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2NsZWFyVXBsb2FkRXJyb3J9XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0xIGhvdmVyOmJnLXJlZC0xMDAgcm91bmRlZC1mdWxsXCJcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxGaVggc2l6ZT17MTh9IGNsYXNzTmFtZT1cInRleHQtcmVkLTUwMFwiIC8+XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICl9XHJcbiAgICAgIFxyXG4gICAgICB7LyogTWVzc2FnZSBJbnB1dCAqL31cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTMgYmctd2hpdGUgYm9yZGVyLXQgcmVsYXRpdmVcIj5cclxuICAgICAgICB7LyogQXR0YWNobWVudCBNZW51ICovfVxyXG4gICAgICAgIHtzaG93QXR0YWNoTWVudSAmJiAoXHJcbiAgICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgICByZWY9e2F0dGFjaE1lbnVSZWZ9XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS0xNiBsZWZ0LTMgYmctd2hpdGUvODAgYmFja2Ryb3AtYmx1ci1zbSByb3VuZGVkLWxnIHNoYWRvdy1sZyBvdmVyZmxvdy1oaWRkZW4gei0yMFwiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0yIGdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTFcIj5cclxuICAgICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBpZiAoZmlsZUlucHV0UmVmLmN1cnJlbnQpIGZpbGVJbnB1dFJlZi5jdXJyZW50LmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICAgIHNldFNob3dBdHRhY2hNZW51KGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBwLTMgcm91bmRlZC1sZyBob3ZlcjpiZy1ncmF5LTEwMFwiXHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwIGgtMTAgYmctcHJpbWFyeS8xMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgbWItMVwiPlxyXG4gICAgICAgICAgICAgICAgICA8RmlDYW1lcmEgY2xhc3NOYW1lPVwidGV4dC1wcmltYXJ5XCIgc2l6ZT17MTh9IC8+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTYwMFwiPkZvdG88L3NwYW4+XHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcclxuICAgICAgICAgICAgICAgICAgaWYgKGdlbmVyYWxGaWxlSW5wdXRSZWYuY3VycmVudCkgZ2VuZXJhbEZpbGVJbnB1dFJlZi5jdXJyZW50LmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICAgIHNldFNob3dBdHRhY2hNZW51KGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBwLTMgcm91bmRlZC1sZyBob3ZlcjpiZy1ncmF5LTEwMFwiXHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwIGgtMTAgYmctcHJpbWFyeS8xMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgbWItMVwiPlxyXG4gICAgICAgICAgICAgICAgICA8RmlGaWxlIGNsYXNzTmFtZT1cInRleHQtcHJpbWFyeVwiIHNpemU9ezE4fSAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS02MDBcIj5Eb2t1bWVuPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICl9XHJcbiAgICAgICAgXHJcbiAgICAgICAgey8qIEVtb2ppIFBpY2tlciAqL31cclxuICAgICAgICB7c2hvd0Vtb2ppUGlja2VyICYmIChcclxuICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgcmVmPXtlbW9qaVBpY2tlclJlZn1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTE2IHJpZ2h0LTMgei0yMCBiZy13aGl0ZS84MCBiYWNrZHJvcC1ibHVyLXNtIHJvdW5kZWQtbGcgc2hhZG93LWxnIG92ZXJmbG93LWhpZGRlblwiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxFbW9qaVBpY2tlciBcclxuICAgICAgICAgICAgICBvbkVtb2ppQ2xpY2s9e2hhbmRsZUVtb2ppQ2xpY2t9IFxyXG4gICAgICAgICAgICAgIHdpZHRoPXsyODB9IFxyXG4gICAgICAgICAgICAgIGhlaWdodD17MzUwfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKX1cclxuICAgICAgICBcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICB7LyogQXR0YWNobWVudCBCdXR0b24gKi99XHJcbiAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dBdHRhY2hNZW51KCFzaG93QXR0YWNoTWVudSl9XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMiByb3VuZGVkLWZ1bGwgdGV4dC1ncmF5LTUwMCBob3Zlcjp0ZXh0LXByaW1hcnkgaG92ZXI6YmctcHJpbWFyeS8xMCB0cmFuc2l0aW9uLWNvbG9yc1wiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxGaVBhcGVyY2xpcCBzaXplPXsyMn0gLz5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICB7LyogTWVzc2FnZSBJbnB1dCAqL31cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG14LTIgcmVsYXRpdmVcIj5cclxuICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgcmVmPXtpbnB1dFJlZn1cclxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgdmFsdWU9e21lc3NhZ2V9XHJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRNZXNzYWdlKGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICBvbktleURvd249e2UgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInICYmICFlLnNoaWZ0S2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgaWYgKGlzRWRpdGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNhdmVFZGl0KCk7XHJcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlU2VuZE1lc3NhZ2UoZSk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiS2V0aWsgcGVzYW4uLi5cIlxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweS0yLjUgcHgtNCBiZy1ncmF5LTEwMCByb3VuZGVkLWZ1bGwgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLXByaW1hcnkvNTAgZm9jdXM6Ymctd2hpdGUgdHJhbnNpdGlvbi1hbGxcIlxyXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtpc1VwbG9hZGluZyB8fCBpc1Byb2Nlc3NpbmdBdWRpb31cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICB7LyogRW1vamkgQnV0dG9uICovfVxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93RW1vamlQaWNrZXIoIXNob3dFbW9qaVBpY2tlcil9XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMiByb3VuZGVkLWZ1bGwgdGV4dC1ncmF5LTUwMCBob3Zlcjp0ZXh0LXByaW1hcnkgaG92ZXI6YmctcHJpbWFyeS8xMCB0cmFuc2l0aW9uLWNvbG9yc1wiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxGaVNtaWxlIHNpemU9ezIyfSAvPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHsvKiBWb2ljZSBNZXNzYWdlIEJ1dHRvbiAvIFNlbmQgQnV0dG9uICovfVxyXG4gICAgICAgICAgeyFtZXNzYWdlICYmICFpbWFnZUZpbGUgJiYgIWdlbmVyYWxGaWxlICYmICFpc0VkaXRpbmcgPyAoXHJcbiAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICBvbk1vdXNlRG93bj17c3RhcnRWb2ljZVJlY29yZGluZ31cclxuICAgICAgICAgICAgICBvbk1vdXNlVXA9e3N0b3BWb2ljZVJlY29yZGluZ31cclxuICAgICAgICAgICAgICBvblRvdWNoU3RhcnQ9e3N0YXJ0Vm9pY2VSZWNvcmRpbmd9XHJcbiAgICAgICAgICAgICAgb25Ub3VjaEVuZD17c3RvcFZvaWNlUmVjb3JkaW5nfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YHAtMiByb3VuZGVkLWZ1bGwgJHtcclxuICAgICAgICAgICAgICAgIGlzUmVjb3JkaW5nIFxyXG4gICAgICAgICAgICAgICAgPyAnYmctcmVkLTUwMCB0ZXh0LXdoaXRlIGFuaW1hdGUtcHVsc2UnIFxyXG4gICAgICAgICAgICAgICAgOiBpc1Byb2Nlc3NpbmdBdWRpbyBcclxuICAgICAgICAgICAgICAgICAgPyAnYmctZ3JheS0zMDAgdGV4dC1ncmF5LTUwMCBjdXJzb3Itbm90LWFsbG93ZWQnIFxyXG4gICAgICAgICAgICAgICAgICA6ICdiZy1wcmltYXJ5IHRleHQtd2hpdGUgaG92ZXI6YmctZGFyayB0cmFuc2l0aW9uLWNvbG9ycydcclxuICAgICAgICAgICAgICB9YH1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIHtpc1JlY29yZGluZyA/IChcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy02IGgtNiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByZWxhdGl2ZVwiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgYmctcmVkLTUwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1waW5nIG9wYWNpdHktNzVcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPEZpTWljIHNpemU9ezIwfSAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgKSA6IGlzUHJvY2Vzc2luZ0F1ZGlvID8gKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTYgaC02IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTQgdy00IGJvcmRlci0yIGJvcmRlci10LXdoaXRlXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgPEZpTWljIHNpemU9ezIwfSAvPlxyXG4gICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2lzRWRpdGluZyA/IHNhdmVFZGl0IDogaGFuZGxlU2VuZE1lc3NhZ2V9XHJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzVXBsb2FkaW5nIHx8ICghbWVzc2FnZSAmJiAhaW1hZ2VGaWxlICYmICFnZW5lcmFsRmlsZSl9XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcC0yIHJvdW5kZWQtZnVsbCAke1xyXG4gICAgICAgICAgICAgICAgKCFtZXNzYWdlICYmICFpbWFnZUZpbGUgJiYgIWdlbmVyYWxGaWxlKSB8fCBpc1VwbG9hZGluZ1xyXG4gICAgICAgICAgICAgICAgPyAnYmctZ3JheS0zMDAgdGV4dC1ncmF5LTUwMCBjdXJzb3Itbm90LWFsbG93ZWQnIFxyXG4gICAgICAgICAgICAgICAgOiAnYmctcHJpbWFyeSB0ZXh0LXdoaXRlIGhvdmVyOmJnLWRhcmsgdHJhbnNpdGlvbi1jb2xvcnMnXHJcbiAgICAgICAgICAgICAgfWB9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICB7aXNVcGxvYWRpbmcgPyAoXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNiBoLTYgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtNCB3LTQgYm9yZGVyLTIgYm9yZGVyLXQtd2hpdGVcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICkgOiBpc0VkaXRpbmcgPyAoXHJcbiAgICAgICAgICAgICAgICA8RmlDaGVjayBzaXplPXsyMH0gLz5cclxuICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgPEZpU2VuZCBzaXplPXsyMH0gLz5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgXHJcbiAgICAgICAgey8qIEhpZGRlbiBmaWxlIGlucHV0cyAqL31cclxuICAgICAgICA8aW5wdXQgXHJcbiAgICAgICAgICByZWY9e2ZpbGVJbnB1dFJlZn1cclxuICAgICAgICAgIHR5cGU9XCJmaWxlXCJcclxuICAgICAgICAgIGFjY2VwdD1cImltYWdlLypcIlxyXG4gICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUltYWdlRmlsZUNoYW5nZX1cclxuICAgICAgICAgIGNsYXNzTmFtZT1cImhpZGRlblwiXHJcbiAgICAgICAgLz5cclxuICAgICAgICBcclxuICAgICAgICA8aW5wdXQgXHJcbiAgICAgICAgICByZWY9e2dlbmVyYWxGaWxlSW5wdXRSZWZ9XHJcbiAgICAgICAgICB0eXBlPVwiZmlsZVwiXHJcbiAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlR2VuZXJhbEZpbGVDaGFuZ2V9XHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJoaWRkZW5cIlxyXG4gICAgICAgIC8+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgey8qIE1vZGFscyAqL31cclxuICAgICAge3Nob3dWaWRlb0NhbGxNb2RhbCAmJiAoXHJcbiAgICAgICAgPFZpZGVvQ2FsbE1vZGFsXHJcbiAgICAgICAgICBpc09wZW49e3RydWV9XHJcbiAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRTaG93VmlkZW9DYWxsTW9kYWwoZmFsc2UpfVxyXG4gICAgICAgICAgdXNlcj17dXNlcn1cclxuICAgICAgICAgIGNoYXRJZD17Y2hhdElkfVxyXG4gICAgICAgICAgcmVjaXBpZW50SWQ9e2NoYXRQYXJ0bmVyPy5pZCB8fCAnJ31cclxuICAgICAgICAgIGlzVmlkZW9DYWxsPXtjYWxsVHlwZSA9PT0gJ3ZpZGVvJ31cclxuICAgICAgICAvPlxyXG4gICAgICApfVxyXG4gICAgICBcclxuICAgICAge3Nob3dBdWRpb0NhbGxNb2RhbCAmJiAoXHJcbiAgICAgICAgPFZpZGVvQ2FsbE1vZGFsXHJcbiAgICAgICAgICBpc09wZW49e3RydWV9XHJcbiAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRTaG93QXVkaW9DYWxsTW9kYWwoZmFsc2UpfVxyXG4gICAgICAgICAgdXNlcj17dXNlcn1cclxuICAgICAgICAgIGNoYXRJZD17Y2hhdElkfVxyXG4gICAgICAgICAgcmVjaXBpZW50SWQ9e2NoYXRQYXJ0bmVyPy5pZCB8fCAnJ31cclxuICAgICAgICAgIGlzVmlkZW9DYWxsPXtjYWxsVHlwZSA9PT0gJ3ZpZGVvJ31cclxuICAgICAgICAvPlxyXG4gICAgICApfVxyXG4gICAgICBcclxuICAgICAge3Nob3dJbmNvbWluZ0NhbGxNb2RhbCAmJiAoXHJcbiAgICAgICAgPEluY29taW5nQ2FsbE1vZGFsXHJcbiAgICAgICAgICBpc09wZW49e3RydWV9XHJcbiAgICAgICAgICBvbkFjY2VwdD17aGFuZGxlQWNjZXB0Q2FsbH1cclxuICAgICAgICAgIG9uUmVqZWN0PXtoYW5kbGVSZWplY3RDYWxsfVxyXG4gICAgICAgICAgdXNlcj17dXNlcn1cclxuICAgICAgICAgIGNhbGxJZD17aW5jb21pbmdDYWxsSWQgfHwgJyd9XHJcbiAgICAgICAgLz5cclxuICAgICAgKX1cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn0gIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwiZGIiLCJjb2xsZWN0aW9uIiwicXVlcnkiLCJvcmRlckJ5Iiwib25TbmFwc2hvdCIsImFkZERvYyIsInNlcnZlclRpbWVzdGFtcCIsImRvYyIsImdldERvYyIsInVwZGF0ZURvYyIsImdldERvY3MiLCJmb3JtYXQiLCJpZCIsIkZpU2VuZCIsIkZpUGFwZXJjbGlwIiwiRmlNaWMiLCJGaVNtaWxlIiwiRmlBcnJvd0xlZnQiLCJGaVgiLCJGaUNhbWVyYSIsIkZpRmlsZSIsIkZpTWVzc2FnZVNxdWFyZSIsIkZpQ2hlY2siLCJGaVZpZGVvIiwiRmlQaG9uZSIsIkNoYXRNZXNzYWdlIiwiRW1vamlQaWNrZXIiLCJsaXN0ZW5Ub1VzZXJQcm9maWxlIiwiVmlkZW9DYWxsTW9kYWwiLCJJbmNvbWluZ0NhbGxNb2RhbCIsIlVzZXJBdmF0YXIiLCJ1c2VySWQiLCJzaXplIiwidXNlckRhdGEiLCJzZXRVc2VyRGF0YSIsImltYWdlRXJyb3IiLCJzZXRJbWFnZUVycm9yIiwidW5zdWJzY3JpYmUiLCJkYXRhIiwic2l6ZUNsYXNzIiwic20iLCJtZCIsImxnIiwiZ2V0SW5pdGlhbHMiLCJkaXNwbGF5TmFtZSIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwiZW1haWwiLCJkaXYiLCJjbGFzc05hbWUiLCJwaG90b1VSTCIsImltZyIsInNyYyIsImFsdCIsIm9uRXJyb3IiLCJlIiwiY29uc29sZSIsImVycm9yIiwiQ2hhdFdpbmRvdyIsInVzZXIiLCJjaGF0SWQiLCJvbkJhY2tDbGljayIsImNvbnRhY3QiLCJ1c2luZ0NvbnRhY3QiLCJtZXNzYWdlIiwic2V0TWVzc2FnZSIsIm1lc3NhZ2VzIiwic2V0TWVzc2FnZXMiLCJjaGF0UGFydG5lciIsInNldENoYXRQYXJ0bmVyIiwibG9hZGluZyIsInNldExvYWRpbmciLCJzZXRFcnJvciIsInVwbG9hZEVycm9yIiwic2V0VXBsb2FkRXJyb3IiLCJwcmV2aWV3VXJsIiwic2V0UHJldmlld1VybCIsInNob3dFbW9qaVBpY2tlciIsInNldFNob3dFbW9qaVBpY2tlciIsImltYWdlRmlsZSIsInNldEltYWdlRmlsZSIsImdlbmVyYWxGaWxlIiwic2V0R2VuZXJhbEZpbGUiLCJpc1VwbG9hZGluZyIsInNldElzVXBsb2FkaW5nIiwibWVzc2FnZXNFbmRSZWYiLCJlbW9qaVBpY2tlclJlZiIsImZpbGVJbnB1dFJlZiIsImdlbmVyYWxGaWxlSW5wdXRSZWYiLCJwYXJ0bmVyTmFtZSIsInNldFBhcnRuZXJOYW1lIiwicGFydG5lclBob25lTnVtYmVyIiwic2V0UGFydG5lclBob25lTnVtYmVyIiwic2hvd0F0dGFjaE1lbnUiLCJzZXRTaG93QXR0YWNoTWVudSIsInBhcnRuZXJPbmxpbmVTdGF0dXMiLCJzZXRQYXJ0bmVyT25saW5lU3RhdHVzIiwicGFydG5lckxhc3RTZWVuIiwic2V0UGFydG5lckxhc3RTZWVuIiwiaW5wdXRSZWYiLCJpc1JlY29yZGluZyIsInNldElzUmVjb3JkaW5nIiwibWVkaWFSZWNvcmRlciIsInNldE1lZGlhUmVjb3JkZXIiLCJhdWRpb0NodW5rcyIsInNldEF1ZGlvQ2h1bmtzIiwiYXVkaW9CbG9iIiwic2V0QXVkaW9CbG9iIiwiaXNQcm9jZXNzaW5nQXVkaW8iLCJzZXRJc1Byb2Nlc3NpbmdBdWRpbyIsInJlcGx5aW5nVG8iLCJzZXRSZXBseWluZ1RvIiwiZWRpdGluZ01lc3NhZ2UiLCJzZXRFZGl0aW5nTWVzc2FnZSIsImlzRWRpdGluZyIsInNldElzRWRpdGluZyIsImF0dGFjaE1lbnVSZWYiLCJzaG91bGRTY3JvbGwiLCJzZXRTaG91bGRTY3JvbGwiLCJ1c2VyU2Nyb2xsZWQiLCJzZXRVc2VyU2Nyb2xsZWQiLCJzaG93VmlkZW9DYWxsTW9kYWwiLCJzZXRTaG93VmlkZW9DYWxsTW9kYWwiLCJzaG93QXVkaW9DYWxsTW9kYWwiLCJzZXRTaG93QXVkaW9DYWxsTW9kYWwiLCJzaG93SW5jb21pbmdDYWxsTW9kYWwiLCJzZXRTaG93SW5jb21pbmdDYWxsTW9kYWwiLCJpbmNvbWluZ0NhbGxJZCIsInNldEluY29taW5nQ2FsbElkIiwiY2FsbFR5cGUiLCJzZXRDYWxsVHlwZSIsImhhbmRsZUNsaWNrT3V0c2lkZSIsImV2ZW50IiwiY3VycmVudCIsImNvbnRhaW5zIiwidGFyZ2V0IiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInVwZGF0ZVBhcnRuZXJTdGF0dXMiLCJwYXJ0bmVyRGF0YSIsImlzT25saW5lIiwibGFzdFNlZW4iLCJmZXRjaENoYXRQYXJ0bmVyIiwiY2hhdERvYyIsImV4aXN0cyIsImNoYXREYXRhIiwicGFydG5lcklkIiwicGFydGljaXBhbnRzIiwiZmluZCIsInVpZCIsInBhcnRuZXJSZWYiLCJwYXJ0bmVyRG9jIiwicGhvbmVOdW1iZXIiLCJ1bnN1YnNjcmliZVByb2ZpbGUiLCJwYXJ0bmVyRXJyb3IiLCJ1bnN1YnNjcmliZVBhcnRuZXIiLCJtZXNzYWdlc1F1ZXJ5IiwidW5zdWJzY3JpYmVNZXNzYWdlcyIsInNuYXBzaG90IiwibmV3TWVzc2FnZXMiLCJkb2NzIiwibWFwIiwibXNnIiwic2VuZGVySWQiLCJyZWFkQnkiLCJpbmNsdWRlcyIsInVwZGF0ZUVycm9yIiwibGFzdE1zZyIsImRvY0NoYW5nZXMiLCJjaGFuZ2UiLCJ0eXBlIiwic2V0VGltZW91dCIsInNjcm9sbFRvQm90dG9tIiwidGhlbiIsInVuc3ViIiwic2Nyb2xsSW50b1ZpZXciLCJiZWhhdmlvciIsImhhbmRsZVNjcm9sbCIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsImNsaWVudEhlaWdodCIsImN1cnJlbnRUYXJnZXQiLCJpc1Njcm9sbGVkVG9Cb3R0b20iLCJoYW5kbGVTZW5kTWVzc2FnZSIsInByZXZlbnREZWZhdWx0Iiwic2F2ZUVkaXQiLCJ0cmltIiwiZmluYWxJbWFnZVVybCIsImZpbGVJbmZvIiwiZmlsZVVybCIsImZpbGVOYW1lIiwiZmlsZVR5cGUiLCJmaWxlU2l6ZSIsImxvZyIsIm5hbWUiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImJvZHkiLCJvayIsImVycm9yRGF0YSIsImpzb24iLCJFcnJvciIsInN0YXR1c1RleHQiLCJzdWNjZXNzIiwidXJsIiwidGV4dCIsInRpbWVzdGFtcCIsImltYWdlVXJsIiwicmVwbHlUbyIsImxhc3RNZXNzYWdlIiwidXBkYXRlZEF0IiwiaGFuZGxlSW1hZ2VGaWxlQ2hhbmdlIiwiZmlsZSIsImZpbGVzIiwic3RhcnRzV2l0aCIsImFsZXJ0IiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsInJlc3VsdCIsInJlYWRBc0RhdGFVUkwiLCJoYW5kbGVHZW5lcmFsRmlsZUNoYW5nZSIsImhhbmRsZVJlbW92ZUltYWdlIiwidmFsdWUiLCJoYW5kbGVSZW1vdmVGaWxlIiwiaGFuZGxlRW1vamlDbGljayIsImVtb2ppRGF0YSIsInByZXYiLCJlbW9qaSIsImZvcm1hdExhc3RTZWVuIiwiZGF0ZSIsInRvRGF0ZSIsInNlY29uZHMiLCJEYXRlIiwibm93IiwiZGlmZk1zIiwiZ2V0VGltZSIsImRpZmZNaW5zIiwiTWF0aCIsInJvdW5kIiwiZGlmZkhvdXJzIiwiZGlmZkRheXMiLCJsb2NhbGUiLCJvcGVuV2hhdHNBcHAiLCJjbGVhbk51bWJlciIsInJlcGxhY2UiLCJ3aW5kb3ciLCJvcGVuIiwiY2xlYXJVcGxvYWRFcnJvciIsInN0YXJ0Vm9pY2VSZWNvcmRpbmciLCJzdHJlYW0iLCJuYXZpZ2F0b3IiLCJtZWRpYURldmljZXMiLCJnZXRVc2VyTWVkaWEiLCJhdWRpbyIsInJlY29yZGVyIiwiTWVkaWFSZWNvcmRlciIsIm1pbWVUeXBlIiwiY2h1bmtzIiwib25kYXRhYXZhaWxhYmxlIiwicHVzaCIsIm9uc3RvcCIsImxlbmd0aCIsIkJsb2IiLCJzdGFydCIsInN0b3BWb2ljZVJlY29yZGluZyIsInN0YXRlIiwic3RvcCIsImdldFRyYWNrcyIsImZvckVhY2giLCJ0cmFjayIsImhhbmRsZVJlcGx5TWVzc2FnZSIsIm1lc3NhZ2VJZCIsIm1lc3NhZ2VUZXh0IiwiZm9jdXMiLCJjYW5jZWxSZXBseSIsImhhbmRsZUVkaXRNZXNzYWdlIiwiY2FuY2VsRWRpdCIsImlzRWRpdGVkIiwiY3VycmVudFRpbWUiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwidG9TdHJpbmciLCJDdXN0b21FdmVudCIsImRldGFpbCIsImRpc3BhdGNoRXZlbnQiLCJsaXN0ZW5Gb3JJbmNvbWluZ0NhbGxzIiwiaW50ZXJ2YWxJZCIsInNldEludGVydmFsIiwiY2FsbHMiLCJKU09OIiwicGFyc2UiLCJnZXRJdGVtIiwiaW5jb21pbmdDYWxscyIsIk9iamVjdCIsImVudHJpZXMiLCJmaWx0ZXIiLCJjYWxsIiwicmVjaXBpZW50SWQiLCJzdGF0dXMiLCJzdGFydGVkQXQiLCJsYXRlc3RDYWxsIiwiY3VycmVudENhbGwiLCJjbGVhckludGVydmFsIiwidW5zdWJzY3JpYmVDYWxscyIsImhhbmRsZVZpZGVvQ2FsbCIsImNvbmZpcm0iLCJoYW5kbGVBdWRpb0NhbGwiLCJoYW5kbGVBY2NlcHRDYWxsIiwiY2FsbElkIiwiaXNWaWRlb0NhbGwiLCJoYW5kbGVSZWplY3RDYWxsIiwiaDIiLCJwIiwic3R5bGUiLCJib3JkZXJSYWRpdXMiLCJvdmVyZmxvdyIsImJ1dHRvbiIsIm9uQ2xpY2siLCJzcGFuIiwidGl0bGUiLCJvblNjcm9sbCIsImJhY2tncm91bmRJbWFnZSIsImJhY2tncm91bmRDb2xvciIsImxvY2F0aW9uIiwicmVsb2FkIiwiaDMiLCJpc093biIsIm9uUmVwbHlNZXNzYWdlIiwibXNnSWQiLCJvbkVkaXRNZXNzYWdlIiwicmVmIiwic3ZnIiwieG1sbnMiLCJ3aWR0aCIsImhlaWdodCIsInZpZXdCb3giLCJmaWxsIiwic3Ryb2tlIiwic3Ryb2tlV2lkdGgiLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iLCJsaW5lIiwieDEiLCJ5MSIsIngyIiwieTIiLCJwb2x5bGluZSIsInBvaW50cyIsInRvRml4ZWQiLCJjbGljayIsIm9uRW1vamlDbGljayIsImlucHV0Iiwib25DaGFuZ2UiLCJvbktleURvd24iLCJrZXkiLCJzaGlmdEtleSIsInBsYWNlaG9sZGVyIiwiZGlzYWJsZWQiLCJvbk1vdXNlRG93biIsIm9uTW91c2VVcCIsIm9uVG91Y2hTdGFydCIsIm9uVG91Y2hFbmQiLCJhY2NlcHQiLCJpc09wZW4iLCJvbkNsb3NlIiwib25BY2NlcHQiLCJvblJlamVjdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/ChatWindow.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/ContactsScreen.tsx":
/*!*******************************************!*\
  !*** ./src/components/ContactsScreen.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ContactsScreen)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _firebase_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/firebase/config */ \"(ssr)/./src/firebase/config.ts\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/firestore */ \"(ssr)/./node_modules/firebase/firestore/dist/index.mjs\");\n/* harmony import */ var _barrel_optimize_names_FiArrowLeft_FiEdit_FiMoreVertical_FiPhone_FiPlus_FiSearch_FiTrash2_FiUser_react_icons_fi__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=FiArrowLeft,FiEdit,FiMoreVertical,FiPhone,FiPlus,FiSearch,FiTrash2,FiUser!=!react-icons/fi */ \"(ssr)/./node_modules/react-icons/fi/index.esm.js\");\n/* harmony import */ var _AddContactModal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./AddContactModal */ \"(ssr)/./src/components/AddContactModal.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\nfunction ContactsScreen({ user, onBack, onSelectContact, onContactSelect, isMobileView = false }) {\n    const [contacts, setContacts] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [searchTerm, setSearchTerm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [showAddModal, setShowAddModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedContactId, setSelectedContactId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [showActionMenu, setShowActionMenu] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [actionMenuPosition, setActionMenuPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        top: 0,\n        left: 0\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const fetchContacts = async ()=>{\n            setLoading(true);\n            try {\n                const contactsQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.collection)(_firebase_config__WEBPACK_IMPORTED_MODULE_2__.db, \"contacts\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.where)(\"userId\", \"==\", user.uid), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.orderBy)(\"name\"));\n                const unsubscribe = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.onSnapshot)(contactsQuery, (snapshot)=>{\n                    const contactsList = [];\n                    snapshot.forEach((doc)=>{\n                        contactsList.push({\n                            id: doc.id,\n                            ...doc.data()\n                        });\n                    });\n                    setContacts(contactsList);\n                    setLoading(false);\n                }, (error)=>{\n                    console.error(\"Error fetching contacts:\", error);\n                    setLoading(false);\n                });\n                return ()=>unsubscribe();\n            } catch (error) {\n                console.error(\"Error setting up contacts listener:\", error);\n                setLoading(false);\n            }\n        };\n        fetchContacts();\n    }, [\n        user.uid\n    ]);\n    const filteredContacts = contacts.filter((contact)=>{\n        if (!searchTerm) return true;\n        return contact.name.toLowerCase().includes(searchTerm.toLowerCase()) || contact.phoneNumber.includes(searchTerm);\n    });\n    const handleAddContact = ()=>{\n        setShowAddModal(true);\n    };\n    const handleContactAdded = ()=>{\n    // Refresh akan dilakukan oleh listener onSnapshot\n    };\n    const handleDeleteContact = async (contactId)=>{\n        try {\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.deleteDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_2__.db, \"contacts\", contactId));\n            setShowActionMenu(false);\n        } catch (error) {\n            console.error(\"Error deleting contact:\", error);\n            alert(\"Gagal menghapus kontak\");\n        }\n    };\n    const handleContactClick = (contact)=>{\n        if (onContactSelect) {\n            onContactSelect({\n                name: contact.name,\n                phoneNumber: contact.phoneNumber\n            });\n        } else if (onSelectContact) {\n            onSelectContact({\n                name: contact.name,\n                phoneNumber: contact.phoneNumber\n            });\n        }\n    };\n    const handleContactMoreClick = (e, contactId)=>{\n        e.stopPropagation();\n        setSelectedContactId(contactId);\n        setActionMenuPosition({\n            top: e.clientY,\n            left: e.clientX\n        });\n        setShowActionMenu(true);\n    };\n    const handleOpenWhatsApp = (phoneNumber, e)=>{\n        e.stopPropagation();\n        const cleanNumber = phoneNumber.replace(/[^\\d+]/g, \"\");\n        window.open(`https://wa.me/${cleanNumber}`, \"_blank\");\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col h-full bg-white\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-primary p-4 flex items-center text-white\",\n                children: [\n                    onBack && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onBack,\n                        className: \"mr-2 p-1 rounded-full hover:bg-white hover:bg-opacity-20\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiArrowLeft_FiEdit_FiMoreVertical_FiPhone_FiPlus_FiSearch_FiTrash2_FiUser_react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiArrowLeft, {\n                            size: 24\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                            lineNumber: 142,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                        lineNumber: 138,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-xl font-medium flex-1\",\n                        children: \"Kontak\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                        lineNumber: 145,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleAddContact,\n                        className: \"p-2 rounded-full hover:bg-white hover:bg-opacity-20\",\n                        title: \"Tambah Kontak\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiArrowLeft_FiEdit_FiMoreVertical_FiPhone_FiPlus_FiSearch_FiTrash2_FiUser_react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiPlus, {\n                            size: 20\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                            lineNumber: 151,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                        lineNumber: 146,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                lineNumber: 136,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"px-4 py-2 border-b\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"relative\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            type: \"text\",\n                            placeholder: \"Cari kontak...\",\n                            value: searchTerm,\n                            onChange: (e)=>setSearchTerm(e.target.value),\n                            className: \"w-full py-2 pl-10 pr-4 bg-gray-100 rounded-full focus:outline-none focus:ring-1 focus:ring-primary\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                            lineNumber: 158,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiArrowLeft_FiEdit_FiMoreVertical_FiPhone_FiPlus_FiSearch_FiTrash2_FiUser_react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiSearch, {\n                            className: \"absolute left-3 top-3 text-gray-500\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                            lineNumber: 165,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                    lineNumber: 157,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                lineNumber: 156,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 overflow-y-auto\",\n                children: loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-center items-center h-32\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-500\",\n                        children: \"Memuat kontak...\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                        lineNumber: 173,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                    lineNumber: 172,\n                    columnNumber: 11\n                }, this) : filteredContacts.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col justify-center items-center h-64\",\n                    children: searchTerm ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-500 mb-2\",\n                        children: \"Tidak ada kontak ditemukan\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                        lineNumber: 178,\n                        columnNumber: 15\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-gray-500 mb-2\",\n                                children: \"Belum ada kontak\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                                lineNumber: 181,\n                                columnNumber: 17\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleAddContact,\n                                className: \"px-4 py-2 bg-primary text-white rounded-full\",\n                                children: \"Tambah Kontak Baru\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                                lineNumber: 182,\n                                columnNumber: 17\n                            }, this)\n                        ]\n                    }, void 0, true)\n                }, void 0, false, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                    lineNumber: 176,\n                    columnNumber: 11\n                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    children: filteredContacts.map((contact)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            onClick: ()=>handleContactClick(contact),\n                            className: \"px-4 py-3 border-b flex items-center cursor-pointer hover:bg-gray-50\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-12 w-12 rounded-full bg-gray-300 flex items-center justify-center mr-3\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiArrowLeft_FiEdit_FiMoreVertical_FiPhone_FiPlus_FiSearch_FiTrash2_FiUser_react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiUser, {\n                                        className: \"text-gray-500 text-xl\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                                        lineNumber: 200,\n                                        columnNumber: 19\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                                    lineNumber: 199,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 min-w-0\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex justify-between items-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                    className: \"font-medium truncate\",\n                                                    children: contact.name\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                                                    lineNumber: 204,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: (e)=>handleContactMoreClick(e, contact.id),\n                                                    className: \"p-1 rounded-full hover:bg-gray-200 text-gray-500\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiArrowLeft_FiEdit_FiMoreVertical_FiPhone_FiPlus_FiSearch_FiTrash2_FiUser_react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiMoreVertical, {\n                                                        size: 18\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                                                        lineNumber: 209,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                                                    lineNumber: 205,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                                            lineNumber: 203,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center text-green-600 mt-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiArrowLeft_FiEdit_FiMoreVertical_FiPhone_FiPlus_FiSearch_FiTrash2_FiUser_react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiPhone, {\n                                                    className: \"mr-1\",\n                                                    size: 14\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                                                    lineNumber: 213,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-sm\",\n                                                    children: contact.phoneNumber\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                                                    lineNumber: 214,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: (e)=>handleOpenWhatsApp(contact.phoneNumber, e),\n                                                    className: \"ml-3 text-xs bg-green-500 text-white px-2 py-1 rounded hover:bg-green-600\",\n                                                    children: \"WhatsApp\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                                                    lineNumber: 215,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                                            lineNumber: 212,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                                    lineNumber: 202,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, contact.id, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                            lineNumber: 194,\n                            columnNumber: 15\n                        }, this))\n                }, void 0, false, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                    lineNumber: 192,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                lineNumber: 170,\n                columnNumber: 7\n            }, this),\n            showAddModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_AddContactModal__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                currentUserId: user.uid,\n                onClose: ()=>setShowAddModal(false),\n                onContactAdded: handleContactAdded\n            }, void 0, false, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                lineNumber: 231,\n                columnNumber: 9\n            }, this),\n            showActionMenu && selectedContactId && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"fixed inset-0 z-40\",\n                        onClick: ()=>setShowActionMenu(false)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                        lineNumber: 241,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"fixed z-50 bg-white rounded-md shadow-lg border overflow-hidden\",\n                        style: {\n                            top: actionMenuPosition.top,\n                            left: actionMenuPosition.left < window.innerWidth / 2 ? actionMenuPosition.left : \"auto\",\n                            right: actionMenuPosition.left >= window.innerWidth / 2 ? window.innerWidth - actionMenuPosition.left : \"auto\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>{\n                                    // Edit logic here\n                                    setShowActionMenu(false);\n                                },\n                                className: \"flex items-center w-full px-4 py-2 text-left hover:bg-gray-100\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiArrowLeft_FiEdit_FiMoreVertical_FiPhone_FiPlus_FiSearch_FiTrash2_FiUser_react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiEdit, {\n                                        className: \"mr-2\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                                        lineNumber: 260,\n                                        columnNumber: 15\n                                    }, this),\n                                    \" Edit\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                                lineNumber: 253,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>{\n                                    if (window.confirm(\"Yakin ingin menghapus kontak ini?\")) {\n                                        handleDeleteContact(selectedContactId);\n                                    }\n                                },\n                                className: \"flex items-center w-full px-4 py-2 text-left text-red-600 hover:bg-gray-100\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiArrowLeft_FiEdit_FiMoreVertical_FiPhone_FiPlus_FiSearch_FiTrash2_FiUser_react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiTrash2, {\n                                        className: \"mr-2\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                                        lineNumber: 270,\n                                        columnNumber: 15\n                                    }, this),\n                                    \" Hapus\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                                lineNumber: 262,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n                        lineNumber: 245,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ContactsScreen.tsx\",\n        lineNumber: 134,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ozs7Ozs7Ozs7MkJBdkJBdEIsUUFBUU4sRUFBRTs7Ozs7Ozs7Ozs7Ozs7O1lBbUN4QmxCLDhCQUNDLDhEQUFDYix3REFBZUE7Z0JBQ2Q0RSxlQUFlMUUsS0FBS3VCLEdBQUc7Z0JBQ3ZCb0QsU0FBUyxJQUFNL0QsZ0JBQWdCO2dCQUMvQmdFLGdCQUFnQm5DOzs7Ozs7WUFLbkIxQixrQkFBa0JGLG1DQUNqQjs7a0NBQ0UsOERBQUMyQzt3QkFDQ0MsV0FBVTt3QkFDVkUsU0FBUyxJQUFNM0Msa0JBQWtCOzs7Ozs7a0NBRW5DLDhEQUFDd0M7d0JBQ0NDLFdBQVU7d0JBQ1ZvQixPQUFPOzRCQUNMMUQsS0FBS0YsbUJBQW1CRSxHQUFHOzRCQUMzQkMsTUFBTUgsbUJBQW1CRyxJQUFJLEdBQUdrQyxPQUFPd0IsVUFBVSxHQUFHLElBQUk3RCxtQkFBbUJHLElBQUksR0FBRzs0QkFDbEYyRCxPQUFPOUQsbUJBQW1CRyxJQUFJLElBQUlrQyxPQUFPd0IsVUFBVSxHQUFHLElBQUl4QixPQUFPd0IsVUFBVSxHQUFHN0QsbUJBQW1CRyxJQUFJLEdBQUc7d0JBQzFHOzswQ0FFQSw4REFBQ3NDO2dDQUNDQyxTQUFTO29DQUNQLGtCQUFrQjtvQ0FDbEIzQyxrQkFBa0I7Z0NBQ3BCO2dDQUNBeUMsV0FBVTs7a0RBRVYsOERBQUM1RCxtSkFBTUE7d0NBQUM0RCxXQUFVOzs7Ozs7b0NBQVM7Ozs7Ozs7MENBRTdCLDhEQUFDQztnQ0FDQ0MsU0FBUztvQ0FDUCxJQUFJTCxPQUFPMEIsT0FBTyxDQUFDLHNDQUFzQzt3Q0FDdkR0QyxvQkFBb0I3QjtvQ0FDdEI7Z0NBQ0Y7Z0NBQ0E0QyxXQUFVOztrREFFViw4REFBQzdELHFKQUFRQTt3Q0FBQzZELFdBQVU7Ozs7OztvQ0FBUzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTzNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFsbG8vLi9zcmMvY29tcG9uZW50cy9Db250YWN0c1NjcmVlbi50c3g/NTY0NyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XHJcblxyXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBVc2VyIH0gZnJvbSAnZmlyZWJhc2UvYXV0aCc7XHJcbmltcG9ydCB7IGRiIH0gZnJvbSAnQC9maXJlYmFzZS9jb25maWcnO1xyXG5pbXBvcnQgeyBjb2xsZWN0aW9uLCBxdWVyeSwgd2hlcmUsIG9yZGVyQnksIGdldERvY3MsIG9uU25hcHNob3QsIGRlbGV0ZURvYywgZG9jIH0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcclxuaW1wb3J0IHsgRmlTZWFyY2gsIEZpVXNlciwgRmlQaG9uZSwgRmlQbHVzLCBGaU1vcmVWZXJ0aWNhbCwgRmlBcnJvd0xlZnQsIEZpVHJhc2gyLCBGaUVkaXQgfSBmcm9tICdyZWFjdC1pY29ucy9maSc7XHJcbmltcG9ydCBBZGRDb250YWN0TW9kYWwgZnJvbSAnLi9BZGRDb250YWN0TW9kYWwnO1xyXG5cclxudHlwZSBDb250YWN0ID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIHBob25lTnVtYmVyOiBzdHJpbmc7XHJcbiAgY3JlYXRlZEF0OiBhbnk7XHJcbn07XHJcblxyXG50eXBlIENvbnRhY3RzU2NyZWVuUHJvcHMgPSB7XHJcbiAgdXNlcjogVXNlcjtcclxuICBvbkJhY2s/OiAoKSA9PiB2b2lkO1xyXG4gIG9uU2VsZWN0Q29udGFjdD86IChjb250YWN0OiB7IG5hbWU6IHN0cmluZywgcGhvbmVOdW1iZXI6IHN0cmluZyB9KSA9PiB2b2lkO1xyXG4gIG9uQ29udGFjdFNlbGVjdD86IChjb250YWN0OiB7IG5hbWU6IHN0cmluZywgcGhvbmVOdW1iZXI6IHN0cmluZyB9KSA9PiB2b2lkO1xyXG4gIGlzTW9iaWxlVmlldz86IGJvb2xlYW47XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb250YWN0c1NjcmVlbih7XHJcbiAgdXNlcixcclxuICBvbkJhY2ssXHJcbiAgb25TZWxlY3RDb250YWN0LFxyXG4gIG9uQ29udGFjdFNlbGVjdCxcclxuICBpc01vYmlsZVZpZXcgPSBmYWxzZVxyXG59OiBDb250YWN0c1NjcmVlblByb3BzKSB7XHJcbiAgY29uc3QgW2NvbnRhY3RzLCBzZXRDb250YWN0c10gPSB1c2VTdGF0ZTxDb250YWN0W10+KFtdKTtcclxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcclxuICBjb25zdCBbc2VhcmNoVGVybSwgc2V0U2VhcmNoVGVybV0gPSB1c2VTdGF0ZSgnJyk7XHJcbiAgY29uc3QgW3Nob3dBZGRNb2RhbCwgc2V0U2hvd0FkZE1vZGFsXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbc2VsZWN0ZWRDb250YWN0SWQsIHNldFNlbGVjdGVkQ29udGFjdElkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFtzaG93QWN0aW9uTWVudSwgc2V0U2hvd0FjdGlvbk1lbnVdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFthY3Rpb25NZW51UG9zaXRpb24sIHNldEFjdGlvbk1lbnVQb3NpdGlvbl0gPSB1c2VTdGF0ZSh7IHRvcDogMCwgbGVmdDogMCB9KTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGZldGNoQ29udGFjdHMgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgY29udGFjdHNRdWVyeSA9IHF1ZXJ5KFxyXG4gICAgICAgICAgY29sbGVjdGlvbihkYiwgJ2NvbnRhY3RzJyksXHJcbiAgICAgICAgICB3aGVyZSgndXNlcklkJywgJz09JywgdXNlci51aWQpLFxyXG4gICAgICAgICAgb3JkZXJCeSgnbmFtZScpXHJcbiAgICAgICAgKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCB1bnN1YnNjcmliZSA9IG9uU25hcHNob3QoY29udGFjdHNRdWVyeSwgKHNuYXBzaG90KSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBjb250YWN0c0xpc3Q6IENvbnRhY3RbXSA9IFtdO1xyXG4gICAgICAgICAgc25hcHNob3QuZm9yRWFjaCgoZG9jKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnRhY3RzTGlzdC5wdXNoKHtcclxuICAgICAgICAgICAgICBpZDogZG9jLmlkLFxyXG4gICAgICAgICAgICAgIC4uLmRvYy5kYXRhKClcclxuICAgICAgICAgICAgfSBhcyBDb250YWN0KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBzZXRDb250YWN0cyhjb250YWN0c0xpc3QpO1xyXG4gICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgICAgfSwgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBjb250YWN0czonLCBlcnJvcik7XHJcbiAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gKCkgPT4gdW5zdWJzY3JpYmUoKTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZXR0aW5nIHVwIGNvbnRhY3RzIGxpc3RlbmVyOicsIGVycm9yKTtcclxuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBmZXRjaENvbnRhY3RzKCk7XHJcbiAgfSwgW3VzZXIudWlkXSk7XHJcblxyXG4gIGNvbnN0IGZpbHRlcmVkQ29udGFjdHMgPSBjb250YWN0cy5maWx0ZXIoY29udGFjdCA9PiB7XHJcbiAgICBpZiAoIXNlYXJjaFRlcm0pIHJldHVybiB0cnVlO1xyXG4gICAgXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICBjb250YWN0Lm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hUZXJtLnRvTG93ZXJDYXNlKCkpIHx8XHJcbiAgICAgIGNvbnRhY3QucGhvbmVOdW1iZXIuaW5jbHVkZXMoc2VhcmNoVGVybSlcclxuICAgICk7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZUFkZENvbnRhY3QgPSAoKSA9PiB7XHJcbiAgICBzZXRTaG93QWRkTW9kYWwodHJ1ZSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlQ29udGFjdEFkZGVkID0gKCkgPT4ge1xyXG4gICAgLy8gUmVmcmVzaCBha2FuIGRpbGFrdWthbiBvbGVoIGxpc3RlbmVyIG9uU25hcHNob3RcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVEZWxldGVDb250YWN0ID0gYXN5bmMgKGNvbnRhY3RJZDogc3RyaW5nKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBkZWxldGVEb2MoZG9jKGRiLCAnY29udGFjdHMnLCBjb250YWN0SWQpKTtcclxuICAgICAgc2V0U2hvd0FjdGlvbk1lbnUoZmFsc2UpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgY29udGFjdDonLCBlcnJvcik7XHJcbiAgICAgIGFsZXJ0KCdHYWdhbCBtZW5naGFwdXMga29udGFrJyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlQ29udGFjdENsaWNrID0gKGNvbnRhY3Q6IENvbnRhY3QpID0+IHtcclxuICAgIGlmIChvbkNvbnRhY3RTZWxlY3QpIHtcclxuICAgICAgb25Db250YWN0U2VsZWN0KHtcclxuICAgICAgICBuYW1lOiBjb250YWN0Lm5hbWUsXHJcbiAgICAgICAgcGhvbmVOdW1iZXI6IGNvbnRhY3QucGhvbmVOdW1iZXJcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2UgaWYgKG9uU2VsZWN0Q29udGFjdCkge1xyXG4gICAgICBvblNlbGVjdENvbnRhY3Qoe1xyXG4gICAgICAgIG5hbWU6IGNvbnRhY3QubmFtZSxcclxuICAgICAgICBwaG9uZU51bWJlcjogY29udGFjdC5waG9uZU51bWJlclxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVDb250YWN0TW9yZUNsaWNrID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQsIGNvbnRhY3RJZDogc3RyaW5nKSA9PiB7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgc2V0U2VsZWN0ZWRDb250YWN0SWQoY29udGFjdElkKTtcclxuICAgIHNldEFjdGlvbk1lbnVQb3NpdGlvbih7IFxyXG4gICAgICB0b3A6IGUuY2xpZW50WSwgXHJcbiAgICAgIGxlZnQ6IGUuY2xpZW50WCBcclxuICAgIH0pO1xyXG4gICAgc2V0U2hvd0FjdGlvbk1lbnUodHJ1ZSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlT3BlbldoYXRzQXBwID0gKHBob25lTnVtYmVyOiBzdHJpbmcsIGU6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBjb25zdCBjbGVhbk51bWJlciA9IHBob25lTnVtYmVyLnJlcGxhY2UoL1teXFxkK10vZywgJycpO1xyXG4gICAgd2luZG93Lm9wZW4oYGh0dHBzOi8vd2EubWUvJHtjbGVhbk51bWJlcn1gLCAnX2JsYW5rJyk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBoLWZ1bGwgYmctd2hpdGVcIj5cclxuICAgICAgey8qIEhlYWRlciAqL31cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1wcmltYXJ5IHAtNCBmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LXdoaXRlXCI+XHJcbiAgICAgICAge29uQmFjayAmJiAoXHJcbiAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e29uQmFja31cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwibXItMiBwLTEgcm91bmRlZC1mdWxsIGhvdmVyOmJnLXdoaXRlIGhvdmVyOmJnLW9wYWNpdHktMjBcIlxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8RmlBcnJvd0xlZnQgc2l6ZT17MjR9IC8+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICApfVxyXG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtbWVkaXVtIGZsZXgtMVwiPktvbnRhazwvaDI+XHJcbiAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUFkZENvbnRhY3R9XHJcbiAgICAgICAgICBjbGFzc05hbWU9XCJwLTIgcm91bmRlZC1mdWxsIGhvdmVyOmJnLXdoaXRlIGhvdmVyOmJnLW9wYWNpdHktMjBcIlxyXG4gICAgICAgICAgdGl0bGU9XCJUYW1iYWggS29udGFrXCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICA8RmlQbHVzIHNpemU9ezIwfSAvPlxyXG4gICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIHsvKiBTZWFyY2ggQmFyICovfVxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTQgcHktMiBib3JkZXItYlwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cclxuICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQ2FyaSBrb250YWsuLi5cIlxyXG4gICAgICAgICAgICB2YWx1ZT17c2VhcmNoVGVybX1cclxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWFyY2hUZXJtKGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB5LTIgcGwtMTAgcHItNCBiZy1ncmF5LTEwMCByb3VuZGVkLWZ1bGwgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMSBmb2N1czpyaW5nLXByaW1hcnlcIlxyXG4gICAgICAgICAgLz5cclxuICAgICAgICAgIDxGaVNlYXJjaCBjbGFzc05hbWU9XCJhYnNvbHV0ZSBsZWZ0LTMgdG9wLTMgdGV4dC1ncmF5LTUwMFwiIC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgey8qIENvbnRhY3RzIExpc3QgKi99XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0b1wiPlxyXG4gICAgICAgIHtsb2FkaW5nID8gKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlciBoLTMyXCI+XHJcbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDBcIj5NZW11YXQga29udGFrLi4uPC9wPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKSA6IGZpbHRlcmVkQ29udGFjdHMubGVuZ3RoID09PSAwID8gKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlciBoLTY0XCI+XHJcbiAgICAgICAgICAgIHtzZWFyY2hUZXJtID8gKFxyXG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgbWItMlwiPlRpZGFrIGFkYSBrb250YWsgZGl0ZW11a2FuPC9wPlxyXG4gICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIG1iLTJcIj5CZWx1bSBhZGEga29udGFrPC9wPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVBZGRDb250YWN0fVxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgYmctcHJpbWFyeSB0ZXh0LXdoaXRlIHJvdW5kZWQtZnVsbFwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIFRhbWJhaCBLb250YWsgQmFydVxyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApIDogKFxyXG4gICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAge2ZpbHRlcmVkQ29udGFjdHMubWFwKChjb250YWN0KSA9PiAoXHJcbiAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAga2V5PXtjb250YWN0LmlkfVxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQ29udGFjdENsaWNrKGNvbnRhY3QpfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0zIGJvcmRlci1iIGZsZXggaXRlbXMtY2VudGVyIGN1cnNvci1wb2ludGVyIGhvdmVyOmJnLWdyYXktNTBcIlxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC0xMiB3LTEyIHJvdW5kZWQtZnVsbCBiZy1ncmF5LTMwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtci0zXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxGaVVzZXIgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMCB0ZXh0LXhsXCIgLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgbWluLXctMFwiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0cnVuY2F0ZVwiPntjb250YWN0Lm5hbWV9PC9oMz5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4gaGFuZGxlQ29udGFjdE1vcmVDbGljayhlLCBjb250YWN0LmlkKX1cclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMSByb3VuZGVkLWZ1bGwgaG92ZXI6YmctZ3JheS0yMDAgdGV4dC1ncmF5LTUwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPEZpTW9yZVZlcnRpY2FsIHNpemU9ezE4fSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LWdyZWVuLTYwMCBtdC0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPEZpUGhvbmUgY2xhc3NOYW1lPVwibXItMVwiIHNpemU9ezE0fSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc21cIj57Y29udGFjdC5waG9uZU51bWJlcn08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IGhhbmRsZU9wZW5XaGF0c0FwcChjb250YWN0LnBob25lTnVtYmVyLCBlKX1cclxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1sLTMgdGV4dC14cyBiZy1ncmVlbi01MDAgdGV4dC13aGl0ZSBweC0yIHB5LTEgcm91bmRlZCBob3ZlcjpiZy1ncmVlbi02MDBcIlxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgIFdoYXRzQXBwXHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICB7LyogQWRkIENvbnRhY3QgTW9kYWwgKi99XHJcbiAgICAgIHtzaG93QWRkTW9kYWwgJiYgKFxyXG4gICAgICAgIDxBZGRDb250YWN0TW9kYWxcclxuICAgICAgICAgIGN1cnJlbnRVc2VySWQ9e3VzZXIudWlkfVxyXG4gICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0U2hvd0FkZE1vZGFsKGZhbHNlKX1cclxuICAgICAgICAgIG9uQ29udGFjdEFkZGVkPXtoYW5kbGVDb250YWN0QWRkZWR9XHJcbiAgICAgICAgLz5cclxuICAgICAgKX1cclxuXHJcbiAgICAgIHsvKiBBY3Rpb24gTWVudSAqL31cclxuICAgICAge3Nob3dBY3Rpb25NZW51ICYmIHNlbGVjdGVkQ29udGFjdElkICYmIChcclxuICAgICAgICA8PlxyXG4gICAgICAgICAgPGRpdiBcclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCB6LTQwXCIgXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dBY3Rpb25NZW51KGZhbHNlKX1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmaXhlZCB6LTUwIGJnLXdoaXRlIHJvdW5kZWQtbWQgc2hhZG93LWxnIGJvcmRlciBvdmVyZmxvdy1oaWRkZW5cIlxyXG4gICAgICAgICAgICBzdHlsZT17eyBcclxuICAgICAgICAgICAgICB0b3A6IGFjdGlvbk1lbnVQb3NpdGlvbi50b3AsIFxyXG4gICAgICAgICAgICAgIGxlZnQ6IGFjdGlvbk1lbnVQb3NpdGlvbi5sZWZ0IDwgd2luZG93LmlubmVyV2lkdGggLyAyID8gYWN0aW9uTWVudVBvc2l0aW9uLmxlZnQgOiAnYXV0bycsXHJcbiAgICAgICAgICAgICAgcmlnaHQ6IGFjdGlvbk1lbnVQb3NpdGlvbi5sZWZ0ID49IHdpbmRvdy5pbm5lcldpZHRoIC8gMiA/IHdpbmRvdy5pbm5lcldpZHRoIC0gYWN0aW9uTWVudVBvc2l0aW9uLmxlZnQgOiAnYXV0bydcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIEVkaXQgbG9naWMgaGVyZVxyXG4gICAgICAgICAgICAgICAgc2V0U2hvd0FjdGlvbk1lbnUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgdy1mdWxsIHB4LTQgcHktMiB0ZXh0LWxlZnQgaG92ZXI6YmctZ3JheS0xMDBcIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPEZpRWRpdCBjbGFzc05hbWU9XCJtci0yXCIgLz4gRWRpdFxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuY29uZmlybSgnWWFraW4gaW5naW4gbWVuZ2hhcHVzIGtvbnRhayBpbmk/JykpIHtcclxuICAgICAgICAgICAgICAgICAgaGFuZGxlRGVsZXRlQ29udGFjdChzZWxlY3RlZENvbnRhY3RJZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciB3LWZ1bGwgcHgtNCBweS0yIHRleHQtbGVmdCB0ZXh0LXJlZC02MDAgaG92ZXI6YmctZ3JheS0xMDBcIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPEZpVHJhc2gyIGNsYXNzTmFtZT1cIm1yLTJcIiAvPiBIYXB1c1xyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvPlxyXG4gICAgICApfVxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufSAiXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJkYiIsImNvbGxlY3Rpb24iLCJxdWVyeSIsIndoZXJlIiwib3JkZXJCeSIsIm9uU25hcHNob3QiLCJkZWxldGVEb2MiLCJkb2MiLCJGaVNlYXJjaCIsIkZpVXNlciIsIkZpUGhvbmUiLCJGaVBsdXMiLCJGaU1vcmVWZXJ0aWNhbCIsIkZpQXJyb3dMZWZ0IiwiRmlUcmFzaDIiLCJGaUVkaXQiLCJBZGRDb250YWN0TW9kYWwiLCJDb250YWN0c1NjcmVlbiIsInVzZXIiLCJvbkJhY2siLCJvblNlbGVjdENvbnRhY3QiLCJvbkNvbnRhY3RTZWxlY3QiLCJpc01vYmlsZVZpZXciLCJjb250YWN0cyIsInNldENvbnRhY3RzIiwibG9hZGluZyIsInNldExvYWRpbmciLCJzZWFyY2hUZXJtIiwic2V0U2VhcmNoVGVybSIsInNob3dBZGRNb2RhbCIsInNldFNob3dBZGRNb2RhbCIsInNlbGVjdGVkQ29udGFjdElkIiwic2V0U2VsZWN0ZWRDb250YWN0SWQiLCJzaG93QWN0aW9uTWVudSIsInNldFNob3dBY3Rpb25NZW51IiwiYWN0aW9uTWVudVBvc2l0aW9uIiwic2V0QWN0aW9uTWVudVBvc2l0aW9uIiwidG9wIiwibGVmdCIsImZldGNoQ29udGFjdHMiLCJjb250YWN0c1F1ZXJ5IiwidWlkIiwidW5zdWJzY3JpYmUiLCJzbmFwc2hvdCIsImNvbnRhY3RzTGlzdCIsImZvckVhY2giLCJwdXNoIiwiaWQiLCJkYXRhIiwiZXJyb3IiLCJjb25zb2xlIiwiZmlsdGVyZWRDb250YWN0cyIsImZpbHRlciIsImNvbnRhY3QiLCJuYW1lIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsInBob25lTnVtYmVyIiwiaGFuZGxlQWRkQ29udGFjdCIsImhhbmRsZUNvbnRhY3RBZGRlZCIsImhhbmRsZURlbGV0ZUNvbnRhY3QiLCJjb250YWN0SWQiLCJhbGVydCIsImhhbmRsZUNvbnRhY3RDbGljayIsImhhbmRsZUNvbnRhY3RNb3JlQ2xpY2siLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwiY2xpZW50WSIsImNsaWVudFgiLCJoYW5kbGVPcGVuV2hhdHNBcHAiLCJjbGVhbk51bWJlciIsInJlcGxhY2UiLCJ3aW5kb3ciLCJvcGVuIiwiZGl2IiwiY2xhc3NOYW1lIiwiYnV0dG9uIiwib25DbGljayIsInNpemUiLCJoMiIsInRpdGxlIiwiaW5wdXQiLCJ0eXBlIiwicGxhY2Vob2xkZXIiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwidGFyZ2V0IiwicCIsImxlbmd0aCIsIm1hcCIsImgzIiwic3BhbiIsImN1cnJlbnRVc2VySWQiLCJvbkNsb3NlIiwib25Db250YWN0QWRkZWQiLCJzdHlsZSIsImlubmVyV2lkdGgiLCJyaWdodCIsImNvbmZpcm0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/components/ContactsScreen.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/I18nextClientProvider.tsx":
/*!**************************************************!*\
  !*** ./src/components/I18nextClientProvider.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ I18nextClientProvider)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-i18next */ \"(ssr)/./node_modules/react-i18next/dist/es/index.js\");\n/* harmony import */ var _lib_i18n__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/i18n */ \"(ssr)/./src/lib/i18n.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\nfunction I18nextClientProvider({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_i18next__WEBPACK_IMPORTED_MODULE_1__.I18nextProvider, {\n        i18n: _lib_i18n__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n        children: children\n    }, void 0, false, {\n        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\I18nextClientProvider.tsx\",\n        lineNumber: 12,\n        columnNumber: 10\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9JMThuZXh0Q2xpZW50UHJvdmlkZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUdnRDtBQUNsQjtBQU1mLFNBQVNFLHNCQUFzQixFQUFFQyxRQUFRLEVBQThCO0lBQ3BGLHFCQUFPLDhEQUFDSCwwREFBZUE7UUFBQ0MsTUFBTUEsaURBQUlBO2tCQUFHRTs7Ozs7O0FBQ3ZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFsbG8vLi9zcmMvY29tcG9uZW50cy9JMThuZXh0Q2xpZW50UHJvdmlkZXIudHN4PzFlZTEiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xyXG5cclxuaW1wb3J0IHsgUmVhY3ROb2RlIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBJMThuZXh0UHJvdmlkZXIgfSBmcm9tICdyZWFjdC1pMThuZXh0JztcclxuaW1wb3J0IGkxOG4gZnJvbSAnQC9saWIvaTE4bic7XHJcblxyXG50eXBlIEkxOG5leHRDbGllbnRQcm92aWRlclByb3BzID0ge1xyXG4gIGNoaWxkcmVuOiBSZWFjdE5vZGU7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBJMThuZXh0Q2xpZW50UHJvdmlkZXIoeyBjaGlsZHJlbiB9OiBJMThuZXh0Q2xpZW50UHJvdmlkZXJQcm9wcykge1xyXG4gIHJldHVybiA8STE4bmV4dFByb3ZpZGVyIGkxOG49e2kxOG59PntjaGlsZHJlbn08L0kxOG5leHRQcm92aWRlcj47XHJcbn0gIl0sIm5hbWVzIjpbIkkxOG5leHRQcm92aWRlciIsImkxOG4iLCJJMThuZXh0Q2xpZW50UHJvdmlkZXIiLCJjaGlsZHJlbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/I18nextClientProvider.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/IncomingCallModal.tsx":
/*!**********************************************!*\
  !*** ./src/components/IncomingCallModal.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ IncomingCallModal)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_FiPhone_FiPhoneOff_FiVideo_react_icons_fi__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=FiPhone,FiPhoneOff,FiVideo!=!react-icons/fi */ \"(ssr)/./node_modules/react-icons/fi/index.esm.js\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/firestore */ \"(ssr)/./node_modules/firebase/firestore/dist/index.mjs\");\n/* harmony import */ var _firebase_config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../firebase/config */ \"(ssr)/./src/firebase/config.ts\");\n/* harmony import */ var howler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! howler */ \"(ssr)/./node_modules/howler/dist/howler.js\");\n/* harmony import */ var howler__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(howler__WEBPACK_IMPORTED_MODULE_4__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n// Helper untuk mengupdate status panggilan di Firestore\nconst updateCallStatus = async (callId, status)=>{\n    try {\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.updateDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_3__.db, \"calls\", callId), {\n            status,\n            updatedAt: new Date().toISOString(),\n            ...status === \"ended\" || status === \"declined\" ? {\n                endedAt: new Date().toISOString()\n            } : {}\n        });\n        return true;\n    } catch (error) {\n        console.error(\"Error updating call status in Firestore:\", error);\n        return false;\n    }\n};\n// Gunakan file ringtone statis dari folder public\nconst RINGTONE_FILE_PATH = \"/sounds/ringtone.mp3\";\nfunction IncomingCallModal({ isOpen, onAccept, onReject, user, callId }) {\n    const [callerName, setCallerName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isVideoCall, setIsVideoCall] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [callRinging, setCallRinging] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const ringtoneRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const audioFallbackRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const mountedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const hasActionTakenRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const actionInProgressRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    // Reset state ketika modal terbuka (untuk panggilan baru)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen) {\n            console.log(\"IncomingCallModal opened, resetting state\");\n            hasActionTakenRef.current = false;\n            actionInProgressRef.current = false;\n        } else {\n            // Tandai tidak aktif saat ditutup\n            mountedRef.current = false;\n        }\n    }, [\n        isOpen\n    ]);\n    // Membunyikan nada dering\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Tandai component mounted\n        mountedRef.current = true;\n        // Fungsi untuk membersihkan audio\n        const cleanupAudio = ()=>{\n            // Bersihkan Howler\n            if (ringtoneRef.current) {\n                ringtoneRef.current.stop();\n                ringtoneRef.current.unload();\n                ringtoneRef.current = null;\n            }\n            // Bersihkan audio fallback\n            if (audioFallbackRef.current) {\n                audioFallbackRef.current.pause();\n                audioFallbackRef.current.src = \"\";\n                audioFallbackRef.current = null;\n            }\n        };\n        // Hanya putar ringtone jika modal terbuka dan belum mengambil tindakan\n        if (isOpen && callRinging && !hasActionTakenRef.current) {\n            try {\n                // Bersihkan dulu audio lama jika ada\n                cleanupAudio();\n                // Coba mainkan dengan Howler\n                const sound = new howler__WEBPACK_IMPORTED_MODULE_4__.Howl({\n                    src: [\n                        RINGTONE_FILE_PATH\n                    ],\n                    autoplay: false,\n                    loop: true,\n                    volume: 0.7,\n                    html5: true,\n                    preload: true,\n                    format: [\n                        \"mp3\",\n                        \"wav\"\n                    ],\n                    onloaderror: function(id, err) {\n                        console.error(\"Error loading ringtone:\", err);\n                        playFallbackAudio();\n                    }\n                });\n                // Simpan referensi\n                ringtoneRef.current = sound;\n                // Coba mainkan\n                try {\n                    sound.play();\n                    console.log(\"Playing ringtone with Howler\");\n                } catch (playError) {\n                    console.error(\"Error playing ringtone with Howler:\", playError);\n                    playFallbackAudio();\n                }\n            } catch (error) {\n                console.error(\"Error setting up ringtone:\", error);\n                playFallbackAudio();\n            }\n        }\n        // Fallback ke Audio API jika Howler gagal\n        function playFallbackAudio() {\n            try {\n                const audio = new Audio(RINGTONE_FILE_PATH);\n                audio.loop = true;\n                audio.volume = 0.7;\n                audioFallbackRef.current = audio;\n                // Coba mainkan dengan penanganan error\n                audio.play().catch((e)=>{\n                    console.log(\"Fallback audio autoplay failed:\", e);\n                    // Butuh interaksi pengguna - tambahkan event listeners\n                    const playOnUserInteraction = ()=>{\n                        if (audioFallbackRef.current && mountedRef.current) {\n                            audioFallbackRef.current.play().catch((e)=>console.error(\"Still failed to play audio after interaction:\", e));\n                        }\n                        // Hapus listener setelah berhasil\n                        document.removeEventListener(\"click\", playOnUserInteraction);\n                        document.removeEventListener(\"touchstart\", playOnUserInteraction);\n                    };\n                    document.addEventListener(\"click\", playOnUserInteraction, {\n                        once: true\n                    });\n                    document.addEventListener(\"touchstart\", playOnUserInteraction, {\n                        once: true\n                    });\n                });\n            } catch (audioError) {\n                console.error(\"All audio playback attempts failed:\", audioError);\n            }\n        }\n        // Cleanup function\n        return ()=>{\n            mountedRef.current = false;\n            cleanupAudio();\n        };\n    }, [\n        isOpen,\n        callRinging\n    ]);\n    // Mendapatkan informasi panggilan dan setup listener\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let unsubscribe = null;\n        const fetchCallInfo = async ()=>{\n            if (!callId || !isOpen) return;\n            try {\n                console.log(\"Setting up call listener for ID:\", callId);\n                // Setup real-time listener untuk dokumen panggilan\n                unsubscribe = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.onSnapshot)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_3__.db, \"calls\", callId), async (docSnapshot)=>{\n                    if (!mountedRef.current) return;\n                    if (!docSnapshot.exists()) {\n                        console.log(\"Call document not found\");\n                        setCallRinging(false);\n                        hasActionTakenRef.current = true;\n                        onReject();\n                        return;\n                    }\n                    const callData = docSnapshot.data();\n                    setIsVideoCall(callData.type === \"video\");\n                    // Periksa status panggilan\n                    if (callData.status === \"ended\" || callData.status === \"declined\") {\n                        console.log(\"Call ended remotely\");\n                        setCallRinging(false);\n                        hasActionTakenRef.current = true;\n                        // Hentikan ringtone\n                        if (ringtoneRef.current) {\n                            ringtoneRef.current.stop();\n                        }\n                        if (audioFallbackRef.current) {\n                            audioFallbackRef.current.pause();\n                        }\n                        onReject();\n                        return;\n                    }\n                    // Ambil informasi penelepon\n                    if (callData.initiatorId && !callerName) {\n                        try {\n                            const callerDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_3__.db, \"users\", callData.initiatorId));\n                            if (callerDoc.exists()) {\n                                setCallerName(callerDoc.data().displayName || \"Pengguna\");\n                            } else {\n                                // Fallback ke localStorage jika ada\n                                try {\n                                    const users = JSON.parse(localStorage.getItem(\"hallo_users\") || \"{}\");\n                                    const callerData = users[callData.initiatorId];\n                                    if (callerData) {\n                                        setCallerName(callerData.displayName || \"Pengguna\");\n                                    } else {\n                                        setCallerName(\"Pengguna\");\n                                    }\n                                } catch (storageError) {\n                                    console.error(\"Error accessing localStorage:\", storageError);\n                                    setCallerName(\"Pengguna\");\n                                }\n                            }\n                        } catch (error) {\n                            console.error(\"Error fetching caller info:\", error);\n                            setCallerName(\"Pengguna\");\n                        }\n                    }\n                    // Verifikasi status panggilan\n                    if (callData.startedAt) {\n                        // Cek apakah panggilan masih valid (tidak lebih dari 60 detik)\n                        const startTime = new Date(callData.startedAt).getTime();\n                        const now = new Date().getTime();\n                        const callAge = now - startTime;\n                        if (callAge > 60000 && callData.status === \"ringing\") {\n                            console.log(\"Call is too old (> 60s), auto-declining\");\n                            // Hindari multiple decline jika sudah ditandai\n                            if (!hasActionTakenRef.current && !actionInProgressRef.current) {\n                                handleReject();\n                            }\n                        }\n                    }\n                });\n            } catch (error) {\n                console.error(\"Error setting up call listener:\", error);\n                setCallRinging(false);\n                onReject();\n            }\n        };\n        if (isOpen && callId) {\n            fetchCallInfo();\n        }\n        return ()=>{\n            if (unsubscribe) {\n                unsubscribe();\n            }\n        };\n    }, [\n        isOpen,\n        callId,\n        onReject,\n        user.uid,\n        callerName\n    ]);\n    const handleAccept = async ()=>{\n        // Tandai tindakan sudah diambil untuk mencegah multiple calls\n        if (hasActionTakenRef.current || actionInProgressRef.current) {\n            console.log(\"Action already taken or in progress, ignoring accept call\");\n            return;\n        }\n        // Tandai aksi sedang berlangsung\n        actionInProgressRef.current = true;\n        // Hentikan ringtone\n        if (ringtoneRef.current) {\n            ringtoneRef.current.stop();\n        }\n        if (audioFallbackRef.current) {\n            audioFallbackRef.current.pause();\n        }\n        setCallRinging(false);\n        try {\n            console.log(\"Accepting call:\", callId);\n            // Update status panggilan ke 'answered'\n            await updateCallStatus(callId, \"answered\");\n            // Tandai tindakan sudah selesai\n            hasActionTakenRef.current = true;\n            // Tambahkan delay singkat sebelum meneruskan ke VideoCallModal\n            // untuk memastikan status firestore sudah diupdate lebih dulu\n            setTimeout(()=>{\n                if (mountedRef.current) {\n                    // Reset action in progress flag\n                    actionInProgressRef.current = false;\n                    onAccept(callId, isVideoCall);\n                }\n            }, 300);\n        } catch (error) {\n            console.error(\"Error accepting call:\", error);\n            // Reset flags dan tolak panggilan jika gagal\n            hasActionTakenRef.current = true;\n            actionInProgressRef.current = false;\n            onReject();\n        }\n    };\n    const handleReject = async ()=>{\n        // Tandai tindakan sudah diambil untuk mencegah multiple calls\n        if (hasActionTakenRef.current || actionInProgressRef.current) {\n            console.log(\"Action already taken or in progress, ignoring reject call\");\n            return;\n        }\n        // Tandai aksi sedang berlangsung\n        actionInProgressRef.current = true;\n        // Hentikan ringtone\n        if (ringtoneRef.current) {\n            ringtoneRef.current.stop();\n        }\n        if (audioFallbackRef.current) {\n            audioFallbackRef.current.pause();\n        }\n        setCallRinging(false);\n        try {\n            console.log(\"Rejecting call:\", callId);\n            // Update status panggilan\n            await updateCallStatus(callId, \"declined\");\n            // Tandai tindakan sudah diambil setelah berhasil update status\n            hasActionTakenRef.current = true;\n            // Panggil callback onReject setelah delay singkat\n            // untuk memastikan status firestore sudah terupdate\n            setTimeout(()=>{\n                // Reset action in progress flag\n                actionInProgressRef.current = false;\n                onReject();\n            }, 200);\n        } catch (error) {\n            console.error(\"Error rejecting call:\", error);\n            // Reset flags tetapi masih panggil callback reject\n            hasActionTakenRef.current = true;\n            actionInProgressRef.current = false;\n            onReject();\n        }\n    };\n    // Jika modal tidak terbuka, jangan render apa-apa\n    if (!isOpen) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4 animate-fadeIn\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-white rounded-lg shadow-lg w-full max-w-md overflow-hidden\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-4 bg-primary text-white text-center\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        className: \"text-xl font-semibold\",\n                        children: \"Panggilan Masuk\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\IncomingCallModal.tsx\",\n                        lineNumber: 373,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\IncomingCallModal.tsx\",\n                    lineNumber: 372,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-6 flex flex-col items-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-24 h-24 rounded-full bg-primary flex items-center justify-center mb-4 animate-pulse\",\n                            children: isVideoCall ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiPhone_FiPhoneOff_FiVideo_react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiVideo, {\n                                size: 40,\n                                className: \"text-white\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\IncomingCallModal.tsx\",\n                                lineNumber: 381,\n                                columnNumber: 15\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiPhone_FiPhoneOff_FiVideo_react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiPhone, {\n                                size: 40,\n                                className: \"text-white\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\IncomingCallModal.tsx\",\n                                lineNumber: 383,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\IncomingCallModal.tsx\",\n                            lineNumber: 379,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-lg font-medium mb-1\",\n                            children: callerName || \"Pengguna\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\IncomingCallModal.tsx\",\n                            lineNumber: 387,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-gray-500 mb-6\",\n                            children: isVideoCall ? \"Video Call\" : \"Audio Call\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\IncomingCallModal.tsx\",\n                            lineNumber: 388,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex space-x-10\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleReject,\n                                    className: \"flex flex-col items-center focus:outline-none transition-transform hover:scale-105\",\n                                    disabled: hasActionTakenRef.current || actionInProgressRef.current,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"rounded-full p-4 bg-red-500 text-white mb-2 shadow-lg shadow-red-300\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiPhone_FiPhoneOff_FiVideo_react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiPhoneOff, {\n                                                size: 28\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\IncomingCallModal.tsx\",\n                                                lineNumber: 397,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\IncomingCallModal.tsx\",\n                                            lineNumber: 396,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-sm font-medium\",\n                                            children: \"Tolak\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\IncomingCallModal.tsx\",\n                                            lineNumber: 399,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\IncomingCallModal.tsx\",\n                                    lineNumber: 391,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleAccept,\n                                    className: \"flex flex-col items-center focus:outline-none transition-transform hover:scale-105\",\n                                    disabled: hasActionTakenRef.current || actionInProgressRef.current,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"rounded-full p-4 bg-green-500 text-white mb-2 shadow-lg shadow-green-300\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiPhone_FiPhoneOff_FiVideo_react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiPhone, {\n                                                size: 28\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\IncomingCallModal.tsx\",\n                                                lineNumber: 408,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\IncomingCallModal.tsx\",\n                                            lineNumber: 407,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-sm font-medium\",\n                                            children: \"Terima\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\IncomingCallModal.tsx\",\n                                            lineNumber: 410,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\IncomingCallModal.tsx\",\n                                    lineNumber: 402,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\IncomingCallModal.tsx\",\n                            lineNumber: 390,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\IncomingCallModal.tsx\",\n                    lineNumber: 378,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\IncomingCallModal.tsx\",\n            lineNumber: 371,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\IncomingCallModal.tsx\",\n        lineNumber: 370,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9JbmNvbWluZ0NhbGxNb2RhbC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFFb0Q7QUFFVTtBQUNVO0FBQ2hDO0FBQ1Y7QUFVOUIsd0RBQXdEO0FBQ3hELE1BQU1ZLG1CQUFtQixPQUFPQyxRQUFnQkM7SUFDOUMsSUFBSTtRQUNGLE1BQU1OLDZEQUFTQSxDQUFDRix1REFBR0EsQ0FBQ0ksZ0RBQUVBLEVBQUUsU0FBU0csU0FBUztZQUN4Q0M7WUFDQUMsV0FBVyxJQUFJQyxPQUFPQyxXQUFXO1lBQ2pDLEdBQUlILFdBQVcsV0FBV0EsV0FBVyxhQUFhO2dCQUFFSSxTQUFTLElBQUlGLE9BQU9DLFdBQVc7WUFBRyxJQUFJLENBQUMsQ0FBQztRQUM5RjtRQUNBLE9BQU87SUFDVCxFQUFFLE9BQU9FLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLDRDQUE0Q0E7UUFDMUQsT0FBTztJQUNUO0FBQ0Y7QUFFQSxrREFBa0Q7QUFDbEQsTUFBTUUscUJBQXFCO0FBRVosU0FBU0Msa0JBQWtCLEVBQ3hDQyxNQUFNLEVBQ05DLFFBQVEsRUFDUkMsUUFBUSxFQUNSQyxJQUFJLEVBQ0piLE1BQU0sRUFDaUI7SUFDdkIsTUFBTSxDQUFDYyxZQUFZQyxjQUFjLEdBQUc1QiwrQ0FBUUEsQ0FBUztJQUNyRCxNQUFNLENBQUM2QixhQUFhQyxlQUFlLEdBQUc5QiwrQ0FBUUEsQ0FBVTtJQUN4RCxNQUFNLENBQUMrQixhQUFhQyxlQUFlLEdBQUdoQywrQ0FBUUEsQ0FBVTtJQUN4RCxNQUFNaUMsY0FBYy9CLDZDQUFNQSxDQUFjO0lBQ3hDLE1BQU1nQyxtQkFBbUJoQyw2Q0FBTUEsQ0FBMEI7SUFDekQsTUFBTWlDLGFBQWFqQyw2Q0FBTUEsQ0FBVTtJQUNuQyxNQUFNa0Msb0JBQW9CbEMsNkNBQU1BLENBQVU7SUFDMUMsTUFBTW1DLHNCQUFzQm5DLDZDQUFNQSxDQUFVO0lBRTVDLDBEQUEwRDtJQUMxREQsZ0RBQVNBLENBQUM7UUFDUixJ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Q1psRSw0QkFDQyw4REFBQ3hCLHFHQUFPQTtnQ0FBQzRGLE1BQU07Z0NBQUlGLFdBQVU7Ozs7O3FEQUU3Qiw4REFBQzVGLHFHQUFPQTtnQ0FBQzhGLE1BQU07Z0NBQUlGLFdBQVU7Ozs7Ozs7Ozs7O3NDQUlqQyw4REFBQ0c7NEJBQUVILFdBQVU7c0NBQTRCcEUsY0FBYzs7Ozs7O3NDQUN2RCw4REFBQ3VFOzRCQUFFSCxXQUFVO3NDQUFzQmxFLGNBQWMsZUFBZTs7Ozs7O3NDQUVoRSw4REFBQ2lFOzRCQUFJQyxXQUFVOzs4Q0FDYiw4REFBQ0k7b0NBQ0NDLFNBQVNWO29DQUNUSyxXQUFVO29DQUNWTSxVQUFVakUsa0JBQWtCRyxPQUFPLElBQUlGLG9CQUFvQkUsT0FBTzs7c0RBRWxFLDhEQUFDdUQ7NENBQUlDLFdBQVU7c0RBQ2IsNEVBQUMzRix3R0FBVUE7Z0RBQUM2RixNQUFNOzs7Ozs7Ozs7OztzREFFcEIsOERBQUNLOzRDQUFLUCxXQUFVO3NEQUFzQjs7Ozs7Ozs7Ozs7OzhDQUd4Qyw4REFBQ0k7b0NBQ0NDLFNBQVNSO29DQUNURyxXQUFVO29DQUNWTSxVQUFVakUsa0JBQWtCRyxPQUFPLElBQUlGLG9CQUFvQkUsT0FBTzs7c0RBRWxFLDhEQUFDdUQ7NENBQUlDLFdBQVU7c0RBQ2IsNEVBQUM1RixxR0FBT0E7Z0RBQUM4RixNQUFNOzs7Ozs7Ozs7OztzREFFakIsOERBQUNLOzRDQUFLUCxXQUFVO3NEQUFzQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPcEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWxsby8uL3NyYy9jb21wb25lbnRzL0luY29taW5nQ2FsbE1vZGFsLnRzeD81ZmE2Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcclxuXHJcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgVXNlciB9IGZyb20gJ2ZpcmViYXNlL2F1dGgnO1xyXG5pbXBvcnQgeyBGaVBob25lLCBGaVBob25lT2ZmLCBGaVZpZGVvIH0gZnJvbSAncmVhY3QtaWNvbnMvZmknO1xyXG5pbXBvcnQgeyBkb2MsIGdldERvYywgdXBkYXRlRG9jLCBvblNuYXBzaG90IH0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcclxuaW1wb3J0IHsgZGIgfSBmcm9tICcuLi9maXJlYmFzZS9jb25maWcnO1xyXG5pbXBvcnQgeyBIb3dsIH0gZnJvbSAnaG93bGVyJztcclxuXHJcbnR5cGUgSW5jb21pbmdDYWxsTW9kYWxQcm9wcyA9IHtcclxuICBpc09wZW46IGJvb2xlYW47XHJcbiAgb25BY2NlcHQ6IChjYWxsSWQ6IHN0cmluZywgaXNWaWRlb0NhbGw6IGJvb2xlYW4pID0+IHZvaWQ7XHJcbiAgb25SZWplY3Q6ICgpID0+IHZvaWQ7XHJcbiAgdXNlcjogVXNlcjtcclxuICBjYWxsSWQ6IHN0cmluZztcclxufTtcclxuXHJcbi8vIEhlbHBlciB1bnR1ayBtZW5ndXBkYXRlIHN0YXR1cyBwYW5nZ2lsYW4gZGkgRmlyZXN0b3JlXHJcbmNvbnN0IHVwZGF0ZUNhbGxTdGF0dXMgPSBhc3luYyAoY2FsbElkOiBzdHJpbmcsIHN0YXR1czogc3RyaW5nKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IHVwZGF0ZURvYyhkb2MoZGIsICdjYWxscycsIGNhbGxJZCksIHtcclxuICAgICAgc3RhdHVzLFxyXG4gICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgLi4uKHN0YXR1cyA9PT0gJ2VuZGVkJyB8fCBzdGF0dXMgPT09ICdkZWNsaW5lZCcgPyB7IGVuZGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSB9IDoge30pXHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBjYWxsIHN0YXR1cyBpbiBGaXJlc3RvcmU6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIEd1bmFrYW4gZmlsZSByaW5ndG9uZSBzdGF0aXMgZGFyaSBmb2xkZXIgcHVibGljXHJcbmNvbnN0IFJJTkdUT05FX0ZJTEVfUEFUSCA9ICcvc291bmRzL3Jpbmd0b25lLm1wMyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBJbmNvbWluZ0NhbGxNb2RhbCh7XHJcbiAgaXNPcGVuLFxyXG4gIG9uQWNjZXB0LFxyXG4gIG9uUmVqZWN0LFxyXG4gIHVzZXIsXHJcbiAgY2FsbElkXHJcbn06IEluY29taW5nQ2FsbE1vZGFsUHJvcHMpIHtcclxuICBjb25zdCBbY2FsbGVyTmFtZSwgc2V0Q2FsbGVyTmFtZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKTtcclxuICBjb25zdCBbaXNWaWRlb0NhbGwsIHNldElzVmlkZW9DYWxsXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcclxuICBjb25zdCBbY2FsbFJpbmdpbmcsIHNldENhbGxSaW5naW5nXSA9IHVzZVN0YXRlPGJvb2xlYW4+KHRydWUpO1xyXG4gIGNvbnN0IHJpbmd0b25lUmVmID0gdXNlUmVmPEhvd2wgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBhdWRpb0ZhbGxiYWNrUmVmID0gdXNlUmVmPEhUTUxBdWRpb0VsZW1lbnQgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBtb3VudGVkUmVmID0gdXNlUmVmPGJvb2xlYW4+KGZhbHNlKTtcclxuICBjb25zdCBoYXNBY3Rpb25UYWtlblJlZiA9IHVzZVJlZjxib29sZWFuPihmYWxzZSk7XHJcbiAgY29uc3QgYWN0aW9uSW5Qcm9ncmVzc1JlZiA9IHVzZVJlZjxib29sZWFuPihmYWxzZSk7XHJcbiAgXHJcbiAgLy8gUmVzZXQgc3RhdGUga2V0aWthIG1vZGFsIHRlcmJ1a2EgKHVudHVrIHBhbmdnaWxhbiBiYXJ1KVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoaXNPcGVuKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdJbmNvbWluZ0NhbGxNb2RhbCBvcGVuZWQsIHJlc2V0dGluZyBzdGF0ZScpO1xyXG4gICAgICBoYXNBY3Rpb25UYWtlblJlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgIGFjdGlvbkluUHJvZ3Jlc3NSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gVGFuZGFpIHRpZGFrIGFrdGlmIHNhYXQgZGl0dXR1cFxyXG4gICAgICBtb3VudGVkUmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuICAgIH1cclxuICB9LCBbaXNPcGVuXSk7XHJcbiAgXHJcbiAgLy8gTWVtYnVueWlrYW4gbmFkYSBkZXJpbmdcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgLy8gVGFuZGFpIGNvbXBvbmVudCBtb3VudGVkXHJcbiAgICBtb3VudGVkUmVmLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgXHJcbiAgICAvLyBGdW5nc2kgdW50dWsgbWVtYmVyc2loa2FuIGF1ZGlvXHJcbiAgICBjb25zdCBjbGVhbnVwQXVkaW8gPSAoKSA9PiB7XHJcbiAgICAgIC8vIEJlcnNpaGthbiBIb3dsZXJcclxuICAgICAgaWYgKHJpbmd0b25lUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICByaW5ndG9uZVJlZi5jdXJyZW50LnN0b3AoKTtcclxuICAgICAgICByaW5ndG9uZVJlZi5jdXJyZW50LnVubG9hZCgpO1xyXG4gICAgICAgIHJpbmd0b25lUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBCZXJzaWhrYW4gYXVkaW8gZmFsbGJhY2tcclxuICAgICAgaWYgKGF1ZGlvRmFsbGJhY2tSZWYuY3VycmVudCkge1xyXG4gICAgICAgIGF1ZGlvRmFsbGJhY2tSZWYuY3VycmVudC5wYXVzZSgpO1xyXG4gICAgICAgIGF1ZGlvRmFsbGJhY2tSZWYuY3VycmVudC5zcmMgPSAnJztcclxuICAgICAgICBhdWRpb0ZhbGxiYWNrUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvLyBIYW55YSBwdXRhciByaW5ndG9uZSBqaWthIG1vZGFsIHRlcmJ1a2EgZGFuIGJlbHVtIG1lbmdhbWJpbCB0aW5kYWthblxyXG4gICAgaWYgKGlzT3BlbiAmJiBjYWxsUmluZ2luZyAmJiAhaGFzQWN0aW9uVGFrZW5SZWYuY3VycmVudCkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIC8vIEJlcnNpaGthbiBkdWx1IGF1ZGlvIGxhbWEgamlrYSBhZGFcclxuICAgICAgICBjbGVhbnVwQXVkaW8oKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBDb2JhIG1haW5rYW4gZGVuZ2FuIEhvd2xlclxyXG4gICAgICAgIGNvbnN0IHNvdW5kID0gbmV3IEhvd2woe1xyXG4gICAgICAgICAgc3JjOiBbUklOR1RPTkVfRklMRV9QQVRIXSxcclxuICAgICAgICAgIGF1dG9wbGF5OiBmYWxzZSxcclxuICAgICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgICB2b2x1bWU6IDAuNyxcclxuICAgICAgICAgIGh0bWw1OiB0cnVlLFxyXG4gICAgICAgICAgcHJlbG9hZDogdHJ1ZSxcclxuICAgICAgICAgIGZvcm1hdDogWydtcDMnLCAnd2F2J10sXHJcbiAgICAgICAgICBvbmxvYWRlcnJvcjogZnVuY3Rpb24oaWQsIGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIHJpbmd0b25lOicsIGVycik7XHJcbiAgICAgICAgICAgIHBsYXlGYWxsYmFja0F1ZGlvKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gU2ltcGFuIHJlZmVyZW5zaVxyXG4gICAgICAgIHJpbmd0b25lUmVmLmN1cnJlbnQgPSBzb3VuZDtcclxuICAgICAgICBcclxuICAgICAgICAvLyBDb2JhIG1haW5rYW5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgc291bmQucGxheSgpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ1BsYXlpbmcgcmluZ3RvbmUgd2l0aCBIb3dsZXInKTtcclxuICAgICAgICB9IGNhdGNoIChwbGF5RXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBsYXlpbmcgcmluZ3RvbmUgd2l0aCBIb3dsZXI6JywgcGxheUVycm9yKTtcclxuICAgICAgICAgIHBsYXlGYWxsYmFja0F1ZGlvKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNldHRpbmcgdXAgcmluZ3RvbmU6JywgZXJyb3IpO1xyXG4gICAgICAgIHBsYXlGYWxsYmFja0F1ZGlvKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gRmFsbGJhY2sga2UgQXVkaW8gQVBJIGppa2EgSG93bGVyIGdhZ2FsXHJcbiAgICBmdW5jdGlvbiBwbGF5RmFsbGJhY2tBdWRpbygpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBhdWRpbyA9IG5ldyBBdWRpbyhSSU5HVE9ORV9GSUxFX1BBVEgpO1xyXG4gICAgICAgIGF1ZGlvLmxvb3AgPSB0cnVlO1xyXG4gICAgICAgIGF1ZGlvLnZvbHVtZSA9IDAuNztcclxuICAgICAgICBcclxuICAgICAgICBhdWRpb0ZhbGxiYWNrUmVmLmN1cnJlbnQgPSBhdWRpbztcclxuICAgICAgICBcclxuICAgICAgICAvLyBDb2JhIG1haW5rYW4gZGVuZ2FuIHBlbmFuZ2FuYW4gZXJyb3JcclxuICAgICAgICBhdWRpby5wbGF5KCkuY2F0Y2goKGUpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdGYWxsYmFjayBhdWRpbyBhdXRvcGxheSBmYWlsZWQ6JywgZSk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIEJ1dHVoIGludGVyYWtzaSBwZW5nZ3VuYSAtIHRhbWJhaGthbiBldmVudCBsaXN0ZW5lcnNcclxuICAgICAgICAgIGNvbnN0IHBsYXlPblVzZXJJbnRlcmFjdGlvbiA9ICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGF1ZGlvRmFsbGJhY2tSZWYuY3VycmVudCAmJiBtb3VudGVkUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICBhdWRpb0ZhbGxiYWNrUmVmLmN1cnJlbnQucGxheSgpLmNhdGNoKGUgPT4gXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdTdGlsbCBmYWlsZWQgdG8gcGxheSBhdWRpbyBhZnRlciBpbnRlcmFjdGlvbjonLCBlKVxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIEhhcHVzIGxpc3RlbmVyIHNldGVsYWggYmVyaGFzaWxcclxuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwbGF5T25Vc2VySW50ZXJhY3Rpb24pO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgcGxheU9uVXNlckludGVyYWN0aW9uKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcGxheU9uVXNlckludGVyYWN0aW9uLCB7IG9uY2U6IHRydWUgfSk7XHJcbiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgcGxheU9uVXNlckludGVyYWN0aW9uLCB7IG9uY2U6IHRydWUgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gY2F0Y2ggKGF1ZGlvRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdBbGwgYXVkaW8gcGxheWJhY2sgYXR0ZW1wdHMgZmFpbGVkOicsIGF1ZGlvRXJyb3IpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIENsZWFudXAgZnVuY3Rpb25cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIG1vdW50ZWRSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgICBjbGVhbnVwQXVkaW8oKTtcclxuICAgIH07XHJcbiAgfSwgW2lzT3BlbiwgY2FsbFJpbmdpbmddKTtcclxuICBcclxuICAvLyBNZW5kYXBhdGthbiBpbmZvcm1hc2kgcGFuZ2dpbGFuIGRhbiBzZXR1cCBsaXN0ZW5lclxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBsZXQgdW5zdWJzY3JpYmU6ICgoKSA9PiB2b2lkKSB8IG51bGwgPSBudWxsO1xyXG4gICAgXHJcbiAgICBjb25zdCBmZXRjaENhbGxJbmZvID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICBpZiAoIWNhbGxJZCB8fCAhaXNPcGVuKSByZXR1cm47XHJcbiAgICAgIFxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdTZXR0aW5nIHVwIGNhbGwgbGlzdGVuZXIgZm9yIElEOicsIGNhbGxJZCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gU2V0dXAgcmVhbC10aW1lIGxpc3RlbmVyIHVudHVrIGRva3VtZW4gcGFuZ2dpbGFuXHJcbiAgICAgICAgdW5zdWJzY3JpYmUgPSBvblNuYXBzaG90KGRvYyhkYiwgJ2NhbGxzJywgY2FsbElkKSwgYXN5bmMgKGRvY1NuYXBzaG90KSA9PiB7XHJcbiAgICAgICAgICBpZiAoIW1vdW50ZWRSZWYuY3VycmVudCkgcmV0dXJuO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAoIWRvY1NuYXBzaG90LmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDYWxsIGRvY3VtZW50IG5vdCBmb3VuZCcpO1xyXG4gICAgICAgICAgICBzZXRDYWxsUmluZ2luZyhmYWxzZSk7XHJcbiAgICAgICAgICAgIGhhc0FjdGlvblRha2VuUmVmLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICBvblJlamVjdCgpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGNvbnN0IGNhbGxEYXRhID0gZG9jU25hcHNob3QuZGF0YSgpO1xyXG4gICAgICAgICAgc2V0SXNWaWRlb0NhbGwoY2FsbERhdGEudHlwZSA9PT0gJ3ZpZGVvJyk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIFBlcmlrc2Egc3RhdHVzIHBhbmdnaWxhblxyXG4gICAgICAgICAgaWYgKGNhbGxEYXRhLnN0YXR1cyA9PT0gJ2VuZGVkJyB8fCBjYWxsRGF0YS5zdGF0dXMgPT09ICdkZWNsaW5lZCcpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0NhbGwgZW5kZWQgcmVtb3RlbHknKTtcclxuICAgICAgICAgICAgc2V0Q2FsbFJpbmdpbmcoZmFsc2UpO1xyXG4gICAgICAgICAgICBoYXNBY3Rpb25UYWtlblJlZi5jdXJyZW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIEhlbnRpa2FuIHJpbmd0b25lXHJcbiAgICAgICAgICAgIGlmIChyaW5ndG9uZVJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgcmluZ3RvbmVSZWYuY3VycmVudC5zdG9wKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChhdWRpb0ZhbGxiYWNrUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICBhdWRpb0ZhbGxiYWNrUmVmLmN1cnJlbnQucGF1c2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgb25SZWplY3QoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBBbWJpbCBpbmZvcm1hc2kgcGVuZWxlcG9uXHJcbiAgICAgICAgICBpZiAoY2FsbERhdGEuaW5pdGlhdG9ySWQgJiYgIWNhbGxlck5hbWUpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICBjb25zdCBjYWxsZXJEb2MgPSBhd2FpdCBnZXREb2MoZG9jKGRiLCAndXNlcnMnLCBjYWxsRGF0YS5pbml0aWF0b3JJZCkpO1xyXG4gICAgICAgICAgICAgIGlmIChjYWxsZXJEb2MuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgIHNldENhbGxlck5hbWUoY2FsbGVyRG9jLmRhdGEoKS5kaXNwbGF5TmFtZSB8fCAnUGVuZ2d1bmEnKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gRmFsbGJhY2sga2UgbG9jYWxTdG9yYWdlIGppa2EgYWRhXHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCB1c2VycyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2hhbGxvX3VzZXJzJykgfHwgJ3t9Jyk7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbGxlckRhdGEgPSB1c2Vyc1tjYWxsRGF0YS5pbml0aWF0b3JJZF07XHJcbiAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICBpZiAoY2FsbGVyRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldENhbGxlck5hbWUoY2FsbGVyRGF0YS5kaXNwbGF5TmFtZSB8fCAnUGVuZ2d1bmEnKTtcclxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRDYWxsZXJOYW1lKCdQZW5nZ3VuYScpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChzdG9yYWdlRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWNjZXNzaW5nIGxvY2FsU3RvcmFnZTonLCBzdG9yYWdlRXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICBzZXRDYWxsZXJOYW1lKCdQZW5nZ3VuYScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBjYWxsZXIgaW5mbzonLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgc2V0Q2FsbGVyTmFtZSgnUGVuZ2d1bmEnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBWZXJpZmlrYXNpIHN0YXR1cyBwYW5nZ2lsYW5cclxuICAgICAgICAgIGlmIChjYWxsRGF0YS5zdGFydGVkQXQpIHtcclxuICAgICAgICAgICAgLy8gQ2VrIGFwYWthaCBwYW5nZ2lsYW4gbWFzaWggdmFsaWQgKHRpZGFrIGxlYmloIGRhcmkgNjAgZGV0aWspXHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IG5ldyBEYXRlKGNhbGxEYXRhLnN0YXJ0ZWRBdCkuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICAgICAgY29uc3QgY2FsbEFnZSA9IG5vdyAtIHN0YXJ0VGltZTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChjYWxsQWdlID4gNjAwMDAgJiYgY2FsbERhdGEuc3RhdHVzID09PSAncmluZ2luZycpIHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ2FsbCBpcyB0b28gb2xkICg+IDYwcyksIGF1dG8tZGVjbGluaW5nJyk7XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgLy8gSGluZGFyaSBtdWx0aXBsZSBkZWNsaW5lIGppa2Egc3VkYWggZGl0YW5kYWlcclxuICAgICAgICAgICAgICBpZiAoIWhhc0FjdGlvblRha2VuUmVmLmN1cnJlbnQgJiYgIWFjdGlvbkluUHJvZ3Jlc3NSZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlUmVqZWN0KCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2V0dGluZyB1cCBjYWxsIGxpc3RlbmVyOicsIGVycm9yKTtcclxuICAgICAgICBzZXRDYWxsUmluZ2luZyhmYWxzZSk7XHJcbiAgICAgICAgb25SZWplY3QoKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgaWYgKGlzT3BlbiAmJiBjYWxsSWQpIHtcclxuICAgICAgZmV0Y2hDYWxsSW5mbygpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBpZiAodW5zdWJzY3JpYmUpIHtcclxuICAgICAgICB1bnN1YnNjcmliZSgpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0sIFtpc09wZW4sIGNhbGxJZCwgb25SZWplY3QsIHVzZXIudWlkLCBjYWxsZXJOYW1lXSk7XHJcbiAgXHJcbiAgY29uc3QgaGFuZGxlQWNjZXB0ID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgLy8gVGFuZGFpIHRpbmRha2FuIHN1ZGFoIGRpYW1iaWwgdW50dWsgbWVuY2VnYWggbXVsdGlwbGUgY2FsbHNcclxuICAgIGlmIChoYXNBY3Rpb25UYWtlblJlZi5jdXJyZW50IHx8IGFjdGlvbkluUHJvZ3Jlc3NSZWYuY3VycmVudCkge1xyXG4gICAgICBjb25zb2xlLmxvZygnQWN0aW9uIGFscmVhZHkgdGFrZW4gb3IgaW4gcHJvZ3Jlc3MsIGlnbm9yaW5nIGFjY2VwdCBjYWxsJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gVGFuZGFpIGFrc2kgc2VkYW5nIGJlcmxhbmdzdW5nXHJcbiAgICBhY3Rpb25JblByb2dyZXNzUmVmLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgXHJcbiAgICAvLyBIZW50aWthbiByaW5ndG9uZVxyXG4gICAgaWYgKHJpbmd0b25lUmVmLmN1cnJlbnQpIHtcclxuICAgICAgcmluZ3RvbmVSZWYuY3VycmVudC5zdG9wKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChhdWRpb0ZhbGxiYWNrUmVmLmN1cnJlbnQpIHtcclxuICAgICAgYXVkaW9GYWxsYmFja1JlZi5jdXJyZW50LnBhdXNlKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHNldENhbGxSaW5naW5nKGZhbHNlKTtcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ0FjY2VwdGluZyBjYWxsOicsIGNhbGxJZCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBVcGRhdGUgc3RhdHVzIHBhbmdnaWxhbiBrZSAnYW5zd2VyZWQnXHJcbiAgICAgIGF3YWl0IHVwZGF0ZUNhbGxTdGF0dXMoY2FsbElkLCAnYW5zd2VyZWQnKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFRhbmRhaSB0aW5kYWthbiBzdWRhaCBzZWxlc2FpXHJcbiAgICAgIGhhc0FjdGlvblRha2VuUmVmLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgICBcclxuICAgICAgLy8gVGFtYmFoa2FuIGRlbGF5IHNpbmdrYXQgc2ViZWx1bSBtZW5lcnVza2FuIGtlIFZpZGVvQ2FsbE1vZGFsXHJcbiAgICAgIC8vIHVudHVrIG1lbWFzdGlrYW4gc3RhdHVzIGZpcmVzdG9yZSBzdWRhaCBkaXVwZGF0ZSBsZWJpaCBkdWx1XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGlmIChtb3VudGVkUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICAgIC8vIFJlc2V0IGFjdGlvbiBpbiBwcm9ncmVzcyBmbGFnXHJcbiAgICAgICAgICBhY3Rpb25JblByb2dyZXNzUmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuICAgICAgICAgIG9uQWNjZXB0KGNhbGxJZCwgaXNWaWRlb0NhbGwpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgMzAwKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFjY2VwdGluZyBjYWxsOicsIGVycm9yKTtcclxuICAgICAgLy8gUmVzZXQgZmxhZ3MgZGFuIHRvbGFrIHBhbmdnaWxhbiBqaWthIGdhZ2FsXHJcbiAgICAgIGhhc0FjdGlvblRha2VuUmVmLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgICBhY3Rpb25JblByb2dyZXNzUmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuICAgICAgb25SZWplY3QoKTtcclxuICAgIH1cclxuICB9O1xyXG4gIFxyXG4gIGNvbnN0IGhhbmRsZVJlamVjdCA9IGFzeW5jICgpID0+IHtcclxuICAgIC8vIFRhbmRhaSB0aW5kYWthbiBzdWRhaCBkaWFtYmlsIHVudHVrIG1lbmNlZ2FoIG11bHRpcGxlIGNhbGxzXHJcbiAgICBpZiAoaGFzQWN0aW9uVGFrZW5SZWYuY3VycmVudCB8fCBhY3Rpb25JblByb2dyZXNzUmVmLmN1cnJlbnQpIHtcclxuICAgICAgY29uc29sZS5sb2coJ0FjdGlvbiBhbHJlYWR5IHRha2VuIG9yIGluIHByb2dyZXNzLCBpZ25vcmluZyByZWplY3QgY2FsbCcpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFRhbmRhaSBha3NpIHNlZGFuZyBiZXJsYW5nc3VuZ1xyXG4gICAgYWN0aW9uSW5Qcm9ncmVzc1JlZi5jdXJyZW50ID0gdHJ1ZTtcclxuICAgIFxyXG4gICAgLy8gSGVudGlrYW4gcmluZ3RvbmVcclxuICAgIGlmIChyaW5ndG9uZVJlZi5jdXJyZW50KSB7XHJcbiAgICAgIHJpbmd0b25lUmVmLmN1cnJlbnQuc3RvcCgpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoYXVkaW9GYWxsYmFja1JlZi5jdXJyZW50KSB7XHJcbiAgICAgIGF1ZGlvRmFsbGJhY2tSZWYuY3VycmVudC5wYXVzZSgpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzZXRDYWxsUmluZ2luZyhmYWxzZSk7XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdSZWplY3RpbmcgY2FsbDonLCBjYWxsSWQpO1xyXG4gICAgICBcclxuICAgICAgLy8gVXBkYXRlIHN0YXR1cyBwYW5nZ2lsYW5cclxuICAgICAgYXdhaXQgdXBkYXRlQ2FsbFN0YXR1cyhjYWxsSWQsICdkZWNsaW5lZCcpO1xyXG4gICAgICBcclxuICAgICAgLy8gVGFuZGFpIHRpbmRha2FuIHN1ZGFoIGRpYW1iaWwgc2V0ZWxhaCBiZXJoYXNpbCB1cGRhdGUgc3RhdHVzXHJcbiAgICAgIGhhc0FjdGlvblRha2VuUmVmLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgICBcclxuICAgICAgLy8gUGFuZ2dpbCBjYWxsYmFjayBvblJlamVjdCBzZXRlbGFoIGRlbGF5IHNpbmdrYXRcclxuICAgICAgLy8gdW50dWsgbWVtYXN0aWthbiBzdGF0dXMgZmlyZXN0b3JlIHN1ZGFoIHRlcnVwZGF0ZVxyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAvLyBSZXNldCBhY3Rpb24gaW4gcHJvZ3Jlc3MgZmxhZ1xyXG4gICAgICAgIGFjdGlvbkluUHJvZ3Jlc3NSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgICAgIG9uUmVqZWN0KCk7XHJcbiAgICAgIH0sIDIwMCk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZWplY3RpbmcgY2FsbDonLCBlcnJvcik7XHJcbiAgICAgIC8vIFJlc2V0IGZsYWdzIHRldGFwaSBtYXNpaCBwYW5nZ2lsIGNhbGxiYWNrIHJlamVjdFxyXG4gICAgICBoYXNBY3Rpb25UYWtlblJlZi5jdXJyZW50ID0gdHJ1ZTtcclxuICAgICAgYWN0aW9uSW5Qcm9ncmVzc1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgIG9uUmVqZWN0KCk7XHJcbiAgICB9XHJcbiAgfTtcclxuICBcclxuICAvLyBKaWthIG1vZGFsIHRpZGFrIHRlcmJ1a2EsIGphbmdhbiByZW5kZXIgYXBhLWFwYVxyXG4gIGlmICghaXNPcGVuKSByZXR1cm4gbnVsbDtcclxuICBcclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIHotNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctYmxhY2sgYmctb3BhY2l0eS03NSBwLTQgYW5pbWF0ZS1mYWRlSW5cIj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy1sZyB3LWZ1bGwgbWF4LXctbWQgb3ZlcmZsb3ctaGlkZGVuXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYmctcHJpbWFyeSB0ZXh0LXdoaXRlIHRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkXCI+XHJcbiAgICAgICAgICAgIFBhbmdnaWxhbiBNYXN1a1xyXG4gICAgICAgICAgPC9oMz5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICBcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNiBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTI0IGgtMjQgcm91bmRlZC1mdWxsIGJnLXByaW1hcnkgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgbWItNCBhbmltYXRlLXB1bHNlXCI+XHJcbiAgICAgICAgICAgIHtpc1ZpZGVvQ2FsbCA/IChcclxuICAgICAgICAgICAgICA8RmlWaWRlbyBzaXplPXs0MH0gY2xhc3NOYW1lPVwidGV4dC13aGl0ZVwiIC8+XHJcbiAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgPEZpUGhvbmUgc2l6ZT17NDB9IGNsYXNzTmFtZT1cInRleHQtd2hpdGVcIiAvPlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1tZWRpdW0gbWItMVwiPntjYWxsZXJOYW1lIHx8ICdQZW5nZ3VuYSd9PC9wPlxyXG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMCBtYi02XCI+e2lzVmlkZW9DYWxsID8gJ1ZpZGVvIENhbGwnIDogJ0F1ZGlvIENhbGwnfTwvcD5cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHNwYWNlLXgtMTBcIj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVSZWplY3R9XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgZm9jdXM6b3V0bGluZS1ub25lIHRyYW5zaXRpb24tdHJhbnNmb3JtIGhvdmVyOnNjYWxlLTEwNVwiXHJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2hhc0FjdGlvblRha2VuUmVmLmN1cnJlbnQgfHwgYWN0aW9uSW5Qcm9ncmVzc1JlZi5jdXJyZW50fVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3VuZGVkLWZ1bGwgcC00IGJnLXJlZC01MDAgdGV4dC13aGl0ZSBtYi0yIHNoYWRvdy1sZyBzaGFkb3ctcmVkLTMwMFwiPlxyXG4gICAgICAgICAgICAgICAgPEZpUGhvbmVPZmYgc2l6ZT17Mjh9IC8+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bVwiPlRvbGFrPC9zcGFuPlxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQWNjZXB0fVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGZvY3VzOm91dGxpbmUtbm9uZSB0cmFuc2l0aW9uLXRyYW5zZm9ybSBob3ZlcjpzY2FsZS0xMDVcIlxyXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtoYXNBY3Rpb25UYWtlblJlZi5jdXJyZW50IHx8IGFjdGlvbkluUHJvZ3Jlc3NSZWYuY3VycmVudH1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm91bmRlZC1mdWxsIHAtNCBiZy1ncmVlbi01MDAgdGV4dC13aGl0ZSBtYi0yIHNoYWRvdy1sZyBzaGFkb3ctZ3JlZW4tMzAwXCI+XHJcbiAgICAgICAgICAgICAgICA8RmlQaG9uZSBzaXplPXsyOH0gLz5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+VGVyaW1hPC9zcGFuPlxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn0gIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwiRmlQaG9uZSIsIkZpUGhvbmVPZmYiLCJGaVZpZGVvIiwiZG9jIiwiZ2V0RG9jIiwidXBkYXRlRG9jIiwib25TbmFwc2hvdCIsImRiIiwiSG93bCIsInVwZGF0ZUNhbGxTdGF0dXMiLCJjYWxsSWQiLCJzdGF0dXMiLCJ1cGRhdGVkQXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJlbmRlZEF0IiwiZXJyb3IiLCJjb25zb2xlIiwiUklOR1RPTkVfRklMRV9QQVRIIiwiSW5jb21pbmdDYWxsTW9kYWwiLCJpc09wZW4iLCJvbkFjY2VwdCIsIm9uUmVqZWN0IiwidXNlciIsImNhbGxlck5hbWUiLCJzZXRDYWxsZXJOYW1lIiwiaXNWaWRlb0NhbGwiLCJzZXRJc1ZpZGVvQ2FsbCIsImNhbGxSaW5naW5nIiwic2V0Q2FsbFJpbmdpbmciLCJyaW5ndG9uZVJlZiIsImF1ZGlvRmFsbGJhY2tSZWYiLCJtb3VudGVkUmVmIiwiaGFzQWN0aW9uVGFrZW5SZWYiLCJhY3Rpb25JblByb2dyZXNzUmVmIiwibG9nIiwiY3VycmVudCIsImNsZWFudXBBdWRpbyIsInN0b3AiLCJ1bmxvYWQiLCJwYXVzZSIsInNyYyIsInNvdW5kIiwiYXV0b3BsYXkiLCJsb29wIiwidm9sdW1lIiwiaHRtbDUiLCJwcmVsb2FkIiwiZm9ybWF0Iiwib25sb2FkZXJyb3IiLCJpZCIsImVyciIsInBsYXlGYWxsYmFja0F1ZGlvIiwicGxheSIsInBsYXlFcnJvciIsImF1ZGlvIiwiQXVkaW8iLCJjYXRjaCIsImUiLCJwbGF5T25Vc2VySW50ZXJhY3Rpb24iLCJkb2N1bWVudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVyIiwib25jZSIsImF1ZGlvRXJyb3IiLCJ1bnN1YnNjcmliZSIsImZldGNoQ2FsbEluZm8iLCJkb2NTbmFwc2hvdCIsImV4aXN0cyIsImNhbGxEYXRhIiwiZGF0YSIsInR5cGUiLCJpbml0aWF0b3JJZCIsImNhbGxlckRvYyIsImRpc3BsYXlOYW1lIiwidXNlcnMiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiY2FsbGVyRGF0YSIsInN0b3JhZ2VFcnJvciIsInN0YXJ0ZWRBdCIsInN0YXJ0VGltZSIsImdldFRpbWUiLCJub3ciLCJjYWxsQWdlIiwiaGFuZGxlUmVqZWN0IiwidWlkIiwiaGFuZGxlQWNjZXB0Iiwic2V0VGltZW91dCIsImRpdiIsImNsYXNzTmFtZSIsImgzIiwic2l6ZSIsInAiLCJidXR0b24iLCJvbkNsaWNrIiwiZGlzYWJsZWQiLCJzcGFuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/components/IncomingCallModal.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/NewChatModal.tsx":
/*!*****************************************!*\
  !*** ./src/components/NewChatModal.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ NewChatModal)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _firebase_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/firebase/config */ \"(ssr)/./src/firebase/config.ts\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/firestore */ \"(ssr)/./node_modules/firebase/firestore/dist/index.mjs\");\n/* harmony import */ var _barrel_optimize_names_FiMessageSquare_FiPlus_FiSearch_FiUsers_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=FiMessageSquare,FiPlus,FiSearch,FiUsers,FiX!=!react-icons/fi */ \"(ssr)/./node_modules/react-icons/fi/index.esm.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\nfunction NewChatModal({ onClose, onCreateChat, currentUserId, userId, onContactSelect }) {\n    const [searchTerm, setSearchTerm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [users, setUsers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [errorMessage, setErrorMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [showContactsScreen, setShowContactsScreen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Gunakan userId atau currentUserId (untuk kompatibilitas)\n    const activeUserId = userId || currentUserId || \"\";\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const fetchUsers = async ()=>{\n            if (!searchTerm || searchTerm.length < 3) return;\n            setLoading(true);\n            setErrorMessage(\"\");\n            try {\n                console.log(\"Searching for users with term:\", searchTerm);\n                // Gunakan query sederhana untuk menghindari kebutuhan indeks komposit\n                const usersQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.collection)(_firebase_config__WEBPACK_IMPORTED_MODULE_2__.db, \"users\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.orderBy)(\"email\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.limit)(20));\n                const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.getDocs)(usersQuery);\n                console.log(\"Found users:\", snapshot.size);\n                const usersData = [];\n                // Filter hasil di sisi klien untuk mencocokkan searchTerm dengan email atau nomor telepon\n                snapshot.forEach((doc)=>{\n                    const userData = doc.data();\n                    if (doc.id !== activeUserId && (userData.email && userData.email.toLowerCase().includes(searchTerm.toLowerCase()) || userData.phoneNumber && userData.phoneNumber.includes(searchTerm))) {\n                        usersData.push({\n                            id: doc.id,\n                            displayName: userData.displayName || null,\n                            email: userData.email || null,\n                            phoneNumber: userData.phoneNumber || null,\n                            photoURL: userData.photoURL,\n                            isOnline: userData.isOnline\n                        });\n                    }\n                });\n                setUsers(usersData.slice(0, 10)); // Batasi hingga 10 hasil\n            } catch (error) {\n                console.error(\"Error fetching users:\", error);\n                setErrorMessage(error.message || \"Terjadi kesalahan saat mencari pengguna\");\n            } finally{\n                setLoading(false);\n            }\n        };\n        fetchUsers();\n    }, [\n        searchTerm,\n        activeUserId\n    ]);\n    // Handler untuk menangani pilihan pengguna\n    const handleUserSelect = (user)=>{\n        if (onCreateChat) {\n            onCreateChat(user.id);\n        } else if (onContactSelect && user.phoneNumber) {\n            onContactSelect({\n                name: user.displayName || \"Pengguna\",\n                phoneNumber: user.phoneNumber\n            });\n        }\n    };\n    // Fungsi untuk membuka WhatsApp dengan nomor telepon\n    const openWhatsApp = (phoneNumber, e)=>{\n        e.stopPropagation(); // Hindari memicu onCreateChat\n        if (!phoneNumber) return;\n        // Bersihkan nomor telepon (hanya angka dan +)\n        const cleanNumber = phoneNumber.replace(/[^\\d+]/g, \"\");\n        window.open(`https://wa.me/${cleanNumber}`, \"_blank\");\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-white/90 backdrop-blur-md w-full max-w-md mx-4 rounded-2xl shadow-xl animate-scaleIn overflow-hidden\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-gradient-to-r from-primary-dark via-primary to-secondary p-5 text-white relative\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute top-0 left-0 w-full h-full overflow-hidden\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute -top-24 -left-24 w-64 h-64 bg-white/10 rounded-full blur-3xl\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                                    lineNumber: 121,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute bottom-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-3xl\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                                    lineNumber: 122,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                            lineNumber: 120,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative z-10 flex justify-between items-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-xl font-bold\",\n                                    children: showContactsScreen ? \"Pilih Kontak\" : \"Chat Baru\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                                    lineNumber: 126,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: onClose,\n                                    className: \"p-2 rounded-full hover:bg-white/20 transition-colors\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiMessageSquare_FiPlus_FiSearch_FiUsers_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiX, {\n                                        size: 20\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                                        lineNumber: 131,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                                    lineNumber: 127,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                            lineNumber: 125,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                    lineNumber: 118,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-4\",\n                    children: loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"py-8 flex justify-center\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-primary\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                            lineNumber: 140,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                        lineNumber: 139,\n                        columnNumber: 13\n                    }, this) : errorMessage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-red-50 border-l-4 border-red-500 text-red-700 p-4 rounded-md animate-fadeIn\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm\",\n                                children: [\n                                    \"Error: \",\n                                    errorMessage\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                                lineNumber: 144,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>{\n                                    setLoading(true);\n                                    setSearchTerm(searchTerm);\n                                },\n                                className: \"mt-2 text-primary hover:underline\",\n                                children: \"Coba lagi\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                                lineNumber: 145,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                        lineNumber: 143,\n                        columnNumber: 13\n                    }, this) : showContactsScreen ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mb-4 relative\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"text\",\n                                        placeholder: \"Cari kontak...\",\n                                        className: \"w-full px-4 py-3 pl-10 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all\",\n                                        value: searchTerm,\n                                        onChange: (e)=>setSearchTerm(e.target.value)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                                        lineNumber: 159,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiMessageSquare_FiPlus_FiSearch_FiUsers_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiSearch, {\n                                        className: \"absolute left-3 top-3.5 text-gray-400\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                                        lineNumber: 166,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                                lineNumber: 158,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"max-h-96 overflow-y-auto rounded-xl\",\n                                children: users.length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-2\",\n                                    children: users.map((user)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>handleUserSelect(user),\n                                            className: \"w-full flex items-center p-3 hover:bg-gray-50 rounded-xl transition-colors text-left\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-10 h-10 rounded-full bg-primary text-white flex items-center justify-center mr-3\",\n                                                    children: user.photoURL ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                        src: user.photoURL,\n                                                        alt: user.displayName || \"User\",\n                                                        className: \"w-full h-full rounded-full object-cover\",\n                                                        onError: (e)=>{\n                                                            e.target.style.display = \"none\";\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                                                        lineNumber: 181,\n                                                        columnNumber: 29\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"font-medium\",\n                                                        children: (user.displayName || user.email || \"U\").charAt(0).toUpperCase()\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                                                        lineNumber: 190,\n                                                        columnNumber: 29\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                                                    lineNumber: 179,\n                                                    columnNumber: 25\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                            className: \"font-medium text-gray-900\",\n                                                            children: user.displayName || user.email?.split(\"@\")[0] || \"User\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                                                            lineNumber: 196,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-sm text-gray-500\",\n                                                            children: user.email\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                                                            lineNumber: 199,\n                                                            columnNumber: 27\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                                                    lineNumber: 195,\n                                                    columnNumber: 25\n                                                }, this),\n                                                user.isOnline && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"ml-auto w-2.5 h-2.5 bg-green-500 rounded-full\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                                                    lineNumber: 204,\n                                                    columnNumber: 27\n                                                }, this)\n                                            ]\n                                        }, user.id, true, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                                            lineNumber: 174,\n                                            columnNumber: 23\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                                    lineNumber: 172,\n                                    columnNumber: 19\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-center py-6 text-gray-500\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiMessageSquare_FiPlus_FiSearch_FiUsers_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiUsers, {\n                                                className: \"text-gray-400\",\n                                                size: 24\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                                                lineNumber: 212,\n                                                columnNumber: 23\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                                            lineNumber: 211,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            children: \"Tidak ada kontak ditemukan\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                                            lineNumber: 214,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                                    lineNumber: 210,\n                                    columnNumber: 19\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                                lineNumber: 170,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center py-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-16 h-16 mx-auto mb-4 bg-primary/10 rounded-full flex items-center justify-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiMessageSquare_FiPlus_FiSearch_FiUsers_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiMessageSquare, {\n                                        className: \"text-primary\",\n                                        size: 24\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                                        lineNumber: 223,\n                                        columnNumber: 19\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                                    lineNumber: 222,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-lg font-medium text-gray-800 mb-2\",\n                                    children: \"Mulai Percakapan Baru\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                                    lineNumber: 225,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-gray-500 text-sm mb-6\",\n                                    children: \"Pilih cara untuk memulai percakapan baru\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                                    lineNumber: 226,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>setShowContactsScreen(true),\n                                    className: \"w-full py-3 mb-3 bg-primary hover:bg-dark text-white rounded-xl transition-colors shadow-md shadow-primary/20 hover:shadow-lg hover:shadow-primary/30 flex items-center justify-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiMessageSquare_FiPlus_FiSearch_FiUsers_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiUsers, {\n                                            className: \"mr-2\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                                            lineNumber: 232,\n                                            columnNumber: 19\n                                        }, this),\n                                        \"Pilih dari Daftar Kontak\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                                    lineNumber: 228,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-center text-gray-500 text-sm my-2\",\n                                    children: \"atau\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                                    lineNumber: 236,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>{\n                                    // Implementasi menambahkan kontak baru\n                                    },\n                                    className: \"w-full py-3 border border-primary text-primary hover:bg-primary/5 rounded-xl transition-colors flex items-center justify-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiMessageSquare_FiPlus_FiSearch_FiUsers_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiPlus, {\n                                            className: \"mr-2\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                                            lineNumber: 244,\n                                            columnNumber: 19\n                                        }, this),\n                                        \"Tambah Kontak Baru\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                                    lineNumber: 238,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                            lineNumber: 221,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false)\n                }, void 0, false, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n                    lineNumber: 137,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n            lineNumber: 116,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\NewChatModal.tsx\",\n        lineNumber: 115,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7cURBTVg7a0NBQ0UsNEVBQUNMOzRCQUFJQyxXQUFVOzs4Q0FDYiw4REFBQ0Q7b0NBQUlDLFdBQVU7OENBQ2IsNEVBQUN0RCw4SEFBZUE7d0NBQUNzRCxXQUFVO3dDQUFlN0IsTUFBTTs7Ozs7Ozs7Ozs7OENBRWxELDhEQUFDa0Q7b0NBQUdyQixXQUFVOzhDQUF5Qzs7Ozs7OzhDQUN2RCw4REFBQ0k7b0NBQUVKLFdBQVU7OENBQTZCOzs7Ozs7OENBRTFDLDhEQUFDRTtvQ0FDQ0MsU0FBUyxJQUFNeEMsc0JBQXNCO29DQUNyQ3FDLFdBQVU7O3NEQUVWLDhEQUFDdkQsc0hBQU9BOzRDQUFDdUQsV0FBVTs7Ozs7O3dDQUFTOzs7Ozs7OzhDQUk5Qiw4REFBQ0k7b0NBQUVKLFdBQVU7OENBQXlDOzs7Ozs7OENBRXRELDhEQUFDRTtvQ0FDQ0MsU0FBUztvQ0FDUCx1Q0FBdUM7b0NBQ3pDO29DQUNBSCxXQUFVOztzREFFViw4REFBQ3JELHFIQUFNQTs0Q0FBQ3FELFdBQVU7Ozs7Ozt3Q0FBUzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBVTdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFsbG8vLi9zcmMvY29tcG9uZW50cy9OZXdDaGF0TW9kYWwudHN4P2M1MmIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xyXG5cclxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgZGIgfSBmcm9tICdAL2ZpcmViYXNlL2NvbmZpZyc7XHJcbmltcG9ydCB7IGNvbGxlY3Rpb24sIHF1ZXJ5LCB3aGVyZSwgZ2V0RG9jcywgbGltaXQsIG9yZGVyQnkgfSBmcm9tICdmaXJlYmFzZS9maXJlc3RvcmUnO1xyXG5pbXBvcnQgeyBGaVNlYXJjaCwgRmlVc2VyLCBGaVgsIEZpUGhvbmUsIEZpVXNlcnMsIEZpTWVzc2FnZVNxdWFyZSwgRmlQbHVzIH0gZnJvbSAncmVhY3QtaWNvbnMvZmknO1xyXG5cclxudHlwZSBVc2VyID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgZGlzcGxheU5hbWU6IHN0cmluZyB8IG51bGw7XHJcbiAgZW1haWw6IHN0cmluZyB8IG51bGw7XHJcbiAgcGhvbmVOdW1iZXI6IHN0cmluZyB8IG51bGw7XHJcbiAgcGhvdG9VUkw/OiBzdHJpbmc7XHJcbiAgaXNPbmxpbmU/OiBib29sZWFuO1xyXG59O1xyXG5cclxudHlwZSBOZXdDaGF0TW9kYWxQcm9wcyA9IHtcclxuICBvbkNsb3NlOiAoKSA9PiB2b2lkO1xyXG4gIG9uQ3JlYXRlQ2hhdD86ICh1c2VySWQ6IHN0cmluZykgPT4gdm9pZDtcclxuICBjdXJyZW50VXNlcklkPzogc3RyaW5nO1xyXG4gIHVzZXJJZD86IHN0cmluZztcclxuICBvbkNvbnRhY3RTZWxlY3Q/OiAoY29udGFjdDogeyBuYW1lOiBzdHJpbmcsIHBob25lTnVtYmVyOiBzdHJpbmcgfSkgPT4gdm9pZDtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE5ld0NoYXRNb2RhbCh7XHJcbiAgb25DbG9zZSxcclxuICBvbkNyZWF0ZUNoYXQsXHJcbiAgY3VycmVudFVzZXJJZCxcclxuICB1c2VySWQsXHJcbiAgb25Db250YWN0U2VsZWN0XHJcbn06IE5ld0NoYXRNb2RhbFByb3BzKSB7XHJcbiAgY29uc3QgW3NlYXJjaFRlcm0sIHNldFNlYXJjaFRlcm1dID0gdXNlU3RhdGUoJycpO1xyXG4gIGNvbnN0IFt1c2Vycywgc2V0VXNlcnNdID0gdXNlU3RhdGU8VXNlcltdPihbXSk7XHJcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtlcnJvck1lc3NhZ2UsIHNldEVycm9yTWVzc2FnZV0gPSB1c2VTdGF0ZSgnJyk7XHJcbiAgY29uc3QgW3Nob3dDb250YWN0c1NjcmVlbiwgc2V0U2hvd0NvbnRhY3RzU2NyZWVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuXHJcbiAgLy8gR3VuYWthbiB1c2VySWQgYXRhdSBjdXJyZW50VXNlcklkICh1bnR1ayBrb21wYXRpYmlsaXRhcylcclxuICBjb25zdCBhY3RpdmVVc2VySWQgPSB1c2VySWQgfHwgY3VycmVudFVzZXJJZCB8fCAnJztcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGZldGNoVXNlcnMgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGlmICghc2VhcmNoVGVybSB8fCBzZWFyY2hUZXJtLmxlbmd0aCA8IDMpIHJldHVybjtcclxuICAgICAgXHJcbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XHJcbiAgICAgIHNldEVycm9yTWVzc2FnZSgnJyk7XHJcbiAgICAgIFxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdTZWFyY2hpbmcgZm9yIHVzZXJzIHdpdGggdGVybTonLCBzZWFyY2hUZXJtKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBHdW5ha2FuIHF1ZXJ5IHNlZGVyaGFuYSB1bnR1ayBtZW5naGluZGFyaSBrZWJ1dHVoYW4gaW5kZWtzIGtvbXBvc2l0XHJcbiAgICAgICAgY29uc3QgdXNlcnNRdWVyeSA9IHF1ZXJ5KFxyXG4gICAgICAgICAgY29sbGVjdGlvbihkYiwgJ3VzZXJzJyksXHJcbiAgICAgICAgICBvcmRlckJ5KCdlbWFpbCcpLFxyXG4gICAgICAgICAgbGltaXQoMjApXHJcbiAgICAgICAgKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvY3ModXNlcnNRdWVyeSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0ZvdW5kIHVzZXJzOicsIHNuYXBzaG90LnNpemUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHVzZXJzRGF0YTogVXNlcltdID0gW107XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gRmlsdGVyIGhhc2lsIGRpIHNpc2kga2xpZW4gdW50dWsgbWVuY29jb2trYW4gc2VhcmNoVGVybSBkZW5nYW4gZW1haWwgYXRhdSBub21vciB0ZWxlcG9uXHJcbiAgICAgICAgc25hcHNob3QuZm9yRWFjaCgoZG9jKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCB1c2VyRGF0YSA9IGRvYy5kYXRhKCk7XHJcbiAgICAgICAgICBpZiAoZG9jLmlkICE9PSBhY3RpdmVVc2VySWQgJiYgXHJcbiAgICAgICAgICAgICAgKCh1c2VyRGF0YS5lbWFpbCAmJiB1c2VyRGF0YS5lbWFpbC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaFRlcm0udG9Mb3dlckNhc2UoKSkpIHx8XHJcbiAgICAgICAgICAgICAgICh1c2VyRGF0YS5waG9uZU51bWJlciAmJiB1c2VyRGF0YS5waG9uZU51bWJlci5pbmNsdWRlcyhzZWFyY2hUZXJtKSkpKSB7XHJcbiAgICAgICAgICAgIHVzZXJzRGF0YS5wdXNoKHtcclxuICAgICAgICAgICAgICBpZDogZG9jLmlkLFxyXG4gICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiB1c2VyRGF0YS5kaXNwbGF5TmFtZSB8fCBudWxsLFxyXG4gICAgICAgICAgICAgIGVtYWlsOiB1c2VyRGF0YS5lbWFpbCB8fCBudWxsLFxyXG4gICAgICAgICAgICAgIHBob25lTnVtYmVyOiB1c2VyRGF0YS5waG9uZU51bWJlciB8fCBudWxsLFxyXG4gICAgICAgICAgICAgIHBob3RvVVJMOiB1c2VyRGF0YS5waG90b1VSTCxcclxuICAgICAgICAgICAgICBpc09ubGluZTogdXNlckRhdGEuaXNPbmxpbmVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgc2V0VXNlcnModXNlcnNEYXRhLnNsaWNlKDAsIDEwKSk7IC8vIEJhdGFzaSBoaW5nZ2EgMTAgaGFzaWxcclxuICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHVzZXJzOicsIGVycm9yKTtcclxuICAgICAgICBzZXRFcnJvck1lc3NhZ2UoZXJyb3IubWVzc2FnZSB8fCAnVGVyamFkaSBrZXNhbGFoYW4gc2FhdCBtZW5jYXJpIHBlbmdndW5hJyk7XHJcbiAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZmV0Y2hVc2VycygpO1xyXG4gIH0sIFtzZWFyY2hUZXJtLCBhY3RpdmVVc2VySWRdKTtcclxuXHJcbiAgLy8gSGFuZGxlciB1bnR1ayBtZW5hbmdhbmkgcGlsaWhhbiBwZW5nZ3VuYVxyXG4gIGNvbnN0IGhhbmRsZVVzZXJTZWxlY3QgPSAodXNlcjogVXNlcikgPT4ge1xyXG4gICAgaWYgKG9uQ3JlYXRlQ2hhdCkge1xyXG4gICAgICBvbkNyZWF0ZUNoYXQodXNlci5pZCk7XHJcbiAgICB9IGVsc2UgaWYgKG9uQ29udGFjdFNlbGVjdCAmJiB1c2VyLnBob25lTnVtYmVyKSB7XHJcbiAgICAgIG9uQ29udGFjdFNlbGVjdCh7XHJcbiAgICAgICAgbmFtZTogdXNlci5kaXNwbGF5TmFtZSB8fCAnUGVuZ2d1bmEnLFxyXG4gICAgICAgIHBob25lTnVtYmVyOiB1c2VyLnBob25lTnVtYmVyXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIEZ1bmdzaSB1bnR1ayBtZW1idWthIFdoYXRzQXBwIGRlbmdhbiBub21vciB0ZWxlcG9uXHJcbiAgY29uc3Qgb3BlbldoYXRzQXBwID0gKHBob25lTnVtYmVyOiBzdHJpbmcsIGU6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIEhpbmRhcmkgbWVtaWN1IG9uQ3JlYXRlQ2hhdFxyXG4gICAgaWYgKCFwaG9uZU51bWJlcikgcmV0dXJuO1xyXG4gICAgXHJcbiAgICAvLyBCZXJzaWhrYW4gbm9tb3IgdGVsZXBvbiAoaGFueWEgYW5na2EgZGFuICspXHJcbiAgICBjb25zdCBjbGVhbk51bWJlciA9IHBob25lTnVtYmVyLnJlcGxhY2UoL1teXFxkK10vZywgJycpO1xyXG4gICAgd2luZG93Lm9wZW4oYGh0dHBzOi8vd2EubWUvJHtjbGVhbk51bWJlcn1gLCAnX2JsYW5rJyk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCB6LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWJsYWNrIGJnLW9wYWNpdHktNTBcIj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZS85MCBiYWNrZHJvcC1ibHVyLW1kIHctZnVsbCBtYXgtdy1tZCBteC00IHJvdW5kZWQtMnhsIHNoYWRvdy14bCBhbmltYXRlLXNjYWxlSW4gb3ZlcmZsb3ctaGlkZGVuXCI+XHJcbiAgICAgICAgey8qIEhlYWRlciAqL31cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYWRpZW50LXRvLXIgZnJvbS1wcmltYXJ5LWRhcmsgdmlhLXByaW1hcnkgdG8tc2Vjb25kYXJ5IHAtNSB0ZXh0LXdoaXRlIHJlbGF0aXZlXCI+XHJcbiAgICAgICAgICB7LyogRGVjb3JhdGl2ZSBlbGVtZW50cyAqL31cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTAgbGVmdC0wIHctZnVsbCBoLWZ1bGwgb3ZlcmZsb3ctaGlkZGVuXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgLXRvcC0yNCAtbGVmdC0yNCB3LTY0IGgtNjQgYmctd2hpdGUvMTAgcm91bmRlZC1mdWxsIGJsdXItM3hsXCI+PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTAgcmlnaHQtMCB3LTMyIGgtMzIgYmctd2hpdGUvMTAgcm91bmRlZC1mdWxsIGJsdXItM3hsXCI+PC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSB6LTEwIGZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGRcIj57c2hvd0NvbnRhY3RzU2NyZWVuID8gJ1BpbGloIEtvbnRhaycgOiAnQ2hhdCBCYXJ1J308L2gyPlxyXG4gICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xvc2V9XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0yIHJvdW5kZWQtZnVsbCBob3ZlcjpiZy13aGl0ZS8yMCB0cmFuc2l0aW9uLWNvbG9yc1wiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8RmlYIHNpemU9ezIwfSAvPlxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIFxyXG4gICAgICAgIHsvKiBDb250ZW50ICovfVxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00XCI+XHJcbiAgICAgICAgICB7bG9hZGluZyA/IChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweS04IGZsZXgganVzdGlmeS1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC0xMCB3LTEwIGJvcmRlci10LTIgYm9yZGVyLWItMiBib3JkZXItcHJpbWFyeVwiPjwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICkgOiBlcnJvck1lc3NhZ2UgPyAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctcmVkLTUwIGJvcmRlci1sLTQgYm9yZGVyLXJlZC01MDAgdGV4dC1yZWQtNzAwIHAtNCByb3VuZGVkLW1kIGFuaW1hdGUtZmFkZUluXCI+XHJcbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbVwiPkVycm9yOiB7ZXJyb3JNZXNzYWdlfTwvcD5cclxuICAgICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBzZXRMb2FkaW5nKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICBzZXRTZWFyY2hUZXJtKHNlYXJjaFRlcm0pO1xyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTIgdGV4dC1wcmltYXJ5IGhvdmVyOnVuZGVybGluZVwiXHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgQ29iYSBsYWdpXHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKSA6IHNob3dDb250YWN0c1NjcmVlbiA/IChcclxuICAgICAgICAgICAgPD5cclxuICAgICAgICAgICAgICB7LyogU2VhcmNoICovfVxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNCByZWxhdGl2ZVwiPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJDYXJpIGtvbnRhay4uLlwiXHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC00IHB5LTMgcGwtMTAgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCByb3VuZGVkLXhsIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1wcmltYXJ5LzUwIGZvY3VzOmJvcmRlci1wcmltYXJ5IHRyYW5zaXRpb24tYWxsXCJcclxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3NlYXJjaFRlcm19XHJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2VhcmNoVGVybShlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPEZpU2VhcmNoIGNsYXNzTmFtZT1cImFic29sdXRlIGxlZnQtMyB0b3AtMy41IHRleHQtZ3JheS00MDBcIiAvPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIHsvKiBDb250YWN0IGxpc3QgKi99XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtaC05NiBvdmVyZmxvdy15LWF1dG8gcm91bmRlZC14bFwiPlxyXG4gICAgICAgICAgICAgICAge3VzZXJzLmxlbmd0aCA+IDAgPyAoXHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAge3VzZXJzLm1hcCgodXNlcikgPT4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3VzZXIuaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVVzZXJTZWxlY3QodXNlcil9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBwLTMgaG92ZXI6YmctZ3JheS01MCByb3VuZGVkLXhsIHRyYW5zaXRpb24tY29sb3JzIHRleHQtbGVmdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMCBoLTEwIHJvdW5kZWQtZnVsbCBiZy1wcmltYXJ5IHRleHQtd2hpdGUgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgbXItM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHt1c2VyLnBob3RvVVJMID8gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXt1c2VyLnBob3RvVVJMfSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PXt1c2VyLmRpc3BsYXlOYW1lIHx8ICdVc2VyJ30gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgcm91bmRlZC1mdWxsIG9iamVjdC1jb3ZlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRXJyb3I9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGUudGFyZ2V0IGFzIEhUTUxJbWFnZUVsZW1lbnQpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KHVzZXIuZGlzcGxheU5hbWUgfHwgdXNlci5lbWFpbCB8fCAnVScpLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dXNlci5kaXNwbGF5TmFtZSB8fCB1c2VyLmVtYWlsPy5zcGxpdCgnQCcpWzBdIHx8ICdVc2VyJ31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3VzZXIuZW1haWx9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3VzZXIuaXNPbmxpbmUgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLWF1dG8gdy0yLjUgaC0yLjUgYmctZ3JlZW4tNTAwIHJvdW5kZWQtZnVsbFwiPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcHktNiB0ZXh0LWdyYXktNTAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTE2IGgtMTYgbXgtYXV0byBtYi00IGJnLWdyYXktMTAwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPEZpVXNlcnMgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMFwiIHNpemU9ezI0fSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxwPlRpZGFrIGFkYSBrb250YWsgZGl0ZW11a2FuPC9wPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgPD5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTZcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xNiBoLTE2IG14LWF1dG8gbWItNCBiZy1wcmltYXJ5LzEwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICA8RmlNZXNzYWdlU3F1YXJlIGNsYXNzTmFtZT1cInRleHQtcHJpbWFyeVwiIHNpemU9ezI0fSAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LW1lZGl1bSB0ZXh0LWdyYXktODAwIG1iLTJcIj5NdWxhaSBQZXJjYWthcGFuIEJhcnU8L2gzPlxyXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMCB0ZXh0LXNtIG1iLTZcIj5QaWxpaCBjYXJhIHVudHVrIG1lbXVsYWkgcGVyY2FrYXBhbiBiYXJ1PC9wPlxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dDb250YWN0c1NjcmVlbih0cnVlKX1cclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB5LTMgbWItMyBiZy1wcmltYXJ5IGhvdmVyOmJnLWRhcmsgdGV4dC13aGl0ZSByb3VuZGVkLXhsIHRyYW5zaXRpb24tY29sb3JzIHNoYWRvdy1tZCBzaGFkb3ctcHJpbWFyeS8yMCBob3ZlcjpzaGFkb3ctbGcgaG92ZXI6c2hhZG93LXByaW1hcnkvMzAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIlxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICA8RmlVc2VycyBjbGFzc05hbWU9XCJtci0yXCIgLz5cclxuICAgICAgICAgICAgICAgICAgUGlsaWggZGFyaSBEYWZ0YXIgS29udGFrXHJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgdGV4dC1ncmF5LTUwMCB0ZXh0LXNtIG15LTJcIj5hdGF1PC9wPlxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBJbXBsZW1lbnRhc2kgbWVuYW1iYWhrYW4ga29udGFrIGJhcnVcclxuICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB5LTMgYm9yZGVyIGJvcmRlci1wcmltYXJ5IHRleHQtcHJpbWFyeSBob3ZlcjpiZy1wcmltYXJ5LzUgcm91bmRlZC14bCB0cmFuc2l0aW9uLWNvbG9ycyBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIDxGaVBsdXMgY2xhc3NOYW1lPVwibXItMlwiIC8+XHJcbiAgICAgICAgICAgICAgICAgIFRhbWJhaCBLb250YWsgQmFydVxyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59ICJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsImRiIiwiY29sbGVjdGlvbiIsInF1ZXJ5IiwiZ2V0RG9jcyIsImxpbWl0Iiwib3JkZXJCeSIsIkZpU2VhcmNoIiwiRmlYIiwiRmlVc2VycyIsIkZpTWVzc2FnZVNxdWFyZSIsIkZpUGx1cyIsIk5ld0NoYXRNb2RhbCIsIm9uQ2xvc2UiLCJvbkNyZWF0ZUNoYXQiLCJjdXJyZW50VXNlcklkIiwidXNlcklkIiwib25Db250YWN0U2VsZWN0Iiwic2VhcmNoVGVybSIsInNldFNlYXJjaFRlcm0iLCJ1c2VycyIsInNldFVzZXJzIiwibG9hZGluZyIsInNldExvYWRpbmciLCJlcnJvck1lc3NhZ2UiLCJzZXRFcnJvck1lc3NhZ2UiLCJzaG93Q29udGFjdHNTY3JlZW4iLCJzZXRTaG93Q29udGFjdHNTY3JlZW4iLCJhY3RpdmVVc2VySWQiLCJmZXRjaFVzZXJzIiwibGVuZ3RoIiwiY29uc29sZSIsImxvZyIsInVzZXJzUXVlcnkiLCJzbmFwc2hvdCIsInNpemUiLCJ1c2Vyc0RhdGEiLCJmb3JFYWNoIiwiZG9jIiwidXNlckRhdGEiLCJkYXRhIiwiaWQiLCJlbWFpbCIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJwaG9uZU51bWJlciIsInB1c2giLCJkaXNwbGF5TmFtZSIsInBob3RvVVJMIiwiaXNPbmxpbmUiLCJzbGljZSIsImVycm9yIiwibWVzc2FnZSIsImhhbmRsZVVzZXJTZWxlY3QiLCJ1c2VyIiwibmFtZSIsIm9wZW5XaGF0c0FwcCIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJjbGVhbk51bWJlciIsInJlcGxhY2UiLCJ3aW5kb3ciLCJvcGVuIiwiZGl2IiwiY2xhc3NOYW1lIiwiaDIiLCJidXR0b24iLCJvbkNsaWNrIiwicCIsImlucHV0IiwidHlwZSIsInBsYWNlaG9sZGVyIiwidmFsdWUiLCJvbkNoYW5nZSIsInRhcmdldCIsIm1hcCIsImltZyIsInNyYyIsImFsdCIsIm9uRXJyb3IiLCJzdHlsZSIsImRpc3BsYXkiLCJzcGFuIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJoMyIsInNwbGl0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/components/NewChatModal.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/ProfileModal.tsx":
/*!*****************************************!*\
  !*** ./src/components/ProfileModal.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ProfileModal)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_FiCamera_FiPhone_FiSave_FiUser_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=FiCamera,FiPhone,FiSave,FiUser,FiX!=!react-icons/fi */ \"(ssr)/./node_modules/react-icons/fi/index.esm.js\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/firestore */ \"(ssr)/./node_modules/firebase/firestore/dist/index.mjs\");\n/* harmony import */ var _firebase_config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/firebase/config */ \"(ssr)/./src/firebase/config.ts\");\n/* harmony import */ var _lib_users__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/users */ \"(ssr)/./src/lib/users.ts\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! firebase/auth */ \"(ssr)/./node_modules/firebase/auth/dist/index.mjs\");\n/* harmony import */ var firebase_storage__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! firebase/storage */ \"(ssr)/./node_modules/firebase/storage/dist/index.mjs\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\n\n// Konstanta untuk ukuran maksimum gambar\nconst MAX_IMAGE_SIZE = 2 * 1024 * 1024; // 2MB (sesuai permintaan)\nconst IMAGE_DIMENSION = 96; // 96px (ukuran umum untuk avatar)\nconst MIN_IMAGE_DIMENSION = 48; // Ukuran minimum jika perlu\n// Fungsi untuk memperkecil ukuran gambar\nconst resizeImage = (file)=>{\n    return new Promise((resolve, reject)=>{\n        const img = new Image();\n        // Max resolution\n        const MAX_WIDTH = 500;\n        const MAX_HEIGHT = 500;\n        // Ukuran maksimum file (500KB)\n        const MAX_IMAGE_SIZE = 500 * 1024;\n        img.onload = ()=>{\n            // Set ukuran canvas persis ke ukuran avatar yang diinginkan\n            const canvas = document.createElement(\"canvas\");\n            // Pertahankan rasio aspek, tapi batasi ukuran\n            let width = img.width;\n            let height = img.height;\n            // Resize jika melebihi dimensi maksimum\n            if (width > MAX_WIDTH) {\n                height = Math.round(height * (MAX_WIDTH / width));\n                width = MAX_WIDTH;\n            }\n            if (height > MAX_HEIGHT) {\n                width = Math.round(width * (MAX_HEIGHT / height));\n                height = MAX_HEIGHT;\n            }\n            // Set ukuran canvas\n            canvas.width = width;\n            canvas.height = height;\n            // Gambar ke canvas dengan ukuran baru\n            const ctx = canvas.getContext(\"2d\");\n            ctx.drawImage(img, 0, 0, width, height);\n            // Konversi ke blob dengan kualitas rendah untuk meminimalkan ukuran\n            canvas.toBlob((blob)=>{\n                if (blob) {\n                    // Jika ukuran masih terlalu besar, coba lagi dengan kualitas lebih rendah\n                    if (blob.size > MAX_IMAGE_SIZE) {\n                        canvas.toBlob((smallerBlob)=>{\n                            if (smallerBlob) {\n                                resolve(smallerBlob);\n                            } else {\n                                reject(new Error(\"Gagal mengkonversi gambar\"));\n                            }\n                        }, \"image/jpeg\", 0.5 // Kualitas lebih rendah\n                        );\n                    } else {\n                        resolve(blob);\n                    }\n                } else {\n                    reject(new Error(\"Gagal mengkonversi gambar\"));\n                }\n            }, \"image/jpeg\", 0.7 // Kualitas medium-high\n            );\n        };\n        img.onerror = ()=>{\n            reject(new Error(\"Gagal memuat gambar\"));\n        };\n        img.src = URL.createObjectURL(file);\n    });\n};\n// Fungsi untuk upload gambar ke Cloudinary melalui API route kita\nconst uploadToCloudinary = async (imageDataUrl)=>{\n    try {\n        const response = await fetch(\"/api/upload-image\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                imageUrl: imageDataUrl\n            })\n        });\n        if (!response.ok) {\n            const errorData = await response.json();\n            throw new Error(errorData.message || \"Gagal upload ke Cloudinary\");\n        }\n        const data = await response.json();\n        return data.url;\n    } catch (error) {\n        console.error(\"Error upload ke Cloudinary:\", error);\n        throw new Error(\"Gagal mengupload foto: \" + error.message);\n    }\n};\nfunction ProfileModal({ user, onClose, isOpen = true }) {\n    const [displayName, setDisplayName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(user.displayName || \"\");\n    const [phoneNumber, setPhoneNumber] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [saving, setSaving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [success, setSuccess] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [photoURL, setPhotoURL] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(user.photoURL || \"\");\n    const [originalPhotoURL, setOriginalPhotoURL] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(user.photoURL || \"\");\n    const [photoError, setPhotoError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [uploadingPhoto, setUploadingPhoto] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [uploadStatus, setUploadStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const fileInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [photoChanged, setPhotoChanged] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const fetchUserData = async ()=>{\n            try {\n                const userDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_3__.db, \"users\", user.uid));\n                if (userDoc.exists()) {\n                    const userData = userDoc.data();\n                    if (userData.phoneNumber) {\n                        setPhoneNumber(userData.phoneNumber);\n                    }\n                    if (userData.photoURL) {\n                        setPhotoURL(userData.photoURL);\n                        setOriginalPhotoURL(userData.photoURL);\n                    }\n                }\n            } catch (err) {\n                console.error(\"Error fetching user data:\", err);\n            }\n        };\n        fetchUserData();\n    }, [\n        user.uid\n    ]);\n    const handlePhotoClick = ()=>{\n        fileInputRef.current?.click();\n    };\n    const handleCancel = ()=>{\n        if (photoChanged) {\n            console.log(\"Membatalkan perubahan foto profil, kembali ke:\", originalPhotoURL);\n            // Kembalikan foto ke nilai asli\n            if (user.photoURL !== originalPhotoURL) {\n                (0,firebase_auth__WEBPACK_IMPORTED_MODULE_5__.updateProfile)(user, {\n                    photoURL: originalPhotoURL\n                });\n            }\n            // Setel kembali foto di Firestore\n            (0,_lib_users__WEBPACK_IMPORTED_MODULE_4__.updateUserProfile)(user.uid, {\n                photoURL: originalPhotoURL\n            });\n        }\n        onClose();\n    };\n    const handleFileChange = async (e)=>{\n        if (!e.target.files || e.target.files.length === 0) return;\n        const file = e.target.files[0];\n        // Validasi tipe file\n        if (!file.type.includes(\"image/\")) {\n            setError(\"Mohon pilih file gambar (JPG, PNG, dll)\");\n            return;\n        }\n        // Simpan URL foto original untuk dikembalikan jika gagal\n        const originalPhotoURL = photoURL;\n        try {\n            setUploadingPhoto(true);\n            setPhotoChanged(true);\n            setUploadStatus(\"Memproses gambar...\");\n            // Resize gambar sebelum upload\n            const resizedImage = await resizeImage(file);\n            // Buat URL preview sementara\n            const previewURL = URL.createObjectURL(resizedImage);\n            setPhotoURL(previewURL);\n            // Upload ke storage\n            setUploadStatus(\"Mengunggah...\");\n            // Buat reference ke storage\n            const storageRef = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_6__.ref)(_firebase_config__WEBPACK_IMPORTED_MODULE_3__.storage, `avatars/${user.uid}`);\n            // Upload file\n            const uploadTask = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_6__.uploadBytesResumable)(storageRef, resizedImage);\n            // Monitor progress upload\n            uploadTask.on(\"state_changed\", (snapshot)=>{\n                const progress = snapshot.bytesTransferred / snapshot.totalBytes * 100;\n                setUploadStatus(`Mengunggah... ${Math.round(progress)}%`);\n            }, (error)=>{\n                setError(\"Gagal mengunggah foto profil\");\n                setPhotoURL(originalPhotoURL); // Kembalikan ke foto asli jika gagal\n                setPhotoChanged(false);\n                throw error;\n            }, async ()=>{\n                // Upload berhasil, dapatkan URL download\n                const downloadURL = await (0,firebase_storage__WEBPACK_IMPORTED_MODULE_6__.getDownloadURL)(uploadTask.snapshot.ref);\n                // Update URL di state\n                setPhotoURL(downloadURL);\n                // Update di Firestore\n                const success = await (0,_lib_users__WEBPACK_IMPORTED_MODULE_4__.updateUserProfile)(user.uid, {\n                    photoURL: downloadURL\n                });\n                if (!success) {\n                    throw new Error(\"Gagal memperbarui foto profil di database\");\n                }\n                setSuccess(true);\n                setUploadStatus(\"\");\n                // Buat elemen notifikasi sukses yang akan dihapus setelah beberapa detik\n                const successMessage = document.createElement(\"div\");\n                successMessage.className = \"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4 fixed bottom-4 right-4 z-50 animate-fadeIn shadow-lg\";\n                successMessage.innerHTML = \"Foto profil berhasil diperbarui!\";\n                document.body.appendChild(successMessage);\n                // Hapus notifikasi setelah 3 detik\n                setTimeout(()=>{\n                    if (document.body.contains(successMessage)) {\n                        document.body.removeChild(successMessage);\n                    }\n                    setSuccess(false);\n                }, 3000);\n            });\n        } catch (err) {\n            let errorMessage = \"Gagal mengubah foto profil. Silakan coba lagi dengan foto yang lebih kecil.\";\n            if (err.message) {\n                errorMessage = err.message;\n            }\n            setError(errorMessage);\n            setPhotoURL(originalPhotoURL); // Kembalikan ke foto awal jika gagal\n            setPhotoChanged(false); // Reset state perubahan\n        } finally{\n            // Selalu bersihkan\n            setUploadingPhoto(false);\n            setUploadStatus(\"\");\n            // Reset file input agar bisa upload file yang sama\n            if (fileInputRef.current) {\n                fileInputRef.current.value = \"\";\n            }\n        }\n    };\n    const handleSubmit = async (e)=>{\n        e.preventDefault();\n        setSaving(true);\n        setError(\"\");\n        setSuccess(false);\n        try {\n            // Validasi nomor telepon\n            if (phoneNumber && !/^\\+?[0-9\\s-]{10,15}$/.test(phoneNumber)) {\n                throw new Error(\"Format nomor telepon tidak valid\");\n            }\n            // Jika ada perubahan foto, simpan perubahan tersebut\n            if (photoChanged) {\n                console.log(\"Menyimpan perubahan foto profil:\", photoURL);\n                // Update foto URL di Auth jika berubah\n                if (user.photoURL !== photoURL) {\n                    await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_5__.updateProfile)(user, {\n                        photoURL: photoURL\n                    });\n                }\n            }\n            // Update profil di Firestore\n            const result = await (0,_lib_users__WEBPACK_IMPORTED_MODULE_4__.updateUserProfile)(user.uid, {\n                displayName: displayName.trim() || user.email?.split(\"@\")[0] || \"Pengguna\",\n                phoneNumber: phoneNumber.trim() || undefined,\n                photoURL: photoChanged ? photoURL : undefined // Hanya update foto jika berubah\n            });\n            if (result) {\n                // Update profil di Auth jika nama berubah\n                if (user.displayName !== displayName && displayName.trim()) {\n                    await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_5__.updateProfile)(user, {\n                        displayName: displayName.trim()\n                    });\n                }\n                // Set original foto ke nilai baru karena sudah disimpan\n                setOriginalPhotoURL(photoURL);\n                setPhotoChanged(false);\n                setSuccess(true);\n                setTimeout(()=>{\n                    onClose();\n                }, 1500);\n            } else {\n                throw new Error(\"Gagal menyimpan profil\");\n            }\n        } catch (err) {\n            setError(err.message || \"Terjadi kesalahan saat menyimpan profil\");\n        } finally{\n            setSaving(false);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"relative bg-white/90 backdrop-blur-md w-full max-w-md mx-4 rounded-2xl shadow-xl animate-scaleIn overflow-hidden\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-gradient-to-r from-primary-dark via-primary to-secondary p-6 text-white relative\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute top-0 left-0 w-full h-full overflow-hidden\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute -top-24 -left-24 w-64 h-64 bg-white/10 rounded-full blur-3xl\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                                    lineNumber: 343,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute bottom-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-3xl\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                                    lineNumber: 344,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                            lineNumber: 342,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative z-10\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex justify-between items-center mb-6\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                            className: \"text-xl font-bold\",\n                                            children: \"Profil Saya\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                                            lineNumber: 349,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: onClose,\n                                            className: \"p-2 rounded-full hover:bg-white/20 transition-colors\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCamera_FiPhone_FiSave_FiUser_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.FiX, {\n                                                size: 20\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                                                lineNumber: 354,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                                            lineNumber: 350,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                                    lineNumber: 348,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex flex-col items-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"relative mb-6\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-24 h-24 rounded-full overflow-hidden bg-white/20 flex items-center justify-center border-4 border-white/30 shadow-lg\",\n                                                children: [\n                                                    uploadingPhoto && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"absolute inset-0 flex flex-col items-center justify-center bg-black bg-opacity-50 z-10\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"animate-spin h-8 w-8 border-4 border-white border-t-transparent rounded-full mb-2\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                                                                lineNumber: 363,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"text-white text-xs text-center px-1\",\n                                                                children: uploadStatus\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                                                                lineNumber: 364,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                                                        lineNumber: 362,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    photoURL && !photoError ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                        src: photoURL,\n                                                        alt: \"Foto profil\",\n                                                        className: \"w-full h-full object-cover\",\n                                                        onError: ()=>{\n                                                            // Jika ada error loading gambar\n                                                            console.error(\"Error loading profile image\");\n                                                            setPhotoError(true);\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                                                        lineNumber: 369,\n                                                        columnNumber: 21\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"h-24 w-24 flex items-center justify-center text-primary text-4xl font-bold\",\n                                                        children: (displayName || user.email?.split(\"@\")[0] || \"U\").charAt(0).toUpperCase()\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                                                        lineNumber: 380,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                                                lineNumber: 360,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                htmlFor: \"profile-image-upload\",\n                                                className: `absolute bottom-0 right-0 ${uploadingPhoto ? \"bg-gray-500 cursor-not-allowed\" : \"bg-primary hover:bg-primary-dark\"} text-white p-2 rounded-full shadow-md transition-colors duration-200`,\n                                                onClick: handlePhotoClick,\n                                                title: uploadingPhoto ? uploadStatus : \"Ubah Foto Profil\",\n                                                children: uploadingPhoto ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                                                    lineNumber: 396,\n                                                    columnNumber: 21\n                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCamera_FiPhone_FiSave_FiUser_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.FiCamera, {\n                                                    size: 18\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                                                    lineNumber: 398,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                                                lineNumber: 385,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                id: \"profile-image-upload\",\n                                                type: \"file\",\n                                                ref: fileInputRef,\n                                                className: \"hidden\",\n                                                accept: \"image/*\",\n                                                onChange: handleFileChange\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                                                lineNumber: 401,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                                        lineNumber: 359,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                                    lineNumber: 358,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                            lineNumber: 347,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                    lineNumber: 340,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-xs text-gray-500 text-center mb-4 px-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            children: \"Ukuran maksimal foto: 2MB\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                            lineNumber: 416,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            children: \"Format yang didukung: JPG, PNG, GIF\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                            lineNumber: 417,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"mt-1 italic\",\n                            children: \"Ukuran optimal: 96x96 pixel untuk avatar\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                            lineNumber: 418,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                    lineNumber: 415,\n                    columnNumber: 9\n                }, this),\n                error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mx-4 mb-4 text-sm\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                            className: \"font-bold\",\n                            children: \"Gagal: \"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                            lineNumber: 423,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            children: error\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                            lineNumber: 424,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                    lineNumber: 422,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                    onSubmit: handleSubmit,\n                    className: \"p-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"block text-gray-700 text-sm font-bold mb-2\",\n                                    htmlFor: \"displayName\",\n                                    children: \"Nama Tampilan\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                                    lineNumber: 430,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            id: \"displayName\",\n                                            type: \"text\",\n                                            placeholder: \"Masukkan nama tampilan Anda\",\n                                            value: displayName,\n                                            onChange: (e)=>setDisplayName(e.target.value),\n                                            className: \"w-full py-2 pl-10 pr-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                                            lineNumber: 434,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCamera_FiPhone_FiSave_FiUser_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.FiUser, {\n                                            className: \"absolute left-3 top-3 text-gray-500\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                                            lineNumber: 442,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                                    lineNumber: 433,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                            lineNumber: 429,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"block text-gray-700 text-sm font-bold mb-2\",\n                                    htmlFor: \"phoneNumber\",\n                                    children: \"Nomor Telepon\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                                    lineNumber: 447,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            id: \"phoneNumber\",\n                                            type: \"text\",\n                                            placeholder: \"Cth: +6281234567890\",\n                                            value: phoneNumber,\n                                            onChange: (e)=>setPhoneNumber(e.target.value),\n                                            className: \"w-full py-2 pl-10 pr-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                                            lineNumber: 451,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCamera_FiPhone_FiSave_FiUser_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.FiPhone, {\n                                            className: \"absolute left-3 top-3 text-gray-500\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                                            lineNumber: 459,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                                    lineNumber: 450,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-xs text-gray-500 mt-1\",\n                                    children: \"Format: +62xxxxxxxxxx (dengan kode negara)\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                                    lineNumber: 461,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                            lineNumber: 446,\n                            columnNumber: 11\n                        }, this),\n                        success && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4\",\n                            children: \"Profil berhasil disimpan!\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                            lineNumber: 467,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex justify-end mt-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    type: \"button\",\n                                    onClick: handleCancel,\n                                    className: \"mr-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors duration-200\",\n                                    children: \"Batal\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                                    lineNumber: 473,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    type: \"submit\",\n                                    disabled: saving,\n                                    className: \"flex items-center px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark disabled:bg-gray-400 transition-colors duration-200\",\n                                    children: saving ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full mr-2\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                                                lineNumber: 487,\n                                                columnNumber: 19\n                                            }, this),\n                                            \"Menyimpan...\"\n                                        ]\n                                    }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCamera_FiPhone_FiSave_FiUser_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.FiSave, {\n                                                className: \"mr-2\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                                                lineNumber: 492,\n                                                columnNumber: 19\n                                            }, this),\n                                            \"Simpan Profil\"\n                                        ]\n                                    }, void 0, true)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                                    lineNumber: 480,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                            lineNumber: 472,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n                    lineNumber: 428,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n            lineNumber: 338,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\ProfileModal.tsx\",\n        lineNumber: 337,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ozs7Ozs7Ozs7d0JBSzNDNUMseUJBQ0MsOERBQUM0RDs0QkFBSWhCLFdBQVU7c0NBQTZFOzs7Ozs7c0NBSzlGLDhEQUFDZ0I7NEJBQUloQixXQUFVOzs4Q0FDYiw4REFBQ2tCO29DQUNDL0IsTUFBSztvQ0FDTGdDLFNBQVN2QztvQ0FDVG9CLFdBQVU7OENBQ1g7Ozs7Ozs4Q0FHRCw4REFBQ2tCO29DQUNDL0IsTUFBSztvQ0FDTGtELFVBQVVwRjtvQ0FDVitDLFdBQVU7OENBRVQvQyx1QkFDQzs7MERBQ0UsOERBQUMrRDtnREFBSWhCLFdBQVU7Ozs7Ozs0Q0FBMEY7O3FFQUkzRzs7MERBQ0UsOERBQUNwSCw0R0FBTUE7Z0RBQUNvSCxXQUFVOzs7Ozs7NENBQVM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFVN0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWxsby8uL3NyYy9jb21wb25lbnRzL1Byb2ZpbGVNb2RhbC50c3g/OTcyMyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XHJcblxyXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IFVzZXIgfSBmcm9tICdmaXJlYmFzZS9hdXRoJztcclxuaW1wb3J0IHsgRmlYLCBGaVVzZXIsIEZpUGhvbmUsIEZpU2F2ZSwgRmlDYW1lcmEgfSBmcm9tICdyZWFjdC1pY29ucy9maSc7XHJcbmltcG9ydCB7IGRvYywgZ2V0RG9jIH0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcclxuaW1wb3J0IHsgZGIgfSBmcm9tICdAL2ZpcmViYXNlL2NvbmZpZyc7XHJcbmltcG9ydCB7IHVwZGF0ZVVzZXJQcm9maWxlIH0gZnJvbSAnQC9saWIvdXNlcnMnO1xyXG5pbXBvcnQgeyB1cGRhdGVQcm9maWxlIH0gZnJvbSAnZmlyZWJhc2UvYXV0aCc7XHJcbmltcG9ydCB7IHJlZiwgdXBsb2FkQnl0ZXNSZXN1bWFibGUsIGdldERvd25sb2FkVVJMIH0gZnJvbSAnZmlyZWJhc2Uvc3RvcmFnZSc7XHJcbmltcG9ydCB7IHN0b3JhZ2UgfSBmcm9tICdAL2ZpcmViYXNlL2NvbmZpZyc7XHJcblxyXG4vLyBLb25zdGFudGEgdW50dWsgdWt1cmFuIG1ha3NpbXVtIGdhbWJhclxyXG5jb25zdCBNQVhfSU1BR0VfU0laRSA9IDIgKiAxMDI0ICogMTAyNDsgLy8gMk1CIChzZXN1YWkgcGVybWludGFhbilcclxuY29uc3QgSU1BR0VfRElNRU5TSU9OID0gOTY7IC8vIDk2cHggKHVrdXJhbiB1bXVtIHVudHVrIGF2YXRhcilcclxuY29uc3QgTUlOX0lNQUdFX0RJTUVOU0lPTiA9IDQ4OyAvLyBVa3VyYW4gbWluaW11bSBqaWthIHBlcmx1XHJcblxyXG4vLyBGdW5nc2kgdW50dWsgbWVtcGVya2VjaWwgdWt1cmFuIGdhbWJhclxyXG5jb25zdCByZXNpemVJbWFnZSA9IChmaWxlOiBGaWxlKTogUHJvbWlzZTxCbG9iPiA9PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgXHJcbiAgICAvLyBNYXggcmVzb2x1dGlvblxyXG4gICAgY29uc3QgTUFYX1dJRFRIID0gNTAwO1xyXG4gICAgY29uc3QgTUFYX0hFSUdIVCA9IDUwMDtcclxuICAgIFxyXG4gICAgLy8gVWt1cmFuIG1ha3NpbXVtIGZpbGUgKDUwMEtCKVxyXG4gICAgY29uc3QgTUFYX0lNQUdFX1NJWkUgPSA1MDAgKiAxMDI0O1xyXG4gICAgXHJcbiAgICBpbWcub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAvLyBTZXQgdWt1cmFuIGNhbnZhcyBwZXJzaXMga2UgdWt1cmFuIGF2YXRhciB5YW5nIGRpaW5naW5rYW5cclxuICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBQZXJ0YWhhbmthbiByYXNpbyBhc3BlaywgdGFwaSBiYXRhc2kgdWt1cmFuXHJcbiAgICAgIGxldCB3aWR0aCA9IGltZy53aWR0aDtcclxuICAgICAgbGV0IGhlaWdodCA9IGltZy5oZWlnaHQ7XHJcbiAgICAgIFxyXG4gICAgICAvLyBSZXNpemUgamlrYSBtZWxlYmloaSBkaW1lbnNpIG1ha3NpbXVtXHJcbiAgICAgIGlmICh3aWR0aCA+IE1BWF9XSURUSCkge1xyXG4gICAgICAgIGhlaWdodCA9IE1hdGgucm91bmQoaGVpZ2h0ICogKE1BWF9XSURUSCAvIHdpZHRoKSk7XHJcbiAgICAgICAgd2lkdGggPSBNQVhfV0lEVEg7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGlmIChoZWlnaHQgPiBNQVhfSEVJR0hUKSB7XHJcbiAgICAgICAgd2lkdGggPSBNYXRoLnJvdW5kKHdpZHRoICogKE1BWF9IRUlHSFQgLyBoZWlnaHQpKTtcclxuICAgICAgICBoZWlnaHQgPSBNQVhfSEVJR0hUO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBTZXQgdWt1cmFuIGNhbnZhc1xyXG4gICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgXHJcbiAgICAgIC8vIEdhbWJhciBrZSBjYW52YXMgZGVuZ2FuIHVrdXJhbiBiYXJ1XHJcbiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICBjdHghLmRyYXdJbWFnZShpbWcsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICBcclxuICAgICAgLy8gS29udmVyc2kga2UgYmxvYiBkZW5nYW4ga3VhbGl0YXMgcmVuZGFoIHVudHVrIG1lbWluaW1hbGthbiB1a3VyYW5cclxuICAgICAgY2FudmFzLnRvQmxvYihcclxuICAgICAgICAoYmxvYikgPT4ge1xyXG4gICAgICAgICAgaWYgKGJsb2IpIHtcclxuICAgICAgICAgICAgLy8gSmlrYSB1a3VyYW4gbWFzaWggdGVybGFsdSBiZXNhciwgY29iYSBsYWdpIGRlbmdhbiBrdWFsaXRhcyBsZWJpaCByZW5kYWhcclxuICAgICAgICAgICAgaWYgKGJsb2Iuc2l6ZSA+IE1BWF9JTUFHRV9TSVpFKSB7XHJcbiAgICAgICAgICAgICAgY2FudmFzLnRvQmxvYihcclxuICAgICAgICAgICAgICAgIChzbWFsbGVyQmxvYikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBpZiAoc21hbGxlckJsb2IpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHNtYWxsZXJCbG9iKTtcclxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdHYWdhbCBtZW5na29udmVyc2kgZ2FtYmFyJykpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgJ2ltYWdlL2pwZWcnLFxyXG4gICAgICAgICAgICAgICAgMC41ICAvLyBLdWFsaXRhcyBsZWJpaCByZW5kYWhcclxuICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHJlc29sdmUoYmxvYik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0dhZ2FsIG1lbmdrb252ZXJzaSBnYW1iYXInKSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICAnaW1hZ2UvanBlZycsXHJcbiAgICAgICAgMC43ICAvLyBLdWFsaXRhcyBtZWRpdW0taGlnaFxyXG4gICAgICApO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgaW1nLm9uZXJyb3IgPSAoKSA9PiB7XHJcbiAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0dhZ2FsIG1lbXVhdCBnYW1iYXInKSk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBpbWcuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcclxuICB9KTtcclxufTtcclxuXHJcbi8vIEZ1bmdzaSB1bnR1ayB1cGxvYWQgZ2FtYmFyIGtlIENsb3VkaW5hcnkgbWVsYWx1aSBBUEkgcm91dGUga2l0YVxyXG5jb25zdCB1cGxvYWRUb0Nsb3VkaW5hcnkgPSBhc3luYyAoaW1hZ2VEYXRhVXJsOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4gPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3VwbG9hZC1pbWFnZScsIHtcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGltYWdlVXJsOiBpbWFnZURhdGFVcmwgfSksXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yRGF0YS5tZXNzYWdlIHx8ICdHYWdhbCB1cGxvYWQga2UgQ2xvdWRpbmFyeScpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICByZXR1cm4gZGF0YS51cmw7XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBsb2FkIGtlIENsb3VkaW5hcnk6JywgZXJyb3IpO1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdHYWdhbCBtZW5ndXBsb2FkIGZvdG86ICcgKyBlcnJvci5tZXNzYWdlKTtcclxuICB9XHJcbn07XHJcblxyXG50eXBlIFByb2ZpbGVNb2RhbFByb3BzID0ge1xyXG4gIHVzZXI6IFVzZXI7XHJcbiAgb25DbG9zZTogKCkgPT4gdm9pZDtcclxuICBpc09wZW4/OiBib29sZWFuOyAgLy8gVGFtYmFoa2FuIHByb3AgaXNPcGVuIChvcHNpb25hbCB1bnR1ayBiYWNrd2FyZCBjb21wYXRpYmlsaXR5KVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUHJvZmlsZU1vZGFsKHsgdXNlciwgb25DbG9zZSwgaXNPcGVuID0gdHJ1ZSB9OiBQcm9maWxlTW9kYWxQcm9wcykge1xyXG4gIGNvbnN0IFtkaXNwbGF5TmFtZSwgc2V0RGlzcGxheU5hbWVdID0gdXNlU3RhdGUodXNlci5kaXNwbGF5TmFtZSB8fCAnJyk7XHJcbiAgY29uc3QgW3Bob25lTnVtYmVyLCBzZXRQaG9uZU51bWJlcl0gPSB1c2VTdGF0ZSgnJyk7XHJcbiAgY29uc3QgW3NhdmluZywgc2V0U2F2aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBbc3VjY2Vzcywgc2V0U3VjY2Vzc10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW3Bob3RvVVJMLCBzZXRQaG90b1VSTF0gPSB1c2VTdGF0ZTxzdHJpbmc+KHVzZXIucGhvdG9VUkwgfHwgJycpO1xyXG4gIGNvbnN0IFtvcmlnaW5hbFBob3RvVVJMLCBzZXRPcmlnaW5hbFBob3RvVVJMXSA9IHVzZVN0YXRlPHN0cmluZz4odXNlci5waG90b1VSTCB8fCAnJyk7XHJcbiAgY29uc3QgW3Bob3RvRXJyb3IsIHNldFBob3RvRXJyb3JdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFt1cGxvYWRpbmdQaG90bywgc2V0VXBsb2FkaW5nUGhvdG9dID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFt1cGxvYWRTdGF0dXMsIHNldFVwbG9hZFN0YXR1c10gPSB1c2VTdGF0ZSgnJyk7XHJcbiAgY29uc3QgZmlsZUlucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpO1xyXG4gIGNvbnN0IFtwaG90b0NoYW5nZWQsIHNldFBob3RvQ2hhbmdlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBmZXRjaFVzZXJEYXRhID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHVzZXJEb2MgPSBhd2FpdCBnZXREb2MoZG9jKGRiLCAndXNlcnMnLCB1c2VyLnVpZCkpO1xyXG4gICAgICAgIGlmICh1c2VyRG9jLmV4aXN0cygpKSB7XHJcbiAgICAgICAgICBjb25zdCB1c2VyRGF0YSA9IHVzZXJEb2MuZGF0YSgpO1xyXG4gICAgICAgICAgaWYgKHVzZXJEYXRhLnBob25lTnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHNldFBob25lTnVtYmVyKHVzZXJEYXRhLnBob25lTnVtYmVyKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmICh1c2VyRGF0YS5waG90b1VSTCkge1xyXG4gICAgICAgICAgICBzZXRQaG90b1VSTCh1c2VyRGF0YS5waG90b1VSTCk7XHJcbiAgICAgICAgICAgIHNldE9yaWdpbmFsUGhvdG9VUkwodXNlckRhdGEucGhvdG9VUkwpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgdXNlciBkYXRhOicsIGVycik7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZmV0Y2hVc2VyRGF0YSgpO1xyXG4gIH0sIFt1c2VyLnVpZF0pO1xyXG5cclxuICBjb25zdCBoYW5kbGVQaG90b0NsaWNrID0gKCkgPT4ge1xyXG4gICAgZmlsZUlucHV0UmVmLmN1cnJlbnQ/LmNsaWNrKCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlQ2FuY2VsID0gKCkgPT4ge1xyXG4gICAgaWYgKHBob3RvQ2hhbmdlZCkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIk1lbWJhdGFsa2FuIHBlcnViYWhhbiBmb3RvIHByb2ZpbCwga2VtYmFsaSBrZTpcIiwgb3JpZ2luYWxQaG90b1VSTCk7XHJcbiAgICAgIC8vIEtlbWJhbGlrYW4gZm90byBrZSBuaWxhaSBhc2xpXHJcbiAgICAgIGlmICh1c2VyLnBob3RvVVJMICE9PSBvcmlnaW5hbFBob3RvVVJMKSB7XHJcbiAgICAgICAgdXBkYXRlUHJvZmlsZSh1c2VyLCB7IHBob3RvVVJMOiBvcmlnaW5hbFBob3RvVVJMIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBTZXRlbCBrZW1iYWxpIGZvdG8gZGkgRmlyZXN0b3JlXHJcbiAgICAgIHVwZGF0ZVVzZXJQcm9maWxlKHVzZXIudWlkLCB7IHBob3RvVVJMOiBvcmlnaW5hbFBob3RvVVJMIH0pO1xyXG4gICAgfVxyXG4gICAgb25DbG9zZSgpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUZpbGVDaGFuZ2UgPSBhc3luYyAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcclxuICAgIGlmICghZS50YXJnZXQuZmlsZXMgfHwgZS50YXJnZXQuZmlsZXMubGVuZ3RoID09PSAwKSByZXR1cm47XHJcbiAgICBcclxuICAgIGNvbnN0IGZpbGUgPSBlLnRhcmdldC5maWxlc1swXTtcclxuICAgIFxyXG4gICAgLy8gVmFsaWRhc2kgdGlwZSBmaWxlXHJcbiAgICBpZiAoIWZpbGUudHlwZS5pbmNsdWRlcygnaW1hZ2UvJykpIHtcclxuICAgICAgc2V0RXJyb3IoJ01vaG9uIHBpbGloIGZpbGUgZ2FtYmFyIChKUEcsIFBORywgZGxsKScpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFNpbXBhbiBVUkwgZm90byBvcmlnaW5hbCB1bnR1ayBkaWtlbWJhbGlrYW4gamlrYSBnYWdhbFxyXG4gICAgY29uc3Qgb3JpZ2luYWxQaG90b1VSTCA9IHBob3RvVVJMO1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICBzZXRVcGxvYWRpbmdQaG90byh0cnVlKTtcclxuICAgICAgc2V0UGhvdG9DaGFuZ2VkKHRydWUpO1xyXG4gICAgICBzZXRVcGxvYWRTdGF0dXMoJ01lbXByb3NlcyBnYW1iYXIuLi4nKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFJlc2l6ZSBnYW1iYXIgc2ViZWx1bSB1cGxvYWRcclxuICAgICAgY29uc3QgcmVzaXplZEltYWdlID0gYXdhaXQgcmVzaXplSW1hZ2UoZmlsZSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBCdWF0IFVSTCBwcmV2aWV3IHNlbWVudGFyYVxyXG4gICAgICBjb25zdCBwcmV2aWV3VVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTChyZXNpemVkSW1hZ2UpO1xyXG4gICAgICBzZXRQaG90b1VSTChwcmV2aWV3VVJMKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFVwbG9hZCBrZSBzdG9yYWdlXHJcbiAgICAgIHNldFVwbG9hZFN0YXR1cygnTWVuZ3VuZ2dhaC4uLicpO1xyXG4gICAgICBcclxuICAgICAgLy8gQnVhdCByZWZlcmVuY2Uga2Ugc3RvcmFnZVxyXG4gICAgICBjb25zdCBzdG9yYWdlUmVmID0gcmVmKHN0b3JhZ2UsIGBhdmF0YXJzLyR7dXNlci51aWR9YCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBVcGxvYWQgZmlsZVxyXG4gICAgICBjb25zdCB1cGxvYWRUYXNrID0gdXBsb2FkQnl0ZXNSZXN1bWFibGUoc3RvcmFnZVJlZiwgcmVzaXplZEltYWdlKTtcclxuICAgICAgXHJcbiAgICAgIC8vIE1vbml0b3IgcHJvZ3Jlc3MgdXBsb2FkXHJcbiAgICAgIHVwbG9hZFRhc2sub24oXHJcbiAgICAgICAgJ3N0YXRlX2NoYW5nZWQnLFxyXG4gICAgICAgIChzbmFwc2hvdCkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSAoc25hcHNob3QuYnl0ZXNUcmFuc2ZlcnJlZCAvIHNuYXBzaG90LnRvdGFsQnl0ZXMpICogMTAwO1xyXG4gICAgICAgICAgc2V0VXBsb2FkU3RhdHVzKGBNZW5ndW5nZ2FoLi4uICR7TWF0aC5yb3VuZChwcm9ncmVzcyl9JWApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICBzZXRFcnJvcignR2FnYWwgbWVuZ3VuZ2dhaCBmb3RvIHByb2ZpbCcpO1xyXG4gICAgICAgICAgc2V0UGhvdG9VUkwob3JpZ2luYWxQaG90b1VSTCk7IC8vIEtlbWJhbGlrYW4ga2UgZm90byBhc2xpIGppa2EgZ2FnYWxcclxuICAgICAgICAgIHNldFBob3RvQ2hhbmdlZChmYWxzZSk7XHJcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgIC8vIFVwbG9hZCBiZXJoYXNpbCwgZGFwYXRrYW4gVVJMIGRvd25sb2FkXHJcbiAgICAgICAgICBjb25zdCBkb3dubG9hZFVSTCA9IGF3YWl0IGdldERvd25sb2FkVVJMKHVwbG9hZFRhc2suc25hcHNob3QucmVmKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gVXBkYXRlIFVSTCBkaSBzdGF0ZVxyXG4gICAgICAgICAgc2V0UGhvdG9VUkwoZG93bmxvYWRVUkwpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBVcGRhdGUgZGkgRmlyZXN0b3JlXHJcbiAgICAgICAgICBjb25zdCBzdWNjZXNzID0gYXdhaXQgdXBkYXRlVXNlclByb2ZpbGUodXNlci51aWQsIHtcclxuICAgICAgICAgICAgcGhvdG9VUkw6IGRvd25sb2FkVVJMXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaWYgKCFzdWNjZXNzKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignR2FnYWwgbWVtcGVyYmFydWkgZm90byBwcm9maWwgZGkgZGF0YWJhc2UnKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgc2V0U3VjY2Vzcyh0cnVlKTtcclxuICAgICAgICAgIHNldFVwbG9hZFN0YXR1cygnJyk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIEJ1YXQgZWxlbWVuIG5vdGlmaWthc2kgc3Vrc2VzIHlhbmcgYWthbiBkaWhhcHVzIHNldGVsYWggYmViZXJhcGEgZGV0aWtcclxuICAgICAgICAgIGNvbnN0IHN1Y2Nlc3NNZXNzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICBzdWNjZXNzTWVzc2FnZS5jbGFzc05hbWUgPSAnYmctZ3JlZW4tMTAwIGJvcmRlciBib3JkZXItZ3JlZW4tNDAwIHRleHQtZ3JlZW4tNzAwIHB4LTQgcHktMyByb3VuZGVkIG1iLTQgZml4ZWQgYm90dG9tLTQgcmlnaHQtNCB6LTUwIGFuaW1hdGUtZmFkZUluIHNoYWRvdy1sZyc7XHJcbiAgICAgICAgICBzdWNjZXNzTWVzc2FnZS5pbm5lckhUTUwgPSAnRm90byBwcm9maWwgYmVyaGFzaWwgZGlwZXJiYXJ1aSEnO1xyXG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzdWNjZXNzTWVzc2FnZSk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIEhhcHVzIG5vdGlmaWthc2kgc2V0ZWxhaCAzIGRldGlrXHJcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGRvY3VtZW50LmJvZHkuY29udGFpbnMoc3VjY2Vzc01lc3NhZ2UpKSB7XHJcbiAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzdWNjZXNzTWVzc2FnZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0U3VjY2VzcyhmYWxzZSk7XHJcbiAgICAgICAgICB9LCAzMDAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xyXG4gICAgICBsZXQgZXJyb3JNZXNzYWdlID0gJ0dhZ2FsIG1lbmd1YmFoIGZvdG8gcHJvZmlsLiBTaWxha2FuIGNvYmEgbGFnaSBkZW5nYW4gZm90byB5YW5nIGxlYmloIGtlY2lsLic7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoZXJyLm1lc3NhZ2UpIHtcclxuICAgICAgICBlcnJvck1lc3NhZ2UgPSBlcnIubWVzc2FnZTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKTtcclxuICAgICAgc2V0UGhvdG9VUkwob3JpZ2luYWxQaG90b1VSTCk7IC8vIEtlbWJhbGlrYW4ga2UgZm90byBhd2FsIGppa2EgZ2FnYWxcclxuICAgICAgc2V0UGhvdG9DaGFuZ2VkKGZhbHNlKTsgLy8gUmVzZXQgc3RhdGUgcGVydWJhaGFuXHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICAvLyBTZWxhbHUgYmVyc2loa2FuXHJcbiAgICAgIHNldFVwbG9hZGluZ1Bob3RvKGZhbHNlKTtcclxuICAgICAgc2V0VXBsb2FkU3RhdHVzKCcnKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFJlc2V0IGZpbGUgaW5wdXQgYWdhciBiaXNhIHVwbG9hZCBmaWxlIHlhbmcgc2FtYVxyXG4gICAgICBpZiAoZmlsZUlucHV0UmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBmaWxlSW5wdXRSZWYuY3VycmVudC52YWx1ZSA9ICcnO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gYXN5bmMgKGU6IFJlYWN0LkZvcm1FdmVudCkgPT4ge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgc2V0U2F2aW5nKHRydWUpO1xyXG4gICAgc2V0RXJyb3IoJycpO1xyXG4gICAgc2V0U3VjY2VzcyhmYWxzZSk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gVmFsaWRhc2kgbm9tb3IgdGVsZXBvblxyXG4gICAgICBpZiAocGhvbmVOdW1iZXIgJiYgIS9eXFwrP1swLTlcXHMtXXsxMCwxNX0kLy50ZXN0KHBob25lTnVtYmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRm9ybWF0IG5vbW9yIHRlbGVwb24gdGlkYWsgdmFsaWQnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSmlrYSBhZGEgcGVydWJhaGFuIGZvdG8sIHNpbXBhbiBwZXJ1YmFoYW4gdGVyc2VidXRcclxuICAgICAgaWYgKHBob3RvQ2hhbmdlZCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiTWVueWltcGFuIHBlcnViYWhhbiBmb3RvIHByb2ZpbDpcIiwgcGhvdG9VUkwpO1xyXG4gICAgICAgIC8vIFVwZGF0ZSBmb3RvIFVSTCBkaSBBdXRoIGppa2EgYmVydWJhaFxyXG4gICAgICAgIGlmICh1c2VyLnBob3RvVVJMICE9PSBwaG90b1VSTCkge1xyXG4gICAgICAgICAgYXdhaXQgdXBkYXRlUHJvZmlsZSh1c2VyLCB7IHBob3RvVVJMOiBwaG90b1VSTCB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFVwZGF0ZSBwcm9maWwgZGkgRmlyZXN0b3JlXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVwZGF0ZVVzZXJQcm9maWxlKHVzZXIudWlkLCB7XHJcbiAgICAgICAgZGlzcGxheU5hbWU6IGRpc3BsYXlOYW1lLnRyaW0oKSB8fCB1c2VyLmVtYWlsPy5zcGxpdCgnQCcpWzBdIHx8ICdQZW5nZ3VuYScsXHJcbiAgICAgICAgcGhvbmVOdW1iZXI6IHBob25lTnVtYmVyLnRyaW0oKSB8fCB1bmRlZmluZWQsXHJcbiAgICAgICAgcGhvdG9VUkw6IHBob3RvQ2hhbmdlZCA/IHBob3RvVVJMIDogdW5kZWZpbmVkIC8vIEhhbnlhIHVwZGF0ZSBmb3RvIGppa2EgYmVydWJhaFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgICAvLyBVcGRhdGUgcHJvZmlsIGRpIEF1dGggamlrYSBuYW1hIGJlcnViYWhcclxuICAgICAgICBpZiAodXNlci5kaXNwbGF5TmFtZSAhPT0gZGlzcGxheU5hbWUgJiYgZGlzcGxheU5hbWUudHJpbSgpKSB7XHJcbiAgICAgICAgICBhd2FpdCB1cGRhdGVQcm9maWxlKHVzZXIsIHtcclxuICAgICAgICAgICAgZGlzcGxheU5hbWU6IGRpc3BsYXlOYW1lLnRyaW0oKVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFNldCBvcmlnaW5hbCBmb3RvIGtlIG5pbGFpIGJhcnUga2FyZW5hIHN1ZGFoIGRpc2ltcGFuXHJcbiAgICAgICAgc2V0T3JpZ2luYWxQaG90b1VSTChwaG90b1VSTCk7XHJcbiAgICAgICAgc2V0UGhvdG9DaGFuZ2VkKGZhbHNlKTtcclxuICAgICAgICBcclxuICAgICAgICBzZXRTdWNjZXNzKHRydWUpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgb25DbG9zZSgpO1xyXG4gICAgICAgIH0sIDE1MDApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignR2FnYWwgbWVueWltcGFuIHByb2ZpbCcpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xyXG4gICAgICBzZXRFcnJvcihlcnIubWVzc2FnZSB8fCAnVGVyamFkaSBrZXNhbGFoYW4gc2FhdCBtZW55aW1wYW4gcHJvZmlsJyk7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRTYXZpbmcoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgei01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ibGFjayBiZy1vcGFjaXR5LTUwXCI+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgYmctd2hpdGUvOTAgYmFja2Ryb3AtYmx1ci1tZCB3LWZ1bGwgbWF4LXctbWQgbXgtNCByb3VuZGVkLTJ4bCBzaGFkb3cteGwgYW5pbWF0ZS1zY2FsZUluIG92ZXJmbG93LWhpZGRlblwiPlxyXG4gICAgICAgIHsvKiBIZWFkZXIgZGVuZ2FuIGdyYWRpZW4gKi99XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmFkaWVudC10by1yIGZyb20tcHJpbWFyeS1kYXJrIHZpYS1wcmltYXJ5IHRvLXNlY29uZGFyeSBwLTYgdGV4dC13aGl0ZSByZWxhdGl2ZVwiPlxyXG4gICAgICAgICAgey8qIERlY29yYXRpdmUgZWxlbWVudHMgKi99XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0wIGxlZnQtMCB3LWZ1bGwgaC1mdWxsIG92ZXJmbG93LWhpZGRlblwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIC10b3AtMjQgLWxlZnQtMjQgdy02NCBoLTY0IGJnLXdoaXRlLzEwIHJvdW5kZWQtZnVsbCBibHVyLTN4bFwiPjwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS0wIHJpZ2h0LTAgdy0zMiBoLTMyIGJnLXdoaXRlLzEwIHJvdW5kZWQtZnVsbCBibHVyLTN4bFwiPjwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgei0xMFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi02XCI+XHJcbiAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkXCI+UHJvZmlsIFNheWE8L2gyPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNsb3NlfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0yIHJvdW5kZWQtZnVsbCBob3ZlcjpiZy13aGl0ZS8yMCB0cmFuc2l0aW9uLWNvbG9yc1wiXHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPEZpWCBzaXplPXsyMH0gLz5cclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBtYi02XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMjQgaC0yNCByb3VuZGVkLWZ1bGwgb3ZlcmZsb3ctaGlkZGVuIGJnLXdoaXRlLzIwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJvcmRlci00IGJvcmRlci13aGl0ZS8zMCBzaGFkb3ctbGdcIj5cclxuICAgICAgICAgICAgICAgICAge3VwbG9hZGluZ1Bob3RvICYmIChcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctYmxhY2sgYmctb3BhY2l0eS01MCB6LTEwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiBoLTggdy04IGJvcmRlci00IGJvcmRlci13aGl0ZSBib3JkZXItdC10cmFuc3BhcmVudCByb3VuZGVkLWZ1bGwgbWItMlwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LXhzIHRleHQtY2VudGVyIHB4LTFcIj57dXBsb2FkU3RhdHVzfTwvcD5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgIHtwaG90b1VSTCAmJiAhcGhvdG9FcnJvciA/IChcclxuICAgICAgICAgICAgICAgICAgICA8aW1nXHJcbiAgICAgICAgICAgICAgICAgICAgICBzcmM9e3Bob3RvVVJMfVxyXG4gICAgICAgICAgICAgICAgICAgICAgYWx0PVwiRm90byBwcm9maWxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBvYmplY3QtY292ZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgb25FcnJvcj17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBKaWthIGFkYSBlcnJvciBsb2FkaW5nIGdhbWJhclxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgbG9hZGluZyBwcm9maWxlIGltYWdlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRQaG90b0Vycm9yKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC0yNCB3LTI0IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtcHJpbWFyeSB0ZXh0LTR4bCBmb250LWJvbGRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIHsoZGlzcGxheU5hbWUgfHwgdXNlci5lbWFpbD8uc3BsaXQoJ0AnKVswXSB8fCAnVScpLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8bGFiZWwgXHJcbiAgICAgICAgICAgICAgICAgIGh0bWxGb3I9XCJwcm9maWxlLWltYWdlLXVwbG9hZFwiIFxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BhYnNvbHV0ZSBib3R0b20tMCByaWdodC0wICR7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBsb2FkaW5nUGhvdG8gXHJcbiAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1ncmF5LTUwMCBjdXJzb3Itbm90LWFsbG93ZWQnIFxyXG4gICAgICAgICAgICAgICAgICAgICAgOiAnYmctcHJpbWFyeSBob3ZlcjpiZy1wcmltYXJ5LWRhcmsnXHJcbiAgICAgICAgICAgICAgICAgIH0gdGV4dC13aGl0ZSBwLTIgcm91bmRlZC1mdWxsIHNoYWRvdy1tZCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDBgfVxyXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVQaG90b0NsaWNrfVxyXG4gICAgICAgICAgICAgICAgICB0aXRsZT17dXBsb2FkaW5nUGhvdG8gPyB1cGxvYWRTdGF0dXMgOiBcIlViYWggRm90byBQcm9maWxcIn1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAge3VwbG9hZGluZ1Bob3RvID8gKFxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIGgtNCB3LTQgYm9yZGVyLTIgYm9yZGVyLXdoaXRlIGJvcmRlci10LXRyYW5zcGFyZW50IHJvdW5kZWQtZnVsbFwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICAgIDxGaUNhbWVyYSBzaXplPXsxOH0gLz5cclxuICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgXHJcbiAgICAgICAgICAgICAgICAgIGlkPVwicHJvZmlsZS1pbWFnZS11cGxvYWRcIlxyXG4gICAgICAgICAgICAgICAgICB0eXBlPVwiZmlsZVwiXHJcbiAgICAgICAgICAgICAgICAgIHJlZj17ZmlsZUlucHV0UmVmfVxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoaWRkZW5cIlxyXG4gICAgICAgICAgICAgICAgICBhY2NlcHQ9XCJpbWFnZS8qXCJcclxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUZpbGVDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIFxyXG4gICAgICAgIHsvKiBQZXR1bmp1ayBVcGxvYWQgRm90byAqL31cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCB0ZXh0LWNlbnRlciBtYi00IHB4LTRcIj5cclxuICAgICAgICAgIDxwPlVrdXJhbiBtYWtzaW1hbCBmb3RvOiAyTUI8L3A+XHJcbiAgICAgICAgICA8cD5Gb3JtYXQgeWFuZyBkaWR1a3VuZzogSlBHLCBQTkcsIEdJRjwvcD5cclxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTEgaXRhbGljXCI+VWt1cmFuIG9wdGltYWw6IDk2eDk2IHBpeGVsIHVudHVrIGF2YXRhcjwvcD5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAge2Vycm9yICYmIChcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctcmVkLTEwMCBib3JkZXIgYm9yZGVyLXJlZC00MDAgdGV4dC1yZWQtNzAwIHB4LTQgcHktMyByb3VuZGVkIG14LTQgbWItNCB0ZXh0LXNtXCI+XHJcbiAgICAgICAgICAgIDxzdHJvbmcgY2xhc3NOYW1lPVwiZm9udC1ib2xkXCI+R2FnYWw6IDwvc3Ryb25nPlxyXG4gICAgICAgICAgICA8c3Bhbj57ZXJyb3J9PC9zcGFuPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKX1cclxuXHJcbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0gY2xhc3NOYW1lPVwicC02XCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTRcIj5cclxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtZ3JheS03MDAgdGV4dC1zbSBmb250LWJvbGQgbWItMlwiIGh0bWxGb3I9XCJkaXNwbGF5TmFtZVwiPlxyXG4gICAgICAgICAgICAgIE5hbWEgVGFtcGlsYW5cclxuICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxyXG4gICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgaWQ9XCJkaXNwbGF5TmFtZVwiXHJcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIk1hc3Vra2FuIG5hbWEgdGFtcGlsYW4gQW5kYVwiXHJcbiAgICAgICAgICAgICAgICB2YWx1ZT17ZGlzcGxheU5hbWV9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldERpc3BsYXlOYW1lKGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweS0yIHBsLTEwIHByLTQgYm9yZGVyIHJvdW5kZWQtbGcgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLXByaW1hcnlcIlxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPEZpVXNlciBjbGFzc05hbWU9XCJhYnNvbHV0ZSBsZWZ0LTMgdG9wLTMgdGV4dC1ncmF5LTUwMFwiIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi02XCI+XHJcbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LWdyYXktNzAwIHRleHQtc20gZm9udC1ib2xkIG1iLTJcIiBodG1sRm9yPVwicGhvbmVOdW1iZXJcIj5cclxuICAgICAgICAgICAgICBOb21vciBUZWxlcG9uXHJcbiAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cclxuICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgIGlkPVwicGhvbmVOdW1iZXJcIlxyXG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJDdGg6ICs2MjgxMjM0NTY3ODkwXCJcclxuICAgICAgICAgICAgICAgIHZhbHVlPXtwaG9uZU51bWJlcn1cclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UGhvbmVOdW1iZXIoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB5LTIgcGwtMTAgcHItNCBib3JkZXIgcm91bmRlZC1sZyBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctcHJpbWFyeVwiXHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICA8RmlQaG9uZSBjbGFzc05hbWU9XCJhYnNvbHV0ZSBsZWZ0LTMgdG9wLTMgdGV4dC1ncmF5LTUwMFwiIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgbXQtMVwiPlxyXG4gICAgICAgICAgICAgIEZvcm1hdDogKzYyeHh4eHh4eHh4eCAoZGVuZ2FuIGtvZGUgbmVnYXJhKVxyXG4gICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICB7c3VjY2VzcyAmJiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JlZW4tMTAwIGJvcmRlciBib3JkZXItZ3JlZW4tNDAwIHRleHQtZ3JlZW4tNzAwIHB4LTQgcHktMyByb3VuZGVkIG1iLTRcIj5cclxuICAgICAgICAgICAgICBQcm9maWwgYmVyaGFzaWwgZGlzaW1wYW4hXHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKX1cclxuXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1lbmQgbXQtNlwiPlxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ2FuY2VsfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1yLTIgcHgtNCBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1sZyBob3ZlcjpiZy1ncmF5LTEwMCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDBcIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgQmF0YWxcclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcclxuICAgICAgICAgICAgICBkaXNhYmxlZD17c2F2aW5nfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHB4LTQgcHktMiBiZy1wcmltYXJ5IHRleHQtd2hpdGUgcm91bmRlZC1sZyBob3ZlcjpiZy1wcmltYXJ5LWRhcmsgZGlzYWJsZWQ6YmctZ3JheS00MDAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMjAwXCJcclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIHtzYXZpbmcgPyAoXHJcbiAgICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiBoLTQgdy00IGJvcmRlci0yIGJvcmRlci13aGl0ZSBib3JkZXItdC10cmFuc3BhcmVudCByb3VuZGVkLWZ1bGwgbXItMlwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICBNZW55aW1wYW4uLi5cclxuICAgICAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgICA8RmlTYXZlIGNsYXNzTmFtZT1cIm1yLTJcIiAvPlxyXG4gICAgICAgICAgICAgICAgICBTaW1wYW4gUHJvZmlsXHJcbiAgICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZm9ybT5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59ICJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsIkZpWCIsIkZpVXNlciIsIkZpUGhvbmUiLCJGaVNhdmUiLCJGaUNhbWVyYSIsImRvYyIsImdldERvYyIsImRiIiwidXBkYXRlVXNlclByb2ZpbGUiLCJ1cGRhdGVQcm9maWxlIiwicmVmIiwidXBsb2FkQnl0ZXNSZXN1bWFibGUiLCJnZXREb3dubG9hZFVSTCIsInN0b3JhZ2UiLCJNQVhfSU1BR0VfU0laRSIsIklNQUdFX0RJTUVOU0lPTiIsIk1JTl9JTUFHRV9ESU1FTlNJT04iLCJyZXNpemVJbWFnZSIsImZpbGUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImltZyIsIkltYWdlIiwiTUFYX1dJRFRIIiwiTUFYX0hFSUdIVCIsIm9ubG9hZCIsImNhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIndpZHRoIiwiaGVpZ2h0IiwiTWF0aCIsInJvdW5kIiwiY3R4IiwiZ2V0Q29udGV4dCIsImRyYXdJbWFnZSIsInRvQmxvYiIsImJsb2IiLCJzaXplIiwic21hbGxlckJsb2IiLCJFcnJvciIsIm9uZXJyb3IiLCJzcmMiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJ1cGxvYWRUb0Nsb3VkaW5hcnkiLCJpbWFnZURhdGFVcmwiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiaW1hZ2VVcmwiLCJvayIsImVycm9yRGF0YSIsImpzb24iLCJtZXNzYWdlIiwiZGF0YSIsInVybCIsImVycm9yIiwiY29uc29sZSIsIlByb2ZpbGVNb2RhbCIsInVzZXIiLCJvbkNsb3NlIiwiaXNPcGVuIiwiZGlzcGxheU5hbWUiLCJzZXREaXNwbGF5TmFtZSIsInBob25lTnVtYmVyIiwic2V0UGhvbmVOdW1iZXIiLCJzYXZpbmciLCJzZXRTYXZpbmciLCJzZXRFcnJvciIsInN1Y2Nlc3MiLCJzZXRTdWNjZXNzIiwicGhvdG9VUkwiLCJzZXRQaG90b1VSTCIsIm9yaWdpbmFsUGhvdG9VUkwiLCJzZXRPcmlnaW5hbFBob3RvVVJMIiwicGhvdG9FcnJvciIsInNldFBob3RvRXJyb3IiLCJ1cGxvYWRpbmdQaG90byIsInNldFVwbG9hZGluZ1Bob3RvIiwidXBsb2FkU3RhdHVzIiwic2V0VXBsb2FkU3RhdHVzIiwiZmlsZUlucHV0UmVmIiwicGhvdG9DaGFuZ2VkIiwic2V0UGhvdG9DaGFuZ2VkIiwiZmV0Y2hVc2VyRGF0YSIsInVzZXJEb2MiLCJ1aWQiLCJleGlzdHMiLCJ1c2VyRGF0YSIsImVyciIsImhhbmRsZVBob3RvQ2xpY2siLCJjdXJyZW50IiwiY2xpY2siLCJoYW5kbGVDYW5jZWwiLCJsb2ciLCJoYW5kbGVGaWxlQ2hhbmdlIiwiZSIsInRhcmdldCIsImZpbGVzIiwibGVuZ3RoIiwidHlwZSIsImluY2x1ZGVzIiwicmVzaXplZEltYWdlIiwicHJldmlld1VSTCIsInN0b3JhZ2VSZWYiLCJ1cGxvYWRUYXNrIiwib24iLCJzbmFwc2hvdCIsInByb2dyZXNzIiwiYnl0ZXNUcmFuc2ZlcnJlZCIsInRvdGFsQnl0ZXMiLCJkb3dubG9hZFVSTCIsInN1Y2Nlc3NNZXNzYWdlIiwiY2xhc3NOYW1lIiwiaW5uZXJIVE1MIiwiYXBwZW5kQ2hpbGQiLCJzZXRUaW1lb3V0IiwiY29udGFpbnMiLCJyZW1vdmVDaGlsZCIsImVycm9yTWVzc2FnZSIsInZhbHVlIiwiaGFuZGxlU3VibWl0IiwicHJldmVudERlZmF1bHQiLCJ0ZXN0IiwicmVzdWx0IiwidHJpbSIsImVtYWlsIiwic3BsaXQiLCJ1bmRlZmluZWQiLCJkaXYiLCJoMiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJwIiwiYWx0Iiwib25FcnJvciIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwibGFiZWwiLCJodG1sRm9yIiwidGl0bGUiLCJpbnB1dCIsImlkIiwiYWNjZXB0Iiwib25DaGFuZ2UiLCJzdHJvbmciLCJzcGFuIiwiZm9ybSIsIm9uU3VibWl0IiwicGxhY2Vob2xkZXIiLCJkaXNhYmxlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/ProfileModal.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/Sidebar.tsx":
/*!************************************!*\
  !*** ./src/components/Sidebar.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Sidebar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _firebase_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/firebase/config */ \"(ssr)/./src/firebase/config.ts\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/firestore */ \"(ssr)/./node_modules/firebase/firestore/dist/index.mjs\");\n/* harmony import */ var _barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=format!=!date-fns */ \"(ssr)/./node_modules/date-fns/esm/format/index.js\");\n/* harmony import */ var date_fns_locale__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! date-fns/locale */ \"(ssr)/./node_modules/date-fns/esm/locale/id/index.js\");\n/* harmony import */ var _barrel_optimize_names_FiCornerDownRight_FiGlobe_FiImage_FiLogOut_FiMessageCircle_FiMessageSquare_FiPlus_FiSearch_FiSettings_FiUsers_react_icons_fi__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=FiCornerDownRight,FiGlobe,FiImage,FiLogOut,FiMessageCircle,FiMessageSquare,FiPlus,FiSearch,FiSettings,FiUsers!=!react-icons/fi */ \"(ssr)/./node_modules/react-icons/fi/index.esm.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/navigation */ \"(ssr)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _NewChatModal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./NewChatModal */ \"(ssr)/./src/components/NewChatModal.tsx\");\n/* harmony import */ var _ContactsScreen__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ContactsScreen */ \"(ssr)/./src/components/ContactsScreen.tsx\");\n/* harmony import */ var _ProfileModal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ProfileModal */ \"(ssr)/./src/components/ProfileModal.tsx\");\n/* harmony import */ var _lib_users__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/lib/users */ \"(ssr)/./src/lib/users.ts\");\n/* harmony import */ var _Story__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Story */ \"(ssr)/./src/components/Story/index.ts\");\n/* harmony import */ var _lib_stories__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/lib/stories */ \"(ssr)/./src/lib/stories.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\n\n\n\n\n\n\n// Helper untuk memformat timestamp dengan cara yang aman\nconst safeFormatTimestamp = (timestamp)=>{\n    if (!timestamp) return \"\";\n    try {\n        if (timestamp.toDate) {\n            return (0,_barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(timestamp.toDate(), \"HH:mm\", {\n                locale: date_fns_locale__WEBPACK_IMPORTED_MODULE_12__[\"default\"]\n            });\n        } else if (timestamp.seconds) {\n            return (0,_barrel_optimize_names_format_date_fns__WEBPACK_IMPORTED_MODULE_11__[\"default\"])(new Date(timestamp.seconds * 1000), \"HH:mm\", {\n                locale: date_fns_locale__WEBPACK_IMPORTED_MODULE_12__[\"default\"]\n            });\n        }\n    } catch (error) {\n        console.error(\"Error formatting timestamp:\", error);\n    }\n    return \"\";\n};\nfunction Sidebar({ user, chats, loading, selectedChatId, setSelectedChat, onLogout, onContactSelect, onOpenAIChat, onOpenTranslateSettings, onOpenAISettings }) {\n    const [searchTerm, setSearchTerm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [showNewChatModal, setShowNewChatModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showContactsScreen, setShowContactsScreen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [chatPartners, setChatPartners] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [view, setView] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"chats\");\n    const [showProfileModal, setShowProfileModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // State untuk menyimpan data pengguna realtime\n    const [currentUserData, setCurrentUserData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [currentUserImageError, setCurrentUserImageError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [partnerImageErrors, setPartnerImageErrors] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    // State untuk Story\n    const [storyUsers, setStoryUsers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [showCreateStoryModal, setShowCreateStoryModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isUploadingStory, setIsUploadingStory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedUserIndex, setSelectedUserIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [isViewerOpen, setIsViewerOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // State untuk melacak chat yang belum dibaca\n    const [unreadChats, setUnreadChats] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_4__.useRouter)();\n    // Ambil informasi pengguna aktif secara realtime\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const unsubscribe = (0,_lib_users__WEBPACK_IMPORTED_MODULE_8__.listenToUserProfile)(user.uid, (userData)=>{\n            setCurrentUserData(userData);\n        });\n        return ()=>unsubscribe();\n    }, [\n        user.uid\n    ]);\n    // Ambil informasi story secara realtime\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const unsubscribe = (0,_lib_stories__WEBPACK_IMPORTED_MODULE_10__.listenToStories)((users)=>{\n            setStoryUsers(users);\n        });\n        return ()=>unsubscribe();\n    }, []);\n    // Ambil informasi pengguna untuk setiap chat\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const fetchChatPartners = async ()=>{\n            const partners = {};\n            const partnerIds = [];\n            for (const chat of chats){\n                const partnerId = chat.participants.find((id)=>id !== user.uid);\n                if (partnerId) {\n                    partnerIds.push(partnerId);\n                }\n            }\n            // Langsung setup listeners realtime untuk semua partner\n            const unsubscribers = partnerIds.map((partnerId)=>(0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.onSnapshot)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_2__.db, \"users\", partnerId), (userDoc)=>{\n                    if (userDoc.exists()) {\n                        setChatPartners((prev)=>({\n                                ...prev,\n                                [partnerId]: userDoc.data()\n                            }));\n                    } else {\n                        setChatPartners((prev)=>({\n                                ...prev,\n                                [partnerId]: {\n                                    displayName: \"Pengguna\",\n                                    email: partnerId\n                                }\n                            }));\n                    }\n                }));\n            // Return cleanup function\n            return ()=>{\n                unsubscribers.forEach((unsubscribe)=>unsubscribe());\n            };\n        };\n        if (chats.length > 0) {\n            const unsubscribePartners = fetchChatPartners();\n            // Clean up listener\n            return ()=>{\n                unsubscribePartners.then((unsub)=>{\n                    if (unsub) unsub();\n                });\n            };\n        } else {\n            // Reset chatPartners saat tidak ada chat\n            setChatPartners({});\n        }\n    }, [\n        chats,\n        user.uid\n    ]);\n    // Dalam komponen Sidebar, tambahkan hooks untuk memperbarui timestamp saat pesan dibaca\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Fungsi untuk menangani event ketika pesan dibaca\n        const handleMessageRead = (event)=>{\n            const { chatId } = event.detail;\n            // Perbarui timestamp terakhir dibaca\n            const currentTime = Date.now();\n            localStorage.setItem(`lastRead_${chatId}`, currentTime.toString());\n            // Hapus dari daftar unread\n            setUnreadChats((prev)=>{\n                if (!prev[chatId]) return prev;\n                const updated = {\n                    ...prev\n                };\n                delete updated[chatId];\n                // Simpan ke localStorage\n                try {\n                    localStorage.setItem(\"unreadChats\", JSON.stringify(updated));\n                } catch (error) {\n                    console.error(\"Error saving unread chats to localStorage:\", error);\n                }\n                return updated;\n            });\n        };\n        // Tambahkan event listener\n        window.addEventListener(\"messageRead\", handleMessageRead);\n        // Cleanup\n        return ()=>{\n            window.removeEventListener(\"messageRead\", handleMessageRead);\n        };\n    }, []);\n    // Ubah mekanisme pendeteksi pesan yang belum dibaca\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Buat fungsi untuk membaca unreadChats dari localStorage\n        const loadUnreadChats = ()=>{\n            try {\n                const storedUnreadChats = localStorage.getItem(\"unreadChats\");\n                if (storedUnreadChats) {\n                    setUnreadChats(JSON.parse(storedUnreadChats));\n                }\n            } catch (error) {\n                console.error(\"Error loading unread chats from localStorage:\", error);\n            }\n        };\n        // Muat unreadChats saat komponen dipasang\n        loadUnreadChats();\n        // Listen untuk perubahan pesan di setiap chat\n        const unsubscribers = chats.map((chat)=>{\n            const chatId = chat.id;\n            return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.onSnapshot)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.collection)(_firebase_config__WEBPACK_IMPORTED_MODULE_2__.db, \"chats\", chatId, \"messages\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.orderBy)(\"timestamp\", \"desc\")), (snapshot)=>{\n                // Hanya update jika chat ini bukan yang sedang aktif\n                if (chatId !== selectedChatId) {\n                    const lastReadTimestamp = localStorage.getItem(`lastRead_${chatId}`);\n                    // Jika tidak ada timestamp terakhir dibaca, set timestamp saat ini untuk semua chat\n                    // Ini mencegah notifikasi saat aplikasi pertama kali dibuka\n                    if (!lastReadTimestamp) {\n                        localStorage.setItem(`lastRead_${chatId}`, Date.now().toString());\n                        return; // Tidak perlu memeriksa pesan karena kita tandai semuanya sebagai dibaca\n                    }\n                    let unreadCount = 0;\n                    snapshot.docChanges().forEach((change)=>{\n                        // Hanya perhatikan pesan yang baru ditambahkan\n                        if (change.type === \"added\") {\n                            const message = change.doc.data();\n                            // Hanya hitung pesan dari pengguna lain\n                            if (message.senderId !== user.uid) {\n                                // Jika ada timestamp terakhir dibaca, bandingkan\n                                const lastReadTime = parseInt(lastReadTimestamp, 10);\n                                const messageTime = message.timestamp?.seconds ? message.timestamp.seconds * 1000 : message.timestamp?.toMillis ? message.timestamp.toMillis() : Date.now();\n                                // Jika pesan lebih baru dari terakhir dibaca, tandai sebagai belum dibaca\n                                if (messageTime > lastReadTime) {\n                                    unreadCount++;\n                                }\n                            }\n                        }\n                    });\n                    // Jika ada perubahan dalam pesan yang belum dibaca\n                    if (unreadCount > 0) {\n                        setUnreadChats((prev)=>{\n                            const updated = {\n                                ...prev,\n                                [chatId]: unreadCount\n                            };\n                            // Simpan ke localStorage\n                            try {\n                                localStorage.setItem(\"unreadChats\", JSON.stringify(updated));\n                            } catch (error) {\n                                console.error(\"Error saving unread chats to localStorage:\", error);\n                            }\n                            return updated;\n                        });\n                    } else {\n                        // Jika tidak ada pesan yang belum dibaca, pastikan chat dihapus dari unreadChats\n                        setUnreadChats((prev)=>{\n                            if (!prev[chatId]) return prev;\n                            const updated = {\n                                ...prev\n                            };\n                            delete updated[chatId];\n                            // Simpan ke localStorage\n                            try {\n                                localStorage.setItem(\"unreadChats\", JSON.stringify(updated));\n                            } catch (error) {\n                                console.error(\"Error saving unread chats to localStorage:\", error);\n                            }\n                            return updated;\n                        });\n                    }\n                }\n            });\n        });\n        return ()=>{\n            unsubscribers.forEach((unsubscribe)=>unsubscribe());\n        };\n    }, [\n        chats,\n        user.uid,\n        selectedChatId\n    ]);\n    // Perbaiki useEffect untuk memperbarui timestamp saat chat dipilih\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (selectedChatId) {\n            // Simpan timestamp terakhir dibaca\n            const currentTime = Date.now();\n            localStorage.setItem(`lastRead_${selectedChatId}`, currentTime.toString());\n            // Dispatch event untuk memberi tahu komponen lain\n            const event = new CustomEvent(\"messageRead\", {\n                detail: {\n                    chatId: selectedChatId\n                }\n            });\n            window.dispatchEvent(event);\n            // Hapus dari daftar unread\n            if (unreadChats[selectedChatId]) {\n                setUnreadChats((prev)=>{\n                    const updated = {\n                        ...prev\n                    };\n                    delete updated[selectedChatId];\n                    // Simpan ke localStorage\n                    try {\n                        localStorage.setItem(\"unreadChats\", JSON.stringify(updated));\n                    } catch (error) {\n                        console.error(\"Error saving unread chats to localStorage:\", error);\n                    }\n                    return updated;\n                });\n            }\n        }\n    }, [\n        selectedChatId,\n        unreadChats\n    ]);\n    const filteredChats = chats.filter((chat)=>{\n        // Implementasi pencarian sederhana\n        if (!searchTerm) return true;\n        const partnerId = chat.participants.find((id)=>id !== user.uid);\n        const partner = partnerId ? chatPartners[partnerId] : null;\n        const partnerName = partner?.displayName?.toLowerCase() || \"\";\n        // Cari berdasarkan nama kontak atau isi pesan\n        return partnerName.includes(searchTerm.toLowerCase()) || chat.lastMessage?.text.toLowerCase().includes(searchTerm.toLowerCase());\n    });\n    // Urutkan chat berdasarkan nama kontak jika ada pencarian\n    const sortedFilteredChats = [\n        ...filteredChats\n    ].sort((a, b)=>{\n        if (searchTerm) {\n            // Jika ada pencarian, urutkan berdasarkan nama\n            const partnerIdA = a.participants.find((id)=>id !== user.uid);\n            const partnerA = partnerIdA ? chatPartners[partnerIdA] : null;\n            const partnerNameA = partnerA?.displayName?.toLowerCase() || \"\";\n            const partnerIdB = b.participants.find((id)=>id !== user.uid);\n            const partnerB = partnerIdB ? chatPartners[partnerIdB] : null;\n            const partnerNameB = partnerB?.displayName?.toLowerCase() || \"\";\n            return partnerNameA.localeCompare(partnerNameB);\n        } else {\n            // Jika tidak ada pencarian, gunakan urutan default berdasarkan waktu pesan terakhir (terbaru di atas)\n            const timestampA = a.lastMessage?.timestamp || a.createdAt;\n            const timestampB = b.lastMessage?.timestamp || b.createdAt;\n            // Fungsi untuk mendapatkan ms dari timestamp\n            const getMs = (timestamp)=>{\n                if (!timestamp) return 0;\n                if (timestamp.toMillis) return timestamp.toMillis();\n                if (timestamp.seconds) return timestamp.seconds * 1000;\n                return 0;\n            };\n            return getMs(timestampB) - getMs(timestampA);\n        }\n    });\n    const handleCreateNewChat = async (selectedUserId)=>{\n        try {\n            // Periksa apakah chat sudah ada\n            const existingChatQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.collection)(_firebase_config__WEBPACK_IMPORTED_MODULE_2__.db, \"chats\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.where)(\"participants\", \"array-contains\", user.uid));\n            const existingChats = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.getDocs)(existingChatQuery);\n            let existingChatId = null;\n            existingChats.forEach((doc)=>{\n                const chatData = doc.data();\n                if (chatData.participants.includes(selectedUserId)) {\n                    existingChatId = doc.id;\n                }\n            });\n            if (existingChatId) {\n                // Jika chat sudah ada, pilih yang sudah ada\n                setSelectedChat(existingChatId);\n            } else {\n                // Jika belum, buat chat baru\n                const newChatRef = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.collection)(_firebase_config__WEBPACK_IMPORTED_MODULE_2__.db, \"chats\"), {\n                    participants: [\n                        user.uid,\n                        selectedUserId\n                    ],\n                    createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.serverTimestamp)()\n                });\n                setSelectedChat(newChatRef.id);\n            }\n            // Tutup modal\n            setShowNewChatModal(false);\n        } catch (error) {\n            console.error(\"Error creating new chat:\", error);\n            alert(\"Gagal membuat chat baru. Silakan coba lagi.\");\n        }\n    };\n    // Menampilkan kontak yang dipilih dari modal kontak\n    const handleContactSelect = async (contact)=>{\n        console.log(\"Kontak dipilih:\", contact);\n        if (onContactSelect) {\n            onContactSelect(contact);\n        } else {\n            // Coba cari pengguna dengan nomor telepon yang sama\n            const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.collection)(_firebase_config__WEBPACK_IMPORTED_MODULE_2__.db, \"users\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.where)(\"phoneNumber\", \"==\", contact.phoneNumber));\n            const userSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.getDocs)(q);\n            if (!userSnapshot.empty) {\n                const selectedUserId = userSnapshot.docs[0].id;\n                await handleCreateNewChat(selectedUserId);\n            } else {\n                // Handle jika kontak tidak terdaftar\n                alert(\"Pengguna belum terdaftar di Hallo. Ajak mereka untuk menginstal aplikasi ini!\");\n            }\n        }\n        setShowContactsScreen(false);\n    };\n    // Buka modal profil\n    const handleOpenProfileModal = ()=>{\n        setShowProfileModal(true);\n    };\n    const handleAddStory = ()=>{\n        setShowCreateStoryModal(true);\n    };\n    const handleSubmitStory = async (file, caption)=>{\n        try {\n            setIsUploadingStory(true);\n            await (0,_lib_stories__WEBPACK_IMPORTED_MODULE_10__.uploadStory)(user.uid, file, caption);\n            setShowCreateStoryModal(false);\n        } catch (error) {\n            console.error(\"Error uploading story:\", error);\n        } finally{\n            setIsUploadingStory(false);\n        }\n    };\n    const handleDeleteStory = async (storyId)=>{\n        console.log(\"Sidebar: Attempting to delete story with ID:\", storyId);\n        try {\n            await (0,_lib_stories__WEBPACK_IMPORTED_MODULE_10__.deleteStory)(storyId);\n            console.log(\"Sidebar: Story deleted successfully\");\n        } catch (error) {\n            console.error(\"Error deleting story:\", error);\n        }\n    };\n    const handleUpdateCaption = async (storyId, caption)=>{\n        try {\n            await (0,_lib_stories__WEBPACK_IMPORTED_MODULE_10__.updateStoryCaption)(storyId, caption);\n        } catch (error) {\n            console.error(\"Error updating story caption:\", error);\n        }\n    };\n    const handleViewStory = async (storyId)=>{\n        try {\n            await (0,_lib_stories__WEBPACK_IMPORTED_MODULE_10__.markStoryAsViewed)(user.uid, storyId);\n        } catch (error) {\n            console.error(\"Error marking story as viewed:\", error);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col h-full\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"px-4 py-3 bg-primary shadow-md flex items-center justify-between text-white\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: handleOpenProfileModal,\n                                className: \"relative w-10 h-10 rounded-full flex items-center justify-center bg-white/20 backdrop-blur-md hover:bg-white/30 transition-colors\",\n                                children: [\n                                    currentUserData?.photoURL && !currentUserImageError ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                        src: currentUserData.photoURL,\n                                        alt: currentUserData?.displayName || \"User Avatar\",\n                                        className: \"w-9 h-9 rounded-full object-cover\",\n                                        onError: ()=>setCurrentUserImageError(true)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                        lineNumber: 505,\n                                        columnNumber: 15\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-white font-medium\",\n                                        children: (currentUserData?.displayName || user.email || \"?\").charAt(0).toUpperCase()\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                        lineNumber: 512,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: `absolute bottom-0 right-0 w-3 h-3 rounded-full ${currentUserData?.isOnline ? \"bg-green-400\" : \"bg-gray-400\"} border-2 border-primary`\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                        lineNumber: 516,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                lineNumber: 500,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 min-w-0\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-lg font-medium truncate\",\n                                    children: currentUserData?.displayName || user.email?.split(\"@\")[0] || \"User\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                    lineNumber: 519,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                lineNumber: 518,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                        lineNumber: 499,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex space-x-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: onOpenAIChat,\n                                className: \"p-2 rounded-full hover:bg-white/20 transition-colors\",\n                                title: \"Chat dengan AI\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCornerDownRight_FiGlobe_FiImage_FiLogOut_FiMessageCircle_FiMessageSquare_FiPlus_FiSearch_FiSettings_FiUsers_react_icons_fi__WEBPACK_IMPORTED_MODULE_13__.FiMessageSquare, {\n                                    size: 20\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                    lineNumber: 530,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                lineNumber: 525,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: onOpenTranslateSettings,\n                                className: \"p-2 rounded-full hover:bg-white/20 transition-colors\",\n                                title: \"Pengaturan Terjemahan\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCornerDownRight_FiGlobe_FiImage_FiLogOut_FiMessageCircle_FiMessageSquare_FiPlus_FiSearch_FiSettings_FiUsers_react_icons_fi__WEBPACK_IMPORTED_MODULE_13__.FiGlobe, {\n                                    size: 20\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                    lineNumber: 537,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                lineNumber: 532,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: onOpenAISettings,\n                                className: \"p-2 rounded-full hover:bg-white/20 transition-colors\",\n                                title: \"Pengaturan AI\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCornerDownRight_FiGlobe_FiImage_FiLogOut_FiMessageCircle_FiMessageSquare_FiPlus_FiSearch_FiSettings_FiUsers_react_icons_fi__WEBPACK_IMPORTED_MODULE_13__.FiSettings, {\n                                    size: 20\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                    lineNumber: 544,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                lineNumber: 539,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: onLogout,\n                                className: \"p-2 rounded-full hover:bg-white/20 transition-colors\",\n                                title: \"Keluar\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCornerDownRight_FiGlobe_FiImage_FiLogOut_FiMessageCircle_FiMessageSquare_FiPlus_FiSearch_FiSettings_FiUsers_react_icons_fi__WEBPACK_IMPORTED_MODULE_13__.FiLogOut, {\n                                    size: 20\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                    lineNumber: 551,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                lineNumber: 546,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                        lineNumber: 524,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                lineNumber: 498,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"px-3 pt-3 pb-2 flex border-b border-gray-200\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>setView(\"chats\"),\n                        className: `flex-1 py-2 px-3 rounded-xl font-medium flex justify-center items-center transition-colors ${view === \"chats\" ? \"bg-primary text-white shadow-md\" : \"text-gray-600 hover:bg-gray-100\"}`,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCornerDownRight_FiGlobe_FiImage_FiLogOut_FiMessageCircle_FiMessageSquare_FiPlus_FiSearch_FiSettings_FiUsers_react_icons_fi__WEBPACK_IMPORTED_MODULE_13__.FiMessageCircle, {\n                                className: `mr-1 ${view === \"chats\" ? \"text-white\" : \"text-primary\"}`\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                lineNumber: 566,\n                                columnNumber: 11\n                            }, this),\n                            \"Pesan\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                        lineNumber: 558,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>setView(\"story\"),\n                        className: `flex-1 py-2 px-3 rounded-xl font-medium flex justify-center items-center transition-colors ${view === \"story\" ? \"bg-primary text-white shadow-md\" : \"text-gray-600 hover:bg-gray-100\"}`,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCornerDownRight_FiGlobe_FiImage_FiLogOut_FiMessageCircle_FiMessageSquare_FiPlus_FiSearch_FiSettings_FiUsers_react_icons_fi__WEBPACK_IMPORTED_MODULE_13__.FiImage, {\n                                className: `mr-1 ${view === \"story\" ? \"text-white\" : \"text-primary\"}`\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                lineNumber: 577,\n                                columnNumber: 11\n                            }, this),\n                            \"Story\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                        lineNumber: 569,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>setView(\"contacts\"),\n                        className: `flex-1 py-2 px-3 rounded-xl font-medium flex justify-center items-center transition-colors ${view === \"contacts\" ? \"bg-primary text-white shadow-md\" : \"text-gray-600 hover:bg-gray-100\"}`,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCornerDownRight_FiGlobe_FiImage_FiLogOut_FiMessageCircle_FiMessageSquare_FiPlus_FiSearch_FiSettings_FiUsers_react_icons_fi__WEBPACK_IMPORTED_MODULE_13__.FiUsers, {\n                                className: `mr-1 ${view === \"contacts\" ? \"text-white\" : \"text-primary\"}`\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                lineNumber: 588,\n                                columnNumber: 11\n                            }, this),\n                            \"Kontak\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                        lineNumber: 580,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                lineNumber: 557,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-3 border-b border-gray-200\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"relative w-full\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            type: \"text\",\n                            className: \"w-full bg-gray-100 pl-10 pr-4 py-2 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary/50 focus:bg-white transition-all\",\n                            placeholder: view === \"chats\" ? \"Cari percakapan...\" : view === \"contacts\" ? \"Cari kontak...\" : \"Cari story...\",\n                            value: searchTerm,\n                            onChange: (e)=>setSearchTerm(e.target.value)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                            lineNumber: 596,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCornerDownRight_FiGlobe_FiImage_FiLogOut_FiMessageCircle_FiMessageSquare_FiPlus_FiSearch_FiSettings_FiUsers_react_icons_fi__WEBPACK_IMPORTED_MODULE_13__.FiSearch, {\n                            className: \"absolute left-3 top-2.5 text-gray-500\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                            lineNumber: 603,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                    lineNumber: 595,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                lineNumber: 594,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent hover:scrollbar-thumb-gray-400\",\n                children: [\n                    view === \"chats\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex justify-center items-center h-32\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"animate-spin rounded-full h-6 w-6 border-b-2 border-primary\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                    lineNumber: 614,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                lineNumber: 613,\n                                columnNumber: 15\n                            }, this) : sortedFilteredChats.length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-1 p-2\",\n                                children: sortedFilteredChats.map((chat)=>{\n                                    const partnerId = chat.participants.find((id)=>id !== user.uid);\n                                    const partner = partnerId ? chatPartners[partnerId] : null;\n                                    const partnerName = partner?.displayName || \"Pengguna\";\n                                    const imageError = partnerId ? partnerImageErrors[partnerId] : false;\n                                    const unreadCount = unreadChats[chat.id] || 0;\n                                    const isUnread = unreadCount > 0;\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setSelectedChat(chat.id),\n                                        className: `w-full flex items-center p-2 hover:bg-gray-100 rounded-xl transition-colors \n                        ${selectedChatId === chat.id ? \"bg-primary/10\" : \"\"}\n                        ${isUnread ? \"unread-chat-notification\" : \"\"}`,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"relative flex-shrink-0\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-12 h-12 rounded-full overflow-hidden bg-primary flex items-center justify-center text-white\",\n                                                        children: partner?.photoURL && !imageError ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                            src: partner.photoURL,\n                                                            alt: partnerName,\n                                                            className: \"w-full h-full object-cover\",\n                                                            onError: ()=>{\n                                                                setPartnerImageErrors((prev)=>({\n                                                                        ...prev,\n                                                                        [partnerId]: true\n                                                                    }));\n                                                            }\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                                            lineNumber: 637,\n                                                            columnNumber: 29\n                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-lg font-medium\",\n                                                            children: partnerName.charAt(0).toUpperCase()\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                                            lineNumber: 646,\n                                                            columnNumber: 29\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                                        lineNumber: 635,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    partner?.isOnline && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                                        lineNumber: 650,\n                                                        columnNumber: 27\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                                lineNumber: 634,\n                                                columnNumber: 23\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"ml-3 flex-1 min-w-0 text-left\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex justify-between\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                                className: `font-medium truncate ${isUnread ? \"text-primary font-semibold\" : \"text-gray-900\"}`,\n                                                                children: partnerName\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                                                lineNumber: 655,\n                                                                columnNumber: 27\n                                                            }, this),\n                                                            chat.lastMessage?.timestamp && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: `text-xs ${isUnread ? \"text-primary font-semibold\" : \"text-gray-500\"}`,\n                                                                children: safeFormatTimestamp(chat.lastMessage.timestamp)\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                                                lineNumber: 659,\n                                                                columnNumber: 29\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                                        lineNumber: 654,\n                                                        columnNumber: 25\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: `text-sm truncate ${isUnread ? \"text-gray-900 font-medium\" : \"text-gray-500\"}`,\n                                                        children: chat.lastMessage ? chat.lastMessage.senderId === user.uid ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"flex items-center\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCornerDownRight_FiGlobe_FiImage_FiLogOut_FiMessageCircle_FiMessageSquare_FiPlus_FiSearch_FiSettings_FiUsers_react_icons_fi__WEBPACK_IMPORTED_MODULE_13__.FiCornerDownRight, {\n                                                                    className: \"mr-1 text-primary flex-shrink-0\",\n                                                                    size: 12\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                                                    lineNumber: 668,\n                                                                    columnNumber: 33\n                                                                }, this),\n                                                                chat.lastMessage.text\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                                            lineNumber: 667,\n                                                            columnNumber: 31\n                                                        }, this) : chat.lastMessage.text : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"italic text-gray-400\",\n                                                            children: \"Belum ada pesan\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                                            lineNumber: 675,\n                                                            columnNumber: 29\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                                        lineNumber: 664,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                                lineNumber: 653,\n                                                columnNumber: 23\n                                            }, this),\n                                            isUnread && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"ml-2 min-w-[20px] h-5 bg-primary rounded-full flex-shrink-0 flex items-center justify-center text-white text-xs font-medium px-1.5\",\n                                                children: unreadCount\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                                lineNumber: 680,\n                                                columnNumber: 25\n                                            }, this)\n                                        ]\n                                    }, chat.id, true, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                        lineNumber: 627,\n                                        columnNumber: 21\n                                    }, this);\n                                })\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                lineNumber: 617,\n                                columnNumber: 15\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-center p-6\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCornerDownRight_FiGlobe_FiImage_FiLogOut_FiMessageCircle_FiMessageSquare_FiPlus_FiSearch_FiSettings_FiUsers_react_icons_fi__WEBPACK_IMPORTED_MODULE_13__.FiMessageSquare, {\n                                            className: \"text-gray-400\",\n                                            size: 24\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                            lineNumber: 691,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                        lineNumber: 690,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"text-lg font-medium text-gray-800 mb-1\",\n                                        children: \"Belum ada chat\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                        lineNumber: 693,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-gray-500 text-sm mb-4\",\n                                        children: \"Mulai percakapan baru dengan kontak Anda\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                        lineNumber: 694,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setShowNewChatModal(true),\n                                        className: \"px-4 py-2 bg-primary hover:bg-dark text-white rounded-xl transition-colors shadow-md\",\n                                        children: \"Mulai Chat Baru\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                        lineNumber: 695,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                lineNumber: 689,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setShowNewChatModal(true),\n                                className: \"absolute bottom-4 right-4 w-12 h-12 rounded-full bg-primary hover:bg-dark text-white shadow-lg flex items-center justify-center transition-colors\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCornerDownRight_FiGlobe_FiImage_FiLogOut_FiMessageCircle_FiMessageSquare_FiPlus_FiSearch_FiSettings_FiUsers_react_icons_fi__WEBPACK_IMPORTED_MODULE_13__.FiPlus, {\n                                    size: 24\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                    lineNumber: 709,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                                lineNumber: 705,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true),\n                    view === \"story\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Story__WEBPACK_IMPORTED_MODULE_9__.StoriesContainer, {\n                        users: storyUsers,\n                        currentUserId: user.uid,\n                        onAddStory: handleAddStory,\n                        onStoryView: (storyId)=>{\n                            if (storyId) {\n                                // Handle story view logic\n                                return handleViewStory(storyId);\n                            }\n                            return Promise.resolve();\n                        }\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                        lineNumber: 715,\n                        columnNumber: 11\n                    }, this),\n                    view === \"contacts\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ContactsScreen__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                        user: user,\n                        onContactSelect: handleContactSelect\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                        lineNumber: 730,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                lineNumber: 608,\n                columnNumber: 7\n            }, this),\n            showNewChatModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_NewChatModal__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                onClose: ()=>setShowNewChatModal(false),\n                onCreateChat: handleCreateNewChat,\n                currentUserId: user.uid\n            }, void 0, false, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                lineNumber: 739,\n                columnNumber: 9\n            }, this),\n            showProfileModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ProfileModal__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                onClose: ()=>setShowProfileModal(false),\n                user: user\n            }, void 0, false, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                lineNumber: 747,\n                columnNumber: 9\n            }, this),\n            showCreateStoryModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Story__WEBPACK_IMPORTED_MODULE_9__.CreateStoryModal, {\n                isOpen: true,\n                onClose: ()=>setShowCreateStoryModal(false),\n                onSubmit: handleSubmitStory,\n                isLoading: isUploadingStory\n            }, void 0, false, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                lineNumber: 754,\n                columnNumber: 9\n            }, this),\n            isViewerOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Story__WEBPACK_IMPORTED_MODULE_9__.StoryViewer, {\n                users: storyUsers,\n                initialUserIndex: selectedUserIndex,\n                isOpen: true,\n                onClose: ()=>setIsViewerOpen(false),\n                currentUserId: user.uid,\n                onStoryDelete: handleDeleteStory,\n                onCaptionUpdate: handleUpdateCaption,\n                onStoryView: handleViewStory\n            }, void 0, false, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n                lineNumber: 763,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Sidebar.tsx\",\n        lineNumber: 496,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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U0FBUyxJQUFNOUosb0JBQW9CO2dCQUNuQ3JCLE1BQU1BOzs7Ozs7WUFJVDhCLHNDQUNDLDhEQUFDOUMsb0RBQWdCQTtnQkFDZnFNLFFBQVE7Z0JBQ1JGLFNBQVMsSUFBTXBKLHdCQUF3QjtnQkFDdkN1SixVQUFVMUM7Z0JBQ1YyQyxXQUFXdko7Ozs7OztZQUlkSSw4QkFDQyw4REFBQ25ELCtDQUFXQTtnQkFDVjJELE9BQU9oQjtnQkFDUDRKLGtCQUFrQnRKO2dCQUNsQm1KLFFBQVE7Z0JBQ1JGLFNBQVMsSUFBTTlJLGdCQUFnQjtnQkFDL0J5SSxlQUFlOUssS0FBSzBDLEdBQUc7Z0JBQ3ZCK0ksZUFBZTFDO2dCQUNmMkMsaUJBQWlCekM7Z0JBQ2pCK0IsYUFBYTlCOzs7Ozs7Ozs7Ozs7QUFLdkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWxsby8uL3NyYy9jb21wb25lbnRzL1NpZGViYXIudHN4PzU1NTEiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVXNlciB9IGZyb20gJ2ZpcmViYXNlL2F1dGgnO1xuaW1wb3J0IHsgZGIgfSBmcm9tICdAL2ZpcmViYXNlL2NvbmZpZyc7XG5pbXBvcnQgeyBjb2xsZWN0aW9uLCBxdWVyeSwgd2hlcmUsIGdldERvY3MsIGFkZERvYywgc2VydmVyVGltZXN0YW1wLCBkb2MsIGdldERvYywgb25TbmFwc2hvdCwgb3JkZXJCeSwgbGltaXQgfSBmcm9tICdmaXJlYmFzZS9maXJlc3RvcmUnO1xuaW1wb3J0IHsgZm9ybWF0IH0gZnJvbSAnZGF0ZS1mbnMnO1xuaW1wb3J0IHsgaWQgfSBmcm9tICdkYXRlLWZucy9sb2NhbGUnO1xuaW1wb3J0IHsgRmlMb2dPdXQsIEZpUGx1cywgRmlTZWFyY2gsIEZpVXNlciwgRmlQaG9uZSwgRmlFZGl0LCBGaU1lc3NhZ2VDaXJjbGUsIEZpVXNlcnMsIEZpTGlzdCwgRmlTZXR0aW5ncywgRmlBcnJvd0xlZnQsIEZpTWVzc2FnZVNxdWFyZSwgRmlHbG9iZSwgRmlMb2FkZXIsIEZpSW1hZ2UsIEZpQ29ybmVyRG93blJpZ2h0IH0gZnJvbSAncmVhY3QtaWNvbnMvZmknO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJztcbmltcG9ydCBOZXdDaGF0TW9kYWwgZnJvbSAnLi9OZXdDaGF0TW9kYWwnO1xuaW1wb3J0IENvbnRhY3RzU2NyZWVuIGZyb20gJy4vQ29udGFjdHNTY3JlZW4nO1xuaW1wb3J0IFByb2ZpbGVNb2RhbCBmcm9tICcuL1Byb2ZpbGVNb2RhbCc7XG5pbXBvcnQgeyBsaXN0ZW5Ub1VzZXJQcm9maWxlIH0gZnJvbSAnQC9saWIvdXNlcnMnO1xuaW1wb3J0IHsgU3Rvcmllc0NvbnRhaW5lciwgQ3JlYXRlU3RvcnlNb2RhbCwgU3RvcnlWaWV3ZXIgfSBmcm9tICcuL1N0b3J5JztcbmltcG9ydCB7IHVwbG9hZFN0b3J5LCBsaXN0ZW5Ub1N0b3JpZXMsIG1hcmtTdG9yeUFzVmlld2VkLCBkZWxldGVTdG9yeSwgdXBkYXRlU3RvcnlDYXB0aW9uLCBTdG9yeVVzZXIgfSBmcm9tICdAL2xpYi9zdG9yaWVzJztcblxudHlwZSBDaGF0ID0ge1xuICBpZDogc3RyaW5nO1xuICBwYXJ0aWNpcGFudHM6IHN0cmluZ1tdO1xuICBsYXN0TWVzc2FnZT86IHtcbiAgICB0ZXh0OiBzdHJpbmc7XG4gICAgdGltZXN0YW1wOiBhbnk7XG4gICAgc2VuZGVySWQ6IHN0cmluZztcbiAgfTtcbiAgY3JlYXRlZEF0OiBhbnk7XG59O1xuXG50eXBlIFNpZGViYXJQcm9wcyA9IHtcbiAgdXNlcjogVXNlcjtcbiAgY2hhdHM6IENoYXRbXTtcbiAgbG9hZGluZzogYm9vbGVhbjtcbiAgc2VsZWN0ZWRDaGF0SWQ6IHN0cmluZyB8IG51bGw7XG4gIHNldFNlbGVjdGVkQ2hhdDogKGNoYXRJZDogc3RyaW5nKSA9PiB2b2lkO1xuICBvbkxvZ291dDogKCkgPT4gdm9pZDtcbiAgb25Db250YWN0U2VsZWN0PzogKGNvbnRhY3Q6IHsgbmFtZTogc3RyaW5nOyBwaG9uZU51bWJlcjogc3RyaW5nIH0pID0+IHZvaWQ7XG4gIG9uT3BlbkFJQ2hhdD86ICgpID0+IHZvaWQ7XG4gIG9uT3BlblRyYW5zbGF0ZVNldHRpbmdzPzogKCkgPT4gdm9pZDtcbiAgb25PcGVuQUlTZXR0aW5ncz86ICgpID0+IHZvaWQ7XG59O1xuXG4vLyBIZWxwZXIgdW50dWsgbWVtZm9ybWF0IHRpbWVzdGFtcCBkZW5nYW4gY2FyYSB5YW5nIGFtYW5cbmNvbnN0IHNhZmVGb3JtYXRUaW1lc3RhbXAgPSAodGltZXN0YW1wOiBhbnkpOiBzdHJpbmcgPT4ge1xuICBpZiAoIXRpbWVzdGFtcCkgcmV0dXJuICcnO1xuICBcbiAgdHJ5IHtcbiAgICBpZiAodGltZXN0YW1wLnRvRGF0ZSkge1xuICAgICAgcmV0dXJuIGZvcm1hdCh0aW1lc3RhbXAudG9EYXRlKCksICdISDptbScsIHsgbG9jYWxlOiBpZCB9KTtcbiAgICB9IGVsc2UgaWYgKHRpbWVzdGFtcC5zZWNvbmRzKSB7XG4gICAgICByZXR1cm4gZm9ybWF0KG5ldyBEYXRlKHRpbWVzdGFtcC5zZWNvbmRzICogMTAwMCksICdISDptbScsIHsgbG9jYWxlOiBpZCB9KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZm9ybWF0dGluZyB0aW1lc3RhbXA6JywgZXJyb3IpO1xuICB9XG4gIFxuICByZXR1cm4gJyc7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTaWRlYmFyKHsgXG4gIHVzZXIsIFxuICBjaGF0cywgXG4gIGxvYWRpbmcsIFxuICBzZWxlY3RlZENoYXRJZCwgXG4gIHNldFNlbGVjdGVkQ2hhdCxcbiAgb25Mb2dvdXQsXG4gIG9uQ29udGFjdFNlbGVjdCxcbiAgb25PcGVuQUlDaGF0LFxuICBvbk9wZW5UcmFuc2xhdGVTZXR0aW5ncyxcbiAgb25PcGVuQUlTZXR0aW5nc1xufTogU2lkZWJhclByb3BzKSB7XG4gIGNvbnN0IFtzZWFyY2hUZXJtLCBzZXRTZWFyY2hUZXJtXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW3Nob3dOZXdDaGF0TW9kYWwsIHNldFNob3dOZXdDaGF0TW9kYWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd0NvbnRhY3RzU2NyZWVuLCBzZXRTaG93Q29udGFjdHNTY3JlZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY2hhdFBhcnRuZXJzLCBzZXRDaGF0UGFydG5lcnNdID0gdXNlU3RhdGU8e1trZXk6IHN0cmluZ106IGFueX0+KHt9KTtcbiAgY29uc3QgW3ZpZXcsIHNldFZpZXddID0gdXNlU3RhdGU8J2NoYXRzJyB8ICdzdG9yeScgfCAnY29udGFjdHMnPignY2hhdHMnKTtcbiAgY29uc3QgW3Nob3dQcm9maWxlTW9kYWwsIHNldFNob3dQcm9maWxlTW9kYWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAvLyBTdGF0ZSB1bnR1ayBtZW55aW1wYW4gZGF0YSBwZW5nZ3VuYSByZWFsdGltZVxuICBjb25zdCBbY3VycmVudFVzZXJEYXRhLCBzZXRDdXJyZW50VXNlckRhdGFdID0gdXNlU3RhdGU8e1xuICAgIGRpc3BsYXlOYW1lPzogc3RyaW5nO1xuICAgIHBob3RvVVJMPzogc3RyaW5nO1xuICAgIHBob25lTnVtYmVyPzogc3RyaW5nO1xuICAgIGlzT25saW5lPzogYm9vbGVhbjtcbiAgfT4oe30pO1xuICBjb25zdCBbY3VycmVudFVzZXJJbWFnZUVycm9yLCBzZXRDdXJyZW50VXNlckltYWdlRXJyb3JdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcGFydG5lckltYWdlRXJyb3JzLCBzZXRQYXJ0bmVySW1hZ2VFcnJvcnNdID0gdXNlU3RhdGU8e1trZXk6IHN0cmluZ106IGJvb2xlYW59Pih7fSk7XG4gIC8vIFN0YXRlIHVudHVrIFN0b3J5XG4gIGNvbnN0IFtzdG9yeVVzZXJzLCBzZXRTdG9yeVVzZXJzXSA9IHVzZVN0YXRlPFN0b3J5VXNlcltdPihbXSk7XG4gIGNvbnN0IFtzaG93Q3JlYXRlU3RvcnlNb2RhbCwgc2V0U2hvd0NyZWF0ZVN0b3J5TW9kYWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNVcGxvYWRpbmdTdG9yeSwgc2V0SXNVcGxvYWRpbmdTdG9yeV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzZWxlY3RlZFVzZXJJbmRleCwgc2V0U2VsZWN0ZWRVc2VySW5kZXhdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtpc1ZpZXdlck9wZW4sIHNldElzVmlld2VyT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIFxuICAvLyBTdGF0ZSB1bnR1ayBtZWxhY2FrIGNoYXQgeWFuZyBiZWx1bSBkaWJhY2FcbiAgY29uc3QgW3VucmVhZENoYXRzLCBzZXRVbnJlYWRDaGF0c10gPSB1c2VTdGF0ZTx7W2tleTogc3RyaW5nXTogbnVtYmVyfT4oe30pO1xuICBcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG5cbiAgLy8gQW1iaWwgaW5mb3JtYXNpIHBlbmdndW5hIGFrdGlmIHNlY2FyYSByZWFsdGltZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gbGlzdGVuVG9Vc2VyUHJvZmlsZSh1c2VyLnVpZCwgKHVzZXJEYXRhKSA9PiB7XG4gICAgICBzZXRDdXJyZW50VXNlckRhdGEodXNlckRhdGEpO1xuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiAoKSA9PiB1bnN1YnNjcmliZSgpO1xuICB9LCBbdXNlci51aWRdKTtcblxuICAvLyBBbWJpbCBpbmZvcm1hc2kgc3Rvcnkgc2VjYXJhIHJlYWx0aW1lXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSBsaXN0ZW5Ub1N0b3JpZXMoKHVzZXJzKSA9PiB7XG4gICAgICBzZXRTdG9yeVVzZXJzKHVzZXJzKTtcbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gKCkgPT4gdW5zdWJzY3JpYmUoKTtcbiAgfSwgW10pO1xuXG4gIC8vIEFtYmlsIGluZm9ybWFzaSBwZW5nZ3VuYSB1bnR1ayBzZXRpYXAgY2hhdFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGZldGNoQ2hhdFBhcnRuZXJzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcGFydG5lcnM6IHtba2V5OiBzdHJpbmddOiBhbnl9ID0ge307XG4gICAgICBjb25zdCBwYXJ0bmVySWRzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgXG4gICAgICBmb3IgKGNvbnN0IGNoYXQgb2YgY2hhdHMpIHtcbiAgICAgICAgY29uc3QgcGFydG5lcklkID0gY2hhdC5wYXJ0aWNpcGFudHMuZmluZChpZCA9PiBpZCAhPT0gdXNlci51aWQpO1xuICAgICAgICBpZiAocGFydG5lcklkKSB7XG4gICAgICAgICAgcGFydG5lcklkcy5wdXNoKHBhcnRuZXJJZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gTGFuZ3N1bmcgc2V0dXAgbGlzdGVuZXJzIHJlYWx0aW1lIHVudHVrIHNlbXVhIHBhcnRuZXJcbiAgICAgIGNvbnN0IHVuc3Vic2NyaWJlcnMgPSBwYXJ0bmVySWRzLm1hcChwYXJ0bmVySWQgPT4gXG4gICAgICAgIG9uU25hcHNob3QoZG9jKGRiLCAndXNlcnMnLCBwYXJ0bmVySWQpLCAodXNlckRvYykgPT4ge1xuICAgICAgICAgIGlmICh1c2VyRG9jLmV4aXN0cygpKSB7XG4gICAgICAgICAgICBzZXRDaGF0UGFydG5lcnMocHJldiA9PiAoe1xuICAgICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgICBbcGFydG5lcklkXTogdXNlckRvYy5kYXRhKClcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0Q2hhdFBhcnRuZXJzKHByZXYgPT4gKHtcbiAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgW3BhcnRuZXJJZF06IHsgZGlzcGxheU5hbWU6ICdQZW5nZ3VuYScsIGVtYWlsOiBwYXJ0bmVySWQgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICBcbiAgICAgIC8vIFJldHVybiBjbGVhbnVwIGZ1bmN0aW9uXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICB1bnN1YnNjcmliZXJzLmZvckVhY2godW5zdWJzY3JpYmUgPT4gdW5zdWJzY3JpYmUoKSk7XG4gICAgICB9O1xuICAgIH07XG5cbiAgICBpZiAoY2hhdHMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgdW5zdWJzY3JpYmVQYXJ0bmVycyA9IGZldGNoQ2hhdFBhcnRuZXJzKCk7XG4gICAgICAvLyBDbGVhbiB1cCBsaXN0ZW5lclxuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgdW5zdWJzY3JpYmVQYXJ0bmVycy50aGVuKHVuc3ViID0+IHtcbiAgICAgICAgICBpZiAodW5zdWIpIHVuc3ViKCk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmVzZXQgY2hhdFBhcnRuZXJzIHNhYXQgdGlkYWsgYWRhIGNoYXRcbiAgICAgIHNldENoYXRQYXJ0bmVycyh7fSk7XG4gICAgfVxuICB9LCBbY2hhdHMsIHVzZXIudWlkXSk7XG5cbiAgLy8gRGFsYW0ga29tcG9uZW4gU2lkZWJhciwgdGFtYmFoa2FuIGhvb2tzIHVudHVrIG1lbXBlcmJhcnVpIHRpbWVzdGFtcCBzYWF0IHBlc2FuIGRpYmFjYVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIEZ1bmdzaSB1bnR1ayBtZW5hbmdhbmkgZXZlbnQga2V0aWthIHBlc2FuIGRpYmFjYVxuICAgIGNvbnN0IGhhbmRsZU1lc3NhZ2VSZWFkID0gKGV2ZW50OiBDdXN0b21FdmVudCkgPT4ge1xuICAgICAgY29uc3QgeyBjaGF0SWQgfSA9IGV2ZW50LmRldGFpbDtcbiAgICAgIC8vIFBlcmJhcnVpIHRpbWVzdGFtcCB0ZXJha2hpciBkaWJhY2FcbiAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGBsYXN0UmVhZF8ke2NoYXRJZH1gLCBjdXJyZW50VGltZS50b1N0cmluZygpKTtcbiAgICAgIFxuICAgICAgLy8gSGFwdXMgZGFyaSBkYWZ0YXIgdW5yZWFkXG4gICAgICBzZXRVbnJlYWRDaGF0cyhwcmV2ID0+IHtcbiAgICAgICAgaWYgKCFwcmV2W2NoYXRJZF0pIHJldHVybiBwcmV2O1xuICAgICAgICBcbiAgICAgICAgY29uc3QgdXBkYXRlZCA9IHsgLi4ucHJldiB9O1xuICAgICAgICBkZWxldGUgdXBkYXRlZFtjaGF0SWRdO1xuICAgICAgICBcbiAgICAgICAgLy8gU2ltcGFuIGtlIGxvY2FsU3RvcmFnZVxuICAgICAgICB0cnkge1xuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1bnJlYWRDaGF0cycsIEpTT04uc3RyaW5naWZ5KHVwZGF0ZWQpKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgdW5yZWFkIGNoYXRzIHRvIGxvY2FsU3RvcmFnZTonLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiB1cGRhdGVkO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBcbiAgICAvLyBUYW1iYWhrYW4gZXZlbnQgbGlzdGVuZXJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZVJlYWQnLCBoYW5kbGVNZXNzYWdlUmVhZCBhcyBFdmVudExpc3RlbmVyKTtcbiAgICBcbiAgICAvLyBDbGVhbnVwXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlUmVhZCcsIGhhbmRsZU1lc3NhZ2VSZWFkIGFzIEV2ZW50TGlzdGVuZXIpO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICAvLyBVYmFoIG1la2FuaXNtZSBwZW5kZXRla3NpIHBlc2FuIHlhbmcgYmVsdW0gZGliYWNhXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gQnVhdCBmdW5nc2kgdW50dWsgbWVtYmFjYSB1bnJlYWRDaGF0cyBkYXJpIGxvY2FsU3RvcmFnZVxuICAgIGNvbnN0IGxvYWRVbnJlYWRDaGF0cyA9ICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN0b3JlZFVucmVhZENoYXRzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VucmVhZENoYXRzJyk7XG4gICAgICAgIGlmIChzdG9yZWRVbnJlYWRDaGF0cykge1xuICAgICAgICAgIHNldFVucmVhZENoYXRzKEpTT04ucGFyc2Uoc3RvcmVkVW5yZWFkQ2hhdHMpKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyB1bnJlYWQgY2hhdHMgZnJvbSBsb2NhbFN0b3JhZ2U6JywgZXJyb3IpO1xuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgLy8gTXVhdCB1bnJlYWRDaGF0cyBzYWF0IGtvbXBvbmVuIGRpcGFzYW5nXG4gICAgbG9hZFVucmVhZENoYXRzKCk7XG4gICAgXG4gICAgLy8gTGlzdGVuIHVudHVrIHBlcnViYWhhbiBwZXNhbiBkaSBzZXRpYXAgY2hhdFxuICAgIGNvbnN0IHVuc3Vic2NyaWJlcnMgPSBjaGF0cy5tYXAoY2hhdCA9PiB7XG4gICAgICBjb25zdCBjaGF0SWQgPSBjaGF0LmlkO1xuICAgICAgXG4gICAgICByZXR1cm4gb25TbmFwc2hvdChcbiAgICAgICAgcXVlcnkoXG4gICAgICAgICAgY29sbGVjdGlvbihkYiwgJ2NoYXRzJywgY2hhdElkLCAnbWVzc2FnZXMnKSxcbiAgICAgICAgICBvcmRlckJ5KCd0aW1lc3RhbXAnLCAnZGVzYycpXG4gICAgICAgICAgLy8gSGFwdXMgbGltaXQoMTApIGthcmVuYSBtZW1iYXRhc2kganVtbGFoIHBlc2FuIHlhbmcgZGlwZXJpa3NhXG4gICAgICAgICksXG4gICAgICAgIChzbmFwc2hvdCkgPT4ge1xuICAgICAgICAgIC8vIEhhbnlhIHVwZGF0ZSBqaWthIGNoYXQgaW5pIGJ1a2FuIHlhbmcgc2VkYW5nIGFrdGlmXG4gICAgICAgICAgaWYgKGNoYXRJZCAhPT0gc2VsZWN0ZWRDaGF0SWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RSZWFkVGltZXN0YW1wID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oYGxhc3RSZWFkXyR7Y2hhdElkfWApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBKaWthIHRpZGFrIGFkYSB0aW1lc3RhbXAgdGVyYWtoaXIgZGliYWNhLCBzZXQgdGltZXN0YW1wIHNhYXQgaW5pIHVudHVrIHNlbXVhIGNoYXRcbiAgICAgICAgICAgIC8vIEluaSBtZW5jZWdhaCBub3RpZmlrYXNpIHNhYXQgYXBsaWthc2kgcGVydGFtYSBrYWxpIGRpYnVrYVxuICAgICAgICAgICAgaWYgKCFsYXN0UmVhZFRpbWVzdGFtcCkge1xuICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgbGFzdFJlYWRfJHtjaGF0SWR9YCwgRGF0ZS5ub3coKS50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgcmV0dXJuOyAvLyBUaWRhayBwZXJsdSBtZW1lcmlrc2EgcGVzYW4ga2FyZW5hIGtpdGEgdGFuZGFpIHNlbXVhbnlhIHNlYmFnYWkgZGliYWNhXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxldCB1bnJlYWRDb3VudCA9IDA7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHNuYXBzaG90LmRvY0NoYW5nZXMoKS5mb3JFYWNoKGNoYW5nZSA9PiB7XG4gICAgICAgICAgICAgIC8vIEhhbnlhIHBlcmhhdGlrYW4gcGVzYW4geWFuZyBiYXJ1IGRpdGFtYmFoa2FuXG4gICAgICAgICAgICAgIGlmIChjaGFuZ2UudHlwZSA9PT0gJ2FkZGVkJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjaGFuZ2UuZG9jLmRhdGEoKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBIYW55YSBoaXR1bmcgcGVzYW4gZGFyaSBwZW5nZ3VuYSBsYWluXG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2Uuc2VuZGVySWQgIT09IHVzZXIudWlkKSB7XG4gICAgICAgICAgICAgICAgICAvLyBKaWthIGFkYSB0aW1lc3RhbXAgdGVyYWtoaXIgZGliYWNhLCBiYW5kaW5na2FuXG4gICAgICAgICAgICAgICAgICBjb25zdCBsYXN0UmVhZFRpbWUgPSBwYXJzZUludChsYXN0UmVhZFRpbWVzdGFtcCwgMTApO1xuICAgICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZVRpbWUgPSBtZXNzYWdlLnRpbWVzdGFtcD8uc2Vjb25kcyBcbiAgICAgICAgICAgICAgICAgICAgPyBtZXNzYWdlLnRpbWVzdGFtcC5zZWNvbmRzICogMTAwMCBcbiAgICAgICAgICAgICAgICAgICAgOiBtZXNzYWdlLnRpbWVzdGFtcD8udG9NaWxsaXMgXG4gICAgICAgICAgICAgICAgICAgICAgPyBtZXNzYWdlLnRpbWVzdGFtcC50b01pbGxpcygpIFxuICAgICAgICAgICAgICAgICAgICAgIDogRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgLy8gSmlrYSBwZXNhbiBsZWJpaCBiYXJ1IGRhcmkgdGVyYWtoaXIgZGliYWNhLCB0YW5kYWkgc2ViYWdhaSBiZWx1bSBkaWJhY2FcbiAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlVGltZSA+IGxhc3RSZWFkVGltZSkge1xuICAgICAgICAgICAgICAgICAgICB1bnJlYWRDb3VudCsrO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEppa2EgYWRhIHBlcnViYWhhbiBkYWxhbSBwZXNhbiB5YW5nIGJlbHVtIGRpYmFjYVxuICAgICAgICAgICAgaWYgKHVucmVhZENvdW50ID4gMCkge1xuICAgICAgICAgICAgICBzZXRVbnJlYWRDaGF0cyhwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkID0geyAuLi5wcmV2LCBbY2hhdElkXTogdW5yZWFkQ291bnQgfTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBTaW1wYW4ga2UgbG9jYWxTdG9yYWdlXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1bnJlYWRDaGF0cycsIEpTT04uc3RyaW5naWZ5KHVwZGF0ZWQpKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIHVucmVhZCBjaGF0cyB0byBsb2NhbFN0b3JhZ2U6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlZDtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBKaWthIHRpZGFrIGFkYSBwZXNhbiB5YW5nIGJlbHVtIGRpYmFjYSwgcGFzdGlrYW4gY2hhdCBkaWhhcHVzIGRhcmkgdW5yZWFkQ2hhdHNcbiAgICAgICAgICAgICAgc2V0VW5yZWFkQ2hhdHMocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFwcmV2W2NoYXRJZF0pIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSB7IC4uLnByZXYgfTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdXBkYXRlZFtjaGF0SWRdO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIFNpbXBhbiBrZSBsb2NhbFN0b3JhZ2VcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VucmVhZENoYXRzJywgSlNPTi5zdHJpbmdpZnkodXBkYXRlZCkpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgdW5yZWFkIGNoYXRzIHRvIGxvY2FsU3RvcmFnZTonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGVkO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHVuc3Vic2NyaWJlcnMuZm9yRWFjaCh1bnN1YnNjcmliZSA9PiB1bnN1YnNjcmliZSgpKTtcbiAgICB9O1xuICB9LCBbY2hhdHMsIHVzZXIudWlkLCBzZWxlY3RlZENoYXRJZF0pO1xuXG4gIC8vIFBlcmJhaWtpIHVzZUVmZmVjdCB1bnR1ayBtZW1wZXJiYXJ1aSB0aW1lc3RhbXAgc2FhdCBjaGF0IGRpcGlsaWhcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc2VsZWN0ZWRDaGF0SWQpIHtcbiAgICAgIC8vIFNpbXBhbiB0aW1lc3RhbXAgdGVyYWtoaXIgZGliYWNhXG4gICAgICBjb25zdCBjdXJyZW50VGltZSA9IERhdGUubm93KCk7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgbGFzdFJlYWRfJHtzZWxlY3RlZENoYXRJZH1gLCBjdXJyZW50VGltZS50b1N0cmluZygpKTtcbiAgICAgIFxuICAgICAgLy8gRGlzcGF0Y2ggZXZlbnQgdW50dWsgbWVtYmVyaSB0YWh1IGtvbXBvbmVuIGxhaW5cbiAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdtZXNzYWdlUmVhZCcsIHsgXG4gICAgICAgIGRldGFpbDogeyBjaGF0SWQ6IHNlbGVjdGVkQ2hhdElkIH1cbiAgICAgIH0pO1xuICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgXG4gICAgICAvLyBIYXB1cyBkYXJpIGRhZnRhciB1bnJlYWRcbiAgICAgIGlmICh1bnJlYWRDaGF0c1tzZWxlY3RlZENoYXRJZF0pIHtcbiAgICAgICAgc2V0VW5yZWFkQ2hhdHMocHJldiA9PiB7XG4gICAgICAgICAgY29uc3QgdXBkYXRlZCA9IHsgLi4ucHJldiB9O1xuICAgICAgICAgIGRlbGV0ZSB1cGRhdGVkW3NlbGVjdGVkQ2hhdElkXTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTaW1wYW4ga2UgbG9jYWxTdG9yYWdlXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1bnJlYWRDaGF0cycsIEpTT04uc3RyaW5naWZ5KHVwZGF0ZWQpKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIHVucmVhZCBjaGF0cyB0byBsb2NhbFN0b3JhZ2U6JywgZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICByZXR1cm4gdXBkYXRlZDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbc2VsZWN0ZWRDaGF0SWQsIHVucmVhZENoYXRzXSk7XG5cbiAgY29uc3QgZmlsdGVyZWRDaGF0cyA9IGNoYXRzLmZpbHRlcihjaGF0ID0+IHtcbiAgICAvLyBJbXBsZW1lbnRhc2kgcGVuY2FyaWFuIHNlZGVyaGFuYVxuICAgIGlmICghc2VhcmNoVGVybSkgcmV0dXJuIHRydWU7XG4gICAgXG4gICAgY29uc3QgcGFydG5lcklkID0gY2hhdC5wYXJ0aWNpcGFudHMuZmluZChpZCA9PiBpZCAhPT0gdXNlci51aWQpO1xuICAgIGNvbnN0IHBhcnRuZXIgPSBwYXJ0bmVySWQgPyBjaGF0UGFydG5lcnNbcGFydG5lcklkXSA6IG51bGw7XG4gICAgY29uc3QgcGFydG5lck5hbWUgPSBwYXJ0bmVyPy5kaXNwbGF5TmFtZT8udG9Mb3dlckNhc2UoKSB8fCAnJztcbiAgICBcbiAgICAvLyBDYXJpIGJlcmRhc2Fya2FuIG5hbWEga29udGFrIGF0YXUgaXNpIHBlc2FuXG4gICAgcmV0dXJuIHBhcnRuZXJOYW1lLmluY2x1ZGVzKHNlYXJjaFRlcm0udG9Mb3dlckNhc2UoKSkgfHwgXG4gICAgICAgICAgIGNoYXQubGFzdE1lc3NhZ2U/LnRleHQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hUZXJtLnRvTG93ZXJDYXNlKCkpO1xuICB9KTtcblxuICAvLyBVcnV0a2FuIGNoYXQgYmVyZGFzYXJrYW4gbmFtYSBrb250YWsgamlrYSBhZGEgcGVuY2FyaWFuXG4gIGNvbnN0IHNvcnRlZEZpbHRlcmVkQ2hhdHMgPSBbLi4uZmlsdGVyZWRDaGF0c10uc29ydCgoYSwgYikgPT4ge1xuICAgIGlmIChzZWFyY2hUZXJtKSB7XG4gICAgICAvLyBKaWthIGFkYSBwZW5jYXJpYW4sIHVydXRrYW4gYmVyZGFzYXJrYW4gbmFtYVxuICAgICAgY29uc3QgcGFydG5lcklkQSA9IGEucGFydGljaXBhbnRzLmZpbmQoaWQgPT4gaWQgIT09IHVzZXIudWlkKTtcbiAgICAgIGNvbnN0IHBhcnRuZXJBID0gcGFydG5lcklkQSA/IGNoYXRQYXJ0bmVyc1twYXJ0bmVySWRBXSA6IG51bGw7XG4gICAgICBjb25zdCBwYXJ0bmVyTmFtZUEgPSBwYXJ0bmVyQT8uZGlzcGxheU5hbWU/LnRvTG93ZXJDYXNlKCkgfHwgJyc7XG4gICAgICBcbiAgICAgIGNvbnN0IHBhcnRuZXJJZEIgPSBiLnBhcnRpY2lwYW50cy5maW5kKGlkID0+IGlkICE9PSB1c2VyLnVpZCk7XG4gICAgICBjb25zdCBwYXJ0bmVyQiA9IHBhcnRuZXJJZEIgPyBjaGF0UGFydG5lcnNbcGFydG5lcklkQl0gOiBudWxsO1xuICAgICAgY29uc3QgcGFydG5lck5hbWVCID0gcGFydG5lckI/LmRpc3BsYXlOYW1lPy50b0xvd2VyQ2FzZSgpIHx8ICcnO1xuICAgICAgXG4gICAgICByZXR1cm4gcGFydG5lck5hbWVBLmxvY2FsZUNvbXBhcmUocGFydG5lck5hbWVCKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSmlrYSB0aWRhayBhZGEgcGVuY2FyaWFuLCBndW5ha2FuIHVydXRhbiBkZWZhdWx0IGJlcmRhc2Fya2FuIHdha3R1IHBlc2FuIHRlcmFraGlyICh0ZXJiYXJ1IGRpIGF0YXMpXG4gICAgICBjb25zdCB0aW1lc3RhbXBBID0gYS5sYXN0TWVzc2FnZT8udGltZXN0YW1wIHx8IGEuY3JlYXRlZEF0O1xuICAgICAgY29uc3QgdGltZXN0YW1wQiA9IGIubGFzdE1lc3NhZ2U/LnRpbWVzdGFtcCB8fCBiLmNyZWF0ZWRBdDtcbiAgICAgIFxuICAgICAgLy8gRnVuZ3NpIHVudHVrIG1lbmRhcGF0a2FuIG1zIGRhcmkgdGltZXN0YW1wXG4gICAgICBjb25zdCBnZXRNcyA9ICh0aW1lc3RhbXA6IGFueSkgPT4ge1xuICAgICAgICBpZiAoIXRpbWVzdGFtcCkgcmV0dXJuIDA7XG4gICAgICAgIGlmICh0aW1lc3RhbXAudG9NaWxsaXMpIHJldHVybiB0aW1lc3RhbXAudG9NaWxsaXMoKTtcbiAgICAgICAgaWYgKHRpbWVzdGFtcC5zZWNvbmRzKSByZXR1cm4gdGltZXN0YW1wLnNlY29uZHMgKiAxMDAwO1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIHJldHVybiBnZXRNcyh0aW1lc3RhbXBCKSAtIGdldE1zKHRpbWVzdGFtcEEpO1xuICAgIH1cbiAgfSk7XG5cbiAgY29uc3QgaGFuZGxlQ3JlYXRlTmV3Q2hhdCA9IGFzeW5jIChzZWxlY3RlZFVzZXJJZDogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFBlcmlrc2EgYXBha2FoIGNoYXQgc3VkYWggYWRhXG4gICAgICBjb25zdCBleGlzdGluZ0NoYXRRdWVyeSA9IHF1ZXJ5KFxuICAgICAgICBjb2xsZWN0aW9uKGRiLCAnY2hhdHMnKSxcbiAgICAgICAgd2hlcmUoJ3BhcnRpY2lwYW50cycsICdhcnJheS1jb250YWlucycsIHVzZXIudWlkKVxuICAgICAgKTtcbiAgICAgIGNvbnN0IGV4aXN0aW5nQ2hhdHMgPSBhd2FpdCBnZXREb2NzKGV4aXN0aW5nQ2hhdFF1ZXJ5KTtcbiAgICAgIFxuICAgICAgbGV0IGV4aXN0aW5nQ2hhdElkID0gbnVsbDtcbiAgICAgIGV4aXN0aW5nQ2hhdHMuZm9yRWFjaChkb2MgPT4ge1xuICAgICAgICBjb25zdCBjaGF0RGF0YSA9IGRvYy5kYXRhKCk7XG4gICAgICAgIGlmIChjaGF0RGF0YS5wYXJ0aWNpcGFudHMuaW5jbHVkZXMoc2VsZWN0ZWRVc2VySWQpKSB7XG4gICAgICAgICAgZXhpc3RpbmdDaGF0SWQgPSBkb2MuaWQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBpZiAoZXhpc3RpbmdDaGF0SWQpIHtcbiAgICAgICAgLy8gSmlrYSBjaGF0IHN1ZGFoIGFkYSwgcGlsaWggeWFuZyBzdWRhaCBhZGFcbiAgICAgICAgc2V0U2VsZWN0ZWRDaGF0KGV4aXN0aW5nQ2hhdElkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEppa2EgYmVsdW0sIGJ1YXQgY2hhdCBiYXJ1XG4gICAgICAgIGNvbnN0IG5ld0NoYXRSZWYgPSBhd2FpdCBhZGREb2MoY29sbGVjdGlvbihkYiwgJ2NoYXRzJyksIHtcbiAgICAgICAgICBwYXJ0aWNpcGFudHM6IFt1c2VyLnVpZCwgc2VsZWN0ZWRVc2VySWRdLFxuICAgICAgICAgIGNyZWF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgc2V0U2VsZWN0ZWRDaGF0KG5ld0NoYXRSZWYuaWQpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBUdXR1cCBtb2RhbFxuICAgICAgc2V0U2hvd05ld0NoYXRNb2RhbChmYWxzZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIG5ldyBjaGF0OicsIGVycm9yKTtcbiAgICAgIGFsZXJ0KCdHYWdhbCBtZW1idWF0IGNoYXQgYmFydS4gU2lsYWthbiBjb2JhIGxhZ2kuJyk7XG4gICAgfVxuICB9O1xuXG4gIC8vIE1lbmFtcGlsa2FuIGtvbnRhayB5YW5nIGRpcGlsaWggZGFyaSBtb2RhbCBrb250YWtcbiAgY29uc3QgaGFuZGxlQ29udGFjdFNlbGVjdCA9IGFzeW5jIChjb250YWN0OiB7IG5hbWU6IHN0cmluZywgcGhvbmVOdW1iZXI6IHN0cmluZyB9KSA9PiB7XG4gICAgY29uc29sZS5sb2coJ0tvbnRhayBkaXBpbGloOicsIGNvbnRhY3QpO1xuICAgIFxuICAgIGlmIChvbkNvbnRhY3RTZWxlY3QpIHtcbiAgICAgIG9uQ29udGFjdFNlbGVjdChjb250YWN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ29iYSBjYXJpIHBlbmdndW5hIGRlbmdhbiBub21vciB0ZWxlcG9uIHlhbmcgc2FtYVxuICAgICAgY29uc3QgcSA9IHF1ZXJ5KFxuICAgICAgICBjb2xsZWN0aW9uKGRiLCAndXNlcnMnKSxcbiAgICAgICAgd2hlcmUoJ3Bob25lTnVtYmVyJywgJz09JywgY29udGFjdC5waG9uZU51bWJlcilcbiAgICAgICk7XG4gICAgICBcbiAgICAgIGNvbnN0IHVzZXJTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSk7XG4gICAgICBcbiAgICAgIGlmICghdXNlclNuYXBzaG90LmVtcHR5KSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkVXNlcklkID0gdXNlclNuYXBzaG90LmRvY3NbMF0uaWQ7XG4gICAgICAgIGF3YWl0IGhhbmRsZUNyZWF0ZU5ld0NoYXQoc2VsZWN0ZWRVc2VySWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSGFuZGxlIGppa2Ega29udGFrIHRpZGFrIHRlcmRhZnRhclxuICAgICAgICBhbGVydCgnUGVuZ2d1bmEgYmVsdW0gdGVyZGFmdGFyIGRpIEhhbGxvLiBBamFrIG1lcmVrYSB1bnR1ayBtZW5naW5zdGFsIGFwbGlrYXNpIGluaSEnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgc2V0U2hvd0NvbnRhY3RzU2NyZWVuKGZhbHNlKTtcbiAgfTtcblxuICAvLyBCdWthIG1vZGFsIHByb2ZpbFxuICBjb25zdCBoYW5kbGVPcGVuUHJvZmlsZU1vZGFsID0gKCkgPT4ge1xuICAgIHNldFNob3dQcm9maWxlTW9kYWwodHJ1ZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQWRkU3RvcnkgPSAoKSA9PiB7XG4gICAgc2V0U2hvd0NyZWF0ZVN0b3J5TW9kYWwodHJ1ZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU3VibWl0U3RvcnkgPSBhc3luYyAoZmlsZTogRmlsZSwgY2FwdGlvbjogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHNldElzVXBsb2FkaW5nU3RvcnkodHJ1ZSk7XG4gICAgICBhd2FpdCB1cGxvYWRTdG9yeSh1c2VyLnVpZCwgZmlsZSwgY2FwdGlvbik7XG4gICAgICBzZXRTaG93Q3JlYXRlU3RvcnlNb2RhbChmYWxzZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwbG9hZGluZyBzdG9yeTonLCBlcnJvcik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzVXBsb2FkaW5nU3RvcnkoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVEZWxldGVTdG9yeSA9IGFzeW5jIChzdG9yeUlkOiBzdHJpbmcpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIlNpZGViYXI6IEF0dGVtcHRpbmcgdG8gZGVsZXRlIHN0b3J5IHdpdGggSUQ6XCIsIHN0b3J5SWQpO1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBkZWxldGVTdG9yeShzdG9yeUlkKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiU2lkZWJhcjogU3RvcnkgZGVsZXRlZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIHN0b3J5OicsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlVXBkYXRlQ2FwdGlvbiA9IGFzeW5jIChzdG9yeUlkOiBzdHJpbmcsIGNhcHRpb246IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB1cGRhdGVTdG9yeUNhcHRpb24oc3RvcnlJZCwgY2FwdGlvbik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHN0b3J5IGNhcHRpb246JywgZXJyb3IpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVWaWV3U3RvcnkgPSBhc3luYyAoc3RvcnlJZDogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IG1hcmtTdG9yeUFzVmlld2VkKHVzZXIudWlkLCBzdG9yeUlkKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbWFya2luZyBzdG9yeSBhcyB2aWV3ZWQ6JywgZXJyb3IpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBoLWZ1bGxcIj5cbiAgICAgIHsvKiBIZWFkZXIgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTQgcHktMyBiZy1wcmltYXJ5IHNoYWRvdy1tZCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gdGV4dC13aGl0ZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVPcGVuUHJvZmlsZU1vZGFsfSBcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInJlbGF0aXZlIHctMTAgaC0xMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctd2hpdGUvMjAgYmFja2Ryb3AtYmx1ci1tZCBob3ZlcjpiZy13aGl0ZS8zMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge2N1cnJlbnRVc2VyRGF0YT8ucGhvdG9VUkwgJiYgIWN1cnJlbnRVc2VySW1hZ2VFcnJvciA/IChcbiAgICAgICAgICAgICAgPGltZyBcbiAgICAgICAgICAgICAgICBzcmM9e2N1cnJlbnRVc2VyRGF0YS5waG90b1VSTH0gXG4gICAgICAgICAgICAgICAgYWx0PXtjdXJyZW50VXNlckRhdGE/LmRpc3BsYXlOYW1lIHx8ICdVc2VyIEF2YXRhcid9IFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctOSBoLTkgcm91bmRlZC1mdWxsIG9iamVjdC1jb3ZlclwiXG4gICAgICAgICAgICAgICAgb25FcnJvcj17KCkgPT4gc2V0Q3VycmVudFVzZXJJbWFnZUVycm9yKHRydWUpfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZSBmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAgICAgIHsoY3VycmVudFVzZXJEYXRhPy5kaXNwbGF5TmFtZSB8fCB1c2VyLmVtYWlsIHx8ICc/JykuY2hhckF0KDApLnRvVXBwZXJDYXNlKCl9XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2BhYnNvbHV0ZSBib3R0b20tMCByaWdodC0wIHctMyBoLTMgcm91bmRlZC1mdWxsICR7Y3VycmVudFVzZXJEYXRhPy5pc09ubGluZSA/ICdiZy1ncmVlbi00MDAnIDogJ2JnLWdyYXktNDAwJ30gYm9yZGVyLTIgYm9yZGVyLXByaW1hcnlgfT48L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgbWluLXctMFwiPlxuICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1tZWRpdW0gdHJ1bmNhdGVcIj5cbiAgICAgICAgICAgICAge2N1cnJlbnRVc2VyRGF0YT8uZGlzcGxheU5hbWUgfHwgdXNlci5lbWFpbD8uc3BsaXQoJ0AnKVswXSB8fCAnVXNlcid9XG4gICAgICAgICAgICA8L2gyPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHNwYWNlLXgtMVwiPlxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBvbkNsaWNrPXtvbk9wZW5BSUNoYXR9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJwLTIgcm91bmRlZC1mdWxsIGhvdmVyOmJnLXdoaXRlLzIwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgIHRpdGxlPVwiQ2hhdCBkZW5nYW4gQUlcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxGaU1lc3NhZ2VTcXVhcmUgc2l6ZT17MjB9IC8+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIG9uQ2xpY2s9e29uT3BlblRyYW5zbGF0ZVNldHRpbmdzfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0yIHJvdW5kZWQtZnVsbCBob3ZlcjpiZy13aGl0ZS8yMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICB0aXRsZT1cIlBlbmdhdHVyYW4gVGVyamVtYWhhblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPEZpR2xvYmUgc2l6ZT17MjB9IC8+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIG9uQ2xpY2s9e29uT3BlbkFJU2V0dGluZ3N9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJwLTIgcm91bmRlZC1mdWxsIGhvdmVyOmJnLXdoaXRlLzIwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgIHRpdGxlPVwiUGVuZ2F0dXJhbiBBSVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPEZpU2V0dGluZ3Mgc2l6ZT17MjB9IC8+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIG9uQ2xpY2s9e29uTG9nb3V0fVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0yIHJvdW5kZWQtZnVsbCBob3ZlcjpiZy13aGl0ZS8yMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICB0aXRsZT1cIktlbHVhclwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPEZpTG9nT3V0IHNpemU9ezIwfSAvPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogTmF2aWdhdGlvbiAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtMyBwdC0zIHBiLTIgZmxleCBib3JkZXItYiBib3JkZXItZ3JheS0yMDBcIj5cbiAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRWaWV3KCdjaGF0cycpfVxuICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXgtMSBweS0yIHB4LTMgcm91bmRlZC14bCBmb250LW1lZGl1bSBmbGV4IGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlciB0cmFuc2l0aW9uLWNvbG9ycyAke1xuICAgICAgICAgICAgdmlldyA9PT0gJ2NoYXRzJyBcbiAgICAgICAgICAgID8gJ2JnLXByaW1hcnkgdGV4dC13aGl0ZSBzaGFkb3ctbWQnIFxuICAgICAgICAgICAgOiAndGV4dC1ncmF5LTYwMCBob3ZlcjpiZy1ncmF5LTEwMCdcbiAgICAgICAgICB9YH1cbiAgICAgICAgPlxuICAgICAgICAgIDxGaU1lc3NhZ2VDaXJjbGUgY2xhc3NOYW1lPXtgbXItMSAke3ZpZXcgPT09ICdjaGF0cycgPyAndGV4dC13aGl0ZScgOiAndGV4dC1wcmltYXJ5J31gfSAvPlxuICAgICAgICAgIFBlc2FuXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFZpZXcoJ3N0b3J5Jyl9XG4gICAgICAgICAgY2xhc3NOYW1lPXtgZmxleC0xIHB5LTIgcHgtMyByb3VuZGVkLXhsIGZvbnQtbWVkaXVtIGZsZXgganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIHRyYW5zaXRpb24tY29sb3JzICR7XG4gICAgICAgICAgICB2aWV3ID09PSAnc3RvcnknIFxuICAgICAgICAgICAgPyAnYmctcHJpbWFyeSB0ZXh0LXdoaXRlIHNoYWRvdy1tZCcgXG4gICAgICAgICAgICA6ICd0ZXh0LWdyYXktNjAwIGhvdmVyOmJnLWdyYXktMTAwJ1xuICAgICAgICAgIH1gfVxuICAgICAgICA+XG4gICAgICAgICAgPEZpSW1hZ2UgY2xhc3NOYW1lPXtgbXItMSAke3ZpZXcgPT09ICdzdG9yeScgPyAndGV4dC13aGl0ZScgOiAndGV4dC1wcmltYXJ5J31gfSAvPlxuICAgICAgICAgIFN0b3J5XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFZpZXcoJ2NvbnRhY3RzJyl9XG4gICAgICAgICAgY2xhc3NOYW1lPXtgZmxleC0xIHB5LTIgcHgtMyByb3VuZGVkLXhsIGZvbnQtbWVkaXVtIGZsZXgganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIHRyYW5zaXRpb24tY29sb3JzICR7XG4gICAgICAgICAgICB2aWV3ID09PSAnY29udGFjdHMnIFxuICAgICAgICAgICAgPyAnYmctcHJpbWFyeSB0ZXh0LXdoaXRlIHNoYWRvdy1tZCcgXG4gICAgICAgICAgICA6ICd0ZXh0LWdyYXktNjAwIGhvdmVyOmJnLWdyYXktMTAwJ1xuICAgICAgICAgIH1gfVxuICAgICAgICA+XG4gICAgICAgICAgPEZpVXNlcnMgY2xhc3NOYW1lPXtgbXItMSAke3ZpZXcgPT09ICdjb250YWN0cycgPyAndGV4dC13aGl0ZScgOiAndGV4dC1wcmltYXJ5J31gfSAvPlxuICAgICAgICAgIEtvbnRha1xuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogU2VhcmNoICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTMgYm9yZGVyLWIgYm9yZGVyLWdyYXktMjAwXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgdy1mdWxsXCI+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctZ3JheS0xMDAgcGwtMTAgcHItNCBweS0yIHJvdW5kZWQteGwgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLXByaW1hcnkvNTAgZm9jdXM6Ymctd2hpdGUgdHJhbnNpdGlvbi1hbGxcIlxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9e3ZpZXcgPT09ICdjaGF0cycgPyAnQ2FyaSBwZXJjYWthcGFuLi4uJyA6IHZpZXcgPT09ICdjb250YWN0cycgPyAnQ2FyaSBrb250YWsuLi4nIDogJ0Nhcmkgc3RvcnkuLi4nfVxuICAgICAgICAgICAgdmFsdWU9e3NlYXJjaFRlcm19XG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFNlYXJjaFRlcm0oZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPEZpU2VhcmNoIGNsYXNzTmFtZT1cImFic29sdXRlIGxlZnQtMyB0b3AtMi41IHRleHQtZ3JheS01MDBcIiAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogQ29udGVudCBiYXNlZCBvbiB2aWV3ICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgb3ZlcmZsb3cteS1hdXRvIHNjcm9sbGJhci10aGluIHNjcm9sbGJhci10aHVtYi1ncmF5LTMwMCBzY3JvbGxiYXItdHJhY2stdHJhbnNwYXJlbnQgaG92ZXI6c2Nyb2xsYmFyLXRodW1iLWdyYXktNDAwXCI+XG4gICAgICAgIHt2aWV3ID09PSAnY2hhdHMnICYmIChcbiAgICAgICAgICA8PlxuICAgICAgICAgICAgey8qIENoYXRzIGxpc3QgKi99XG4gICAgICAgICAgICB7bG9hZGluZyA/IChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlciBoLTMyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtNiB3LTYgYm9yZGVyLWItMiBib3JkZXItcHJpbWFyeVwiPjwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkgOiBzb3J0ZWRGaWx0ZXJlZENoYXRzLmxlbmd0aCA+IDAgPyAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0xIHAtMlwiPlxuICAgICAgICAgICAgICAgIHtzb3J0ZWRGaWx0ZXJlZENoYXRzLm1hcChjaGF0ID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRuZXJJZCA9IGNoYXQucGFydGljaXBhbnRzLmZpbmQoaWQgPT4gaWQgIT09IHVzZXIudWlkKTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnRuZXIgPSBwYXJ0bmVySWQgPyBjaGF0UGFydG5lcnNbcGFydG5lcklkXSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICBjb25zdCBwYXJ0bmVyTmFtZSA9IHBhcnRuZXI/LmRpc3BsYXlOYW1lIHx8ICdQZW5nZ3VuYSc7XG4gICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZUVycm9yID0gcGFydG5lcklkID8gcGFydG5lckltYWdlRXJyb3JzW3BhcnRuZXJJZF0gOiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHVucmVhZENvdW50ID0gdW5yZWFkQ2hhdHNbY2hhdC5pZF0gfHwgMDtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGlzVW5yZWFkID0gdW5yZWFkQ291bnQgPiAwO1xuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAga2V5PXtjaGF0LmlkfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkQ2hhdChjaGF0LmlkKX1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgcC0yIGhvdmVyOmJnLWdyYXktMTAwIHJvdW5kZWQteGwgdHJhbnNpdGlvbi1jb2xvcnMgXG4gICAgICAgICAgICAgICAgICAgICAgICAke3NlbGVjdGVkQ2hhdElkID09PSBjaGF0LmlkID8gJ2JnLXByaW1hcnkvMTAnIDogJyd9XG4gICAgICAgICAgICAgICAgICAgICAgICAke2lzVW5yZWFkID8gJ3VucmVhZC1jaGF0LW5vdGlmaWNhdGlvbicgOiAnJ31gfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTIgaC0xMiByb3VuZGVkLWZ1bGwgb3ZlcmZsb3ctaGlkZGVuIGJnLXByaW1hcnkgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC13aGl0ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7cGFydG5lcj8ucGhvdG9VUkwgJiYgIWltYWdlRXJyb3IgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17cGFydG5lci5waG90b1VSTH0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ9e3BhcnRuZXJOYW1lfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRXJyb3I9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFydG5lckltYWdlRXJyb3JzKHByZXYgPT4gKHsuLi5wcmV2LCBbcGFydG5lcklkIV06IHRydWV9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LW1lZGl1bVwiPntwYXJ0bmVyTmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtwYXJ0bmVyPy5pc09ubGluZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS0wIHJpZ2h0LTAgdy0zIGgtMyBiZy1ncmVlbi01MDAgcm91bmRlZC1mdWxsIGJvcmRlci0yIGJvcmRlci13aGl0ZVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtbC0zIGZsZXgtMSBtaW4tdy0wIHRleHQtbGVmdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPXtgZm9udC1tZWRpdW0gdHJ1bmNhdGUgJHtpc1VucmVhZCA/ICd0ZXh0LXByaW1hcnkgZm9udC1zZW1pYm9sZCcgOiAndGV4dC1ncmF5LTkwMCd9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3BhcnRuZXJOYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2hhdC5sYXN0TWVzc2FnZT8udGltZXN0YW1wICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2B0ZXh0LXhzICR7aXNVbnJlYWQgPyAndGV4dC1wcmltYXJ5IGZvbnQtc2VtaWJvbGQnIDogJ3RleHQtZ3JheS01MDAnfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NhZmVGb3JtYXRUaW1lc3RhbXAoY2hhdC5sYXN0TWVzc2FnZS50aW1lc3RhbXApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPXtgdGV4dC1zbSB0cnVuY2F0ZSAke2lzVW5yZWFkID8gJ3RleHQtZ3JheS05MDAgZm9udC1tZWRpdW0nIDogJ3RleHQtZ3JheS01MDAnfWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2hhdC5sYXN0TWVzc2FnZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGF0Lmxhc3RNZXNzYWdlLnNlbmRlcklkID09PSB1c2VyLnVpZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGaUNvcm5lckRvd25SaWdodCBjbGFzc05hbWU9XCJtci0xIHRleHQtcHJpbWFyeSBmbGV4LXNocmluay0wXCIgc2l6ZT17MTJ9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjaGF0Lmxhc3RNZXNzYWdlLnRleHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXQubGFzdE1lc3NhZ2UudGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpdGFsaWMgdGV4dC1ncmF5LTQwMFwiPkJlbHVtIGFkYSBwZXNhbjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICB7aXNVbnJlYWQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtbC0yIG1pbi13LVsyMHB4XSBoLTUgYmctcHJpbWFyeSByb3VuZGVkLWZ1bGwgZmxleC1zaHJpbmstMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LXdoaXRlIHRleHQteHMgZm9udC1tZWRpdW0gcHgtMS41XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHt1bnJlYWRDb3VudH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHAtNlwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xNiBoLTE2IG14LWF1dG8gbWItNCBiZy1ncmF5LTEwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxGaU1lc3NhZ2VTcXVhcmUgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMFwiIHNpemU9ezI0fSAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtbWVkaXVtIHRleHQtZ3JheS04MDAgbWItMVwiPkJlbHVtIGFkYSBjaGF0PC9oMz5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIHRleHQtc20gbWItNFwiPk11bGFpIHBlcmNha2FwYW4gYmFydSBkZW5nYW4ga29udGFrIEFuZGE8L3A+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd05ld0NoYXRNb2RhbCh0cnVlKX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy1wcmltYXJ5IGhvdmVyOmJnLWRhcmsgdGV4dC13aGl0ZSByb3VuZGVkLXhsIHRyYW5zaXRpb24tY29sb3JzIHNoYWRvdy1tZFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgTXVsYWkgQ2hhdCBCYXJ1XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgey8qIEZsb2F0aW5nIGFjdGlvbiBidXR0b24gKi99XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dOZXdDaGF0TW9kYWwodHJ1ZSl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS00IHJpZ2h0LTQgdy0xMiBoLTEyIHJvdW5kZWQtZnVsbCBiZy1wcmltYXJ5IGhvdmVyOmJnLWRhcmsgdGV4dC13aGl0ZSBzaGFkb3ctbGcgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8RmlQbHVzIHNpemU9ezI0fSAvPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC8+XG4gICAgICAgICl9XG4gICAgICAgIFxuICAgICAgICB7dmlldyA9PT0gJ3N0b3J5JyAmJiAoXG4gICAgICAgICAgPFN0b3JpZXNDb250YWluZXIgXG4gICAgICAgICAgICB1c2Vycz17c3RvcnlVc2Vyc30gXG4gICAgICAgICAgICBjdXJyZW50VXNlcklkPXt1c2VyLnVpZH1cbiAgICAgICAgICAgIG9uQWRkU3Rvcnk9e2hhbmRsZUFkZFN0b3J5fSBcbiAgICAgICAgICAgIG9uU3RvcnlWaWV3PXsoc3RvcnlJZDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChzdG9yeUlkKSB7XG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIHN0b3J5IHZpZXcgbG9naWNcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlVmlld1N0b3J5KHN0b3J5SWQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgICAgXG4gICAgICAgIHt2aWV3ID09PSAnY29udGFjdHMnICYmIChcbiAgICAgICAgICA8Q29udGFjdHNTY3JlZW4gXG4gICAgICAgICAgICB1c2VyPXt1c2VyfSBcbiAgICAgICAgICAgIG9uQ29udGFjdFNlbGVjdD17aGFuZGxlQ29udGFjdFNlbGVjdH1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgICBcbiAgICAgIHsvKiBNb2RhbHMgKi99XG4gICAgICB7c2hvd05ld0NoYXRNb2RhbCAmJiAoXG4gICAgICAgIDxOZXdDaGF0TW9kYWwgXG4gICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0U2hvd05ld0NoYXRNb2RhbChmYWxzZSl9IFxuICAgICAgICAgIG9uQ3JlYXRlQ2hhdD17aGFuZGxlQ3JlYXRlTmV3Q2hhdH1cbiAgICAgICAgICBjdXJyZW50VXNlcklkPXt1c2VyLnVpZH1cbiAgICAgICAgLz5cbiAgICAgICl9XG4gICAgICBcbiAgICAgIHtzaG93UHJvZmlsZU1vZGFsICYmIChcbiAgICAgICAgPFByb2ZpbGVNb2RhbCBcbiAgICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRTaG93UHJvZmlsZU1vZGFsKGZhbHNlKX1cbiAgICAgICAgICB1c2VyPXt1c2VyfVxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICAgIFxuICAgICAge3Nob3dDcmVhdGVTdG9yeU1vZGFsICYmIChcbiAgICAgICAgPENyZWF0ZVN0b3J5TW9kYWxcbiAgICAgICAgICBpc09wZW49e3RydWV9XG4gICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0U2hvd0NyZWF0ZVN0b3J5TW9kYWwoZmFsc2UpfVxuICAgICAgICAgIG9uU3VibWl0PXtoYW5kbGVTdWJtaXRTdG9yeX1cbiAgICAgICAgICBpc0xvYWRpbmc9e2lzVXBsb2FkaW5nU3Rvcnl9XG4gICAgICAgIC8+XG4gICAgICApfVxuICAgICAgXG4gICAgICB7aXNWaWV3ZXJPcGVuICYmIChcbiAgICAgICAgPFN0b3J5Vmlld2VyXG4gICAgICAgICAgdXNlcnM9e3N0b3J5VXNlcnN9XG4gICAgICAgICAgaW5pdGlhbFVzZXJJbmRleD17c2VsZWN0ZWRVc2VySW5kZXh9XG4gICAgICAgICAgaXNPcGVuPXt0cnVlfVxuICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldElzVmlld2VyT3BlbihmYWxzZSl9XG4gICAgICAgICAgY3VycmVudFVzZXJJZD17dXNlci51aWR9XG4gICAgICAgICAgb25TdG9yeURlbGV0ZT17aGFuZGxlRGVsZXRlU3Rvcnl9XG4gICAgICAgICAgb25DYXB0aW9uVXBkYXRlPXtoYW5kbGVVcGRhdGVDYXB0aW9ufVxuICAgICAgICAgIG9uU3RvcnlWaWV3PXtoYW5kbGVWaWV3U3Rvcnl9XG4gICAgICAgIC8+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufSAiXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJkYiIsImNvbGxlY3Rpb24iLCJxdWVyeSIsIndoZXJlIiwiZ2V0RG9jcyIsImFkZERvYyIsInNlcnZlclRpbWVzdGFtcCIsImRvYyIsIm9uU25hcHNob3QiLCJvcmRlckJ5IiwiZm9ybWF0IiwiaWQiLCJGaUxvZ091dCIsIkZpUGx1cyIsIkZpU2VhcmNoIiwiRmlNZXNzYWdlQ2lyY2xlIiwiRmlVc2VycyIsIkZpU2V0dGluZ3MiLCJGaU1lc3NhZ2VTcXVhcmUiLCJGaUdsb2JlIiwiRmlJbWFnZSIsIkZpQ29ybmVyRG93blJpZ2h0IiwidXNlUm91dGVyIiwiTmV3Q2hhdE1vZGFsIiwiQ29udGFjdHNTY3JlZW4iLCJQcm9maWxlTW9kYWwiLCJsaXN0ZW5Ub1VzZXJQcm9maWxlIiwiU3Rvcmllc0NvbnRhaW5lciIsIkNyZWF0ZVN0b3J5TW9kYWwiLCJTdG9yeVZpZXdlciIsInVwbG9hZFN0b3J5IiwibGlzdGVuVG9TdG9yaWVzIiwibWFya1N0b3J5QXNWaWV3ZWQiLCJkZWxldGVTdG9yeSIsInVwZGF0ZVN0b3J5Q2FwdGlvbiIsInNhZmVGb3JtYXRUaW1lc3RhbXAiLCJ0aW1lc3RhbXAiLCJ0b0RhdGUiLCJsb2NhbGUiLCJzZWNvbmRzIiwiRGF0ZSIsImVycm9yIiwiY29uc29sZSIsIlNpZGViYXIiLCJ1c2VyIiwiY2hhdHMiLCJsb2FkaW5nIiwic2VsZWN0ZWRDaGF0SWQiLCJzZXRTZWxlY3RlZENoYXQiLCJvbkxvZ291dCIsIm9uQ29udGFjdFNlbGVjdCIsIm9uT3BlbkFJQ2hhdCIsIm9uT3BlblRyYW5zbGF0ZVNldHRpbmdzIiwib25PcGVuQUlTZXR0aW5ncyIsInNlYXJjaFRlcm0iLCJzZXRTZWFyY2hUZXJtIiwic2hvd05ld0NoYXRNb2RhbCIsInNldFNob3dOZXdDaGF0TW9kYWwiLCJzaG93Q29udGFjdHNTY3JlZW4iLCJzZXRTaG93Q29udGFjdHNTY3JlZW4iLCJjaGF0UGFydG5lcnMiLCJzZXRDaGF0UGFydG5lcnMiLCJ2aWV3Iiwic2V0VmlldyIsInNob3dQcm9maWxlTW9kYWwiLCJzZXRTaG93UHJvZmlsZU1vZGFsIiwiY3VycmVudFVzZXJEYXRhIiwic2V0Q3VycmVudFVzZXJEYXRhIiwiY3VycmVudFVzZXJJbWFnZUVycm9yIiwic2V0Q3VycmVudFVzZXJJbWFnZUVycm9yIiwicGFydG5lckltYWdlRXJyb3JzIiwic2V0UGFydG5lckltYWdlRXJyb3JzIiwic3RvcnlVc2VycyIsInNldFN0b3J5VXNlcnMiLCJzaG93Q3JlYXRlU3RvcnlNb2RhbCIsInNldFNob3dDcmVhdGVTdG9yeU1vZGFsIiwiaXNVcGxvYWRpbmdTdG9yeSIsInNldElzVXBsb2FkaW5nU3RvcnkiLCJzZWxlY3RlZFVzZXJJbmRleCIsInNldFNlbGVjdGVkVXNlckluZGV4IiwiaXNWaWV3ZXJPcGVuIiwic2V0SXNWaWV3ZXJPcGVuIiwidW5yZWFkQ2hhdHMiLCJzZXRVbnJlYWRDaGF0cyIsInJvdXRlciIsInVuc3Vic2NyaWJlIiwidWlkIiwidXNlckRhdGEiLCJ1c2VycyIsImZldGNoQ2hhdFBhcnRuZXJzIiwicGFydG5lcnMiLCJwYXJ0bmVySWRzIiwiY2hhdCIsInBhcnRuZXJJZCIsInBhcnRpY2lwYW50cyIsImZpbmQiLCJwdXNoIiwidW5zdWJzY3JpYmVycyIsIm1hcCIsInVzZXJEb2MiLCJleGlzdHMiLCJwcmV2IiwiZGF0YSIsImRpc3BsYXlOYW1lIiwiZW1haWwiLCJmb3JFYWNoIiwibGVuZ3RoIiwidW5zdWJzY3JpYmVQYXJ0bmVycyIsInRoZW4iLCJ1bnN1YiIsImhhbmRsZU1lc3NhZ2VSZWFkIiwiZXZlbnQiLCJjaGF0SWQiLCJkZXRhaWwiLCJjdXJyZW50VGltZSIsIm5vdyIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJ0b1N0cmluZyIsInVwZGF0ZWQiLCJKU09OIiwic3RyaW5naWZ5Iiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJsb2FkVW5yZWFkQ2hhdHMiLCJzdG9yZWRVbnJlYWRDaGF0cyIsImdldEl0ZW0iLCJwYXJzZSIsInNuYXBzaG90IiwibGFzdFJlYWRUaW1lc3RhbXAiLCJ1bnJlYWRDb3VudCIsImRvY0NoYW5nZXMiLCJjaGFuZ2UiLCJ0eXBlIiwibWVzc2FnZSIsInNlbmRlcklkIiwibGFzdFJlYWRUaW1lIiwicGFyc2VJbnQiLCJtZXNzYWdlVGltZSIsInRvTWlsbGlzIiwiQ3VzdG9tRXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiZmlsdGVyZWRDaGF0cyIsImZpbHRlciIsInBhcnRuZXIiLCJwYXJ0bmVyTmFtZSIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJsYXN0TWVzc2FnZSIsInRleHQiLCJzb3J0ZWRGaWx0ZXJlZENoYXRzIiwic29ydCIsImEiLCJiIiwicGFydG5lcklkQSIsInBhcnRuZXJBIiwicGFydG5lck5hbWVBIiwicGFydG5lcklkQiIsInBhcnRuZXJCIiwicGFydG5lck5hbWVCIiwibG9jYWxlQ29tcGFyZSIsInRpbWVzdGFtcEEiLCJjcmVhdGVkQXQiLCJ0aW1lc3RhbXBCIiwiZ2V0TXMiLCJoYW5kbGVDcmVhdGVOZXdDaGF0Iiwic2VsZWN0ZWRVc2VySWQiLCJleGlzdGluZ0NoYXRRdWVyeSIsImV4aXN0aW5nQ2hhdHMiLCJleGlzdGluZ0NoYXRJZCIsImNoYXREYXRhIiwibmV3Q2hhdFJlZiIsImFsZXJ0IiwiaGFuZGxlQ29udGFjdFNlbGVjdCIsImNvbnRhY3QiLCJsb2ciLCJxIiwicGhvbmVOdW1iZXIiLCJ1c2VyU25hcHNob3QiLCJlbXB0eSIsImRvY3MiLCJoYW5kbGVPcGVuUHJvZmlsZU1vZGFsIiwiaGFuZGxlQWRkU3RvcnkiLCJoYW5kbGVTdWJtaXRTdG9yeSIsImZpbGUiLCJjYXB0aW9uIiwiaGFuZGxlRGVsZXRlU3RvcnkiLCJzdG9yeUlkIiwiaGFuZGxlVXBkYXRlQ2FwdGlvbiIsImhhbmRsZVZpZXdTdG9yeSIsImRpdiIsImNsYXNzTmFtZSIsImJ1dHRvbiIsIm9uQ2xpY2siLCJwaG90b1VSTCIsImltZyIsInNyYyIsImFsdCIsIm9uRXJyb3IiLCJzcGFuIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJpc09ubGluZSIsImgyIiwic3BsaXQiLCJ0aXRsZSIsInNpemUiLCJpbnB1dCIsInBsYWNlaG9sZGVyIiwidmFsdWUiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJpbWFnZUVycm9yIiwiaXNVbnJlYWQiLCJoMyIsInAiLCJjdXJyZW50VXNlcklkIiwib25BZGRTdG9yeSIsIm9uU3RvcnlWaWV3IiwiUHJvbWlzZSIsInJlc29sdmUiLCJvbkNsb3NlIiwib25DcmVhdGVDaGF0IiwiaXNPcGVuIiwib25TdWJtaXQiLCJpc0xvYWRpbmciLCJpbml0aWFsVXNlckluZGV4Iiwib25TdG9yeURlbGV0ZSIsIm9uQ2FwdGlvblVwZGF0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/Sidebar.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/Story/CreateStoryModal.tsx":
/*!***************************************************!*\
  !*** ./src/components/Story/CreateStoryModal.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_FiCamera_FiCheckCircle_FiClock_FiScissors_FiUploadCloud_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=FiCamera,FiCheckCircle,FiClock,FiScissors,FiUploadCloud,FiVideo,FiX!=!react-icons/fi */ \"(ssr)/./node_modules/react-icons/fi/index.esm.js\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/image */ \"(ssr)/./node_modules/next/dist/api/image.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\nconst MAX_VIDEO_DURATION = 30; // Durasi maksimal 30 detik\nconst CreateStoryModal = ({ isOpen, onClose, onSubmit, isLoading = false })=>{\n    const [selectedFile, setSelectedFile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [previewUrl, setPreviewUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [caption, setCaption] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [showModal, setShowModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isVideo, setIsVideo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [videoTrim, setVideoTrim] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        start: 0,\n        end: 0,\n        duration: 0\n    });\n    const [showTrimControls, setShowTrimControls] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [videoDuration, setVideoDuration] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [errorMessage, setErrorMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const fileInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const videoInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const startThumbRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const endThumbRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const sliderRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen) {\n            setShowModal(true);\n            setErrorMessage(\"\");\n        } else {\n            setTimeout(()=>{\n                setShowModal(false);\n            }, 300);\n        }\n    }, [\n        isOpen\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Reset form saat modal ditutup\n        if (!isOpen) {\n            setTimeout(()=>{\n                setSelectedFile(null);\n                setPreviewUrl(null);\n                setCaption(\"\");\n                setIsVideo(false);\n                setVideoTrim({\n                    start: 0,\n                    end: 0,\n                    duration: 0\n                });\n                setShowTrimControls(false);\n                setVideoDuration(0);\n                setErrorMessage(\"\");\n            }, 300);\n        }\n    }, [\n        isOpen\n    ]);\n    // Handle ketika durasi video dimuat\n    const handleVideoMetadata = ()=>{\n        if (videoRef.current) {\n            const duration = videoRef.current.duration;\n            setVideoDuration(duration);\n            setVideoTrim({\n                start: 0,\n                end: Math.min(duration, MAX_VIDEO_DURATION),\n                duration: Math.min(duration, MAX_VIDEO_DURATION)\n            });\n            // Tampilkan pesan jika video lebih dari 30 detik\n            if (duration > MAX_VIDEO_DURATION) {\n                setErrorMessage(`Video terlalu panjang (${Math.round(duration)}s). Maksimal ${MAX_VIDEO_DURATION} detik. Gunakan fitur trim untuk mengaturnya.`);\n                setShowTrimControls(true);\n            } else {\n                setErrorMessage(\"\");\n            }\n        }\n    };\n    if (!isOpen && !showModal) return null;\n    const handleFileChange = (e)=>{\n        const file = e.target.files?.[0];\n        if (file) {\n            // Deteksi apakah file adalah video\n            const isVideoFile = file.type.startsWith(\"video/\");\n            setIsVideo(isVideoFile);\n            if (isVideoFile) {\n                // Untuk video, kita perlu cek durasinya\n                const videoElement = document.createElement(\"video\");\n                videoElement.preload = \"metadata\";\n                videoElement.onloadedmetadata = ()=>{\n                    window.URL.revokeObjectURL(videoElement.src);\n                    // Jika video lebih dari MAX_VIDEO_DURATION detik, kita akan memungkinkan trim\n                    if (videoElement.duration > MAX_VIDEO_DURATION) {\n                        setErrorMessage(`Video terlalu panjang (${Math.round(videoElement.duration)}s). Maksimal ${MAX_VIDEO_DURATION} detik. Gunakan fitur trim untuk mengaturnya.`);\n                        setShowTrimControls(true);\n                    } else {\n                        setErrorMessage(\"\");\n                        setShowTrimControls(false);\n                    }\n                    // Tetap izinkan file dipilih, pengguna akan di-prompt untuk memotongnya\n                    setSelectedFile(file);\n                    // Buat URL untuk preview\n                    const reader = new FileReader();\n                    reader.onload = ()=>{\n                        setPreviewUrl(reader.result);\n                    };\n                    reader.readAsDataURL(file);\n                };\n                videoElement.src = URL.createObjectURL(file);\n            } else {\n                // Untuk gambar, langsung set file dan buat preview\n                setSelectedFile(file);\n                setErrorMessage(\"\");\n                setShowTrimControls(false);\n                const reader = new FileReader();\n                reader.onload = ()=>{\n                    setPreviewUrl(reader.result);\n                };\n                reader.readAsDataURL(file);\n            }\n        }\n    };\n    const handleSubmit = async ()=>{\n        if (selectedFile) {\n            if (isVideo && videoDuration > MAX_VIDEO_DURATION && !showTrimControls) {\n                setErrorMessage(`Video terlalu panjang. Gunakan fitur trim untuk mengaturnya ke maksimal ${MAX_VIDEO_DURATION} detik.`);\n                setShowTrimControls(true);\n                return;\n            }\n            try {\n                // Jika video dan sudah di-trim, perlu mengekstrak segmen yang dipilih\n                if (isVideo && showTrimControls && videoRef.current) {\n                    await processVideoBeforeUpload();\n                } else {\n                    // Upload langsung jika gambar atau video sudah dalam durasi yang diizinkan\n                    await onSubmit(selectedFile, caption);\n                }\n                // Reset form akan dilakukan setelah modal ditutup melalui useEffect\n                onClose();\n            } catch (error) {\n                console.error(\"Error submitting story:\", error);\n                setErrorMessage(\"Gagal mengunggah story. Silakan coba lagi.\");\n            }\n        }\n    };\n    // Fungsi untuk memproses video sebelum upload (jika perlu trim)\n    const processVideoBeforeUpload = async ()=>{\n        if (!videoRef.current || !selectedFile || !isVideo) return;\n        // Untuk demo, kita akan menggunakan file asli\n        // Dalam implementasi sebenarnya, gunakan ffmpeg.wasm atau API backend untuk memotong video\n        // Code di bawah ini hanya memberikan indikasi bahwa kita akan memproses berdasarkan timerange\n        console.log(`Memproses video dari ${videoTrim.start.toFixed(2)}s hingga ${videoTrim.end.toFixed(2)}s (durasi: ${videoTrim.duration.toFixed(2)}s)`);\n        // Dalam implementasi sebenarnya, kita akan membuat file video baru yang dipotong\n        // Tapi untuk demo, kita masih menggunakan file asli\n        await onSubmit(selectedFile, caption);\n    };\n    const handleSelectImage = ()=>{\n        fileInputRef.current?.click();\n    };\n    const handleSelectVideo = ()=>{\n        videoInputRef.current?.click();\n    };\n    const handleTrimStart = (e)=>{\n        const start = parseFloat(e.target.value);\n        setVideoTrim((prev)=>{\n            const newStart = Math.min(start, prev.end - 1); // Pastikan start < end - 1 detik minimal\n            return {\n                start: newStart,\n                end: prev.end,\n                duration: prev.end - newStart\n            };\n        });\n        // Update posisi video\n        if (videoRef.current) {\n            videoRef.current.currentTime = start;\n        }\n    };\n    const handleTrimEnd = (e)=>{\n        const end = parseFloat(e.target.value);\n        setVideoTrim((prev)=>{\n            const newEnd = Math.max(end, prev.start + 1); // Pastikan end > start + 1 detik minimal\n            return {\n                start: prev.start,\n                end: newEnd,\n                duration: newEnd - prev.start\n            };\n        });\n    };\n    const toggleTrimControls = ()=>{\n        setShowTrimControls((prev)=>!prev);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `fixed inset-0 z-50 flex items-center justify-center bg-black transition-opacity duration-300 ${isOpen ? \"bg-opacity-75\" : \"bg-opacity-0 pointer-events-none\"}`,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: `bg-white rounded-lg w-full max-w-sm overflow-hidden shadow-xl transform transition-transform duration-300 ${isOpen ? \"scale-100\" : \"scale-95\"}`,\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-between items-center p-4 border-b bg-primary text-white\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-lg font-medium\",\n                            children: \"Buat Story\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                            lineNumber: 232,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onClose,\n                            className: \"text-white hover:text-white/80 transition-colors\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCamera_FiCheckCircle_FiClock_FiScissors_FiUploadCloud_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_3__.FiX, {\n                                size: 20\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                lineNumber: 234,\n                                columnNumber: 13\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                            lineNumber: 233,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                    lineNumber: 231,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-4\",\n                    children: [\n                        errorMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-3 p-2 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 text-sm\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: errorMessage\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                lineNumber: 241,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                            lineNumber: 240,\n                            columnNumber: 13\n                        }, undefined),\n                        previewUrl ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative w-full h-64 bg-gray-100 rounded-lg overflow-hidden shadow-inner\",\n                            children: [\n                                isVideo ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                                    ref: videoRef,\n                                    src: previewUrl,\n                                    className: \"w-full h-full object-cover\",\n                                    controls: true,\n                                    autoPlay: true,\n                                    muted: true,\n                                    loop: true,\n                                    onLoadedMetadata: handleVideoMetadata\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                    lineNumber: 248,\n                                    columnNumber: 17\n                                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                    src: previewUrl,\n                                    alt: \"Preview\",\n                                    fill: true,\n                                    sizes: \"(max-width: 768px) 100vw, 400px\",\n                                    className: \"object-cover\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                    lineNumber: 259,\n                                    columnNumber: 17\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute bottom-2 left-2 text-white text-xs font-medium px-2 py-1 rounded-full bg-black/40 backdrop-blur-sm\",\n                                    children: isVideo ? \"Video Preview\" : \"Preview\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                    lineNumber: 267,\n                                    columnNumber: 15\n                                }, undefined),\n                                isVideo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: toggleTrimControls,\n                                    className: \"absolute top-2 right-2 bg-black/40 backdrop-blur-sm p-1.5 rounded-full text-white hover:bg-black/60 transition-colors\",\n                                    title: \"Potong Video\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCamera_FiCheckCircle_FiClock_FiScissors_FiUploadCloud_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_3__.FiScissors, {\n                                        size: 16\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                        lineNumber: 277,\n                                        columnNumber: 19\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                    lineNumber: 272,\n                                    columnNumber: 17\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                            lineNumber: 246,\n                            columnNumber: 13\n                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex flex-col items-center justify-center w-full h-64 bg-gray-50 rounded-lg p-4 border-2 border-dashed border-gray-200 transition-all hover:border-primary/50\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-16 h-16 mb-3 flex items-center justify-center rounded-full bg-primary/10 text-primary\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCamera_FiCheckCircle_FiClock_FiScissors_FiUploadCloud_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_3__.FiUploadCloud, {\n                                        size: 32\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                        lineNumber: 284,\n                                        columnNumber: 17\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                    lineNumber: 283,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-gray-700 text-center font-medium mb-4\",\n                                    children: \"Pilih gambar atau video untuk story\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                    lineNumber: 286,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex gap-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            className: \"bg-primary text-white px-4 py-2 rounded-full flex items-center shadow-md hover:bg-primary-dark transition-all text-sm\",\n                                            onClick: handleSelectImage,\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCamera_FiCheckCircle_FiClock_FiScissors_FiUploadCloud_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_3__.FiCamera, {\n                                                    className: \"mr-1\",\n                                                    size: 16\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                                    lineNumber: 294,\n                                                    columnNumber: 19\n                                                }, undefined),\n                                                \"Gambar\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                            lineNumber: 290,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            className: \"bg-primary text-white px-4 py-2 rounded-full flex items-center shadow-md hover:bg-primary-dark transition-all text-sm\",\n                                            onClick: handleSelectVideo,\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCamera_FiCheckCircle_FiClock_FiScissors_FiUploadCloud_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_3__.FiVideo, {\n                                                    className: \"mr-1\",\n                                                    size: 16\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                                    lineNumber: 301,\n                                                    columnNumber: 19\n                                                }, undefined),\n                                                \"Video\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                            lineNumber: 297,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                    lineNumber: 289,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"mt-3 text-xs text-gray-500\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCamera_FiCheckCircle_FiClock_FiScissors_FiUploadCloud_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_3__.FiClock, {\n                                            className: \"inline mr-1\",\n                                            size: 12\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                            lineNumber: 306,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        \"Video maksimal 30 detik\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                    lineNumber: 305,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                            lineNumber: 282,\n                            columnNumber: 13\n                        }, undefined),\n                        isVideo && showTrimControls && previewUrl && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mt-3 p-3 bg-gray-50 rounded-lg\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex justify-between items-center mb-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"text-sm font-medium text-gray-700 flex items-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCamera_FiCheckCircle_FiClock_FiScissors_FiUploadCloud_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_3__.FiScissors, {\n                                                    className: \"mr-1\",\n                                                    size: 14\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                                    lineNumber: 316,\n                                                    columnNumber: 19\n                                                }, undefined),\n                                                \"Potong Video\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                            lineNumber: 315,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-xs text-gray-500\",\n                                            children: [\n                                                Math.floor(videoTrim.duration),\n                                                \"s / \",\n                                                MAX_VIDEO_DURATION,\n                                                \"s\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                            lineNumber: 319,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                    lineNumber: 314,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center space-x-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-xs text-gray-600 w-10\",\n                                                    children: \"Mulai:\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                                    lineNumber: 326,\n                                                    columnNumber: 19\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"range\",\n                                                    min: \"0\",\n                                                    max: videoDuration,\n                                                    step: \"0.1\",\n                                                    value: videoTrim.start,\n                                                    onChange: handleTrimStart,\n                                                    className: \"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-primary\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                                    lineNumber: 327,\n                                                    columnNumber: 19\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-xs font-mono w-10\",\n                                                    children: [\n                                                        videoTrim.start.toFixed(1),\n                                                        \"s\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                                    lineNumber: 336,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                            lineNumber: 325,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center space-x-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-xs text-gray-600 w-10\",\n                                                    children: \"Akhir:\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                                    lineNumber: 340,\n                                                    columnNumber: 19\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"range\",\n                                                    min: \"0\",\n                                                    max: videoDuration,\n                                                    step: \"0.1\",\n                                                    value: videoTrim.end,\n                                                    onChange: handleTrimEnd,\n                                                    className: \"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-primary\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                                    lineNumber: 341,\n                                                    columnNumber: 19\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-xs font-mono w-10\",\n                                                    children: [\n                                                        videoTrim.end.toFixed(1),\n                                                        \"s\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                                    lineNumber: 350,\n                                                    columnNumber: 19\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                            lineNumber: 339,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                    lineNumber: 324,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                            lineNumber: 313,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            type: \"file\",\n                            ref: fileInputRef,\n                            onChange: handleFileChange,\n                            accept: \"image/*\",\n                            className: \"hidden\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                            lineNumber: 356,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            type: \"file\",\n                            ref: videoInputRef,\n                            onChange: handleFileChange,\n                            accept: \"video/*\",\n                            className: \"hidden\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                            lineNumber: 364,\n                            columnNumber: 11\n                        }, undefined),\n                        previewUrl && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mt-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"block text-sm font-medium text-gray-700 mb-1\",\n                                    children: \"Caption\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                    lineNumber: 374,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                    value: caption,\n                                    onChange: (e)=>setCaption(e.target.value),\n                                    placeholder: \"Tambahkan caption untuk story Anda...\",\n                                    className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/50 text-sm resize-none\",\n                                    rows: 2,\n                                    maxLength: 100\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                    lineNumber: 377,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-right text-xs text-gray-500\",\n                                    children: [\n                                        caption.length,\n                                        \"/100\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                    lineNumber: 385,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                            lineNumber: 373,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                    lineNumber: 238,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-end gap-2 p-3 border-t bg-gray-50\",\n                    children: previewUrl && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"px-3 py-1.5 border border-gray-300 rounded-full text-gray-700 hover:bg-gray-100 transition-colors text-sm\",\n                                onClick: ()=>{\n                                    setSelectedFile(null);\n                                    setPreviewUrl(null);\n                                    setCaption(\"\");\n                                    setIsVideo(false);\n                                    setVideoTrim({\n                                        start: 0,\n                                        end: 0,\n                                        duration: 0\n                                    });\n                                    setShowTrimControls(false);\n                                    setErrorMessage(\"\");\n                                },\n                                children: \"Ganti\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                lineNumber: 395,\n                                columnNumber: 15\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"px-3 py-1.5 bg-primary text-white rounded-full flex items-center disabled:opacity-70 shadow-md hover:bg-primary-dark transition-all text-sm\",\n                                onClick: handleSubmit,\n                                disabled: isLoading || isVideo && videoTrim.duration > MAX_VIDEO_DURATION,\n                                children: isLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                            className: \"animate-spin -ml-1 mr-1 h-4 w-4 text-white\",\n                                            xmlns: \"http://www.w3.org/2000/svg\",\n                                            fill: \"none\",\n                                            viewBox: \"0 0 24 24\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                    className: \"opacity-25\",\n                                                    cx: \"12\",\n                                                    cy: \"12\",\n                                                    r: \"10\",\n                                                    stroke: \"currentColor\",\n                                                    strokeWidth: \"4\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                                    lineNumber: 417,\n                                                    columnNumber: 23\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                    className: \"opacity-75\",\n                                                    fill: \"currentColor\",\n                                                    d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                                    lineNumber: 418,\n                                                    columnNumber: 23\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                            lineNumber: 416,\n                                            columnNumber: 21\n                                        }, undefined),\n                                        \"Mengunggah...\"\n                                    ]\n                                }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                    children: [\n                                        \"Unggah\",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiCamera_FiCheckCircle_FiClock_FiScissors_FiUploadCloud_FiVideo_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_3__.FiCheckCircle, {\n                                            className: \"ml-1\",\n                                            size: 16\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                            lineNumber: 425,\n                                            columnNumber: 21\n                                        }, undefined)\n                                    ]\n                                }, void 0, true)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                                lineNumber: 409,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, void 0, true)\n                }, void 0, false, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n                    lineNumber: 392,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n            lineNumber: 230,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\CreateStoryModal.tsx\",\n        lineNumber: 229,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CreateStoryModal);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9TdG9yeS9DcmVhdGVTdG9yeU1vZGFsLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUUyRDtBQUNnRDtBQUM1RTtBQWUvQixNQUFNWSxxQkFBcUIsSUFBSSwyQkFBMkI7QUFFMUQsTUFBTUMsbUJBQW9ELENBQUMsRUFDekRDLE1BQU0sRUFDTkMsT0FBTyxFQUNQQyxRQUFRLEVBQ1JDLFlBQVksS0FBSyxFQUNsQjtJQUNDLE1BQU0sQ0FBQ0MsY0FBY0MsZ0JBQWdCLEdBQUdsQiwrQ0FBUUEsQ0FBYztJQUM5RCxNQUFNLENBQUNtQixZQUFZQyxjQUFjLEdBQUdwQiwrQ0FBUUEsQ0FBZ0I7SUFDNUQsTUFBTSxDQUFDcUIsU0FBU0MsV0FBVyxHQUFHdEIsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDdUIsV0FBV0MsYUFBYSxHQUFHeEIsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDeUIsU0FBU0MsV0FBVyxHQUFHMUIsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDMkIsV0FBV0MsYUFBYSxHQUFHNUIsK0NBQVFBLENBQWlCO1FBQUU2QixPQUFPO1FBQUdDLEtBQUs7UUFBR0MsVUFBVTtJQUFFO0lBQzNGLE1BQU0sQ0FBQ0Msa0JBQWtCQyxvQkFBb0IsR0FBR2pDLCtDQUFRQSxDQUFDO0lBQ3pELE1BQU0sQ0FBQ2tDLGVBQWVDLGlCQUFpQixHQUFHbkMsK0NBQVFBLENBQUM7SUFDbkQsTUFBTSxDQUFDb0MsY0FBY0MsZ0JBQWdCLEdBQUdyQywrQ0FBUUEsQ0FBQztJQUVqRCxNQUFNc0MsZUFBZXJDLDZDQUFNQSxDQUFtQjtJQUM5QyxNQUFNc0MsZ0JBQWdCdEMsNkNBQU1BLENBQW1CO0lBQy9DLE1BQU11QyxXQUFXdkMsNkNBQU1BLENBQW1CO0lBQzFDLE1BQU13QyxnQkFBZ0J4Qyw2Q0FBTUEsQ0FBaUI7SUFDN0MsTUFBTXlDLGNBQWN6Qyw2Q0FBTUEsQ0FBaUI7SUFDM0MsTUFBTTBDLFlBQVkxQyw2Q0FBTUEs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NENBQTZCbEIsTUFBSzs0Q0FBT21CLFNBQVE7OzhEQUNqSCw4REFBQ0M7b0RBQU9sQyxXQUFVO29EQUFhbUMsSUFBRztvREFBS0MsSUFBRztvREFBS0MsR0FBRTtvREFBS0MsUUFBTztvREFBZUMsYUFBWTs7Ozs7OzhEQUN4Riw4REFBQ0M7b0RBQUt4QyxXQUFVO29EQUFhYyxNQUFLO29EQUFlMkIsR0FBRTs7Ozs7Ozs7Ozs7O3dDQUMvQzs7aUVBSVI7O3dDQUFFO3NEQUVBLDhEQUFDakksb0pBQWFBOzRDQUFDd0YsV0FBVTs0Q0FBT0ksTUFBTTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVUxRDtBQUVBLGlFQUFlckYsZ0JBQWdCQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFsbG8vLi9zcmMvY29tcG9uZW50cy9TdG9yeS9DcmVhdGVTdG9yeU1vZGFsLnRzeD81MzAzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcclxuXHJcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IEZpWCwgRmlVcGxvYWRDbG91ZCwgRmlDaGVja0NpcmNsZSwgRmlDYW1lcmEsIEZpVmlkZW8sIEZpQ2xvY2ssIEZpU2Npc3NvcnMgfSBmcm9tICdyZWFjdC1pY29ucy9maSc7XHJcbmltcG9ydCBJbWFnZSBmcm9tICduZXh0L2ltYWdlJztcclxuXHJcbnR5cGUgQ3JlYXRlU3RvcnlNb2RhbFByb3BzID0ge1xyXG4gIGlzT3BlbjogYm9vbGVhbjtcclxuICBvbkNsb3NlOiAoKSA9PiB2b2lkO1xyXG4gIG9uU3VibWl0OiAoZmlsZTogRmlsZSwgY2FwdGlvbjogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xyXG4gIGlzTG9hZGluZz86IGJvb2xlYW47XHJcbn07XHJcblxyXG50eXBlIFZpZGVvVHJpbVN0YXRlID0ge1xyXG4gIHN0YXJ0OiBudW1iZXI7XHJcbiAgZW5kOiBudW1iZXI7XHJcbiAgZHVyYXRpb246IG51bWJlcjtcclxufTtcclxuXHJcbmNvbnN0IE1BWF9WSURFT19EVVJBVElPTiA9IDMwOyAvLyBEdXJhc2kgbWFrc2ltYWwgMzAgZGV0aWtcclxuXHJcbmNvbnN0IENyZWF0ZVN0b3J5TW9kYWw6IFJlYWN0LkZDPENyZWF0ZVN0b3J5TW9kYWxQcm9wcz4gPSAoe1xyXG4gIGlzT3BlbixcclxuICBvbkNsb3NlLFxyXG4gIG9uU3VibWl0LFxyXG4gIGlzTG9hZGluZyA9IGZhbHNlXHJcbn0pID0+IHtcclxuICBjb25zdCBbc2VsZWN0ZWRGaWxlLCBzZXRTZWxlY3RlZEZpbGVdID0gdXNlU3RhdGU8RmlsZSB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFtwcmV2aWV3VXJsLCBzZXRQcmV2aWV3VXJsXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFtjYXB0aW9uLCBzZXRDYXB0aW9uXSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBbc2hvd01vZGFsLCBzZXRTaG93TW9kYWxdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtpc1ZpZGVvLCBzZXRJc1ZpZGVvXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbdmlkZW9UcmltLCBzZXRWaWRlb1RyaW1dID0gdXNlU3RhdGU8VmlkZW9UcmltU3RhdGU+KHsgc3RhcnQ6IDAsIGVuZDogMCwgZHVyYXRpb246IDAgfSk7XHJcbiAgY29uc3QgW3Nob3dUcmltQ29udHJvbHMsIHNldFNob3dUcmltQ29udHJvbHNdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFt2aWRlb0R1cmF0aW9uLCBzZXRWaWRlb0R1cmF0aW9uXSA9IHVzZVN0YXRlKDApO1xyXG4gIGNvbnN0IFtlcnJvck1lc3NhZ2UsIHNldEVycm9yTWVzc2FnZV0gPSB1c2VTdGF0ZSgnJyk7XHJcbiAgXHJcbiAgY29uc3QgZmlsZUlucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpO1xyXG4gIGNvbnN0IHZpZGVvSW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbCk7XHJcbiAgY29uc3QgdmlkZW9SZWYgPSB1c2VSZWY8SFRNTFZpZGVvRWxlbWVudD4obnVsbCk7XHJcbiAgY29uc3Qgc3RhcnRUaHVtYlJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XHJcbiAgY29uc3QgZW5kVGh1bWJSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xyXG4gIGNvbnN0IHNsaWRlclJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XHJcbiAgXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChpc09wZW4pIHtcclxuICAgICAgc2V0U2hvd01vZGFsKHRydWUpO1xyXG4gICAgICBzZXRFcnJvck1lc3NhZ2UoJycpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgc2V0U2hvd01vZGFsKGZhbHNlKTtcclxuICAgICAgfSwgMzAwKTtcclxuICAgIH1cclxuICB9LCBbaXNPcGVuXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAvLyBSZXNldCBmb3JtIHNhYXQgbW9kYWwgZGl0dXR1cFxyXG4gICAgaWYgKCFpc09wZW4pIHtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgc2V0U2VsZWN0ZWRGaWxlKG51bGwpO1xyXG4gICAgICAgIHNldFByZXZpZXdVcmwobnVsbCk7XHJcbiAgICAgICAgc2V0Q2FwdGlvbignJyk7XHJcbiAgICAgICAgc2V0SXNWaWRlbyhmYWxzZSk7XHJcbiAgICAgICAgc2V0VmlkZW9UcmltKHsgc3RhcnQ6IDAsIGVuZDogMCwgZHVyYXRpb246IDAgfSk7XHJcbiAgICAgICAgc2V0U2hvd1RyaW1Db250cm9scyhmYWxzZSk7XHJcbiAgICAgICAgc2V0VmlkZW9EdXJhdGlvbigwKTtcclxuICAgICAgICBzZXRFcnJvck1lc3NhZ2UoJycpO1xyXG4gICAgICB9LCAzMDApO1xyXG4gICAgfVxyXG4gIH0sIFtpc09wZW5dKTtcclxuXHJcbiAgLy8gSGFuZGxlIGtldGlrYSBkdXJhc2kgdmlkZW8gZGltdWF0XHJcbiAgY29uc3QgaGFuZGxlVmlkZW9NZXRhZGF0YSA9ICgpID0+IHtcclxuICAgIGlmICh2aWRlb1JlZi5jdXJyZW50KSB7XHJcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gdmlkZW9SZWYuY3VycmVudC5kdXJhdGlvbjtcclxuICAgICAgc2V0VmlkZW9EdXJhdGlvbihkdXJhdGlvbik7XHJcbiAgICAgIHNldFZpZGVvVHJpbSh7IFxyXG4gICAgICAgIHN0YXJ0OiAwLCBcclxuICAgICAgICBlbmQ6IE1hdGgubWluKGR1cmF0aW9uLCBNQVhfVklERU9fRFVSQVRJT04pLCBcclxuICAgICAgICBkdXJhdGlvbjogTWF0aC5taW4oZHVyYXRpb24sIE1BWF9WSURFT19EVVJBVElPTikgXHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgLy8gVGFtcGlsa2FuIHBlc2FuIGppa2EgdmlkZW8gbGViaWggZGFyaSAzMCBkZXRpa1xyXG4gICAgICBpZiAoZHVyYXRpb24gPiBNQVhfVklERU9fRFVSQVRJT04pIHtcclxuICAgICAgICBzZXRFcnJvck1lc3NhZ2UoYFZpZGVvIHRlcmxhbHUgcGFuamFuZyAoJHtNYXRoLnJvdW5kKGR1cmF0aW9uKX1zKS4gTWFrc2ltYWwgJHtNQVhfVklERU9fRFVSQVRJT059IGRldGlrLiBHdW5ha2FuIGZpdHVyIHRyaW0gdW50dWsgbWVuZ2F0dXJueWEuYCk7XHJcbiAgICAgICAgc2V0U2hvd1RyaW1Db250cm9scyh0cnVlKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzZXRFcnJvck1lc3NhZ2UoJycpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgaWYgKCFpc09wZW4gJiYgIXNob3dNb2RhbCkgcmV0dXJuIG51bGw7XHJcblxyXG4gIGNvbnN0IGhhbmRsZUZpbGVDaGFuZ2UgPSAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcclxuICAgIGNvbnN0IGZpbGUgPSBlLnRhcmdldC5maWxlcz8uWzBdO1xyXG4gICAgaWYgKGZpbGUpIHtcclxuICAgICAgLy8gRGV0ZWtzaSBhcGFrYWggZmlsZSBhZGFsYWggdmlkZW9cclxuICAgICAgY29uc3QgaXNWaWRlb0ZpbGUgPSBmaWxlLnR5cGUuc3RhcnRzV2l0aCgndmlkZW8vJyk7XHJcbiAgICAgIHNldElzVmlkZW8oaXNWaWRlb0ZpbGUpO1xyXG4gICAgICBcclxuICAgICAgaWYgKGlzVmlkZW9GaWxlKSB7XHJcbiAgICAgICAgLy8gVW50dWsgdmlkZW8sIGtpdGEgcGVybHUgY2VrIGR1cmFzaW55YVxyXG4gICAgICAgIGNvbnN0IHZpZGVvRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XHJcbiAgICAgICAgdmlkZW9FbGVtZW50LnByZWxvYWQgPSAnbWV0YWRhdGEnO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHZpZGVvRWxlbWVudC5vbmxvYWRlZG1ldGFkYXRhID0gKCkgPT4ge1xyXG4gICAgICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwodmlkZW9FbGVtZW50LnNyYyk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIEppa2EgdmlkZW8gbGViaWggZGFyaSBNQVhfVklERU9fRFVSQVRJT04gZGV0aWssIGtpdGEgYWthbiBtZW11bmdraW5rYW4gdHJpbVxyXG4gICAgICAgICAgaWYgKHZpZGVvRWxlbWVudC5kdXJhdGlvbiA+IE1BWF9WSURFT19EVVJBVElPTikge1xyXG4gICAgICAgICAgICBzZXRFcnJvck1lc3NhZ2UoYFZpZGVvIHRlcmxhbHUgcGFuamFuZyAoJHtNYXRoLnJvdW5kKHZpZGVvRWxlbWVudC5kdXJhdGlvbil9cykuIE1ha3NpbWFsICR7TUFYX1ZJREVPX0RVUkFUSU9OfSBkZXRpay4gR3VuYWthbiBmaXR1ciB0cmltIHVudHVrIG1lbmdhdHVybnlhLmApO1xyXG4gICAgICAgICAgICBzZXRTaG93VHJpbUNvbnRyb2xzKHRydWUpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2V0RXJyb3JNZXNzYWdlKCcnKTtcclxuICAgICAgICAgICAgc2V0U2hvd1RyaW1Db250cm9scyhmYWxzZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIFRldGFwIGl6aW5rYW4gZmlsZSBkaXBpbGloLCBwZW5nZ3VuYSBha2FuIGRpLXByb21wdCB1bnR1ayBtZW1vdG9uZ255YVxyXG4gICAgICAgICAgc2V0U2VsZWN0ZWRGaWxlKGZpbGUpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBCdWF0IFVSTCB1bnR1ayBwcmV2aWV3XHJcbiAgICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgc2V0UHJldmlld1VybChyZWFkZXIucmVzdWx0IGFzIHN0cmluZyk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICB2aWRlb0VsZW1lbnQuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBVbnR1ayBnYW1iYXIsIGxhbmdzdW5nIHNldCBmaWxlIGRhbiBidWF0IHByZXZpZXdcclxuICAgICAgICBzZXRTZWxlY3RlZEZpbGUoZmlsZSk7XHJcbiAgICAgICAgc2V0RXJyb3JNZXNzYWdlKCcnKTtcclxuICAgICAgICBzZXRTaG93VHJpbUNvbnRyb2xzKGZhbHNlKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICBzZXRQcmV2aWV3VXJsKHJlYWRlci5yZXN1bHQgYXMgc3RyaW5nKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKHNlbGVjdGVkRmlsZSkge1xyXG4gICAgICBpZiAoaXNWaWRlbyAmJiB2aWRlb0R1cmF0aW9uID4gTUFYX1ZJREVPX0RVUkFUSU9OICYmICFzaG93VHJpbUNvbnRyb2xzKSB7XHJcbiAgICAgICAgc2V0RXJyb3JNZXNzYWdlKGBWaWRlbyB0ZXJsYWx1IHBhbmphbmcuIEd1bmFrYW4gZml0dXIgdHJpbSB1bnR1ayBtZW5nYXR1cm55YSBrZSBtYWtzaW1hbCAke01BWF9WSURFT19EVVJBVElPTn0gZGV0aWsuYCk7XHJcbiAgICAgICAgc2V0U2hvd1RyaW1Db250cm9scyh0cnVlKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgLy8gSmlrYSB2aWRlbyBkYW4gc3VkYWggZGktdHJpbSwgcGVybHUgbWVuZ2Vrc3RyYWsgc2VnbWVuIHlhbmcgZGlwaWxpaFxyXG4gICAgICAgIGlmIChpc1ZpZGVvICYmIHNob3dUcmltQ29udHJvbHMgJiYgdmlkZW9SZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgYXdhaXQgcHJvY2Vzc1ZpZGVvQmVmb3JlVXBsb2FkKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIFVwbG9hZCBsYW5nc3VuZyBqaWthIGdhbWJhciBhdGF1IHZpZGVvIHN1ZGFoIGRhbGFtIGR1cmFzaSB5YW5nIGRpaXppbmthblxyXG4gICAgICAgICAgYXdhaXQgb25TdWJtaXQoc2VsZWN0ZWRGaWxlLCBjYXB0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gUmVzZXQgZm9ybSBha2FuIGRpbGFrdWthbiBzZXRlbGFoIG1vZGFsIGRpdHV0dXAgbWVsYWx1aSB1c2VFZmZlY3RcclxuICAgICAgICBvbkNsb3NlKCk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc3VibWl0dGluZyBzdG9yeTonLCBlcnJvcik7XHJcbiAgICAgICAgc2V0RXJyb3JNZXNzYWdlKCdHYWdhbCBtZW5ndW5nZ2FoIHN0b3J5LiBTaWxha2FuIGNvYmEgbGFnaS4nKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIEZ1bmdzaSB1bnR1ayBtZW1wcm9zZXMgdmlkZW8gc2ViZWx1bSB1cGxvYWQgKGppa2EgcGVybHUgdHJpbSlcclxuICBjb25zdCBwcm9jZXNzVmlkZW9CZWZvcmVVcGxvYWQgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBpZiAoIXZpZGVvUmVmLmN1cnJlbnQgfHwgIXNlbGVjdGVkRmlsZSB8fCAhaXNWaWRlbykgcmV0dXJuO1xyXG4gICAgXHJcbiAgICAvLyBVbnR1ayBkZW1vLCBraXRhIGFrYW4gbWVuZ2d1bmFrYW4gZmlsZSBhc2xpXHJcbiAgICAvLyBEYWxhbSBpbXBsZW1lbnRhc2kgc2ViZW5hcm55YSwgZ3VuYWthbiBmZm1wZWcud2FzbSBhdGF1IEFQSSBiYWNrZW5kIHVudHVrIG1lbW90b25nIHZpZGVvXHJcbiAgICBcclxuICAgIC8vIENvZGUgZGkgYmF3YWggaW5pIGhhbnlhIG1lbWJlcmlrYW4gaW5kaWthc2kgYmFod2Ega2l0YSBha2FuIG1lbXByb3NlcyBiZXJkYXNhcmthbiB0aW1lcmFuZ2VcclxuICAgIGNvbnNvbGUubG9nKGBNZW1wcm9zZXMgdmlkZW8gZGFyaSAke3ZpZGVvVHJpbS5zdGFydC50b0ZpeGVkKDIpfXMgaGluZ2dhICR7dmlkZW9UcmltLmVuZC50b0ZpeGVkKDIpfXMgKGR1cmFzaTogJHt2aWRlb1RyaW0uZHVyYXRpb24udG9GaXhlZCgyKX1zKWApO1xyXG4gICAgXHJcbiAgICAvLyBEYWxhbSBpbXBsZW1lbnRhc2kgc2ViZW5hcm55YSwga2l0YSBha2FuIG1lbWJ1YXQgZmlsZSB2aWRlbyBiYXJ1IHlhbmcgZGlwb3RvbmdcclxuICAgIC8vIFRhcGkgdW50dWsgZGVtbywga2l0YSBtYXNpaCBtZW5nZ3VuYWthbiBmaWxlIGFzbGlcclxuICAgIGF3YWl0IG9uU3VibWl0KHNlbGVjdGVkRmlsZSwgY2FwdGlvbik7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU2VsZWN0SW1hZ2UgPSAoKSA9PiB7XHJcbiAgICBmaWxlSW5wdXRSZWYuY3VycmVudD8uY2xpY2soKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVTZWxlY3RWaWRlbyA9ICgpID0+IHtcclxuICAgIHZpZGVvSW5wdXRSZWYuY3VycmVudD8uY2xpY2soKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVUcmltU3RhcnQgPSAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcclxuICAgIGNvbnN0IHN0YXJ0ID0gcGFyc2VGbG9hdChlLnRhcmdldC52YWx1ZSk7XHJcbiAgICBzZXRWaWRlb1RyaW0ocHJldiA9PiB7XHJcbiAgICAgIGNvbnN0IG5ld1N0YXJ0ID0gTWF0aC5taW4oc3RhcnQsIHByZXYuZW5kIC0gMSk7IC8vIFBhc3Rpa2FuIHN0YXJ0IDwgZW5kIC0gMSBkZXRpayBtaW5pbWFsXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc3RhcnQ6IG5ld1N0YXJ0LFxyXG4gICAgICAgIGVuZDogcHJldi5lbmQsXHJcbiAgICAgICAgZHVyYXRpb246IHByZXYuZW5kIC0gbmV3U3RhcnRcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAvLyBVcGRhdGUgcG9zaXNpIHZpZGVvXHJcbiAgICBpZiAodmlkZW9SZWYuY3VycmVudCkge1xyXG4gICAgICB2aWRlb1JlZi5jdXJyZW50LmN1cnJlbnRUaW1lID0gc3RhcnQ7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlVHJpbUVuZCA9IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xyXG4gICAgY29uc3QgZW5kID0gcGFyc2VGbG9hdChlLnRhcmdldC52YWx1ZSk7XHJcbiAgICBzZXRWaWRlb1RyaW0ocHJldiA9PiB7XHJcbiAgICAgIGNvbnN0IG5ld0VuZCA9IE1hdGgubWF4KGVuZCwgcHJldi5zdGFydCArIDEpOyAvLyBQYXN0aWthbiBlbmQgPiBzdGFydCArIDEgZGV0aWsgbWluaW1hbFxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHN0YXJ0OiBwcmV2LnN0YXJ0LFxyXG4gICAgICAgIGVuZDogbmV3RW5kLFxyXG4gICAgICAgIGR1cmF0aW9uOiBuZXdFbmQgLSBwcmV2LnN0YXJ0XHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBjb25zdCB0b2dnbGVUcmltQ29udHJvbHMgPSAoKSA9PiB7XHJcbiAgICBzZXRTaG93VHJpbUNvbnRyb2xzKHByZXYgPT4gIXByZXYpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT17YGZpeGVkIGluc2V0LTAgei01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ibGFjayB0cmFuc2l0aW9uLW9wYWNpdHkgZHVyYXRpb24tMzAwICR7aXNPcGVuID8gJ2JnLW9wYWNpdHktNzUnIDogJ2JnLW9wYWNpdHktMCBwb2ludGVyLWV2ZW50cy1ub25lJ31gfT5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9e2BiZy13aGl0ZSByb3VuZGVkLWxnIHctZnVsbCBtYXgtdy1zbSBvdmVyZmxvdy1oaWRkZW4gc2hhZG93LXhsIHRyYW5zZm9ybSB0cmFuc2l0aW9uLXRyYW5zZm9ybSBkdXJhdGlvbi0zMDAgJHtpc09wZW4gPyAnc2NhbGUtMTAwJyA6ICdzY2FsZS05NSd9YH0+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgcC00IGJvcmRlci1iIGJnLXByaW1hcnkgdGV4dC13aGl0ZVwiPlxyXG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1tZWRpdW1cIj5CdWF0IFN0b3J5PC9oMj5cclxuICAgICAgICAgIDxidXR0b24gb25DbGljaz17b25DbG9zZX0gY2xhc3NOYW1lPVwidGV4dC13aGl0ZSBob3Zlcjp0ZXh0LXdoaXRlLzgwIHRyYW5zaXRpb24tY29sb3JzXCI+XHJcbiAgICAgICAgICAgIDxGaVggc2l6ZT17MjB9IC8+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICBcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNFwiPlxyXG4gICAgICAgICAge2Vycm9yTWVzc2FnZSAmJiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItMyBwLTIgYmcteWVsbG93LTEwMCBib3JkZXItbC00IGJvcmRlci15ZWxsb3ctNTAwIHRleHQteWVsbG93LTcwMCB0ZXh0LXNtXCI+XHJcbiAgICAgICAgICAgICAgPHA+e2Vycm9yTWVzc2FnZX08L3A+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAge3ByZXZpZXdVcmwgPyAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgdy1mdWxsIGgtNjQgYmctZ3JheS0xMDAgcm91bmRlZC1sZyBvdmVyZmxvdy1oaWRkZW4gc2hhZG93LWlubmVyXCI+XHJcbiAgICAgICAgICAgICAge2lzVmlkZW8gPyAoXHJcbiAgICAgICAgICAgICAgICA8dmlkZW9cclxuICAgICAgICAgICAgICAgICAgcmVmPXt2aWRlb1JlZn1cclxuICAgICAgICAgICAgICAgICAgc3JjPXtwcmV2aWV3VXJsfVxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb3ZlclwiXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xzXHJcbiAgICAgICAgICAgICAgICAgIGF1dG9QbGF5XHJcbiAgICAgICAgICAgICAgICAgIG11dGVkXHJcbiAgICAgICAgICAgICAgICAgIGxvb3BcclxuICAgICAgICAgICAgICAgICAgb25Mb2FkZWRNZXRhZGF0YT17aGFuZGxlVmlkZW9NZXRhZGF0YX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgIDxJbWFnZVxyXG4gICAgICAgICAgICAgICAgICBzcmM9e3ByZXZpZXdVcmx9XHJcbiAgICAgICAgICAgICAgICAgIGFsdD1cIlByZXZpZXdcIlxyXG4gICAgICAgICAgICAgICAgICBmaWxsXHJcbiAgICAgICAgICAgICAgICAgIHNpemVzPVwiKG1heC13aWR0aDogNzY4cHgpIDEwMHZ3LCA0MDBweFwiXHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm9iamVjdC1jb3ZlclwiXHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tMiBsZWZ0LTIgdGV4dC13aGl0ZSB0ZXh0LXhzIGZvbnQtbWVkaXVtIHB4LTIgcHktMSByb3VuZGVkLWZ1bGwgYmctYmxhY2svNDAgYmFja2Ryb3AtYmx1ci1zbVwiPlxyXG4gICAgICAgICAgICAgICAge2lzVmlkZW8gPyAnVmlkZW8gUHJldmlldycgOiAnUHJldmlldyd9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAge2lzVmlkZW8gJiYgKFxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dG9nZ2xlVHJpbUNvbnRyb2xzfVxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMiByaWdodC0yIGJnLWJsYWNrLzQwIGJhY2tkcm9wLWJsdXItc20gcC0xLjUgcm91bmRlZC1mdWxsIHRleHQtd2hpdGUgaG92ZXI6YmctYmxhY2svNjAgdHJhbnNpdGlvbi1jb2xvcnNcIlxyXG4gICAgICAgICAgICAgICAgICB0aXRsZT1cIlBvdG9uZyBWaWRlb1wiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIDxGaVNjaXNzb3JzIHNpemU9ezE2fSAvPlxyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHctZnVsbCBoLTY0IGJnLWdyYXktNTAgcm91bmRlZC1sZyBwLTQgYm9yZGVyLTIgYm9yZGVyLWRhc2hlZCBib3JkZXItZ3JheS0yMDAgdHJhbnNpdGlvbi1hbGwgaG92ZXI6Ym9yZGVyLXByaW1hcnkvNTBcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTYgaC0xNiBtYi0zIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtZnVsbCBiZy1wcmltYXJ5LzEwIHRleHQtcHJpbWFyeVwiPlxyXG4gICAgICAgICAgICAgICAgPEZpVXBsb2FkQ2xvdWQgc2l6ZT17MzJ9IC8+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTcwMCB0ZXh0LWNlbnRlciBmb250LW1lZGl1bSBtYi00XCI+XHJcbiAgICAgICAgICAgICAgICBQaWxpaCBnYW1iYXIgYXRhdSB2aWRlbyB1bnR1ayBzdG9yeVxyXG4gICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTNcIj5cclxuICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctcHJpbWFyeSB0ZXh0LXdoaXRlIHB4LTQgcHktMiByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgc2hhZG93LW1kIGhvdmVyOmJnLXByaW1hcnktZGFyayB0cmFuc2l0aW9uLWFsbCB0ZXh0LXNtXCJcclxuICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2VsZWN0SW1hZ2V9XHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIDxGaUNhbWVyYSBjbGFzc05hbWU9XCJtci0xXCIgc2l6ZT17MTZ9IC8+XHJcbiAgICAgICAgICAgICAgICAgIEdhbWJhclxyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLXByaW1hcnkgdGV4dC13aGl0ZSBweC00IHB5LTIgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIHNoYWRvdy1tZCBob3ZlcjpiZy1wcmltYXJ5LWRhcmsgdHJhbnNpdGlvbi1hbGwgdGV4dC1zbVwiXHJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNlbGVjdFZpZGVvfVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICA8RmlWaWRlbyBjbGFzc05hbWU9XCJtci0xXCIgc2l6ZT17MTZ9IC8+XHJcbiAgICAgICAgICAgICAgICAgIFZpZGVvXHJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0zIHRleHQteHMgdGV4dC1ncmF5LTUwMFwiPlxyXG4gICAgICAgICAgICAgICAgPEZpQ2xvY2sgY2xhc3NOYW1lPVwiaW5saW5lIG1yLTFcIiBzaXplPXsxMn0gLz5cclxuICAgICAgICAgICAgICAgIFZpZGVvIG1ha3NpbWFsIDMwIGRldGlrXHJcbiAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHtpc1ZpZGVvICYmIHNob3dUcmltQ29udHJvbHMgJiYgcHJldmlld1VybCAmJiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMyBwLTMgYmctZ3JheS01MCByb3VuZGVkLWxnXCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItMlwiPlxyXG4gICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBmbGV4IGl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICA8RmlTY2lzc29ycyBjbGFzc05hbWU9XCJtci0xXCIgc2l6ZT17MTR9IC8+XHJcbiAgICAgICAgICAgICAgICAgIFBvdG9uZyBWaWRlb1xyXG4gICAgICAgICAgICAgICAgPC9oMz5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPlxyXG4gICAgICAgICAgICAgICAgICB7TWF0aC5mbG9vcih2aWRlb1RyaW0uZHVyYXRpb24pfXMgLyB7TUFYX1ZJREVPX0RVUkFUSU9OfXNcclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNjAwIHctMTBcIj5NdWxhaTo8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYW5nZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgbWluPVwiMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgbWF4PXt2aWRlb0R1cmF0aW9ufVxyXG4gICAgICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjFcIlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt2aWRlb1RyaW0uc3RhcnR9XHJcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZVRyaW1TdGFydH1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC0yIGJnLWdyYXktMjAwIHJvdW5kZWQtbGcgYXBwZWFyYW5jZS1ub25lIGN1cnNvci1wb2ludGVyIGFjY2VudC1wcmltYXJ5XCJcclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyBmb250LW1vbm8gdy0xMFwiPnt2aWRlb1RyaW0uc3RhcnQudG9GaXhlZCgxKX1zPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTYwMCB3LTEwXCI+QWtoaXI6PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwicmFuZ2VcIlxyXG4gICAgICAgICAgICAgICAgICAgIG1pbj1cIjBcIlxyXG4gICAgICAgICAgICAgICAgICAgIG1heD17dmlkZW9EdXJhdGlvbn1cclxuICAgICAgICAgICAgICAgICAgICBzdGVwPVwiMC4xXCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dmlkZW9UcmltLmVuZH1cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlVHJpbUVuZH1cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC0yIGJnLWdyYXktMjAwIHJvdW5kZWQtbGcgYXBwZWFyYW5jZS1ub25lIGN1cnNvci1wb2ludGVyIGFjY2VudC1wcmltYXJ5XCJcclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyBmb250LW1vbm8gdy0xMFwiPnt2aWRlb1RyaW0uZW5kLnRvRml4ZWQoMSl9czwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICB0eXBlPVwiZmlsZVwiXHJcbiAgICAgICAgICAgIHJlZj17ZmlsZUlucHV0UmVmfVxyXG4gICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlRmlsZUNoYW5nZX1cclxuICAgICAgICAgICAgYWNjZXB0PVwiaW1hZ2UvKlwiXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImhpZGRlblwiXHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgdHlwZT1cImZpbGVcIlxyXG4gICAgICAgICAgICByZWY9e3ZpZGVvSW5wdXRSZWZ9XHJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVGaWxlQ2hhbmdlfVxyXG4gICAgICAgICAgICBhY2NlcHQ9XCJ2aWRlby8qXCJcclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiaGlkZGVuXCJcclxuICAgICAgICAgIC8+XHJcblxyXG4gICAgICAgICAge3ByZXZpZXdVcmwgJiYgKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTNcIj5cclxuICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTFcIj5cclxuICAgICAgICAgICAgICAgIENhcHRpb25cclxuICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgIDx0ZXh0YXJlYVxyXG4gICAgICAgICAgICAgICAgdmFsdWU9e2NhcHRpb259XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldENhcHRpb24oZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUYW1iYWhrYW4gY2FwdGlvbiB1bnR1ayBzdG9yeSBBbmRhLi4uXCJcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLWxnIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1wcmltYXJ5LzUwIHRleHQtc20gcmVzaXplLW5vbmVcIlxyXG4gICAgICAgICAgICAgICAgcm93cz17Mn1cclxuICAgICAgICAgICAgICAgIG1heExlbmd0aD17MTAwfVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXJpZ2h0IHRleHQteHMgdGV4dC1ncmF5LTUwMFwiPlxyXG4gICAgICAgICAgICAgICAge2NhcHRpb24ubGVuZ3RofS8xMDBcclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWVuZCBnYXAtMiBwLTMgYm9yZGVyLXQgYmctZ3JheS01MFwiPlxyXG4gICAgICAgICAge3ByZXZpZXdVcmwgJiYgKFxyXG4gICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMS41IGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1mdWxsIHRleHQtZ3JheS03MDAgaG92ZXI6YmctZ3JheS0xMDAgdHJhbnNpdGlvbi1jb2xvcnMgdGV4dC1zbVwiXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkRmlsZShudWxsKTtcclxuICAgICAgICAgICAgICAgICAgc2V0UHJldmlld1VybChudWxsKTtcclxuICAgICAgICAgICAgICAgICAgc2V0Q2FwdGlvbignJyk7XHJcbiAgICAgICAgICAgICAgICAgIHNldElzVmlkZW8oZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICBzZXRWaWRlb1RyaW0oeyBzdGFydDogMCwgZW5kOiAwLCBkdXJhdGlvbjogMCB9KTtcclxuICAgICAgICAgICAgICAgICAgc2V0U2hvd1RyaW1Db250cm9scyhmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgIHNldEVycm9yTWVzc2FnZSgnJyk7XHJcbiAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIEdhbnRpXHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0xLjUgYmctcHJpbWFyeSB0ZXh0LXdoaXRlIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBkaXNhYmxlZDpvcGFjaXR5LTcwIHNoYWRvdy1tZCBob3ZlcjpiZy1wcmltYXJ5LWRhcmsgdHJhbnNpdGlvbi1hbGwgdGV4dC1zbVwiXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTdWJtaXR9XHJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nIHx8IChpc1ZpZGVvICYmIHZpZGVvVHJpbS5kdXJhdGlvbiA+IE1BWF9WSURFT19EVVJBVElPTil9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAge2lzTG9hZGluZyA/IChcclxuICAgICAgICAgICAgICAgICAgPD5cclxuICAgICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiAtbWwtMSBtci0xIGgtNCB3LTQgdGV4dC13aGl0ZVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY2xhc3NOYW1lPVwib3BhY2l0eS0yNVwiIGN4PVwiMTJcIiBjeT1cIjEyXCIgcj1cIjEwXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlV2lkdGg9XCI0XCI+PC9jaXJjbGU+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBjbGFzc05hbWU9XCJvcGFjaXR5LTc1XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGQ9XCJNNCAxMmE4IDggMCAwMTgtOFYwQzUuMzczIDAgMCA1LjM3MyAwIDEyaDR6bTIgNS4yOTFBNy45NjIgNy45NjIgMCAwMTQgMTJIMGMwIDMuMDQyIDEuMTM1IDUuODI0IDMgNy45MzhsMy0yLjY0N3pcIj48L3BhdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zdmc+XHJcbiAgICAgICAgICAgICAgICAgICAgTWVuZ3VuZ2dhaC4uLlxyXG4gICAgICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgICAgICAgVW5nZ2FoXHJcbiAgICAgICAgICAgICAgICAgICAgPEZpQ2hlY2tDaXJjbGUgY2xhc3NOYW1lPVwibWwtMVwiIHNpemU9ezE2fSAvPlxyXG4gICAgICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ3JlYXRlU3RvcnlNb2RhbDsgIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VSZWYiLCJ1c2VFZmZlY3QiLCJGaVgiLCJGaVVwbG9hZENsb3VkIiwiRmlDaGVja0NpcmNsZSIsIkZpQ2FtZXJhIiwiRmlWaWRlbyIsIkZpQ2xvY2siLCJGaVNjaXNzb3JzIiwiSW1hZ2UiLCJNQVhfVklERU9fRFVSQVRJT04iLCJDcmVhdGVTdG9yeU1vZGFsIiwiaXNPcGVuIiwib25DbG9zZSIsIm9uU3VibWl0IiwiaXNMb2FkaW5nIiwic2VsZWN0ZWRGaWxlIiwic2V0U2VsZWN0ZWRGaWxlIiwicHJldmlld1VybCIsInNldFByZXZpZXdVcmwiLCJjYXB0aW9uIiwic2V0Q2FwdGlvbiIsInNob3dNb2RhbCIsInNldFNob3dNb2RhbCIsImlzVmlkZW8iLCJzZXRJc1ZpZGVvIiwidmlkZW9UcmltIiwic2V0VmlkZW9UcmltIiwic3RhcnQiLCJlbmQiLCJkdXJhdGlvbiIsInNob3dUcmltQ29udHJvbHMiLCJzZXRTaG93VHJpbUNvbnRyb2xzIiwidmlkZW9EdXJhdGlvbiIsInNldFZpZGVvRHVyYXRpb24iLCJlcnJvck1lc3NhZ2UiLCJzZXRFcnJvck1lc3NhZ2UiLCJmaWxlSW5wdXRSZWYiLCJ2aWRlb0lucHV0UmVmIiwidmlkZW9SZWYiLCJzdGFydFRodW1iUmVmIiwiZW5kVGh1bWJSZWYiLCJzbGlkZXJSZWYiLCJzZXRUaW1lb3V0IiwiaGFuZGxlVmlkZW9NZXRhZGF0YSIsImN1cnJlbnQiLCJNYXRoIiwibWluIiwicm91bmQiLCJoYW5kbGVGaWxlQ2hhbmdlIiwiZSIsImZpbGUiLCJ0YXJnZXQiLCJmaWxlcyIsImlzVmlkZW9GaWxlIiwidHlwZSIsInN0YXJ0c1dpdGgiLCJ2aWRlb0VsZW1lbnQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJwcmVsb2FkIiwib25sb2FkZWRtZXRhZGF0YSIsIndpbmRvdyIsIlVSTCIsInJldm9rZU9iamVjdFVSTCIsInNyYyIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJyZXN1bHQiLCJyZWFkQXNEYXRhVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiaGFuZGxlU3VibWl0IiwicHJvY2Vzc1ZpZGVvQmVmb3JlVXBsb2FkIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwidG9GaXhlZCIsImhhbmRsZVNlbGVjdEltYWdlIiwiY2xpY2siLCJoYW5kbGVTZWxlY3RWaWRlbyIsImhhbmRsZVRyaW1TdGFydCIsInBhcnNlRmxvYXQiLCJ2YWx1ZSIsInByZXYiLCJuZXdTdGFydCIsImN1cnJlbnRUaW1lIiwiaGFuZGxlVHJpbUVuZCIsIm5ld0VuZCIsIm1heCIsInRvZ2dsZVRyaW1Db250cm9scyIsImRpdiIsImNsYXNzTmFtZSIsImgyIiwiYnV0dG9uIiwib25DbGljayIsInNpemUiLCJwIiwidmlkZW8iLCJyZWYiLCJjb250cm9scyIsImF1dG9QbGF5IiwibXV0ZWQiLCJsb29wIiwib25Mb2FkZWRNZXRhZGF0YSIsImFsdCIsImZpbGwiLCJzaXplcyIsInRpdGxlIiwiaDMiLCJzcGFuIiwiZmxvb3IiLCJpbnB1dCIsInN0ZXAiLCJvbkNoYW5nZSIsImFjY2VwdCIsImxhYmVsIiwidGV4dGFyZWEiLCJwbGFjZWhvbGRlciIsInJvd3MiLCJtYXhMZW5ndGgiLCJsZW5ndGgiLCJkaXNhYmxlZCIsInN2ZyIsInhtbG5zIiwidmlld0JveCIsImNpcmNsZSIsImN4IiwiY3kiLCJyIiwic3Ryb2tlIiwic3Ryb2tlV2lkdGgiLCJwYXRoIiwiZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/Story/CreateStoryModal.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/Story/StoriesContainer.tsx":
/*!***************************************************!*\
  !*** ./src/components/Story/StoriesContainer.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _StoryThumbnail__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./StoryThumbnail */ \"(ssr)/./src/components/Story/StoryThumbnail.tsx\");\n/* harmony import */ var _StoryViewer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StoryViewer */ \"(ssr)/./src/components/Story/StoryViewer.tsx\");\n/* harmony import */ var _barrel_optimize_names_FiPlus_react_icons_fi__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=FiPlus!=!react-icons/fi */ \"(ssr)/./node_modules/react-icons/fi/index.esm.js\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/image */ \"(ssr)/./node_modules/next/dist/api/image.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\nconst StoriesContainer = ({ users, currentUserId, onAddStory, onStoryDelete, onCaptionUpdate, onStoryView })=>{\n    const [isViewerOpen, setIsViewerOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedUserIndex, setSelectedUserIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [viewCurrentUserStory, setViewCurrentUserStory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Dapatkan data pengguna saat ini\n    const currentUser = users.find((user)=>user.id === currentUserId);\n    const hasCurrentUserStory = currentUser?.stories && currentUser.stories.length > 0;\n    // Debug untuk melihat data users dan currentUser\n    console.log(\"StoriesContainer debug:\", {\n        currentUserId,\n        allUserIds: users.map((u)=>u.id),\n        currentUserStories: currentUser?.stories?.length || 0,\n        totalUsers: users.length\n    });\n    // Filter dan urutkan users: current user pertama, kemudian user lain\n    const sortedUsers = users.sort((a, b)=>{\n        if (a.id === currentUserId) return -1;\n        if (b.id === currentUserId) return 1;\n        return 0;\n    });\n    // Users untuk story viewer (termasuk current user jika memiliki story)\n    const viewerUsers = sortedUsers.filter((user)=>user.stories.length > 0);\n    // Penggunaan yang lebih sederhana untuk memantau story yang dilihat\n    const [viewTimestamp, setViewTimestamp] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(Date.now());\n    const viewedStoriesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({});\n    // Load viewed stories dari localStorage saat komponen dipasang\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            const storedViewedStories = localStorage.getItem(\"viewedStories\");\n            if (storedViewedStories) {\n                viewedStoriesRef.current = JSON.parse(storedViewedStories);\n                // Picu render ulang untuk menampilkan status yang benar\n                setViewTimestamp(Date.now());\n            }\n        } catch (error) {\n            console.error(\"Error loading viewed stories from localStorage:\", error);\n        }\n    }, []);\n    const handleUserClick = (index)=>{\n        if (viewCurrentUserStory) {\n            // Jika melihat story sendiri\n            setSelectedUserIndex(0); // currentUser selalu indeks 0 dalam viewerUsers\n        } else {\n            // Indeks untuk users lain (tanpa current user)\n            // Perlu penyesuaian jika current user memiliki story\n            const adjustedIndex = hasCurrentUserStory ? index + 1 : index;\n            setSelectedUserIndex(adjustedIndex);\n        }\n        setIsViewerOpen(true);\n    };\n    const handleCurrentUserStoryClick = ()=>{\n        // Pastikan current user berada di indeks 0 dalam viewerUsers\n        setSelectedUserIndex(0);\n        setViewCurrentUserStory(true);\n        setIsViewerOpen(true);\n    };\n    const handleAddStory = ()=>{\n        if (onAddStory) {\n            onAddStory();\n        }\n    };\n    const handleStoryView = async (storyId)=>{\n        // Tandai story sebagai dilihat secara lokal\n        viewedStoriesRef.current[storyId] = true;\n        // Simpan ke localStorage untuk persistensi\n        try {\n            localStorage.setItem(\"viewedStories\", JSON.stringify(viewedStoriesRef.current));\n        } catch (error) {\n            console.error(\"Error saving viewed stories to localStorage:\", error);\n        }\n        // Perbarui timestamp untuk memicu render ulang\n        setViewTimestamp(Date.now());\n        // Panggil API untuk menandai sebagai dilihat\n        if (onStoryView) {\n            try {\n                await onStoryView(storyId);\n            } catch (error) {\n                console.error(\"Error marking story as viewed:\", error);\n            }\n        }\n    };\n    // Helper sederhana untuk memeriksa apakah story sudah dilihat\n    const isStoryViewed = (storyId)=>{\n        return viewedStoriesRef.current[storyId] || false;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"py-3\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex gap-3 overflow-x-auto px-2 pb-2 scrollbar-none\",\n                children: [\n                    !hasCurrentUserStory ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"flex flex-col items-center gap-1 min-w-16 focus:outline-none\",\n                        onClick: handleAddStory,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"relative bg-gray-200 rounded-full h-16 w-16 flex items-center justify-center\",\n                                children: [\n                                    currentUser?.photoURL ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"relative h-14 w-14 rounded-full overflow-hidden\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute inset-0 flex items-center justify-center bg-gray-300\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-gray-600 font-medium text-sm\",\n                                                    children: currentUser?.displayName?.charAt(0)?.toUpperCase() || \"?\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoriesContainer.tsx\",\n                                                    lineNumber: 155,\n                                                    columnNumber: 21\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoriesContainer.tsx\",\n                                                lineNumber: 154,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                                src: currentUser.photoURL,\n                                                alt: currentUser.displayName || \"User\",\n                                                fill: true,\n                                                sizes: \"56px\",\n                                                className: \"object-cover\",\n                                                onError: (e)=>{\n                                                    // Fallback ke elemen dengan inisial jika gambar gagal dimuat\n                                                    const target = e.target;\n                                                    target.style.display = \"none\";\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoriesContainer.tsx\",\n                                                lineNumber: 159,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoriesContainer.tsx\",\n                                        lineNumber: 152,\n                                        columnNumber: 17\n                                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"h-14 w-14 rounded-full bg-gray-300 flex items-center justify-center\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-gray-600 font-medium text-sm\",\n                                            children: currentUser?.displayName?.charAt(0)?.toUpperCase()\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoriesContainer.tsx\",\n                                            lineNumber: 174,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoriesContainer.tsx\",\n                                        lineNumber: 173,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute bottom-0 right-0 bg-primary text-white rounded-full w-6 h-6 flex items-center justify-center border-2 border-white shadow-md\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiPlus_react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiPlus, {\n                                            size: 16\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoriesContainer.tsx\",\n                                            lineNumber: 180,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoriesContainer.tsx\",\n                                        lineNumber: 179,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoriesContainer.tsx\",\n                                lineNumber: 150,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-xs text-center truncate w-full\",\n                                children: \"Cerita Anda\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoriesContainer.tsx\",\n                                lineNumber: 183,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoriesContainer.tsx\",\n                        lineNumber: 146,\n                        columnNumber: 11\n                    }, undefined) : /* Tampilkan story pengguna saat ini jika ada */ /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"flex flex-col items-center gap-1 min-w-16 focus:outline-none\",\n                        onClick: handleCurrentUserStoryClick,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"relative\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: `${hasCurrentUserStory ? \"bg-gradient-to-tr from-primary to-secondary\" : \"bg-gray-200\"} p-[2px] rounded-full`,\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"bg-white p-[2px] rounded-full\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"relative h-12 w-12 rounded-full overflow-hidden\",\n                                                children: currentUser?.photoURL ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"absolute inset-0 flex items-center justify-center bg-gray-300\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-gray-600 font-medium text-sm\",\n                                                                children: currentUser?.displayName?.charAt(0)?.toUpperCase() || \"?\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoriesContainer.tsx\",\n                                                                lineNumber: 199,\n                                                                columnNumber: 27\n                                                            }, undefined)\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoriesContainer.tsx\",\n                                                            lineNumber: 198,\n                                                            columnNumber: 25\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                                            src: currentUser.photoURL,\n                                                            alt: currentUser.displayName || \"User\",\n                                                            fill: true,\n                                                            sizes: \"48px\",\n                                                            className: \"object-cover\",\n                                                            onError: (e)=>{\n                                                                // Fallback ke elemen dengan inisial jika gambar gagal dimuat\n                                                                const target = e.target;\n                                                                target.style.display = \"none\";\n                                                            }\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoriesContainer.tsx\",\n                                                            lineNumber: 203,\n                                                            columnNumber: 25\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"h-12 w-12 rounded-full bg-gray-300 flex items-center justify-center\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-gray-600 font-medium text-sm\",\n                                                        children: currentUser?.displayName?.charAt(0)?.toUpperCase()\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoriesContainer.tsx\",\n                                                        lineNumber: 218,\n                                                        columnNumber: 25\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoriesContainer.tsx\",\n                                                    lineNumber: 217,\n                                                    columnNumber: 23\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoriesContainer.tsx\",\n                                                lineNumber: 194,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoriesContainer.tsx\",\n                                            lineNumber: 193,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoriesContainer.tsx\",\n                                        lineNumber: 192,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute bottom-0 right-0 bg-primary text-white rounded-full w-5 h-5 flex items-center justify-center border-2 border-white shadow-md\",\n                                        onClick: (e)=>{\n                                            e.stopPropagation();\n                                            handleAddStory();\n                                        },\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiPlus_react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiPlus, {\n                                            size: 14\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoriesContainer.tsx\",\n                                            lineNumber: 233,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoriesContainer.tsx\",\n                                        lineNumber: 226,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoriesContainer.tsx\",\n                                lineNumber: 191,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-xs text-center truncate w-full\",\n                                children: \"Cerita Anda\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoriesContainer.tsx\",\n                                lineNumber: 236,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoriesContainer.tsx\",\n                        lineNumber: 187,\n                        columnNumber: 11\n                    }, undefined),\n                    sortedUsers.filter((user)=>user.id !== currentUserId && user.stories.length > 0).map((user, index)=>{\n                        // Periksa apakah semua story dari user ini sudah dilihat\n                        const allStoriesViewed = user.stories.every((story)=>user.viewedStories?.includes(story.id) || isStoryViewed(story.id));\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_StoryThumbnail__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                            imageUrl: user.photoURL,\n                            name: user.displayName,\n                            isViewed: allStoriesViewed,\n                            onClick: ()=>handleUserClick(index),\n                            isCurrentUser: false\n                        }, user.id, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoriesContainer.tsx\",\n                            lineNumber: 250,\n                            columnNumber: 15\n                        }, undefined);\n                    })\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoriesContainer.tsx\",\n                lineNumber: 143,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_StoryViewer__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                users: viewerUsers,\n                initialUserIndex: selectedUserIndex,\n                isOpen: isViewerOpen,\n                onClose: ()=>{\n                    setIsViewerOpen(false);\n                    setViewCurrentUserStory(false);\n                },\n                currentUserId: currentUserId,\n                onStoryDelete: onStoryDelete,\n                onCaptionUpdate: onCaptionUpdate,\n                onStoryView: handleStoryView\n            }, void 0, false, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoriesContainer.tsx\",\n                lineNumber: 264,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoriesContainer.tsx\",\n        lineNumber: 142,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (StoriesContainer);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9TdG9yeS9TdG9yaWVzQ29udGFpbmVyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBRTJEO0FBQ2I7QUFDTjtBQUNBO0FBQ1Q7QUEyQi9CLE1BQU1RLG1CQUFvRCxDQUFDLEVBQ3pEQyxLQUFLLEVBQ0xDLGFBQWEsRUFDYkMsVUFBVSxFQUNWQyxhQUFhLEVBQ2JDLGVBQWUsRUFDZkMsV0FBVyxFQUNaO0lBQ0MsTUFBTSxDQUFDQyxjQUFjQyxnQkFBZ0IsR0FBR2YsK0NBQVFBLENBQUM7SUFDakQsTUFBTSxDQUFDZ0IsbUJBQW1CQyxxQkFBcUIsR0FBR2pCLCtDQUFRQSxDQUFDO0lBQzNELE1BQU0sQ0FBQ2tCLHNCQUFzQkMsd0JBQXdCLEdBQUduQiwrQ0FBUUEsQ0FBQztJQUVqRSxrQ0FBa0M7SUFDbEMsTUFBTW9CLGNBQWNaLE1BQU1hLElBQUksQ0FBQ0MsQ0FBQUEsT0FBUUEsS0FBS0MsRUFBRSxLQUFLZDtJQUNuRCxNQUFNZSxzQkFBc0JKLGFBQWFLLFdBQVdMLFlBQVlLLE9BQU8sQ0FBQ0MsTUFBTSxHQUFHO0lBRWpGLGlEQUFpRDtJQUNqREMsUUFBUUMsR0FBRyxDQUFDLDJCQUEyQjtRQUNyQ25CO1FBQ0FvQixZQUFZckIsTUFBTXNCLEdBQUcsQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRVIsRUFBRTtRQUMvQlMsb0JBQW9CWixhQUFhSyxTQUFTQyxVQUFVO1FBQ3BETyxZQUFZekIsTUFBTWtCLE1BQU07SUFDMUI7SUFFQSxxRUFBcUU7SUFDckUsTUFBTVEsY0FBYzFCLE1BQU0yQixJQUFJLENBQUMsQ0FBQ0MsR0FBR0M7UUFDakMsSUFBSUQsRUFBRWIsRUFBRSxLQUFLZCxlQUFlLE9BQU8sQ0FBQztRQUNwQyxJQUFJNEIsRUFBRWQsRUFBRSxLQUFLZCxlQUFlLE9BQU87UUFDbkMsT0FBTztJQUNUO0lBRUEsdUVBQXVFO0lBQ3ZFLE1BQU02QixjQUFjSixZQUFZSyxNQUFNLENBQUNqQixDQUFBQSxPQUFRQSxL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Ozs7Ozs7Ozs7Ozs7OzBDQUdsQiw4REFBQ2I7Z0NBQUtKLFdBQVU7MENBQXNDOzs7Ozs7Ozs7Ozs7b0JBS3pEN0IsWUFDRUssTUFBTSxDQUFDakIsQ0FBQUEsT0FBUUEsS0FBS0MsRUFBRSxLQUFLZCxpQkFBaUJhLEtBQUtHLE9BQU8sQ0FBQ0MsTUFBTSxHQUFHLEdBQ2xFSSxHQUFHLENBQUMsQ0FBQ1IsTUFBTStCO3dCQUNWLHlEQUF5RDt3QkFDekQsTUFBTTZCLG1CQUFtQjVELEtBQUtHLE9BQU8sQ0FBQzBELEtBQUssQ0FBQ0MsQ0FBQUEsUUFDMUM5RCxLQUFLK0QsYUFBYSxFQUFFQyxTQUFTRixNQUFNN0QsRUFBRSxLQUFLc0MsY0FBY3VCLE1BQU03RCxFQUFFO3dCQUdsRSxxQkFDRSw4REFBQ3BCLHVEQUFjQTs0QkFFYm9GLFVBQVVqRSxLQUFLNEMsUUFBUTs0QkFDdkJzQixNQUFNbEUsS0FBSzhDLFdBQVc7NEJBQ3RCcUIsVUFBVVA7NEJBQ1ZqQixTQUFTLElBQU1iLGdCQUFnQkM7NEJBQy9CcUMsZUFBZTsyQkFMVnBFLEtBQUtDLEVBQUU7Ozs7O29CQVFsQjs7Ozs7OzswQkFLSiw4REFBQ25CLG9EQUFXQTtnQkFDVkksT0FBTzhCO2dCQUNQcUQsa0JBQWtCM0U7Z0JBQ2xCNEUsUUFBUTlFO2dCQUNSK0UsU0FBUztvQkFDUDlFLGdCQUFnQjtvQkFDaEJJLHdCQUF3QjtnQkFDMUI7Z0JBQ0FWLGVBQWVBO2dCQUNmRSxlQUFlQTtnQkFDZkMsaUJBQWlCQTtnQkFDakJDLGFBQWE0Qzs7Ozs7Ozs7Ozs7O0FBSXJCO0FBRUEsaUVBQWVsRCxnQkFBZ0JBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWxsby8uL3NyYy9jb21wb25lbnRzL1N0b3J5L1N0b3JpZXNDb250YWluZXIudHN4P2QxNWEiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xyXG5cclxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFN0b3J5VGh1bWJuYWlsIGZyb20gJy4vU3RvcnlUaHVtYm5haWwnO1xyXG5pbXBvcnQgU3RvcnlWaWV3ZXIgZnJvbSAnLi9TdG9yeVZpZXdlcic7XHJcbmltcG9ydCB7IEZpUGx1cyB9IGZyb20gJ3JlYWN0LWljb25zL2ZpJztcclxuaW1wb3J0IEltYWdlIGZyb20gJ25leHQvaW1hZ2UnO1xyXG5cclxudHlwZSBTdG9yeSA9IHtcclxuICBpZDogc3RyaW5nO1xyXG4gIGltYWdlVXJsOiBzdHJpbmc7XHJcbiAgdGltZXN0YW1wOiBhbnk7XHJcbiAgdXNlcklkOiBzdHJpbmc7XHJcbiAgY2FwdGlvbj86IHN0cmluZztcclxufTtcclxuXHJcbnR5cGUgU3RvcnlVc2VyID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgZGlzcGxheU5hbWU6IHN0cmluZztcclxuICBwaG90b1VSTDogc3RyaW5nO1xyXG4gIHN0b3JpZXM6IFN0b3J5W107XHJcbiAgdmlld2VkU3Rvcmllcz86IHN0cmluZ1tdOyAvLyBhcnJheSBvZiBzdG9yeSBJRHMgdGhhdCBoYXZlIGJlZW4gdmlld2VkXHJcbn07XHJcblxyXG50eXBlIFN0b3JpZXNDb250YWluZXJQcm9wcyA9IHtcclxuICB1c2VyczogU3RvcnlVc2VyW107XHJcbiAgY3VycmVudFVzZXJJZDogc3RyaW5nO1xyXG4gIG9uQWRkU3Rvcnk/OiAoKSA9PiB2b2lkO1xyXG4gIG9uU3RvcnlEZWxldGU/OiAoc3RvcnlJZDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xyXG4gIG9uQ2FwdGlvblVwZGF0ZT86IChzdG9yeUlkOiBzdHJpbmcsIGNhcHRpb246IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcclxuICBvblN0b3J5Vmlldz86IChzdG9yeUlkOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XHJcbn07XHJcblxyXG5jb25zdCBTdG9yaWVzQ29udGFpbmVyOiBSZWFjdC5GQzxTdG9yaWVzQ29udGFpbmVyUHJvcHM+ID0gKHtcclxuICB1c2VycyxcclxuICBjdXJyZW50VXNlcklkLFxyXG4gIG9uQWRkU3RvcnksXHJcbiAgb25TdG9yeURlbGV0ZSxcclxuICBvbkNhcHRpb25VcGRhdGUsXHJcbiAgb25TdG9yeVZpZXdcclxufSkgPT4ge1xyXG4gIGNvbnN0IFtpc1ZpZXdlck9wZW4sIHNldElzVmlld2VyT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW3NlbGVjdGVkVXNlckluZGV4LCBzZXRTZWxlY3RlZFVzZXJJbmRleF0gPSB1c2VTdGF0ZSgwKTtcclxuICBjb25zdCBbdmlld0N1cnJlbnRVc2VyU3RvcnksIHNldFZpZXdDdXJyZW50VXNlclN0b3J5XSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBcclxuICAvLyBEYXBhdGthbiBkYXRhIHBlbmdndW5hIHNhYXQgaW5pXHJcbiAgY29uc3QgY3VycmVudFVzZXIgPSB1c2Vycy5maW5kKHVzZXIgPT4gdXNlci5pZCA9PT0gY3VycmVudFVzZXJJZCk7XHJcbiAgY29uc3QgaGFzQ3VycmVudFVzZXJTdG9yeSA9IGN1cnJlbnRVc2VyPy5zdG9yaWVzICYmIGN1cnJlbnRVc2VyLnN0b3JpZXMubGVuZ3RoID4gMDtcclxuICBcclxuICAvLyBEZWJ1ZyB1bnR1ayBtZWxpaGF0IGRhdGEgdXNlcnMgZGFuIGN1cnJlbnRVc2VyXHJcbiAgY29uc29sZS5sb2coXCJTdG9yaWVzQ29udGFpbmVyIGRlYnVnOlwiLCB7XHJcbiAgICBjdXJyZW50VXNlcklkLFxyXG4gICAgYWxsVXNlcklkczogdXNlcnMubWFwKHUgPT4gdS5pZCksXHJcbiAgICBjdXJyZW50VXNlclN0b3JpZXM6IGN1cnJlbnRVc2VyPy5zdG9yaWVzPy5sZW5ndGggfHwgMCxcclxuICAgIHRvdGFsVXNlcnM6IHVzZXJzLmxlbmd0aFxyXG4gIH0pO1xyXG4gIFxyXG4gIC8vIEZpbHRlciBkYW4gdXJ1dGthbiB1c2VyczogY3VycmVudCB1c2VyIHBlcnRhbWEsIGtlbXVkaWFuIHVzZXIgbGFpblxyXG4gIGNvbnN0IHNvcnRlZFVzZXJzID0gdXNlcnMuc29ydCgoYSwgYikgPT4ge1xyXG4gICAgaWYgKGEuaWQgPT09IGN1cnJlbnRVc2VySWQpIHJldHVybiAtMTtcclxuICAgIGlmIChiLmlkID09PSBjdXJyZW50VXNlcklkKSByZXR1cm4gMTtcclxuICAgIHJldHVybiAwO1xyXG4gIH0pO1xyXG4gIFxyXG4gIC8vIFVzZXJzIHVudHVrIHN0b3J5IHZpZXdlciAodGVybWFzdWsgY3VycmVudCB1c2VyIGppa2EgbWVtaWxpa2kgc3RvcnkpXHJcbiAgY29uc3Qgdmlld2VyVXNlcnMgPSBzb3J0ZWRVc2Vycy5maWx0ZXIodXNlciA9PiB1c2VyLnN0b3JpZXMubGVuZ3RoID4gMCk7XHJcbiAgXHJcbiAgLy8gUGVuZ2d1bmFhbiB5YW5nIGxlYmloIHNlZGVyaGFuYSB1bnR1ayBtZW1hbnRhdSBzdG9yeSB5YW5nIGRpbGloYXRcclxuICBjb25zdCBbdmlld1RpbWVzdGFtcCwgc2V0Vmlld1RpbWVzdGFtcF0gPSB1c2VTdGF0ZShEYXRlLm5vdygpKTtcclxuICBjb25zdCB2aWV3ZWRTdG9yaWVzUmVmID0gdXNlUmVmPHtba2V5OiBzdHJpbmddOiBib29sZWFufT4oe30pO1xyXG4gIFxyXG4gIC8vIExvYWQgdmlld2VkIHN0b3JpZXMgZGFyaSBsb2NhbFN0b3JhZ2Ugc2FhdCBrb21wb25lbiBkaXBhc2FuZ1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBzdG9yZWRWaWV3ZWRTdG9yaWVzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3ZpZXdlZFN0b3JpZXMnKTtcclxuICAgICAgaWYgKHN0b3JlZFZpZXdlZFN0b3JpZXMpIHtcclxuICAgICAgICB2aWV3ZWRTdG9yaWVzUmVmLmN1cnJlbnQgPSBKU09OLnBhcnNlKHN0b3JlZFZpZXdlZFN0b3JpZXMpO1xyXG4gICAgICAgIC8vIFBpY3UgcmVuZGVyIHVsYW5nIHVudHVrIG1lbmFtcGlsa2FuIHN0YXR1cyB5YW5nIGJlbmFyXHJcbiAgICAgICAgc2V0Vmlld1RpbWVzdGFtcChEYXRlLm5vdygpKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyB2aWV3ZWQgc3RvcmllcyBmcm9tIGxvY2FsU3RvcmFnZTonLCBlcnJvcik7XHJcbiAgICB9XHJcbiAgfSwgW10pO1xyXG4gIFxyXG4gIGNvbnN0IGhhbmRsZVVzZXJDbGljayA9IChpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICBpZiAodmlld0N1cnJlbnRVc2VyU3RvcnkpIHtcclxuICAgICAgLy8gSmlrYSBtZWxpaGF0IHN0b3J5IHNlbmRpcmlcclxuICAgICAgc2V0U2VsZWN0ZWRVc2VySW5kZXgoMCk7IC8vIGN1cnJlbnRVc2VyIHNlbGFsdSBpbmRla3MgMCBkYWxhbSB2aWV3ZXJVc2Vyc1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gSW5kZWtzIHVudHVrIHVzZXJzIGxhaW4gKHRhbnBhIGN1cnJlbnQgdXNlcilcclxuICAgICAgLy8gUGVybHUgcGVueWVzdWFpYW4gamlrYSBjdXJyZW50IHVzZXIgbWVtaWxpa2kgc3RvcnlcclxuICAgICAgY29uc3QgYWRqdXN0ZWRJbmRleCA9IGhhc0N1cnJlbnRVc2VyU3RvcnkgPyBpbmRleCArIDEgOiBpbmRleDtcclxuICAgICAgc2V0U2VsZWN0ZWRVc2VySW5kZXgoYWRqdXN0ZWRJbmRleCk7XHJcbiAgICB9XHJcbiAgICBzZXRJc1ZpZXdlck9wZW4odHJ1ZSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlQ3VycmVudFVzZXJTdG9yeUNsaWNrID0gKCkgPT4ge1xyXG4gICAgLy8gUGFzdGlrYW4gY3VycmVudCB1c2VyIGJlcmFkYSBkaSBpbmRla3MgMCBkYWxhbSB2aWV3ZXJVc2Vyc1xyXG4gICAgc2V0U2VsZWN0ZWRVc2VySW5kZXgoMCk7XHJcbiAgICBzZXRWaWV3Q3VycmVudFVzZXJTdG9yeSh0cnVlKTtcclxuICAgIHNldElzVmlld2VyT3Blbih0cnVlKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVBZGRTdG9yeSA9ICgpID0+IHtcclxuICAgIGlmIChvbkFkZFN0b3J5KSB7XHJcbiAgICAgIG9uQWRkU3RvcnkoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVTdG9yeVZpZXcgPSBhc3luYyAoc3RvcnlJZDogc3RyaW5nKSA9PiB7XHJcbiAgICAvLyBUYW5kYWkgc3Rvcnkgc2ViYWdhaSBkaWxpaGF0IHNlY2FyYSBsb2thbFxyXG4gICAgdmlld2VkU3Rvcmllc1JlZi5jdXJyZW50W3N0b3J5SWRdID0gdHJ1ZTtcclxuICAgIFxyXG4gICAgLy8gU2ltcGFuIGtlIGxvY2FsU3RvcmFnZSB1bnR1ayBwZXJzaXN0ZW5zaVxyXG4gICAgdHJ5IHtcclxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3ZpZXdlZFN0b3JpZXMnLCBKU09OLnN0cmluZ2lmeSh2aWV3ZWRTdG9yaWVzUmVmLmN1cnJlbnQpKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyB2aWV3ZWQgc3RvcmllcyB0byBsb2NhbFN0b3JhZ2U6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBQZXJiYXJ1aSB0aW1lc3RhbXAgdW50dWsgbWVtaWN1IHJlbmRlciB1bGFuZ1xyXG4gICAgc2V0Vmlld1RpbWVzdGFtcChEYXRlLm5vdygpKTtcclxuICAgIFxyXG4gICAgLy8gUGFuZ2dpbCBBUEkgdW50dWsgbWVuYW5kYWkgc2ViYWdhaSBkaWxpaGF0XHJcbiAgICBpZiAob25TdG9yeVZpZXcpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBhd2FpdCBvblN0b3J5VmlldyhzdG9yeUlkKTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBtYXJraW5nIHN0b3J5IGFzIHZpZXdlZDonLCBlcnJvcik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBIZWxwZXIgc2VkZXJoYW5hIHVudHVrIG1lbWVyaWtzYSBhcGFrYWggc3Rvcnkgc3VkYWggZGlsaWhhdFxyXG4gIGNvbnN0IGlzU3RvcnlWaWV3ZWQgPSAoc3RvcnlJZDogc3RyaW5nKSA9PiB7XHJcbiAgICByZXR1cm4gdmlld2VkU3Rvcmllc1JlZi5jdXJyZW50W3N0b3J5SWRdIHx8IGZhbHNlO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInB5LTNcIj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0zIG92ZXJmbG93LXgtYXV0byBweC0yIHBiLTIgc2Nyb2xsYmFyLW5vbmVcIj5cclxuICAgICAgICB7LyogVG9tYm9sIEFkZCBTdG9yeSB1bnR1ayB1c2VyIHNhYXQgaW5pICovfVxyXG4gICAgICAgIHshaGFzQ3VycmVudFVzZXJTdG9yeSA/IChcclxuICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGdhcC0xIG1pbi13LTE2IGZvY3VzOm91dGxpbmUtbm9uZVwiXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUFkZFN0b3J5fVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGJnLWdyYXktMjAwIHJvdW5kZWQtZnVsbCBoLTE2IHctMTYgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICB7Y3VycmVudFVzZXI/LnBob3RvVVJMID8gKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBoLTE0IHctMTQgcm91bmRlZC1mdWxsIG92ZXJmbG93LWhpZGRlblwiPlxyXG4gICAgICAgICAgICAgICAgICB7LyogRGl2IGZhbGxiYWNrIHlhbmcgbXVuY3VsIGppa2EgZ2FtYmFyIGVycm9yICovfVxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctZ3JheS0zMDBcIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIGZvbnQtbWVkaXVtIHRleHQtc21cIj5cclxuICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50VXNlcj8uZGlzcGxheU5hbWU/LmNoYXJBdCgwKT8udG9VcHBlckNhc2UoKSB8fCAnPyd9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPEltYWdlIFxyXG4gICAgICAgICAgICAgICAgICAgIHNyYz17Y3VycmVudFVzZXIucGhvdG9VUkx9IFxyXG4gICAgICAgICAgICAgICAgICAgIGFsdD17Y3VycmVudFVzZXIuZGlzcGxheU5hbWUgfHwgJ1VzZXInfVxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGxcclxuICAgICAgICAgICAgICAgICAgICBzaXplcz1cIjU2cHhcIlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm9iamVjdC1jb3ZlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcj17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrIGtlIGVsZW1lbiBkZW5nYW4gaW5pc2lhbCBqaWthIGdhbWJhciBnYWdhbCBkaW11YXRcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC0xNCB3LTE0IHJvdW5kZWQtZnVsbCBiZy1ncmF5LTMwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIGZvbnQtbWVkaXVtIHRleHQtc21cIj5cclxuICAgICAgICAgICAgICAgICAgICB7Y3VycmVudFVzZXI/LmRpc3BsYXlOYW1lPy5jaGFyQXQoMCk/LnRvVXBwZXJDYXNlKCl9XHJcbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tMCByaWdodC0wIGJnLXByaW1hcnkgdGV4dC13aGl0ZSByb3VuZGVkLWZ1bGwgdy02IGgtNiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBib3JkZXItMiBib3JkZXItd2hpdGUgc2hhZG93LW1kXCI+XHJcbiAgICAgICAgICAgICAgICA8RmlQbHVzIHNpemU9ezE2fSAvPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWNlbnRlciB0cnVuY2F0ZSB3LWZ1bGxcIj5DZXJpdGEgQW5kYTwvc3Bhbj5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICkgOiAoXHJcbiAgICAgICAgICAvKiBUYW1waWxrYW4gc3RvcnkgcGVuZ2d1bmEgc2FhdCBpbmkgamlrYSBhZGEgKi9cclxuICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGdhcC0xIG1pbi13LTE2IGZvY3VzOm91dGxpbmUtbm9uZVwiXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUN1cnJlbnRVc2VyU3RvcnlDbGlja31cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtoYXNDdXJyZW50VXNlclN0b3J5ID8gJ2JnLWdyYWRpZW50LXRvLXRyIGZyb20tcHJpbWFyeSB0by1zZWNvbmRhcnknIDogJ2JnLWdyYXktMjAwJ30gcC1bMnB4XSByb3VuZGVkLWZ1bGxgfT5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcC1bMnB4XSByb3VuZGVkLWZ1bGxcIj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBoLTEyIHctMTIgcm91bmRlZC1mdWxsIG92ZXJmbG93LWhpZGRlblwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHtjdXJyZW50VXNlcj8ucGhvdG9VUkwgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogRmFsbGJhY2sgZGl2IHlhbmcgZGl0YW1waWxrYW4gZGkgYmVsYWthbmcgZ2FtYmFyICovfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctZ3JheS0zMDBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIGZvbnQtbWVkaXVtIHRleHQtc21cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50VXNlcj8uZGlzcGxheU5hbWU/LmNoYXJBdCgwKT8udG9VcHBlckNhc2UoKSB8fCAnPyd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEltYWdlIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17Y3VycmVudFVzZXIucGhvdG9VUkx9IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD17Y3VycmVudFVzZXIuZGlzcGxheU5hbWUgfHwgJ1VzZXInfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplcz1cIjQ4cHhcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm9iamVjdC1jb3ZlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25FcnJvcj17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrIGtlIGVsZW1lbiBkZW5nYW4gaW5pc2lhbCBqaWthIGdhbWJhciBnYWdhbCBkaW11YXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC0xMiB3LTEyIHJvdW5kZWQtZnVsbCBiZy1ncmF5LTMwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIGZvbnQtbWVkaXVtIHRleHQtc21cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudFVzZXI/LmRpc3BsYXlOYW1lPy5jaGFyQXQoMCk/LnRvVXBwZXJDYXNlKCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPGRpdiBcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS0wIHJpZ2h0LTAgYmctcHJpbWFyeSB0ZXh0LXdoaXRlIHJvdW5kZWQtZnVsbCB3LTUgaC01IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJvcmRlci0yIGJvcmRlci13aGl0ZSBzaGFkb3ctbWRcIlxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgaGFuZGxlQWRkU3RvcnkoKTtcclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPEZpUGx1cyBzaXplPXsxNH0gLz5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1jZW50ZXIgdHJ1bmNhdGUgdy1mdWxsXCI+Q2VyaXRhIEFuZGE8L3NwYW4+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICApfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHsvKiBTdG9yeSB0aHVtYm5haWxzIGRhcmkgcGVuZ2d1bmEgbGFpbiAqL31cclxuICAgICAgICB7c29ydGVkVXNlcnNcclxuICAgICAgICAgIC5maWx0ZXIodXNlciA9PiB1c2VyLmlkICE9PSBjdXJyZW50VXNlcklkICYmIHVzZXIuc3Rvcmllcy5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgLm1hcCgodXNlciwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgLy8gUGVyaWtzYSBhcGFrYWggc2VtdWEgc3RvcnkgZGFyaSB1c2VyIGluaSBzdWRhaCBkaWxpaGF0XHJcbiAgICAgICAgICAgIGNvbnN0IGFsbFN0b3JpZXNWaWV3ZWQgPSB1c2VyLnN0b3JpZXMuZXZlcnkoc3RvcnkgPT4gXHJcbiAgICAgICAgICAgICAgdXNlci52aWV3ZWRTdG9yaWVzPy5pbmNsdWRlcyhzdG9yeS5pZCkgfHwgaXNTdG9yeVZpZXdlZChzdG9yeS5pZClcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgPFN0b3J5VGh1bWJuYWlsXHJcbiAgICAgICAgICAgICAgICBrZXk9e3VzZXIuaWR9XHJcbiAgICAgICAgICAgICAgICBpbWFnZVVybD17dXNlci5waG90b1VSTH1cclxuICAgICAgICAgICAgICAgIG5hbWU9e3VzZXIuZGlzcGxheU5hbWV9XHJcbiAgICAgICAgICAgICAgICBpc1ZpZXdlZD17YWxsU3Rvcmllc1ZpZXdlZH1cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVVzZXJDbGljayhpbmRleCl9XHJcbiAgICAgICAgICAgICAgICBpc0N1cnJlbnRVc2VyPXtmYWxzZX1cclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICBcclxuICAgICAgey8qIFN0b3J5IHZpZXdlciAqL31cclxuICAgICAgPFN0b3J5Vmlld2VyXHJcbiAgICAgICAgdXNlcnM9e3ZpZXdlclVzZXJzfVxyXG4gICAgICAgIGluaXRpYWxVc2VySW5kZXg9e3NlbGVjdGVkVXNlckluZGV4fVxyXG4gICAgICAgIGlzT3Blbj17aXNWaWV3ZXJPcGVufVxyXG4gICAgICAgIG9uQ2xvc2U9eygpID0+IHtcclxuICAgICAgICAgIHNldElzVmlld2VyT3BlbihmYWxzZSk7XHJcbiAgICAgICAgICBzZXRWaWV3Q3VycmVudFVzZXJTdG9yeShmYWxzZSk7XHJcbiAgICAgICAgfX1cclxuICAgICAgICBjdXJyZW50VXNlcklkPXtjdXJyZW50VXNlcklkfVxyXG4gICAgICAgIG9uU3RvcnlEZWxldGU9e29uU3RvcnlEZWxldGV9XHJcbiAgICAgICAgb25DYXB0aW9uVXBkYXRlPXtvbkNhcHRpb25VcGRhdGV9XHJcbiAgICAgICAgb25TdG9yeVZpZXc9e2hhbmRsZVN0b3J5Vmlld31cclxuICAgICAgLz5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTdG9yaWVzQ29udGFpbmVyOyAiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZVJlZiIsInVzZUVmZmVjdCIsIlN0b3J5VGh1bWJuYWlsIiwiU3RvcnlWaWV3ZXIiLCJGaVBsdXMiLCJJbWFnZSIsIlN0b3JpZXNDb250YWluZXIiLCJ1c2VycyIsImN1cnJlbnRVc2VySWQiLCJvbkFkZFN0b3J5Iiwib25TdG9yeURlbGV0ZSIsIm9uQ2FwdGlvblVwZGF0ZSIsIm9uU3RvcnlWaWV3IiwiaXNWaWV3ZXJPcGVuIiwic2V0SXNWaWV3ZXJPcGVuIiwic2VsZWN0ZWRVc2VySW5kZXgiLCJzZXRTZWxlY3RlZFVzZXJJbmRleCIsInZpZXdDdXJyZW50VXNlclN0b3J5Iiwic2V0Vmlld0N1cnJlbnRVc2VyU3RvcnkiLCJjdXJyZW50VXNlciIsImZpbmQiLCJ1c2VyIiwiaWQiLCJoYXNDdXJyZW50VXNlclN0b3J5Iiwic3RvcmllcyIsImxlbmd0aCIsImNvbnNvbGUiLCJsb2ciLCJhbGxVc2VySWRzIiwibWFwIiwidSIsImN1cnJlbnRVc2VyU3RvcmllcyIsInRvdGFsVXNlcnMiLCJzb3J0ZWRVc2VycyIsInNvcnQiLCJhIiwiYiIsInZpZXdlclVzZXJzIiwiZmlsdGVyIiwidmlld1RpbWVzdGFtcCIsInNldFZpZXdUaW1lc3RhbXAiLCJEYXRlIiwibm93Iiwidmlld2VkU3Rvcmllc1JlZiIsInN0b3JlZFZpZXdlZFN0b3JpZXMiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiY3VycmVudCIsIkpTT04iLCJwYXJzZSIsImVycm9yIiwiaGFuZGxlVXNlckNsaWNrIiwiaW5kZXgiLCJhZGp1c3RlZEluZGV4IiwiaGFuZGxlQ3VycmVudFVzZXJTdG9yeUNsaWNrIiwiaGFuZGxlQWRkU3RvcnkiLCJoYW5kbGVTdG9yeVZpZXciLCJzdG9yeUlkIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImlzU3RvcnlWaWV3ZWQiLCJkaXYiLCJjbGFzc05hbWUiLCJidXR0b24iLCJvbkNsaWNrIiwicGhvdG9VUkwiLCJzcGFuIiwiZGlzcGxheU5hbWUiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNyYyIsImFsdCIsImZpbGwiLCJzaXplcyIsIm9uRXJyb3IiLCJlIiwidGFyZ2V0Iiwic3R5bGUiLCJkaXNwbGF5Iiwic2l6ZSIsInN0b3BQcm9wYWdhdGlvbiIsImFsbFN0b3JpZXNWaWV3ZWQiLCJldmVyeSIsInN0b3J5Iiwidmlld2VkU3RvcmllcyIsImluY2x1ZGVzIiwiaW1hZ2VVcmwiLCJuYW1lIiwiaXNWaWV3ZWQiLCJpc0N1cnJlbnRVc2VyIiwiaW5pdGlhbFVzZXJJbmRleCIsImlzT3BlbiIsIm9uQ2xvc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/components/Story/StoriesContainer.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/Story/StoryProgressBar.tsx":
/*!***************************************************!*\
  !*** ./src/components/Story/StoryProgressBar.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\nconst StoryProgressBar = ({ index, isActive, isPaused, duration = 5000, onComplete, onUpdate, barStyle = {} })=>{\n    const [progress, setProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(isActive ? 0 : index < 0 ? 100 : 0);\n    const intervalRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const startTimeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    const pausedProgressRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    const pausedTimeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    // Style options\n    const { barActiveColor = \"#ffffff\", barInActiveColor = \"rgba(255, 255, 255, 0.4)\", barHeight = 2 } = barStyle;\n    // Bersihkan timer saat component unmount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        return ()=>{\n            if (intervalRef.current) clearInterval(intervalRef.current);\n        };\n    }, []);\n    // Restart progress when active story changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isActive) {\n            setProgress(0);\n            pausedProgressRef.current = 0;\n            startAnimation();\n        } else {\n            stopAnimation();\n            // Set to 100% if this story index is less than current index\n            setProgress((prev)=>prev > 0 ? prev : 0);\n        }\n    }, [\n        isActive\n    ]);\n    // Handle pausing\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isActive) {\n            if (isPaused) {\n                pausedTimeRef.current = Date.now();\n                stopAnimation();\n            } else {\n                if (pausedTimeRef.current > 0) {\n                    // Adjust startTime to account for pause duration\n                    const pauseDuration = Date.now() - pausedTimeRef.current;\n                    startTimeRef.current += pauseDuration;\n                    pausedTimeRef.current = 0;\n                }\n                startAnimation();\n            }\n        }\n    }, [\n        isPaused,\n        isActive\n    ]);\n    const startAnimation = ()=>{\n        stopAnimation();\n        startTimeRef.current = Date.now() - pausedProgressRef.current * duration / 100;\n        intervalRef.current = setInterval(()=>{\n            const elapsed = Date.now() - startTimeRef.current;\n            const newProgress = Math.min(elapsed / duration * 100, 100);\n            setProgress(newProgress);\n            pausedProgressRef.current = newProgress;\n            if (newProgress >= 100) {\n                stopAnimation();\n                onComplete && onComplete();\n            }\n        }, 16); // ~60fps\n    };\n    const stopAnimation = ()=>{\n        if (intervalRef.current) {\n            clearInterval(intervalRef.current);\n            intervalRef.current = null;\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex-1 h-1 rounded-full overflow-hidden\",\n        style: {\n            backgroundColor: barInActiveColor,\n            height: barHeight\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"h-full rounded-full transition-all duration-100 ease-linear\",\n            style: {\n                width: `${progress}%`,\n                backgroundColor: barActiveColor\n            }\n        }, void 0, false, {\n            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryProgressBar.tsx\",\n            lineNumber: 113,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryProgressBar.tsx\",\n        lineNumber: 106,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (StoryProgressBar);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9TdG9yeS9TdG9yeVByb2dyZXNzQmFyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFFMkQ7QUFnQjNELE1BQU1JLG1CQUFvRCxDQUFDLEVBQ3pEQyxLQUFLLEVBQ0xDLFFBQVEsRUFDUkMsUUFBUSxFQUNSQyxXQUFXLElBQUksRUFDZkMsVUFBVSxFQUNWQyxRQUFRLEVBQ1JDLFdBQVcsQ0FBQyxDQUFDLEVBQ2Q7SUFDQyxNQUFNLENBQUNDLFVBQVVDLFlBQVksR0FBR1gsK0NBQVFBLENBQVNJLFdBQVcsSUFBS0QsUUFBUSxJQUFJLE1BQU07SUFDbkYsTUFBTVMsY0FBY1gsNkNBQU1BLENBQXdCO0lBQ2xELE1BQU1ZLGVBQWVaLDZDQUFNQSxDQUFTO0lBQ3BDLE1BQU1hLG9CQUFvQmIsNkNBQU1BLENBQVM7SUFDekMsTUFBTWMsZ0JBQWdCZCw2Q0FBTUEsQ0FBUztJQUVyQyxnQkFBZ0I7SUFDaEIsTUFBTSxFQUNKZSxpQkFBaUIsU0FBUyxFQUMxQkMsbUJBQW1CLDBCQUEwQixFQUM3Q0MsWUFBWSxDQUFDLEVBQ2QsR0FBR1Q7SUFFSix5Q0FBeUM7SUFDekNWLGdEQUFTQSxDQUFDO1FBQ1IsT0FBTztZQUNMLElBQUlhLFlBQVlPLE9BQU8sRUFBRUMsY0FBY1IsWUFBWU8sT0FBTztRQUM1RDtJQUNGLEdBQUcsRUFBRTtJQUVMLDZDQUE2QztJQUM3Q3BCLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSUssVUFBVTtZQUNaTyxZQUFZO1lBQ1pHLGtCQUFrQkssT0FBTyxHQUFHO1lBQzVCRTtRQUNGLE9BQU87WUFDTEM7WUFDQSw2REFBNkQ7WUFDN0RYLFlBQVlZLENBQUFBLE9BQVFBLE9BQU8sSUFBSUEsT0FBTztRQUN4QztJQUNGLEdBQUc7UUFBQ25CO0tBQVM7SUFFYixpQkFBaUI7SUFDakJMLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSUssVUFBVTtZQUNaLElBQUlDLFVBQVU7Z0JBQ1pVLGNBQWNJLE9BQU8sR0FBR0ssS0FBS0MsR0FBRztnQkFDaENIO1lBQ0YsT0FBTztnQkFDTCxJQUFJUCxjQUFjSSxPQUFPLEdBQUcsR0FBRztvQkFDN0IsaURBQWlEO29CQUNqRCxNQUFNTyxnQkFBZ0JGLEtBQUtDLEdBQUcsS0FBS1YsY0FBY0ksT0FBTztvQkFDeEROLGFBQWFNLE9BQU8sSUFBSU87b0JBQ3hCWCxjQUFjSSxPQUFPLEdBQUc7Z0JBQzFCO2dCQUNBRTtZQUNGO1FBQ0Y7SUFDRixHQUFHO1FBQUNoQjtRQUFVRDtLQUFTO0lBRXZCLE1BQU1pQixpQkFBaUI7UUFDckJDO1FBRUFULGFBQWFNLE9BQU8sR0FBR0ssS0FBS0MsR0FBRyxLQUFNWCxrQkFBa0JLLE9BQU8sR0FBR2IsV0FBVztRQUU1RU0sWUFBWU8sT0FBTyxHQUFHUSxZQUFZO1lBQ2hDLE1BQU1DLFVBQVVKLEtBQUtDLEdBQUcsS0FBS1osYUFBYU0sT0FBTztZQUNqRCxNQUFNVSxjQUFjQyxLQUFLQyxHQUFHLENBQUMsVUFBV3pCLFdBQVksS0FBSztZQUV6REssWUFBWWtCO1lBQ1pmLGtCQUFrQkssT0FBTyxHQUFHVTtZQUU1QixJQUFJQSxlQUFlLEtBQUs7Z0JBQ3RCUDtnQkFDQWYsY0FBY0E7WUFDaEI7UUFDRixHQUFHLEtBQUssU0FBUztJQUNuQjtJQUVBLE1BQU1lLGdCQUFnQjtRQUNwQixJQUFJVixZQUFZTyxPQUFPLEVBQUU7WUFDdkJDLGNBQWNSLFlBQVlPLE9BQU87WUFDakNQLFlBQVlPLE9BQU8sR0FBRztRQUN4QjtJQUNGO0lBRUEscUJBQ0UsOERBQUNhO1FBQ0NDLFdBQVU7UUFDVkMsT0FBTztZQUNMQyxpQkFBaUJsQjtZQUNqQm1CLFFBQVFsQjtRQUNWO2tCQUVBLDRFQUFDYztZQUNDQyxXQUFVO1lBQ1ZDLE9BQU87Z0JBQ0xHLE9BQU8sQ0FBQyxFQUFFM0IsU0FBUyxDQUFDLENBQUM7Z0JBQ3JCeUIsaUJBQWlCbkI7WUFDbkI7Ozs7Ozs7Ozs7O0FBSVI7QUFFQSxpRUFBZWQsZ0JBQWdCQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFsbG8vLi9zcmMvY29tcG9uZW50cy9TdG9yeS9TdG9yeVByb2dyZXNzQmFyLnRzeD9lYWQ2Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcclxuXHJcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XHJcblxyXG50eXBlIFN0b3J5UHJvZ3Jlc3NCYXJQcm9wcyA9IHtcclxuICBpbmRleDogbnVtYmVyO1xyXG4gIGlzQWN0aXZlOiBib29sZWFuO1xyXG4gIGlzUGF1c2VkOiBib29sZWFuO1xyXG4gIGR1cmF0aW9uOiBudW1iZXI7XHJcbiAgb25Db21wbGV0ZT86ICgpID0+IHZvaWQ7XHJcbiAgb25VcGRhdGU/OiAoaW5kZXg6IG51bWJlcikgPT4gdm9pZDtcclxuICBiYXJTdHlsZT86IHtcclxuICAgIGJhckFjdGl2ZUNvbG9yPzogc3RyaW5nO1xyXG4gICAgYmFySW5BY3RpdmVDb2xvcj86IHN0cmluZztcclxuICAgIGJhckhlaWdodD86IG51bWJlcjtcclxuICB9O1xyXG59O1xyXG5cclxuY29uc3QgU3RvcnlQcm9ncmVzc0JhcjogUmVhY3QuRkM8U3RvcnlQcm9ncmVzc0JhclByb3BzPiA9ICh7XHJcbiAgaW5kZXgsXHJcbiAgaXNBY3RpdmUsXHJcbiAgaXNQYXVzZWQsXHJcbiAgZHVyYXRpb24gPSA1MDAwLFxyXG4gIG9uQ29tcGxldGUsXHJcbiAgb25VcGRhdGUsXHJcbiAgYmFyU3R5bGUgPSB7fVxyXG59KSA9PiB7XHJcbiAgY29uc3QgW3Byb2dyZXNzLCBzZXRQcm9ncmVzc10gPSB1c2VTdGF0ZTxudW1iZXI+KGlzQWN0aXZlID8gMCA6IChpbmRleCA8IDAgPyAxMDAgOiAwKSk7XHJcbiAgY29uc3QgaW50ZXJ2YWxSZWYgPSB1c2VSZWY8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBzdGFydFRpbWVSZWYgPSB1c2VSZWY8bnVtYmVyPigwKTtcclxuICBjb25zdCBwYXVzZWRQcm9ncmVzc1JlZiA9IHVzZVJlZjxudW1iZXI+KDApO1xyXG4gIGNvbnN0IHBhdXNlZFRpbWVSZWYgPSB1c2VSZWY8bnVtYmVyPigwKTtcclxuICBcclxuICAvLyBTdHlsZSBvcHRpb25zXHJcbiAgY29uc3Qge1xyXG4gICAgYmFyQWN0aXZlQ29sb3IgPSAnI2ZmZmZmZicsXHJcbiAgICBiYXJJbkFjdGl2ZUNvbG9yID0gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC40KScsXHJcbiAgICBiYXJIZWlnaHQgPSAyXHJcbiAgfSA9IGJhclN0eWxlO1xyXG4gIFxyXG4gIC8vIEJlcnNpaGthbiB0aW1lciBzYWF0IGNvbXBvbmVudCB1bm1vdW50XHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGlmIChpbnRlcnZhbFJlZi5jdXJyZW50KSBjbGVhckludGVydmFsKGludGVydmFsUmVmLmN1cnJlbnQpO1xyXG4gICAgfTtcclxuICB9LCBbXSk7XHJcbiAgXHJcbiAgLy8gUmVzdGFydCBwcm9ncmVzcyB3aGVuIGFjdGl2ZSBzdG9yeSBjaGFuZ2VzXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChpc0FjdGl2ZSkge1xyXG4gICAgICBzZXRQcm9ncmVzcygwKTtcclxuICAgICAgcGF1c2VkUHJvZ3Jlc3NSZWYuY3VycmVudCA9IDA7XHJcbiAgICAgIHN0YXJ0QW5pbWF0aW9uKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzdG9wQW5pbWF0aW9uKCk7XHJcbiAgICAgIC8vIFNldCB0byAxMDAlIGlmIHRoaXMgc3RvcnkgaW5kZXggaXMgbGVzcyB0aGFuIGN1cnJlbnQgaW5kZXhcclxuICAgICAgc2V0UHJvZ3Jlc3MocHJldiA9PiBwcmV2ID4gMCA/IHByZXYgOiAwKTtcclxuICAgIH1cclxuICB9LCBbaXNBY3RpdmVdKTtcclxuICBcclxuICAvLyBIYW5kbGUgcGF1c2luZ1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoaXNBY3RpdmUpIHtcclxuICAgICAgaWYgKGlzUGF1c2VkKSB7XHJcbiAgICAgICAgcGF1c2VkVGltZVJlZi5jdXJyZW50ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICBzdG9wQW5pbWF0aW9uKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKHBhdXNlZFRpbWVSZWYuY3VycmVudCA+IDApIHtcclxuICAgICAgICAgIC8vIEFkanVzdCBzdGFydFRpbWUgdG8gYWNjb3VudCBmb3IgcGF1c2UgZHVyYXRpb25cclxuICAgICAgICAgIGNvbnN0IHBhdXNlRHVyYXRpb24gPSBEYXRlLm5vdygpIC0gcGF1c2VkVGltZVJlZi5jdXJyZW50O1xyXG4gICAgICAgICAgc3RhcnRUaW1lUmVmLmN1cnJlbnQgKz0gcGF1c2VEdXJhdGlvbjtcclxuICAgICAgICAgIHBhdXNlZFRpbWVSZWYuY3VycmVudCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN0YXJ0QW5pbWF0aW9uKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCBbaXNQYXVzZWQsIGlzQWN0aXZlXSk7XHJcbiAgXHJcbiAgY29uc3Qgc3RhcnRBbmltYXRpb24gPSAoKSA9PiB7XHJcbiAgICBzdG9wQW5pbWF0aW9uKCk7XHJcbiAgICBcclxuICAgIHN0YXJ0VGltZVJlZi5jdXJyZW50ID0gRGF0ZS5ub3coKSAtIChwYXVzZWRQcm9ncmVzc1JlZi5jdXJyZW50ICogZHVyYXRpb24gLyAxMDApO1xyXG4gICAgXHJcbiAgICBpbnRlcnZhbFJlZi5jdXJyZW50ID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICBjb25zdCBlbGFwc2VkID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZVJlZi5jdXJyZW50O1xyXG4gICAgICBjb25zdCBuZXdQcm9ncmVzcyA9IE1hdGgubWluKChlbGFwc2VkIC8gZHVyYXRpb24pICogMTAwLCAxMDApO1xyXG4gICAgICBcclxuICAgICAgc2V0UHJvZ3Jlc3MobmV3UHJvZ3Jlc3MpO1xyXG4gICAgICBwYXVzZWRQcm9ncmVzc1JlZi5jdXJyZW50ID0gbmV3UHJvZ3Jlc3M7XHJcbiAgICAgIFxyXG4gICAgICBpZiAobmV3UHJvZ3Jlc3MgPj0gMTAwKSB7XHJcbiAgICAgICAgc3RvcEFuaW1hdGlvbigpO1xyXG4gICAgICAgIG9uQ29tcGxldGUgJiYgb25Db21wbGV0ZSgpO1xyXG4gICAgICB9XHJcbiAgICB9LCAxNik7IC8vIH42MGZwc1xyXG4gIH07XHJcbiAgXHJcbiAgY29uc3Qgc3RvcEFuaW1hdGlvbiA9ICgpID0+IHtcclxuICAgIGlmIChpbnRlcnZhbFJlZi5jdXJyZW50KSB7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxSZWYuY3VycmVudCk7XHJcbiAgICAgIGludGVydmFsUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgXHJcbiAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBoLTEgcm91bmRlZC1mdWxsIG92ZXJmbG93LWhpZGRlblwiXHJcbiAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBiYXJJbkFjdGl2ZUNvbG9yLFxyXG4gICAgICAgIGhlaWdodDogYmFySGVpZ2h0XHJcbiAgICAgIH19XHJcbiAgICA+XHJcbiAgICAgIDxkaXZcclxuICAgICAgICBjbGFzc05hbWU9XCJoLWZ1bGwgcm91bmRlZC1mdWxsIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTEwMCBlYXNlLWxpbmVhclwiXHJcbiAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgIHdpZHRoOiBgJHtwcm9ncmVzc30lYCxcclxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogYmFyQWN0aXZlQ29sb3JcclxuICAgICAgICB9fVxyXG4gICAgICAvPlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFN0b3J5UHJvZ3Jlc3NCYXI7Il0sIm5hbWVzIjpbIlJlYWN0IiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJ1c2VSZWYiLCJTdG9yeVByb2dyZXNzQmFyIiwiaW5kZXgiLCJpc0FjdGl2ZSIsImlzUGF1c2VkIiwiZHVyYXRpb24iLCJvbkNvbXBsZXRlIiwib25VcGRhdGUiLCJiYXJTdHlsZSIsInByb2dyZXNzIiwic2V0UHJvZ3Jlc3MiLCJpbnRlcnZhbFJlZiIsInN0YXJ0VGltZVJlZiIsInBhdXNlZFByb2dyZXNzUmVmIiwicGF1c2VkVGltZVJlZiIsImJhckFjdGl2ZUNvbG9yIiwiYmFySW5BY3RpdmVDb2xvciIsImJhckhlaWdodCIsImN1cnJlbnQiLCJjbGVhckludGVydmFsIiwic3RhcnRBbmltYXRpb24iLCJzdG9wQW5pbWF0aW9uIiwicHJldiIsIkRhdGUiLCJub3ciLCJwYXVzZUR1cmF0aW9uIiwic2V0SW50ZXJ2YWwiLCJlbGFwc2VkIiwibmV3UHJvZ3Jlc3MiLCJNYXRoIiwibWluIiwiZGl2IiwiY2xhc3NOYW1lIiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJoZWlnaHQiLCJ3aWR0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/Story/StoryProgressBar.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/Story/StoryThumbnail.tsx":
/*!*************************************************!*\
  !*** ./src/components/Story/StoryThumbnail.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/image */ \"(ssr)/./node_modules/next/dist/api/image.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\nconst StoryThumbnail = ({ imageUrl, name, isViewed, onClick, isCurrentUser = false })=>{\n    // State untuk menyimpan status view\n    const [viewed, setViewed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(isViewed);\n    // State untuk menyimpan status error gambar\n    const [imageError, setImageError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Effect untuk memperbarui state lokal saat prop berubah\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Jika status viewed berubah menjadi true, simpan status tersebut\n        if (isViewed) {\n            setViewed(true);\n        }\n    }, [\n        isViewed\n    ]);\n    // Ukuran standar untuk semua foto profil (lebih kecil dari sebelumnya)\n    const imageSize = isCurrentUser ? 12 : 10; // 12 = 48px, 10 = 40px dengan base 4px\n    // Fungsi untuk menampilkan inisial dari nama pengguna\n    const getInitial = ()=>{\n        return name ? name.charAt(0).toUpperCase() : \"?\";\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n        className: `flex flex-col items-center gap-1 min-w-16 focus:outline-none ${isCurrentUser ? \"w-18\" : \"w-16\"}`,\n        onClick: onClick,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `relative p-[2px] rounded-full ${!viewed ? \"bg-gradient-to-tr from-primary to-secondary\" : \"bg-gray-400\"}`,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-white p-[2px] rounded-full\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: `relative rounded-full overflow-hidden ${isCurrentUser ? \"h-12 w-12\" : \"h-10 w-10\"}`,\n                        children: !imageError && imageUrl ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: `absolute inset-0 flex items-center justify-center bg-gray-300 z-0`,\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-gray-600 font-medium\",\n                                        children: getInitial()\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryThumbnail.tsx\",\n                                        lineNumber: 56,\n                                        columnNumber: 19\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryThumbnail.tsx\",\n                                    lineNumber: 55,\n                                    columnNumber: 17\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                    src: imageUrl,\n                                    alt: name || \"User\",\n                                    fill: true,\n                                    sizes: isCurrentUser ? \"48px\" : \"40px\",\n                                    className: \"object-cover relative z-10\",\n                                    onError: ()=>setImageError(true)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryThumbnail.tsx\",\n                                    lineNumber: 60,\n                                    columnNumber: 17\n                                }, undefined)\n                            ]\n                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: `flex items-center justify-center bg-gray-300 h-full w-full`,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-gray-600 font-medium\",\n                                children: getInitial()\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryThumbnail.tsx\",\n                                lineNumber: 71,\n                                columnNumber: 17\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryThumbnail.tsx\",\n                            lineNumber: 70,\n                            columnNumber: 15\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryThumbnail.tsx\",\n                        lineNumber: 51,\n                        columnNumber: 11\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryThumbnail.tsx\",\n                    lineNumber: 50,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryThumbnail.tsx\",\n                lineNumber: 47,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"text-xs text-center truncate w-full\",\n                children: name\n            }, void 0, false, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryThumbnail.tsx\",\n                lineNumber: 79,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryThumbnail.tsx\",\n        lineNumber: 43,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (StoryThumbnail);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9TdG9yeS9TdG9yeVRodW1ibmFpbC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUVtRDtBQUNwQjtBQVUvQixNQUFNSSxpQkFBZ0QsQ0FBQyxFQUNyREMsUUFBUSxFQUNSQyxJQUFJLEVBQ0pDLFFBQVEsRUFDUkMsT0FBTyxFQUNQQyxnQkFBZ0IsS0FBSyxFQUN0QjtJQUNDLG9DQUFvQztJQUNwQyxNQUFNLENBQUNDLFFBQVFDLFVBQVUsR0FBR1QsK0NBQVFBLENBQUNLO0lBQ3JDLDRDQUE0QztJQUM1QyxNQUFNLENBQUNLLFlBQVlDLGNBQWMsR0FBR1gsK0NBQVFBLENBQUM7SUFFN0MseURBQXlEO0lBQ3pERCxnREFBU0EsQ0FBQztRQUNSLGtFQUFrRTtRQUNsRSxJQUFJTSxVQUFVO1lBQ1pJLFVBQVU7UUFDWjtJQUNGLEdBQUc7UUFBQ0o7S0FBUztJQUViLHVFQUF1RTtJQUN2RSxNQUFNTyxZQUFZTCxnQkFBZ0IsS0FBSyxJQUFJLHVDQUF1QztJQUVsRixzREFBc0Q7SUFDdEQsTUFBTU0sYUFBYTtRQUNqQixPQUFPVCxPQUFPQSxLQUFLVSxNQUFNLENBQUMsR0FBR0MsV0FBVyxLQUFLO0lBQy9DO0lBRUEscUJBQ0UsOERBQUNDO1FBQ0NDLFdBQVcsQ0FBQyw2REFBNkQsRUFBRVYsZ0JBQWdCLFNBQVMsT0FBTyxDQUFDO1FBQzVHRCxTQUFTQTs7MEJBRVQsOERBQUNZO2dCQUFJRCxXQUFXLENBQUMsOEJBQThCLEVBQzdDLENBQUNULFNBQVMsZ0RBQWdELGNBQzNELENBQUM7MEJBQ0EsNEVBQUNVO29CQUFJRCxXQUFVOzhCQUNiLDRFQUFDQzt3QkFBSUQsV0FBVyxDQUFDLHNDQUFzQyxFQUFFVixnQkFBZ0IsY0FBYyxZQUFZLENBQUM7a0NBQ2pHLENBQUNHLGNBQWNQLHlCQUNkOzs4Q0FFRSw4REFBQ2U7b0NBQUlELFdBQVcsQ0FBQyxpRUFBaUUsQ0FBQzs4Q0FDakYsNEVBQUNFO3dDQUFLRixXQUFVO2tEQUNiSjs7Ozs7Ozs7Ozs7OENBR0wsOERBQUNaLGtEQUFLQTtvQ0FDSm1CLEtBQUtqQjtvQ0FDTGtCLEtBQUtqQixRQUFRO29DQUNia0IsSUFBSTtvQ0FDSkMsT0FBT2hCLGdCQUFnQixTQUFTO29DQUNoQ1UsV0FBVTtvQ0FDVk8sU0FBUyxJQUFNYixjQUFjOzs7Ozs7O3lEQUlqQyw4REFBQ087NEJBQUlELFdBQVcsQ0FBQywwREFBMEQsQ0FBQztzQ0FDMUUsNEVBQUNFO2dDQUFLRixXQUFVOzBDQUNiSjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBT2IsOERBQUNNO2dCQUFLRixXQUFVOzBCQUF1Q2I7Ozs7Ozs7Ozs7OztBQUc3RDtBQUVBLGlFQUFlRixjQUFjQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFsbG8vLi9zcmMvY29tcG9uZW50cy9TdG9yeS9TdG9yeVRodW1ibmFpbC50c3g/Y2UyYSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XHJcblxyXG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IEltYWdlIGZyb20gJ25leHQvaW1hZ2UnO1xyXG5cclxudHlwZSBTdG9yeVRodW1ibmFpbFByb3BzID0ge1xyXG4gIGltYWdlVXJsOiBzdHJpbmc7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIGlzVmlld2VkOiBib29sZWFuO1xyXG4gIG9uQ2xpY2s6ICgpID0+IHZvaWQ7XHJcbiAgaXNDdXJyZW50VXNlcj86IGJvb2xlYW47XHJcbn07XHJcblxyXG5jb25zdCBTdG9yeVRodW1ibmFpbDogUmVhY3QuRkM8U3RvcnlUaHVtYm5haWxQcm9wcz4gPSAoe1xyXG4gIGltYWdlVXJsLFxyXG4gIG5hbWUsXHJcbiAgaXNWaWV3ZWQsXHJcbiAgb25DbGljayxcclxuICBpc0N1cnJlbnRVc2VyID0gZmFsc2VcclxufSkgPT4ge1xyXG4gIC8vIFN0YXRlIHVudHVrIG1lbnlpbXBhbiBzdGF0dXMgdmlld1xyXG4gIGNvbnN0IFt2aWV3ZWQsIHNldFZpZXdlZF0gPSB1c2VTdGF0ZShpc1ZpZXdlZCk7XHJcbiAgLy8gU3RhdGUgdW50dWsgbWVueWltcGFuIHN0YXR1cyBlcnJvciBnYW1iYXJcclxuICBjb25zdCBbaW1hZ2VFcnJvciwgc2V0SW1hZ2VFcnJvcl0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgXHJcbiAgLy8gRWZmZWN0IHVudHVrIG1lbXBlcmJhcnVpIHN0YXRlIGxva2FsIHNhYXQgcHJvcCBiZXJ1YmFoXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIC8vIEppa2Egc3RhdHVzIHZpZXdlZCBiZXJ1YmFoIG1lbmphZGkgdHJ1ZSwgc2ltcGFuIHN0YXR1cyB0ZXJzZWJ1dFxyXG4gICAgaWYgKGlzVmlld2VkKSB7XHJcbiAgICAgIHNldFZpZXdlZCh0cnVlKTtcclxuICAgIH1cclxuICB9LCBbaXNWaWV3ZWRdKTtcclxuICBcclxuICAvLyBVa3VyYW4gc3RhbmRhciB1bnR1ayBzZW11YSBmb3RvIHByb2ZpbCAobGViaWgga2VjaWwgZGFyaSBzZWJlbHVtbnlhKVxyXG4gIGNvbnN0IGltYWdlU2l6ZSA9IGlzQ3VycmVudFVzZXIgPyAxMiA6IDEwOyAvLyAxMiA9IDQ4cHgsIDEwID0gNDBweCBkZW5nYW4gYmFzZSA0cHhcclxuXHJcbiAgLy8gRnVuZ3NpIHVudHVrIG1lbmFtcGlsa2FuIGluaXNpYWwgZGFyaSBuYW1hIHBlbmdndW5hXHJcbiAgY29uc3QgZ2V0SW5pdGlhbCA9ICgpID0+IHtcclxuICAgIHJldHVybiBuYW1lID8gbmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSA6ICc/JztcclxuICB9O1xyXG4gIFxyXG4gIHJldHVybiAoXHJcbiAgICA8YnV0dG9uIFxyXG4gICAgICBjbGFzc05hbWU9e2BmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBnYXAtMSBtaW4tdy0xNiBmb2N1czpvdXRsaW5lLW5vbmUgJHtpc0N1cnJlbnRVc2VyID8gJ3ctMTgnIDogJ3ctMTYnfWB9XHJcbiAgICAgIG9uQ2xpY2s9e29uQ2xpY2t9XHJcbiAgICA+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgcmVsYXRpdmUgcC1bMnB4XSByb3VuZGVkLWZ1bGwgJHtcclxuICAgICAgICAhdmlld2VkID8gJ2JnLWdyYWRpZW50LXRvLXRyIGZyb20tcHJpbWFyeSB0by1zZWNvbmRhcnknIDogJ2JnLWdyYXktNDAwJ1xyXG4gICAgICB9YH0+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBwLVsycHhdIHJvdW5kZWQtZnVsbFwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2ByZWxhdGl2ZSByb3VuZGVkLWZ1bGwgb3ZlcmZsb3ctaGlkZGVuICR7aXNDdXJyZW50VXNlciA/ICdoLTEyIHctMTInIDogJ2gtMTAgdy0xMCd9YH0+XHJcbiAgICAgICAgICAgIHshaW1hZ2VFcnJvciAmJiBpbWFnZVVybCA/IChcclxuICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgey8qIEZhbGxiYWNrIGRpdiBzZWxhbHUgYWRhIGRpIGJlbGFrYW5nIGdhbWJhciAqL31cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgYWJzb2x1dGUgaW5zZXQtMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ncmF5LTMwMCB6LTBgfT5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMCBmb250LW1lZGl1bVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHtnZXRJbml0aWFsKCl9XHJcbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPEltYWdlIFxyXG4gICAgICAgICAgICAgICAgICBzcmM9e2ltYWdlVXJsfSBcclxuICAgICAgICAgICAgICAgICAgYWx0PXtuYW1lIHx8ICdVc2VyJ31cclxuICAgICAgICAgICAgICAgICAgZmlsbFxyXG4gICAgICAgICAgICAgICAgICBzaXplcz17aXNDdXJyZW50VXNlciA/IFwiNDhweFwiIDogXCI0MHB4XCJ9XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm9iamVjdC1jb3ZlciByZWxhdGl2ZSB6LTEwXCJcclxuICAgICAgICAgICAgICAgICAgb25FcnJvcj17KCkgPT4gc2V0SW1hZ2VFcnJvcih0cnVlKX1cclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ncmF5LTMwMCBoLWZ1bGwgdy1mdWxsYH0+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIGZvbnQtbWVkaXVtXCI+XHJcbiAgICAgICAgICAgICAgICAgIHtnZXRJbml0aWFsKCl9XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1jZW50ZXIgdHJ1bmNhdGUgdy1mdWxsXCI+e25hbWV9PC9zcGFuPlxyXG4gICAgPC9idXR0b24+XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFN0b3J5VGh1bWJuYWlsOyAiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsIkltYWdlIiwiU3RvcnlUaHVtYm5haWwiLCJpbWFnZVVybCIsIm5hbWUiLCJpc1ZpZXdlZCIsIm9uQ2xpY2siLCJpc0N1cnJlbnRVc2VyIiwidmlld2VkIiwic2V0Vmlld2VkIiwiaW1hZ2VFcnJvciIsInNldEltYWdlRXJyb3IiLCJpbWFnZVNpemUiLCJnZXRJbml0aWFsIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJidXR0b24iLCJjbGFzc05hbWUiLCJkaXYiLCJzcGFuIiwic3JjIiwiYWx0IiwiZmlsbCIsInNpemVzIiwib25FcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/Story/StoryThumbnail.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/Story/StoryViewer.tsx":
/*!**********************************************!*\
  !*** ./src/components/Story/StoryViewer.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/image */ \"(ssr)/./node_modules/next/dist/api/image.js\");\n/* harmony import */ var _barrel_optimize_names_FiEdit2_FiMoreVertical_FiSend_FiSmile_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=FiEdit2,FiMoreVertical,FiSend,FiSmile,FiTrash2,FiX!=!react-icons/fi */ \"(ssr)/./node_modules/react-icons/fi/index.esm.js\");\n/* harmony import */ var _StoryProgressBar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StoryProgressBar */ \"(ssr)/./src/components/Story/StoryProgressBar.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\nconst StoryViewer = ({ users, initialUserIndex, initialStoryIndex = 0, isOpen, onClose, currentUserId, onStoryDelete, onCaptionUpdate, onStoryView })=>{\n    const [currentUserIndex, setCurrentUserIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialUserIndex);\n    const [currentStoryIndex, setCurrentStoryIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialStoryIndex);\n    const [isPaused, setIsPaused] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [replyText, setReplyText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [showMenu, setShowMenu] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isEditingCaption, setIsEditingCaption] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [editedCaption, setEditedCaption] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [touchStart, setTouchStart] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const menuRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const currentUser = users[currentUserIndex];\n    const currentStory = currentUser?.stories[currentStoryIndex];\n    // Cek apakah pengguna yang login adalah pemilik story\n    const isOwnStory = !!currentUserId && !!currentUser?.id && currentUser.id === currentUserId;\n    const isVideo = currentStory?.resourceType === \"video\";\n    // Debug info for ownership check\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (currentStory && currentUser) {\n            console.log(\"Story ownership debug:\", {\n                currentUserId,\n                currentUserId_type: typeof currentUserId,\n                storyUserId: currentUser.id,\n                storyUserId_type: typeof currentUser.id,\n                isOwnStory\n            });\n        }\n    }, [\n        currentStory,\n        currentUser,\n        currentUserId,\n        isOwnStory\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen) {\n            document.body.style.overflow = \"hidden\";\n        } else {\n            document.body.style.overflow = \"auto\";\n        }\n        return ()=>{\n            document.body.style.overflow = \"auto\";\n        };\n    }, [\n        isOpen\n    ]);\n    // Saat pengguna mengganti story atau story index berubah, pastikan progres bar direset\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen) {\n            setCurrentUserIndex(initialUserIndex);\n            setCurrentStoryIndex(initialStoryIndex);\n            // Reset UI states ketika story berubah\n            setShowMenu(false);\n            setIsEditingCaption(false);\n        // Jangan reset status pause di sini, biarkan itu dikelola oleh progres bar sendiri\n        }\n    }, [\n        isOpen,\n        initialUserIndex,\n        initialStoryIndex\n    ]);\n    // Saat story ditutup kemudian dibuka kembali, pastikan progres dimulai ulang\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen) {\n            // Reset pause state saat membuka viewer pertama kali\n            setIsPaused(false);\n        }\n    }, [\n        isOpen\n    ]); // Hanya jalankan ketika status isOpen berubah\n    // Mark story as viewed - hanya jalankan sekali per story\n    const viewedStoriesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Set());\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen && currentStory && onStoryView && !isOwnStory) {\n            // Hanya tandai sebagai dilihat jika belum pernah ditandai sebelumnya\n            if (!viewedStoriesRef.current.has(currentStory.id)) {\n                console.log(`Marking story ${currentStory.id} as viewed (first time)`);\n                viewedStoriesRef.current.add(currentStory.id);\n                onStoryView(currentStory.id);\n            }\n        }\n    }, [\n        isOpen,\n        currentStory?.id\n    ]);\n    // Close menu when clicking outside\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleClickOutside = (e)=>{\n            if (menuRef.current && !menuRef.current.contains(e.target)) {\n                setShowMenu(false);\n            }\n        };\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return ()=>{\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n        };\n    }, []);\n    // Set edited caption\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (currentStory) {\n            setEditedCaption(currentStory.caption || \"\");\n        }\n    }, [\n        currentStory\n    ]);\n    // Pastikan current story ditandai sebagai dilihat jika viewer ditutup\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen && currentStory && onStoryView && !isOwnStory) {\n            // Set timeout untuk memastikan story ditandai sebagai dilihat setelah beberapa detik\n            const timer = setTimeout(()=>{\n                onStoryView(currentStory.id);\n            }, 2000); // Tandai setelah user melihat 2 detik\n            return ()=>clearTimeout(timer);\n        }\n    }, [\n        isOpen,\n        currentStory,\n        onStoryView,\n        isOwnStory\n    ]);\n    // Pause/play video saat story di-pause/resume\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isVideo && videoRef.current) {\n            if (isPaused) {\n                videoRef.current.pause();\n            } else {\n                videoRef.current.play().catch((e)=>console.error(\"Video play error:\", e));\n            }\n        }\n    }, [\n        isPaused,\n        isVideo\n    ]);\n    // Tambahkan handler untuk video ended\n    const handleVideoEnded = ()=>{\n        handleNext();\n    };\n    const handlePrevious = ()=>{\n        // Force reset progress for smooth navigation\n        setIsPaused(true);\n        if (currentStoryIndex > 0) {\n            // Previous story of current user\n            setCurrentStoryIndex(currentStoryIndex - 1);\n        } else if (currentUserIndex > 0) {\n            // Last story of previous user\n            setCurrentUserIndex(currentUserIndex - 1);\n            const prevUser = users[currentUserIndex - 1];\n            setCurrentStoryIndex(prevUser.stories.length - 1);\n        }\n        // Reset UI states when changing story\n        setShowMenu(false);\n        setIsEditingCaption(false);\n        // Resume progress after a short delay untuk memastikan komponen dirender ulang\n        setTimeout(()=>{\n            setIsPaused(false);\n        }, 50);\n    };\n    const handleNext = ()=>{\n        // Force reset progress for smooth navigation\n        setIsPaused(true);\n        // Pastikan story saat ini ditandai sebagai telah dilihat sebelum pindah\n        if (currentStory && onStoryView && !isOwnStory) {\n            onStoryView(currentStory.id);\n        }\n        const user = users[currentUserIndex];\n        if (currentStoryIndex < user.stories.length - 1) {\n            // Next story of current user\n            setCurrentStoryIndex(currentStoryIndex + 1);\n        } else if (currentUserIndex < users.length - 1) {\n            // First story of next user\n            setCurrentUserIndex(currentUserIndex + 1);\n            setCurrentStoryIndex(0);\n        } else {\n            // End of all stories - gunakan handleClose untuk memastikan story ditandai viewed\n            handleClose();\n            return;\n        }\n        // Reset UI states when changing story\n        setShowMenu(false);\n        setIsEditingCaption(false);\n        // Resume progress after a short delay untuk memastikan komponen dirender ulang\n        setTimeout(()=>{\n            setIsPaused(false);\n        }, 100); // Tambah delay dari 50ms menjadi 100ms\n    };\n    // Touch handlers\n    const handleTouchStart = (e)=>{\n        // Record starting position\n        const touch = e.touches[0];\n        setTouchStart({\n            x: touch.clientX,\n            y: touch.clientY\n        });\n        // Pause progress\n        setIsPaused(true);\n    };\n    const handleTouchEnd = (e)=>{\n        if (!touchStart) return;\n        const touch = e.changedTouches[0];\n        const deltaX = touch.clientX - touchStart.x;\n        const deltaY = touch.clientY - touchStart.y;\n        // Resume progress\n        setIsPaused(false);\n        // If horizontal swipe is significant, navigate stories\n        if (Math.abs(deltaX) > 50 && Math.abs(deltaX) > Math.abs(deltaY)) {\n            if (deltaX > 0) {\n                handlePrevious();\n            } else {\n                handleNext();\n            }\n        }\n    };\n    const handleMouseDown = ()=>{\n        setIsPaused(true);\n    };\n    const handleMouseUp = ()=>{\n        setIsPaused(false);\n    };\n    const handleLeftClick = (e)=>{\n        e.stopPropagation(); // Mencegah mousedown/up event\n        handlePrevious();\n    };\n    const handleRightClick = (e)=>{\n        e.stopPropagation(); // Mencegah mousedown/up event\n        // Pastikan story saat ini ditandai sebagai telah dilihat saat mengklik untuk fast forward\n        if (currentStory && onStoryView && !isOwnStory) {\n            onStoryView(currentStory.id);\n        }\n        handleNext();\n    };\n    const handleProgressChange = (index)=>{\n        setCurrentStoryIndex(index);\n    };\n    const formatTimestamp = (timestamp)=>{\n        if (!timestamp) return \"\";\n        try {\n            const date = timestamp.toDate ? timestamp.toDate() : new Date(timestamp);\n            return new Intl.RelativeTimeFormat(\"id\", {\n                style: \"short\"\n            }).format(-1, \"day\");\n        } catch (error) {\n            return \"\";\n        }\n    };\n    const handleReplySubmit = ()=>{\n        if (replyText.trim()) {\n            // Kirim balasan\n            console.log(`Replying to ${currentUser.displayName}'s story: ${replyText}`);\n            setReplyText(\"\");\n        }\n    };\n    const handleDeleteStory = async ()=>{\n        console.log(\"Attempting to delete story:\", {\n            storyId: currentStory?.id,\n            isOwnStory,\n            hasDeleteFunction: !!onStoryDelete\n        });\n        if (currentStory && onStoryDelete) {\n            try {\n                setIsPaused(true);\n                await onStoryDelete(currentStory.id);\n                console.log(\"Story deleted successfully\");\n                // Setelah menghapus, kita bisa menentukan story selanjutnya yang akan ditampilkan\n                const user = users[currentUserIndex];\n                if (user.stories.length === 1) {\n                    // Jika ini adalah story terakhir dari pengguna, tutup viewer\n                    if (users.length === 1) {\n                        onClose();\n                        return;\n                    }\n                    // Pindah ke pengguna lain\n                    if (currentUserIndex < users.length - 1) {\n                        setCurrentUserIndex(currentUserIndex + 1);\n                        setCurrentStoryIndex(0);\n                    } else {\n                        onClose();\n                    }\n                } else if (currentStoryIndex === user.stories.length - 1) {\n                    // Jika ini story terakhir, pindah ke story sebelumnya\n                    setCurrentStoryIndex(currentStoryIndex - 1);\n                }\n                // Jika bukan story terakhir, tetap di indeks yang sama (akan menampilkan story selanjutnya)\n                setShowMenu(false);\n                setIsPaused(false);\n            } catch (error) {\n                console.error(\"Error deleting story:\", error);\n                setIsPaused(false);\n            }\n        } else {\n            console.error(\"Cannot delete story - missing story ID or delete function\");\n        }\n    };\n    const handleSaveCaption = async ()=>{\n        if (currentStory && onCaptionUpdate) {\n            try {\n                setIsPaused(true);\n                await onCaptionUpdate(currentStory.id, editedCaption);\n                setIsEditingCaption(false);\n                setShowMenu(false);\n                setIsPaused(false);\n            } catch (error) {\n                console.error(\"Error updating caption:\", error);\n                setIsPaused(false);\n            }\n        }\n    };\n    // Tandai story saat ini sebagai dilihat ketika viewer ditutup\n    const handleClose = ()=>{\n        // Pastikan story saat ini ditandai sebagai sudah dilihat\n        if (currentStory && onStoryView && !isOwnStory) {\n            onStoryView(currentStory.id);\n        }\n        onClose();\n    };\n    if (!isOpen || !currentUser || !currentStory) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: isOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"fixed inset-0 bg-black z-50 flex items-center justify-center\",\n            ref: containerRef,\n            onMouseDown: handleMouseDown,\n            onMouseUp: handleMouseUp,\n            onTouchStart: handleTouchStart,\n            onTouchEnd: handleTouchEnd,\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"absolute top-0 left-0 right-0 flex p-2 gap-1 z-10\",\n                    children: currentUser && currentUser.stories.map((story, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_StoryProgressBar__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                            index: idx,\n                            isActive: idx === currentStoryIndex,\n                            isPaused: isPaused,\n                            duration: story.resourceType === \"video\" && story.duration ? story.duration * 1000 : 5000,\n                            onComplete: idx === currentStoryIndex ? handleNext : undefined,\n                            onUpdate: handleProgressChange\n                        }, story.id, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                            lineNumber: 396,\n                            columnNumber: 15\n                        }, undefined))\n                }, void 0, false, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                    lineNumber: 394,\n                    columnNumber: 11\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    className: \"absolute top-2 right-2 text-white z-10 p-2\",\n                    onClick: handleClose,\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiEdit2_FiMoreVertical_FiSend_FiSmile_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiX, {\n                        size: 24\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                        lineNumber: 413,\n                        columnNumber: 13\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                    lineNumber: 409,\n                    columnNumber: 11\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"w-full h-full max-w-md max-h-[80vh] relative\",\n                    children: [\n                        isVideo ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                            ref: videoRef,\n                            src: currentStory?.imageUrl,\n                            className: \"w-full h-full object-contain\",\n                            autoPlay: true,\n                            playsInline: true,\n                            muted: false,\n                            controls: false,\n                            onEnded: handleVideoEnded,\n                            onPause: ()=>setIsPaused(true),\n                            onPlay: ()=>setIsPaused(false)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                            lineNumber: 420,\n                            columnNumber: 15\n                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative w-full h-full\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                src: currentStory?.imageUrl || \"\",\n                                alt: `Story by ${currentUser?.displayName}`,\n                                fill: true,\n                                sizes: \"(max-width: 768px) 100vw, 768px\",\n                                className: \"object-contain\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                lineNumber: 434,\n                                columnNumber: 17\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                            lineNumber: 433,\n                            columnNumber: 15\n                        }, undefined),\n                        isEditingCaption ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute bottom-0 left-0 right-0 bg-black bg-opacity-70 p-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                    value: editedCaption,\n                                    onChange: (e)=>setEditedCaption(e.target.value),\n                                    className: \"w-full p-2 bg-gray-800 border border-gray-700 text-white rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                                    rows: 2,\n                                    placeholder: \"Add a caption...\",\n                                    autoFocus: true\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                    lineNumber: 447,\n                                    columnNumber: 17\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex justify-end mt-2 gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            className: \"px-3 py-1 bg-gray-700 text-white rounded-md text-sm\",\n                                            onClick: ()=>setIsEditingCaption(false),\n                                            children: \"Cancel\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                            lineNumber: 456,\n                                            columnNumber: 19\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            className: \"px-3 py-1 bg-blue-600 text-white rounded-md text-sm\",\n                                            onClick: handleSaveCaption,\n                                            children: \"Save\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                            lineNumber: 462,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                    lineNumber: 455,\n                                    columnNumber: 17\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                            lineNumber: 446,\n                            columnNumber: 15\n                        }, undefined) : currentStory?.caption && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute bottom-0 left-0 right-0 bg-black bg-opacity-70 p-4 text-white\",\n                            children: currentStory.caption\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                            lineNumber: 472,\n                            columnNumber: 17\n                        }, undefined),\n                        isOwnStory && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute top-6 right-12 z-50\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    className: \"p-2.5 text-white bg-black/30 backdrop-blur-sm rounded-full hover:bg-white/20 transition\",\n                                    onClick: (e)=>{\n                                        e.stopPropagation();\n                                        setShowMenu(!showMenu);\n                                    },\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiEdit2_FiMoreVertical_FiSend_FiSmile_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiMoreVertical, {\n                                        size: 22\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                        lineNumber: 488,\n                                        columnNumber: 19\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                    lineNumber: 481,\n                                    columnNumber: 17\n                                }, undefined),\n                                showMenu && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    ref: menuRef,\n                                    className: \"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-xl overflow-hidden z-50 border border-gray-200\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            className: \"w-full px-4 py-3 text-left text-gray-700 hover:bg-gray-100 flex items-center transition\",\n                                            onClick: (e)=>{\n                                                e.stopPropagation();\n                                                setIsEditingCaption(true);\n                                                setShowMenu(false);\n                                                setIsPaused(true);\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiEdit2_FiMoreVertical_FiSend_FiSmile_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiEdit2, {\n                                                    className: \"mr-3\",\n                                                    size: 18\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                                    lineNumber: 505,\n                                                    columnNumber: 23\n                                                }, undefined),\n                                                \"Edit Caption\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                            lineNumber: 496,\n                                            columnNumber: 21\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            className: \"w-full px-4 py-3 text-left text-red-600 hover:bg-red-50 flex items-center transition\",\n                                            onClick: (e)=>{\n                                                e.stopPropagation();\n                                                if (window.confirm(\"Apakah Anda yakin ingin menghapus story ini?\")) {\n                                                    handleDeleteStory();\n                                                }\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiEdit2_FiMoreVertical_FiSend_FiSmile_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiTrash2, {\n                                                    className: \"mr-3\",\n                                                    size: 18\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                                    lineNumber: 517,\n                                                    columnNumber: 23\n                                                }, undefined),\n                                                \"Hapus Story\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                            lineNumber: 508,\n                                            columnNumber: 21\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                    lineNumber: 492,\n                                    columnNumber: 19\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                            lineNumber: 480,\n                            columnNumber: 15\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute inset-0 z-10 flex\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-1/3 h-full cursor-pointer\",\n                                    onClick: handleLeftClick\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                    lineNumber: 528,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-1/3 h-full\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                    lineNumber: 534,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-1/3 h-full cursor-pointer\",\n                                    onClick: handleRightClick\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                    lineNumber: 537,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                            lineNumber: 526,\n                            columnNumber: 13\n                        }, undefined),\n                        !isOwnStory && !isEditingCaption && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute bottom-4 left-0 right-0 px-4 z-20\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center bg-white rounded-full overflow-hidden p-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"p-2 text-gray-600\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiEdit2_FiMoreVertical_FiSend_FiSmile_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiSmile, {\n                                            size: 20\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                            lineNumber: 548,\n                                            columnNumber: 21\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                        lineNumber: 547,\n                                        columnNumber: 19\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        type: \"text\",\n                                        value: replyText,\n                                        onChange: (e)=>setReplyText(e.target.value),\n                                        placeholder: \"Balas...\",\n                                        className: \"flex-1 outline-none px-2 py-1 text-sm\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                        lineNumber: 550,\n                                        columnNumber: 19\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"p-2 text-primary disabled:text-gray-400\",\n                                        disabled: !replyText.trim(),\n                                        onClick: handleReplySubmit,\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiEdit2_FiMoreVertical_FiSend_FiSmile_FiTrash2_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_4__.FiSend, {\n                                            size: 20\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                            lineNumber: 562,\n                                            columnNumber: 21\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                        lineNumber: 557,\n                                        columnNumber: 19\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                                lineNumber: 546,\n                                columnNumber: 17\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                            lineNumber: 545,\n                            columnNumber: 15\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n                    lineNumber: 417,\n                    columnNumber: 11\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\Story\\\\StoryViewer.tsx\",\n            lineNumber: 385,\n            columnNumber: 9\n        }, undefined)\n    }, void 0, false);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (StoryViewer);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9TdG9yeS9TdG9yeVZpZXdlci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBRTJEO0FBQzVCO0FBQzRFO0FBQ3pEO0FBZ0NsRCxNQUFNWSxjQUEwQyxDQUFDLEVBQy9DQyxLQUFLLEVBQ0xDLGdCQUFnQixFQUNoQkMsb0JBQW9CLENBQUMsRUFDckJDLE1BQU0sRUFDTkMsT0FBTyxFQUNQQyxhQUFhLEVBQ2JDLGFBQWEsRUFDYkMsZUFBZSxFQUNmQyxXQUFXLEVBQ1o7SUFDQyxNQUFNLENBQUNDLGtCQUFrQkMsb0JBQW9CLEdBQUd0QiwrQ0FBUUEsQ0FBQ2E7SUFDekQsTUFBTSxDQUFDVSxtQkFBbUJDLHFCQUFxQixHQUFHeEIsK0NBQVFBLENBQUNjO0lBQzNELE1BQU0sQ0FBQ1csVUFBVUMsWUFBWSxHQUFHMUIsK0NBQVFBLENBQUM7SUFDekMsTUFBTSxDQUFDMkIsV0FBV0MsYUFBYSxHQUFHNUIsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDNkIsVUFBVUMsWUFBWSxHQUFHOUIsK0NBQVFBLENBQUM7SUFDekMsTUFBTSxDQUFDK0Isa0JBQWtCQyxvQkFBb0IsR0FBR2hDLCtDQUFRQSxDQUFDO0lBQ3pELE1BQU0sQ0FBQ2lDLGVBQWVDLGlCQUFpQixHQUFHbEMsK0NBQVFBLENBQUM7SUFDbkQsTUFBTSxDQUFDbUMsWUFBWUMsY0FBYyxHQUFHcEMsK0NBQVFBLENBQWtDO0lBQzlFLE1BQU1xQyxlQUFlbkMsNkNBQU1BLENBQWlCO0lBQzVDLE1BQU1vQyxVQUFVcEMsNkNBQU1BLENBQWlCO0lBQ3ZDLE1BQU1xQyxXQUFXckMsNkNBQU1BLENBQW1CO0lBRTFDLE1BQU1zQyxjQUFjNUIsS0FBSyxDQUFDUyxpQkFBaUI7SUFDM0MsTUFBTW9CLGVBQWVELGFBQWFFLE9BQU8sQ0FBQ25CLGtCQUFrQjtJQUU1RCxzREFBc0Q7SUFDdEQsTUFBTW9CLGFBQWEsQ0FBQyxDQUFDMUIsaUJBQWlCLENBQUMsQ0FBQ3VCLGFBQWFJ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QU8sQ0FBQyxpREFBaUQ7b0RBQ2xFMUM7Z0RBQ0Y7NENBQ0Y7OzhEQUVBLDhEQUFDeEcsOEhBQVFBO29EQUFDNkcsV0FBVTtvREFBT2dCLE1BQU07Ozs7OztnREFBTTs7Ozs7Ozs7Ozs7Ozs7Ozs7OztzQ0FTakQsOERBQUNqQjs0QkFBSUMsV0FBVTs7OENBRWIsOERBQUNEO29DQUNDQyxXQUFVO29DQUNWZSxTQUFTcEM7Ozs7Ozs4Q0FJWCw4REFBQ29CO29DQUFJQyxXQUFVOzs7Ozs7OENBR2YsOERBQUNEO29DQUNDQyxXQUFVO29DQUNWZSxTQUFTbEM7Ozs7Ozs7Ozs7Ozt3QkFLWixDQUFDeEQsY0FBYyxDQUFDWixrQ0FDZiw4REFBQ3NGOzRCQUFJQyxXQUFVO3NDQUNiLDRFQUFDRDtnQ0FBSUMsV0FBVTs7a0RBQ2IsOERBQUNjO3dDQUFPZCxXQUFVO2tEQUNoQiw0RUFBQ2hILDZIQUFPQTs0Q0FBQ2dJLE1BQU07Ozs7Ozs7Ozs7O2tEQUVqQiw4REFBQ3NCO3dDQUNDQyxNQUFLO3dDQUNMUixPQUFPMUg7d0NBQ1AySCxVQUFVLENBQUN4RixJQUFNbEMsYUFBYWtDLEVBQUVFLE1BQU0sQ0FBQ3FGLEtBQUs7d0NBQzVDRyxhQUFZO3dDQUNabEMsV0FBVTs7Ozs7O2tEQUVaLDhEQUFDYzt3Q0FDQ2QsV0FBVTt3Q0FDVndDLFVBQVUsQ0FBQ25JLFVBQVVvRixJQUFJO3dDQUN6QnNCLFNBQVN2QjtrREFFVCw0RUFBQ3pHLDRIQUFNQTs0Q0FBQ2lJLE1BQU07Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBVWxDO0FBRUEsaUVBQWUzSCxXQUFXQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFsbG8vLi9zcmMvY29tcG9uZW50cy9TdG9yeS9TdG9yeVZpZXdlci50c3g/ZjA4ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XHJcblxyXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgSW1hZ2UgZnJvbSAnbmV4dC9pbWFnZSc7XHJcbmltcG9ydCB7IEZpWCwgRmlDb3JuZXJEb3duTGVmdCwgRmlTZW5kLCBGaVNtaWxlLCBGaU1vcmVWZXJ0aWNhbCwgRmlFZGl0MiwgRmlUcmFzaDIgfSBmcm9tICdyZWFjdC1pY29ucy9maSc7XHJcbmltcG9ydCBTdG9yeVByb2dyZXNzQmFyIGZyb20gJy4vU3RvcnlQcm9ncmVzc0Jhcic7XHJcblxyXG50eXBlIFN0b3J5ID0ge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgaW1hZ2VVcmw6IHN0cmluZztcclxuICB0aW1lc3RhbXA6IGFueTtcclxuICB1c2VySWQ6IHN0cmluZztcclxuICBjYXB0aW9uPzogc3RyaW5nO1xyXG4gIHJlc291cmNlVHlwZT86ICdpbWFnZScgfCAndmlkZW8nO1xyXG4gIGR1cmF0aW9uPzogbnVtYmVyO1xyXG59O1xyXG5cclxudHlwZSBTdG9yeVVzZXIgPSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBkaXNwbGF5TmFtZTogc3RyaW5nO1xyXG4gIHBob3RvVVJMOiBzdHJpbmc7XHJcbiAgc3RvcmllczogU3RvcnlbXTtcclxuICB2aWV3ZWRTdG9yaWVzPzogc3RyaW5nW107XHJcbn07XHJcblxyXG50eXBlIFN0b3J5Vmlld2VyUHJvcHMgPSB7XHJcbiAgdXNlcnM6IFN0b3J5VXNlcltdO1xyXG4gIGluaXRpYWxVc2VySW5kZXg6IG51bWJlcjtcclxuICBpbml0aWFsU3RvcnlJbmRleD86IG51bWJlcjtcclxuICBpc09wZW46IGJvb2xlYW47XHJcbiAgb25DbG9zZTogKCkgPT4gdm9pZDtcclxuICBjdXJyZW50VXNlcklkPzogc3RyaW5nO1xyXG4gIG9uU3RvcnlEZWxldGU/OiAoc3RvcnlJZDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xyXG4gIG9uQ2FwdGlvblVwZGF0ZT86IChzdG9yeUlkOiBzdHJpbmcsIGNhcHRpb246IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcclxuICBvblN0b3J5Vmlldz86IChzdG9yeUlkOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XHJcbn07XHJcblxyXG5jb25zdCBTdG9yeVZpZXdlcjogUmVhY3QuRkM8U3RvcnlWaWV3ZXJQcm9wcz4gPSAoe1xyXG4gIHVzZXJzLFxyXG4gIGluaXRpYWxVc2VySW5kZXgsXHJcbiAgaW5pdGlhbFN0b3J5SW5kZXggPSAwLFxyXG4gIGlzT3BlbixcclxuICBvbkNsb3NlLFxyXG4gIGN1cnJlbnRVc2VySWQsXHJcbiAgb25TdG9yeURlbGV0ZSxcclxuICBvbkNhcHRpb25VcGRhdGUsXHJcbiAgb25TdG9yeVZpZXdcclxufSkgPT4ge1xyXG4gIGNvbnN0IFtjdXJyZW50VXNlckluZGV4LCBzZXRDdXJyZW50VXNlckluZGV4XSA9IHVzZVN0YXRlKGluaXRpYWxVc2VySW5kZXgpO1xyXG4gIGNvbnN0IFtjdXJyZW50U3RvcnlJbmRleCwgc2V0Q3VycmVudFN0b3J5SW5kZXhdID0gdXNlU3RhdGUoaW5pdGlhbFN0b3J5SW5kZXgpO1xyXG4gIGNvbnN0IFtpc1BhdXNlZCwgc2V0SXNQYXVzZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtyZXBseVRleHQsIHNldFJlcGx5VGV4dF0gPSB1c2VTdGF0ZSgnJyk7XHJcbiAgY29uc3QgW3Nob3dNZW51LCBzZXRTaG93TWVudV0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2lzRWRpdGluZ0NhcHRpb24sIHNldElzRWRpdGluZ0NhcHRpb25dID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtlZGl0ZWRDYXB0aW9uLCBzZXRFZGl0ZWRDYXB0aW9uXSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBbdG91Y2hTdGFydCwgc2V0VG91Y2hTdGFydF0gPSB1c2VTdGF0ZTx7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0gfCBudWxsPihudWxsKTtcclxuICBjb25zdCBjb250YWluZXJSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xyXG4gIGNvbnN0IG1lbnVSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xyXG4gIGNvbnN0IHZpZGVvUmVmID0gdXNlUmVmPEhUTUxWaWRlb0VsZW1lbnQ+KG51bGwpO1xyXG4gIFxyXG4gIGNvbnN0IGN1cnJlbnRVc2VyID0gdXNlcnNbY3VycmVudFVzZXJJbmRleF07XHJcbiAgY29uc3QgY3VycmVudFN0b3J5ID0gY3VycmVudFVzZXI/LnN0b3JpZXNbY3VycmVudFN0b3J5SW5kZXhdO1xyXG4gIFxyXG4gIC8vIENlayBhcGFrYWggcGVuZ2d1bmEgeWFuZyBsb2dpbiBhZGFsYWggcGVtaWxpayBzdG9yeVxyXG4gIGNvbnN0IGlzT3duU3RvcnkgPSAhIWN1cnJlbnRVc2VySWQgJiYgISFjdXJyZW50VXNlcj8uaWQgJiYgY3VycmVudFVzZXIuaWQgPT09IGN1cnJlbnRVc2VySWQ7XHJcbiAgY29uc3QgaXNWaWRlbyA9IGN1cnJlbnRTdG9yeT8ucmVzb3VyY2VUeXBlID09PSAndmlkZW8nO1xyXG5cclxuICAvLyBEZWJ1ZyBpbmZvIGZvciBvd25lcnNoaXAgY2hlY2tcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGN1cnJlbnRTdG9yeSAmJiBjdXJyZW50VXNlcikge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIlN0b3J5IG93bmVyc2hpcCBkZWJ1ZzpcIiwge1xyXG4gICAgICAgIGN1cnJlbnRVc2VySWQsXHJcbiAgICAgICAgY3VycmVudFVzZXJJZF90eXBlOiB0eXBlb2YgY3VycmVudFVzZXJJZCxcclxuICAgICAgICBzdG9yeVVzZXJJZDogY3VycmVudFVzZXIuaWQsXHJcbiAgICAgICAgc3RvcnlVc2VySWRfdHlwZTogdHlwZW9mIGN1cnJlbnRVc2VyLmlkLFxyXG4gICAgICAgIGlzT3duU3RvcnlcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSwgW2N1cnJlbnRTdG9yeSwgY3VycmVudFVzZXIsIGN1cnJlbnRVc2VySWQsIGlzT3duU3RvcnldKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChpc09wZW4pIHtcclxuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdhdXRvJztcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdhdXRvJztcclxuICAgIH07XHJcbiAgfSwgW2lzT3Blbl0pO1xyXG5cclxuICAvLyBTYWF0IHBlbmdndW5hIG1lbmdnYW50aSBzdG9yeSBhdGF1IHN0b3J5IGluZGV4IGJlcnViYWgsIHBhc3Rpa2FuIHByb2dyZXMgYmFyIGRpcmVzZXRcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGlzT3Blbikge1xyXG4gICAgICBzZXRDdXJyZW50VXNlckluZGV4KGluaXRpYWxVc2VySW5kZXgpO1xyXG4gICAgICBzZXRDdXJyZW50U3RvcnlJbmRleChpbml0aWFsU3RvcnlJbmRleCk7XHJcbiAgICAgIC8vIFJlc2V0IFVJIHN0YXRlcyBrZXRpa2Egc3RvcnkgYmVydWJhaFxyXG4gICAgICBzZXRTaG93TWVudShmYWxzZSk7XHJcbiAgICAgIHNldElzRWRpdGluZ0NhcHRpb24oZmFsc2UpO1xyXG4gICAgICAvLyBKYW5nYW4gcmVzZXQgc3RhdHVzIHBhdXNlIGRpIHNpbmksIGJpYXJrYW4gaXR1IGRpa2Vsb2xhIG9sZWggcHJvZ3JlcyBiYXIgc2VuZGlyaVxyXG4gICAgfVxyXG4gIH0sIFtpc09wZW4sIGluaXRpYWxVc2VySW5kZXgsIGluaXRpYWxTdG9yeUluZGV4XSk7XHJcblxyXG4gIC8vIFNhYXQgc3RvcnkgZGl0dXR1cCBrZW11ZGlhbiBkaWJ1a2Ega2VtYmFsaSwgcGFzdGlrYW4gcHJvZ3JlcyBkaW11bGFpIHVsYW5nXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChpc09wZW4pIHtcclxuICAgICAgLy8gUmVzZXQgcGF1c2Ugc3RhdGUgc2FhdCBtZW1idWthIHZpZXdlciBwZXJ0YW1hIGthbGlcclxuICAgICAgc2V0SXNQYXVzZWQoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH0sIFtpc09wZW5dKTsgLy8gSGFueWEgamFsYW5rYW4ga2V0aWthIHN0YXR1cyBpc09wZW4gYmVydWJhaFxyXG5cclxuICAvLyBNYXJrIHN0b3J5IGFzIHZpZXdlZCAtIGhhbnlhIGphbGFua2FuIHNla2FsaSBwZXIgc3RvcnlcclxuICBjb25zdCB2aWV3ZWRTdG9yaWVzUmVmID0gdXNlUmVmPFNldDxzdHJpbmc+PihuZXcgU2V0KCkpO1xyXG4gIFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoaXNPcGVuICYmIGN1cnJlbnRTdG9yeSAmJiBvblN0b3J5VmlldyAmJiAhaXNPd25TdG9yeSkge1xyXG4gICAgICAvLyBIYW55YSB0YW5kYWkgc2ViYWdhaSBkaWxpaGF0IGppa2EgYmVsdW0gcGVybmFoIGRpdGFuZGFpIHNlYmVsdW1ueWFcclxuICAgICAgaWYgKCF2aWV3ZWRTdG9yaWVzUmVmLmN1cnJlbnQuaGFzKGN1cnJlbnRTdG9yeS5pZCkpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhgTWFya2luZyBzdG9yeSAke2N1cnJlbnRTdG9yeS5pZH0gYXMgdmlld2VkIChmaXJzdCB0aW1lKWApO1xyXG4gICAgICAgIHZpZXdlZFN0b3JpZXNSZWYuY3VycmVudC5hZGQoY3VycmVudFN0b3J5LmlkKTtcclxuICAgICAgICBvblN0b3J5VmlldyhjdXJyZW50U3RvcnkuaWQpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSwgW2lzT3BlbiwgY3VycmVudFN0b3J5Py5pZF0pO1xyXG5cclxuICAvLyBDbG9zZSBtZW51IHdoZW4gY2xpY2tpbmcgb3V0c2lkZVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBoYW5kbGVDbGlja091dHNpZGUgPSAoZTogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICBpZiAobWVudVJlZi5jdXJyZW50ICYmICFtZW51UmVmLmN1cnJlbnQuY29udGFpbnMoZS50YXJnZXQgYXMgTm9kZSkpIHtcclxuICAgICAgICBzZXRTaG93TWVudShmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XHJcbiAgICB9O1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgLy8gU2V0IGVkaXRlZCBjYXB0aW9uXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChjdXJyZW50U3RvcnkpIHtcclxuICAgICAgc2V0RWRpdGVkQ2FwdGlvbihjdXJyZW50U3RvcnkuY2FwdGlvbiB8fCAnJyk7XHJcbiAgICB9XHJcbiAgfSwgW2N1cnJlbnRTdG9yeV0pO1xyXG5cclxuICAvLyBQYXN0aWthbiBjdXJyZW50IHN0b3J5IGRpdGFuZGFpIHNlYmFnYWkgZGlsaWhhdCBqaWthIHZpZXdlciBkaXR1dHVwXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChpc09wZW4gJiYgY3VycmVudFN0b3J5ICYmIG9uU3RvcnlWaWV3ICYmICFpc093blN0b3J5KSB7XHJcbiAgICAgIC8vIFNldCB0aW1lb3V0IHVudHVrIG1lbWFzdGlrYW4gc3RvcnkgZGl0YW5kYWkgc2ViYWdhaSBkaWxpaGF0IHNldGVsYWggYmViZXJhcGEgZGV0aWtcclxuICAgICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBvblN0b3J5VmlldyhjdXJyZW50U3RvcnkuaWQpO1xyXG4gICAgICB9LCAyMDAwKTsgLy8gVGFuZGFpIHNldGVsYWggdXNlciBtZWxpaGF0IDIgZGV0aWtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZXIpO1xyXG4gICAgfVxyXG4gIH0sIFtpc09wZW4sIGN1cnJlbnRTdG9yeSwgb25TdG9yeVZpZXcsIGlzT3duU3RvcnldKTtcclxuXHJcbiAgLy8gUGF1c2UvcGxheSB2aWRlbyBzYWF0IHN0b3J5IGRpLXBhdXNlL3Jlc3VtZVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoaXNWaWRlbyAmJiB2aWRlb1JlZi5jdXJyZW50KSB7XHJcbiAgICAgIGlmIChpc1BhdXNlZCkge1xyXG4gICAgICAgIHZpZGVvUmVmLmN1cnJlbnQucGF1c2UoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB2aWRlb1JlZi5jdXJyZW50LnBsYXkoKS5jYXRjaChlID0+IGNvbnNvbGUuZXJyb3IoXCJWaWRlbyBwbGF5IGVycm9yOlwiLCBlKSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCBbaXNQYXVzZWQsIGlzVmlkZW9dKTtcclxuXHJcbiAgLy8gVGFtYmFoa2FuIGhhbmRsZXIgdW50dWsgdmlkZW8gZW5kZWRcclxuICBjb25zdCBoYW5kbGVWaWRlb0VuZGVkID0gKCkgPT4ge1xyXG4gICAgaGFuZGxlTmV4dCgpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVByZXZpb3VzID0gKCkgPT4ge1xyXG4gICAgLy8gRm9yY2UgcmVzZXQgcHJvZ3Jlc3MgZm9yIHNtb290aCBuYXZpZ2F0aW9uXHJcbiAgICBzZXRJc1BhdXNlZCh0cnVlKTtcclxuICAgIFxyXG4gICAgaWYgKGN1cnJlbnRTdG9yeUluZGV4ID4gMCkge1xyXG4gICAgICAvLyBQcmV2aW91cyBzdG9yeSBvZiBjdXJyZW50IHVzZXJcclxuICAgICAgc2V0Q3VycmVudFN0b3J5SW5kZXgoY3VycmVudFN0b3J5SW5kZXggLSAxKTtcclxuICAgIH0gZWxzZSBpZiAoY3VycmVudFVzZXJJbmRleCA+IDApIHtcclxuICAgICAgLy8gTGFzdCBzdG9yeSBvZiBwcmV2aW91cyB1c2VyXHJcbiAgICAgIHNldEN1cnJlbnRVc2VySW5kZXgoY3VycmVudFVzZXJJbmRleCAtIDEpO1xyXG4gICAgICBjb25zdCBwcmV2VXNlciA9IHVzZXJzW2N1cnJlbnRVc2VySW5kZXggLSAxXTtcclxuICAgICAgc2V0Q3VycmVudFN0b3J5SW5kZXgocHJldlVzZXIuc3Rvcmllcy5sZW5ndGggLSAxKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXNldCBVSSBzdGF0ZXMgd2hlbiBjaGFuZ2luZyBzdG9yeVxyXG4gICAgc2V0U2hvd01lbnUoZmFsc2UpO1xyXG4gICAgc2V0SXNFZGl0aW5nQ2FwdGlvbihmYWxzZSk7XHJcbiAgICBcclxuICAgIC8vIFJlc3VtZSBwcm9ncmVzcyBhZnRlciBhIHNob3J0IGRlbGF5IHVudHVrIG1lbWFzdGlrYW4ga29tcG9uZW4gZGlyZW5kZXIgdWxhbmdcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBzZXRJc1BhdXNlZChmYWxzZSk7XHJcbiAgICB9LCA1MCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlTmV4dCA9ICgpID0+IHtcclxuICAgIC8vIEZvcmNlIHJlc2V0IHByb2dyZXNzIGZvciBzbW9vdGggbmF2aWdhdGlvblxyXG4gICAgc2V0SXNQYXVzZWQodHJ1ZSk7XHJcblxyXG4gICAgLy8gUGFzdGlrYW4gc3Rvcnkgc2FhdCBpbmkgZGl0YW5kYWkgc2ViYWdhaSB0ZWxhaCBkaWxpaGF0IHNlYmVsdW0gcGluZGFoXHJcbiAgICBpZiAoY3VycmVudFN0b3J5ICYmIG9uU3RvcnlWaWV3ICYmICFpc093blN0b3J5KSB7XHJcbiAgICAgIG9uU3RvcnlWaWV3KGN1cnJlbnRTdG9yeS5pZCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IHVzZXIgPSB1c2Vyc1tjdXJyZW50VXNlckluZGV4XTtcclxuICAgIGlmIChjdXJyZW50U3RvcnlJbmRleCA8IHVzZXIuc3Rvcmllcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgIC8vIE5leHQgc3Rvcnkgb2YgY3VycmVudCB1c2VyXHJcbiAgICAgIHNldEN1cnJlbnRTdG9yeUluZGV4KGN1cnJlbnRTdG9yeUluZGV4ICsgMSk7XHJcbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRVc2VySW5kZXggPCB1c2Vycy5sZW5ndGggLSAxKSB7XHJcbiAgICAgIC8vIEZpcnN0IHN0b3J5IG9mIG5leHQgdXNlclxyXG4gICAgICBzZXRDdXJyZW50VXNlckluZGV4KGN1cnJlbnRVc2VySW5kZXggKyAxKTtcclxuICAgICAgc2V0Q3VycmVudFN0b3J5SW5kZXgoMCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBFbmQgb2YgYWxsIHN0b3JpZXMgLSBndW5ha2FuIGhhbmRsZUNsb3NlIHVudHVrIG1lbWFzdGlrYW4gc3RvcnkgZGl0YW5kYWkgdmlld2VkXHJcbiAgICAgIGhhbmRsZUNsb3NlKCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXNldCBVSSBzdGF0ZXMgd2hlbiBjaGFuZ2luZyBzdG9yeVxyXG4gICAgc2V0U2hvd01lbnUoZmFsc2UpO1xyXG4gICAgc2V0SXNFZGl0aW5nQ2FwdGlvbihmYWxzZSk7XHJcbiAgICBcclxuICAgIC8vIFJlc3VtZSBwcm9ncmVzcyBhZnRlciBhIHNob3J0IGRlbGF5IHVudHVrIG1lbWFzdGlrYW4ga29tcG9uZW4gZGlyZW5kZXIgdWxhbmdcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBzZXRJc1BhdXNlZChmYWxzZSk7XHJcbiAgICB9LCAxMDApOyAvLyBUYW1iYWggZGVsYXkgZGFyaSA1MG1zIG1lbmphZGkgMTAwbXNcclxuICB9O1xyXG5cclxuICAvLyBUb3VjaCBoYW5kbGVyc1xyXG4gIGNvbnN0IGhhbmRsZVRvdWNoU3RhcnQgPSAoZTogUmVhY3QuVG91Y2hFdmVudCkgPT4ge1xyXG4gICAgLy8gUmVjb3JkIHN0YXJ0aW5nIHBvc2l0aW9uXHJcbiAgICBjb25zdCB0b3VjaCA9IGUudG91Y2hlc1swXTtcclxuICAgIHNldFRvdWNoU3RhcnQoeyB4OiB0b3VjaC5jbGllbnRYLCB5OiB0b3VjaC5jbGllbnRZIH0pO1xyXG4gICAgLy8gUGF1c2UgcHJvZ3Jlc3NcclxuICAgIHNldElzUGF1c2VkKHRydWUpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVRvdWNoRW5kID0gKGU6IFJlYWN0LlRvdWNoRXZlbnQpID0+IHtcclxuICAgIGlmICghdG91Y2hTdGFydCkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICBjb25zdCB0b3VjaCA9IGUuY2hhbmdlZFRvdWNoZXNbMF07XHJcbiAgICBjb25zdCBkZWx0YVggPSB0b3VjaC5jbGllbnRYIC0gdG91Y2hTdGFydC54O1xyXG4gICAgY29uc3QgZGVsdGFZID0gdG91Y2guY2xpZW50WSAtIHRvdWNoU3RhcnQueTtcclxuICAgIFxyXG4gICAgLy8gUmVzdW1lIHByb2dyZXNzXHJcbiAgICBzZXRJc1BhdXNlZChmYWxzZSk7XHJcbiAgICBcclxuICAgIC8vIElmIGhvcml6b250YWwgc3dpcGUgaXMgc2lnbmlmaWNhbnQsIG5hdmlnYXRlIHN0b3JpZXNcclxuICAgIGlmIChNYXRoLmFicyhkZWx0YVgpID4gNTAgJiYgTWF0aC5hYnMoZGVsdGFYKSA+IE1hdGguYWJzKGRlbHRhWSkpIHtcclxuICAgICAgaWYgKGRlbHRhWCA+IDApIHtcclxuICAgICAgICBoYW5kbGVQcmV2aW91cygpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGhhbmRsZU5leHQoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZU1vdXNlRG93biA9ICgpID0+IHtcclxuICAgIHNldElzUGF1c2VkKHRydWUpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZU1vdXNlVXAgPSAoKSA9PiB7XHJcbiAgICBzZXRJc1BhdXNlZChmYWxzZSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlTGVmdENsaWNrID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIE1lbmNlZ2FoIG1vdXNlZG93bi91cCBldmVudFxyXG4gICAgaGFuZGxlUHJldmlvdXMoKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVSaWdodENsaWNrID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIE1lbmNlZ2FoIG1vdXNlZG93bi91cCBldmVudFxyXG5cclxuICAgIC8vIFBhc3Rpa2FuIHN0b3J5IHNhYXQgaW5pIGRpdGFuZGFpIHNlYmFnYWkgdGVsYWggZGlsaWhhdCBzYWF0IG1lbmdrbGlrIHVudHVrIGZhc3QgZm9yd2FyZFxyXG4gICAgaWYgKGN1cnJlbnRTdG9yeSAmJiBvblN0b3J5VmlldyAmJiAhaXNPd25TdG9yeSkge1xyXG4gICAgICBvblN0b3J5VmlldyhjdXJyZW50U3RvcnkuaWQpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBoYW5kbGVOZXh0KCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlUHJvZ3Jlc3NDaGFuZ2UgPSAoaW5kZXg6IG51bWJlcikgPT4ge1xyXG4gICAgc2V0Q3VycmVudFN0b3J5SW5kZXgoaW5kZXgpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGZvcm1hdFRpbWVzdGFtcCA9ICh0aW1lc3RhbXA6IGFueSkgPT4ge1xyXG4gICAgaWYgKCF0aW1lc3RhbXApIHJldHVybiAnJztcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZGF0ZSA9IHRpbWVzdGFtcC50b0RhdGUgPyB0aW1lc3RhbXAudG9EYXRlKCkgOiBuZXcgRGF0ZSh0aW1lc3RhbXApO1xyXG4gICAgICByZXR1cm4gbmV3IEludGwuUmVsYXRpdmVUaW1lRm9ybWF0KCdpZCcsIHsgc3R5bGU6ICdzaG9ydCcgfSkuZm9ybWF0KC0xLCAnZGF5Jyk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlUmVwbHlTdWJtaXQgPSAoKSA9PiB7XHJcbiAgICBpZiAocmVwbHlUZXh0LnRyaW0oKSkge1xyXG4gICAgICAvLyBLaXJpbSBiYWxhc2FuXHJcbiAgICAgIGNvbnNvbGUubG9nKGBSZXBseWluZyB0byAke2N1cnJlbnRVc2VyLmRpc3BsYXlOYW1lfSdzIHN0b3J5OiAke3JlcGx5VGV4dH1gKTtcclxuICAgICAgc2V0UmVwbHlUZXh0KCcnKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVEZWxldGVTdG9yeSA9IGFzeW5jICgpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKFwiQXR0ZW1wdGluZyB0byBkZWxldGUgc3Rvcnk6XCIsIHtcclxuICAgICAgc3RvcnlJZDogY3VycmVudFN0b3J5Py5pZCxcclxuICAgICAgaXNPd25TdG9yeSxcclxuICAgICAgaGFzRGVsZXRlRnVuY3Rpb246ICEhb25TdG9yeURlbGV0ZVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGlmIChjdXJyZW50U3RvcnkgJiYgb25TdG9yeURlbGV0ZSkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHNldElzUGF1c2VkKHRydWUpO1xyXG4gICAgICAgIGF3YWl0IG9uU3RvcnlEZWxldGUoY3VycmVudFN0b3J5LmlkKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlN0b3J5IGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFNldGVsYWggbWVuZ2hhcHVzLCBraXRhIGJpc2EgbWVuZW50dWthbiBzdG9yeSBzZWxhbmp1dG55YSB5YW5nIGFrYW4gZGl0YW1waWxrYW5cclxuICAgICAgICBjb25zdCB1c2VyID0gdXNlcnNbY3VycmVudFVzZXJJbmRleF07XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHVzZXIuc3Rvcmllcy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgIC8vIEppa2EgaW5pIGFkYWxhaCBzdG9yeSB0ZXJha2hpciBkYXJpIHBlbmdndW5hLCB0dXR1cCB2aWV3ZXJcclxuICAgICAgICAgIGlmICh1c2Vycy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgb25DbG9zZSgpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIFBpbmRhaCBrZSBwZW5nZ3VuYSBsYWluXHJcbiAgICAgICAgICBpZiAoY3VycmVudFVzZXJJbmRleCA8IHVzZXJzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgc2V0Q3VycmVudFVzZXJJbmRleChjdXJyZW50VXNlckluZGV4ICsgMSk7XHJcbiAgICAgICAgICAgIHNldEN1cnJlbnRTdG9yeUluZGV4KDApO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgb25DbG9zZSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFN0b3J5SW5kZXggPT09IHVzZXIuc3Rvcmllcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAvLyBKaWthIGluaSBzdG9yeSB0ZXJha2hpciwgcGluZGFoIGtlIHN0b3J5IHNlYmVsdW1ueWFcclxuICAgICAgICAgIHNldEN1cnJlbnRTdG9yeUluZGV4KGN1cnJlbnRTdG9yeUluZGV4IC0gMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEppa2EgYnVrYW4gc3RvcnkgdGVyYWtoaXIsIHRldGFwIGRpIGluZGVrcyB5YW5nIHNhbWEgKGFrYW4gbWVuYW1waWxrYW4gc3Rvcnkgc2VsYW5qdXRueWEpXHJcbiAgICAgICAgXHJcbiAgICAgICAgc2V0U2hvd01lbnUoZmFsc2UpO1xyXG4gICAgICAgIHNldElzUGF1c2VkKGZhbHNlKTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBzdG9yeTonLCBlcnJvcik7XHJcbiAgICAgICAgc2V0SXNQYXVzZWQoZmFsc2UpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiQ2Fubm90IGRlbGV0ZSBzdG9yeSAtIG1pc3Npbmcgc3RvcnkgSUQgb3IgZGVsZXRlIGZ1bmN0aW9uXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVNhdmVDYXB0aW9uID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKGN1cnJlbnRTdG9yeSAmJiBvbkNhcHRpb25VcGRhdGUpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBzZXRJc1BhdXNlZCh0cnVlKTtcclxuICAgICAgICBhd2FpdCBvbkNhcHRpb25VcGRhdGUoY3VycmVudFN0b3J5LmlkLCBlZGl0ZWRDYXB0aW9uKTtcclxuICAgICAgICBzZXRJc0VkaXRpbmdDYXB0aW9uKGZhbHNlKTtcclxuICAgICAgICBzZXRTaG93TWVudShmYWxzZSk7XHJcbiAgICAgICAgc2V0SXNQYXVzZWQoZmFsc2UpO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGNhcHRpb246JywgZXJyb3IpO1xyXG4gICAgICAgIHNldElzUGF1c2VkKGZhbHNlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIFRhbmRhaSBzdG9yeSBzYWF0IGluaSBzZWJhZ2FpIGRpbGloYXQga2V0aWthIHZpZXdlciBkaXR1dHVwXHJcbiAgY29uc3QgaGFuZGxlQ2xvc2UgPSAoKSA9PiB7XHJcbiAgICAvLyBQYXN0aWthbiBzdG9yeSBzYWF0IGluaSBkaXRhbmRhaSBzZWJhZ2FpIHN1ZGFoIGRpbGloYXRcclxuICAgIGlmIChjdXJyZW50U3RvcnkgJiYgb25TdG9yeVZpZXcgJiYgIWlzT3duU3RvcnkpIHtcclxuICAgICAgb25TdG9yeVZpZXcoY3VycmVudFN0b3J5LmlkKTtcclxuICAgIH1cclxuICAgIG9uQ2xvc2UoKTtcclxuICB9O1xyXG5cclxuICBpZiAoIWlzT3BlbiB8fCAhY3VycmVudFVzZXIgfHwgIWN1cnJlbnRTdG9yeSkgcmV0dXJuIG51bGw7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8PlxyXG4gICAgICB7aXNPcGVuICYmIChcclxuICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCBiZy1ibGFjayB6LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCJcclxuICAgICAgICAgIHJlZj17Y29udGFpbmVyUmVmfVxyXG4gICAgICAgICAgb25Nb3VzZURvd249e2hhbmRsZU1vdXNlRG93bn1cclxuICAgICAgICAgIG9uTW91c2VVcD17aGFuZGxlTW91c2VVcH1cclxuICAgICAgICAgIG9uVG91Y2hTdGFydD17aGFuZGxlVG91Y2hTdGFydH1cclxuICAgICAgICAgIG9uVG91Y2hFbmQ9e2hhbmRsZVRvdWNoRW5kfVxyXG4gICAgICAgID5cclxuICAgICAgICAgIHsvKiBQcm9ncmVzcyBiYXJzICovfVxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMCBsZWZ0LTAgcmlnaHQtMCBmbGV4IHAtMiBnYXAtMSB6LTEwXCI+XHJcbiAgICAgICAgICAgIHtjdXJyZW50VXNlciAmJiBjdXJyZW50VXNlci5zdG9yaWVzLm1hcCgoc3RvcnksIGlkeCkgPT4gKFxyXG4gICAgICAgICAgICAgIDxTdG9yeVByb2dyZXNzQmFyIFxyXG4gICAgICAgICAgICAgICAga2V5PXtzdG9yeS5pZH1cclxuICAgICAgICAgICAgICAgIGluZGV4PXtpZHh9XHJcbiAgICAgICAgICAgICAgICBpc0FjdGl2ZT17aWR4ID09PSBjdXJyZW50U3RvcnlJbmRleH1cclxuICAgICAgICAgICAgICAgIGlzUGF1c2VkPXtpc1BhdXNlZH1cclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uPXtzdG9yeS5yZXNvdXJjZVR5cGUgPT09ICd2aWRlbycgJiYgc3RvcnkuZHVyYXRpb24gPyBzdG9yeS5kdXJhdGlvbiAqIDEwMDAgOiA1MDAwfVxyXG4gICAgICAgICAgICAgICAgb25Db21wbGV0ZT17aWR4ID09PSBjdXJyZW50U3RvcnlJbmRleCA/IGhhbmRsZU5leHQgOiB1bmRlZmluZWR9XHJcbiAgICAgICAgICAgICAgICBvblVwZGF0ZT17aGFuZGxlUHJvZ3Jlc3NDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICB7LyogQ2xvc2UgYnV0dG9uICovfVxyXG4gICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTIgcmlnaHQtMiB0ZXh0LXdoaXRlIHotMTAgcC0yXCJcclxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ2xvc2V9XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxGaVggc2l6ZT17MjR9IC8+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuXHJcbiAgICAgICAgICB7LyogU3RvcnkgQ29udGVudCAqL31cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBtYXgtdy1tZCBtYXgtaC1bODB2aF0gcmVsYXRpdmVcIj5cclxuICAgICAgICAgICAgey8qIFZpZGVvIG9yIEltYWdlICovfVxyXG4gICAgICAgICAgICB7aXNWaWRlbyA/IChcclxuICAgICAgICAgICAgICA8dmlkZW9cclxuICAgICAgICAgICAgICAgIHJlZj17dmlkZW9SZWZ9XHJcbiAgICAgICAgICAgICAgICBzcmM9e2N1cnJlbnRTdG9yeT8uaW1hZ2VVcmx9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb250YWluXCJcclxuICAgICAgICAgICAgICAgIGF1dG9QbGF5XHJcbiAgICAgICAgICAgICAgICBwbGF5c0lubGluZVxyXG4gICAgICAgICAgICAgICAgbXV0ZWQ9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgY29udHJvbHM9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgb25FbmRlZD17aGFuZGxlVmlkZW9FbmRlZH1cclxuICAgICAgICAgICAgICAgIG9uUGF1c2U9eygpID0+IHNldElzUGF1c2VkKHRydWUpfVxyXG4gICAgICAgICAgICAgICAgb25QbGF5PXsoKSA9PiBzZXRJc1BhdXNlZChmYWxzZSl9XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIHctZnVsbCBoLWZ1bGxcIj5cclxuICAgICAgICAgICAgICAgIDxJbWFnZVxyXG4gICAgICAgICAgICAgICAgICBzcmM9e2N1cnJlbnRTdG9yeT8uaW1hZ2VVcmwgfHwgJyd9XHJcbiAgICAgICAgICAgICAgICAgIGFsdD17YFN0b3J5IGJ5ICR7Y3VycmVudFVzZXI/LmRpc3BsYXlOYW1lfWB9XHJcbiAgICAgICAgICAgICAgICAgIGZpbGw9e3RydWV9XHJcbiAgICAgICAgICAgICAgICAgIHNpemVzPVwiKG1heC13aWR0aDogNzY4cHgpIDEwMHZ3LCA3NjhweFwiXHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm9iamVjdC1jb250YWluXCJcclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICl9XHJcblxyXG4gICAgICAgICAgICB7LyogQ2FwdGlvbiAqL31cclxuICAgICAgICAgICAge2lzRWRpdGluZ0NhcHRpb24gPyAoXHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tMCBsZWZ0LTAgcmlnaHQtMCBiZy1ibGFjayBiZy1vcGFjaXR5LTcwIHAtNFwiPlxyXG4gICAgICAgICAgICAgICAgPHRleHRhcmVhXHJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtlZGl0ZWRDYXB0aW9ufVxyXG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEVkaXRlZENhcHRpb24oZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0yIGJnLWdyYXktODAwIGJvcmRlciBib3JkZXItZ3JheS03MDAgdGV4dC13aGl0ZSByb3VuZGVkLW1kIHJlc2l6ZS1ub25lIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMFwiXHJcbiAgICAgICAgICAgICAgICAgIHJvd3M9ezJ9XHJcbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQWRkIGEgY2FwdGlvbi4uLlwiXHJcbiAgICAgICAgICAgICAgICAgIGF1dG9Gb2N1c1xyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWVuZCBtdC0yIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTEgYmctZ3JheS03MDAgdGV4dC13aGl0ZSByb3VuZGVkLW1kIHRleHQtc21cIlxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldElzRWRpdGluZ0NhcHRpb24oZmFsc2UpfVxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgQ2FuY2VsXHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0xIGJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcm91bmRlZC1tZCB0ZXh0LXNtXCJcclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTYXZlQ2FwdGlvbn1cclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIFNhdmVcclxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICBjdXJyZW50U3Rvcnk/LmNhcHRpb24gJiYgKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tMCBsZWZ0LTAgcmlnaHQtMCBiZy1ibGFjayBiZy1vcGFjaXR5LTcwIHAtNCB0ZXh0LXdoaXRlXCI+XHJcbiAgICAgICAgICAgICAgICAgIHtjdXJyZW50U3RvcnkuY2FwdGlvbn1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgKX1cclxuXHJcbiAgICAgICAgICAgIHsvKiBTdG9yeSBBY3Rpb25zIE1lbnUgKGZvciBvd24gc3RvcmllcykgKi99XHJcbiAgICAgICAgICAgIHtpc093blN0b3J5ICYmIChcclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC02IHJpZ2h0LTEyIHotNTBcIj5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMi41IHRleHQtd2hpdGUgYmctYmxhY2svMzAgYmFja2Ryb3AtYmx1ci1zbSByb3VuZGVkLWZ1bGwgaG92ZXI6Ymctd2hpdGUvMjAgdHJhbnNpdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRTaG93TWVudSghc2hvd01lbnUpO1xyXG4gICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICA8RmlNb3JlVmVydGljYWwgc2l6ZT17MjJ9IC8+XHJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAge3Nob3dNZW51ICYmIChcclxuICAgICAgICAgICAgICAgICAgPGRpdiBcclxuICAgICAgICAgICAgICAgICAgICByZWY9e21lbnVSZWZ9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgcmlnaHQtMCBtdC0yIHctNTYgYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3cteGwgb3ZlcmZsb3ctaGlkZGVuIHotNTAgYm9yZGVyIGJvcmRlci1ncmF5LTIwMFwiXHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIFxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTQgcHktMyB0ZXh0LWxlZnQgdGV4dC1ncmF5LTcwMCBob3ZlcjpiZy1ncmF5LTEwMCBmbGV4IGl0ZW1zLWNlbnRlciB0cmFuc2l0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldElzRWRpdGluZ0NhcHRpb24odHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dNZW51KGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXNQYXVzZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgIDxGaUVkaXQyIGNsYXNzTmFtZT1cIm1yLTNcIiBzaXplPXsxOH0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgIEVkaXQgQ2FwdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gXHJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtNCBweS0zIHRleHQtbGVmdCB0ZXh0LXJlZC02MDAgaG92ZXI6YmctcmVkLTUwIGZsZXggaXRlbXMtY2VudGVyIHRyYW5zaXRpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5jb25maXJtKFwiQXBha2FoIEFuZGEgeWFraW4gaW5naW4gbWVuZ2hhcHVzIHN0b3J5IGluaT9cIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVEZWxldGVTdG9yeSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgIDxGaVRyYXNoMiBjbGFzc05hbWU9XCJtci0zXCIgc2l6ZT17MTh9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICBIYXB1cyBTdG9yeVxyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICl9XHJcblxyXG4gICAgICAgICAgICB7LyogTmF2aWdhdGlvbiBvdmVybGF5IGxlZnQgYW5kIHJpZ2h0ICovfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgei0xMCBmbGV4XCI+XHJcbiAgICAgICAgICAgICAgey8qIExlZnQgbmF2aWdhdGlvbiBhcmVhIChwcmV2aW91cykgKi99XHJcbiAgICAgICAgICAgICAgPGRpdiBcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMS8zIGgtZnVsbCBjdXJzb3ItcG9pbnRlclwiXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVMZWZ0Q2xpY2t9XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICB7LyogTWlkZGxlIGFyZWEgKHBhdXNlL3BsYXkpICovfVxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xLzMgaC1mdWxsXCIgLz5cclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICB7LyogUmlnaHQgbmF2aWdhdGlvbiBhcmVhIChuZXh0KSAqL31cclxuICAgICAgICAgICAgICA8ZGl2IFxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xLzMgaC1mdWxsIGN1cnNvci1wb2ludGVyXCJcclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVJpZ2h0Q2xpY2t9XHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB7LyogUmVwbHkgYm94ICovfVxyXG4gICAgICAgICAgICB7IWlzT3duU3RvcnkgJiYgIWlzRWRpdGluZ0NhcHRpb24gJiYgKFxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTQgbGVmdC0wIHJpZ2h0LTAgcHgtNCB6LTIwXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGJnLXdoaXRlIHJvdW5kZWQtZnVsbCBvdmVyZmxvdy1oaWRkZW4gcC0xXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwicC0yIHRleHQtZ3JheS02MDBcIj5cclxuICAgICAgICAgICAgICAgICAgICA8RmlTbWlsZSBzaXplPXsyMH0gLz5cclxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cmVwbHlUZXh0fVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UmVwbHlUZXh0KGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkJhbGFzLi4uXCJcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgb3V0bGluZS1ub25lIHB4LTIgcHktMSB0ZXh0LXNtXCJcclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwLTIgdGV4dC1wcmltYXJ5IGRpc2FibGVkOnRleHQtZ3JheS00MDBcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshcmVwbHlUZXh0LnRyaW0oKX1cclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVSZXBseVN1Ym1pdH1cclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxGaVNlbmQgc2l6ZT17MjB9IC8+XHJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuICAgIDwvPlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTdG9yeVZpZXdlcjsgIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJJbWFnZSIsIkZpWCIsIkZpU2VuZCIsIkZpU21pbGUiLCJGaU1vcmVWZXJ0aWNhbCIsIkZpRWRpdDIiLCJGaVRyYXNoMiIsIlN0b3J5UHJvZ3Jlc3NCYXIiLCJTdG9yeVZpZXdlciIsInVzZXJzIiwiaW5pdGlhbFVzZXJJbmRleCIsImluaXRpYWxTdG9yeUluZGV4IiwiaXNPcGVuIiwib25DbG9zZSIsImN1cnJlbnRVc2VySWQiLCJvblN0b3J5RGVsZXRlIiwib25DYXB0aW9uVXBkYXRlIiwib25TdG9yeVZpZXciLCJjdXJyZW50VXNlckluZGV4Iiwic2V0Q3VycmVudFVzZXJJbmRleCIsImN1cnJlbnRTdG9yeUluZGV4Iiwic2V0Q3VycmVudFN0b3J5SW5kZXgiLCJpc1BhdXNlZCIsInNldElzUGF1c2VkIiwicmVwbHlUZXh0Iiwic2V0UmVwbHlUZXh0Iiwic2hvd01lbnUiLCJzZXRTaG93TWVudSIsImlzRWRpdGluZ0NhcHRpb24iLCJzZXRJc0VkaXRpbmdDYXB0aW9uIiwiZWRpdGVkQ2FwdGlvbiIsInNldEVkaXRlZENhcHRpb24iLCJ0b3VjaFN0YXJ0Iiwic2V0VG91Y2hTdGFydCIsImNvbnRhaW5lclJlZiIsIm1lbnVSZWYiLCJ2aWRlb1JlZiIsImN1cnJlbnRVc2VyIiwiY3VycmVudFN0b3J5Iiwic3RvcmllcyIsImlzT3duU3RvcnkiLCJpZCIsImlzVmlkZW8iLCJyZXNvdXJjZVR5cGUiLCJjb25zb2xlIiwibG9nIiwiY3VycmVudFVzZXJJZF90eXBlIiwic3RvcnlVc2VySWQiLCJzdG9yeVVzZXJJZF90eXBlIiwiZG9jdW1lbnQiLCJib2R5Iiwic3R5bGUiLCJvdmVyZmxvdyIsInZpZXdlZFN0b3JpZXNSZWYiLCJTZXQiLCJjdXJyZW50IiwiaGFzIiwiYWRkIiwiaGFuZGxlQ2xpY2tPdXRzaWRlIiwiZSIsImNvbnRhaW5zIiwidGFyZ2V0IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjYXB0aW9uIiwidGltZXIiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwicGF1c2UiLCJwbGF5IiwiY2F0Y2giLCJlcnJvciIsImhhbmRsZVZpZGVvRW5kZWQiLCJoYW5kbGVOZXh0IiwiaGFuZGxlUHJldmlvdXMiLCJwcmV2VXNlciIsImxlbmd0aCIsInVzZXIiLCJoYW5kbGVDbG9zZSIsImhhbmRsZVRvdWNoU3RhcnQiLCJ0b3VjaCIsInRvdWNoZXMiLCJ4IiwiY2xpZW50WCIsInkiLCJjbGllbnRZIiwiaGFuZGxlVG91Y2hFbmQiLCJjaGFuZ2VkVG91Y2hlcyIsImRlbHRhWCIsImRlbHRhWSIsIk1hdGgiLCJhYnMiLCJoYW5kbGVNb3VzZURvd24iLCJoYW5kbGVNb3VzZVVwIiwiaGFuZGxlTGVmdENsaWNrIiwic3RvcFByb3BhZ2F0aW9uIiwiaGFuZGxlUmlnaHRDbGljayIsImhhbmRsZVByb2dyZXNzQ2hhbmdlIiwiaW5kZXgiLCJmb3JtYXRUaW1lc3RhbXAiLCJ0aW1lc3RhbXAiLCJkYXRlIiwidG9EYXRlIiwiRGF0ZSIsIkludGwiLCJSZWxhdGl2ZVRpbWVGb3JtYXQiLCJmb3JtYXQiLCJoYW5kbGVSZXBseVN1Ym1pdCIsInRyaW0iLCJkaXNwbGF5TmFtZSIsImhhbmRsZURlbGV0ZVN0b3J5Iiwic3RvcnlJZCIsImhhc0RlbGV0ZUZ1bmN0aW9uIiwiaGFuZGxlU2F2ZUNhcHRpb24iLCJkaXYiLCJjbGFzc05hbWUiLCJyZWYiLCJvbk1vdXNlRG93biIsIm9uTW91c2VVcCIsIm9uVG91Y2hTdGFydCIsIm9uVG91Y2hFbmQiLCJtYXAiLCJzdG9yeSIsImlkeCIsImlzQWN0aXZlIiwiZHVyYXRpb24iLCJvbkNvbXBsZXRlIiwidW5kZWZpbmVkIiwib25VcGRhdGUiLCJidXR0b24iLCJvbkNsaWNrIiwic2l6ZSIsInZpZGVvIiwic3JjIiwiaW1hZ2VVcmwiLCJhdXRvUGxheSIsInBsYXlzSW5saW5lIiwibXV0ZWQiLCJjb250cm9scyIsIm9uRW5kZWQiLCJvblBhdXNlIiwib25QbGF5IiwiYWx0IiwiZmlsbCIsInNpemVzIiwidGV4dGFyZWEiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwicm93cyIsInBsYWNlaG9sZGVyIiwiYXV0b0ZvY3VzIiwid2luZG93IiwiY29uZmlybSIsImlucHV0IiwidHlwZSIsImRpc2FibGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/components/Story/StoryViewer.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/Story/index.ts":
/*!***************************************!*\
  !*** ./src/components/Story/index.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CreateStoryModal: () => (/* reexport safe */ _CreateStoryModal__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\n/* harmony export */   StoriesContainer: () => (/* reexport safe */ _StoriesContainer__WEBPACK_IMPORTED_MODULE_3__[\"default\"]),\n/* harmony export */   StoryProgressBar: () => (/* reexport safe */ _StoryProgressBar__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   StoryThumbnail: () => (/* reexport safe */ _StoryThumbnail__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n/* harmony export */   StoryViewer: () => (/* reexport safe */ _StoryViewer__WEBPACK_IMPORTED_MODULE_1__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _StoryProgressBar__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./StoryProgressBar */ \"(ssr)/./src/components/Story/StoryProgressBar.tsx\");\n/* harmony import */ var _StoryViewer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./StoryViewer */ \"(ssr)/./src/components/Story/StoryViewer.tsx\");\n/* harmony import */ var _StoryThumbnail__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./StoryThumbnail */ \"(ssr)/./src/components/Story/StoryThumbnail.tsx\");\n/* harmony import */ var _StoriesContainer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./StoriesContainer */ \"(ssr)/./src/components/Story/StoriesContainer.tsx\");\n/* harmony import */ var _CreateStoryModal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./CreateStoryModal */ \"(ssr)/./src/components/Story/CreateStoryModal.tsx\");\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9TdG9yeS9pbmRleC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQWlFO0FBQ1Y7QUFDTTtBQUNJO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWxsby8uL3NyYy9jb21wb25lbnRzL1N0b3J5L2luZGV4LnRzP2Q3YjgiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgZGVmYXVsdCBhcyBTdG9yeVByb2dyZXNzQmFyIH0gZnJvbSAnLi9TdG9yeVByb2dyZXNzQmFyJztcclxuZXhwb3J0IHsgZGVmYXVsdCBhcyBTdG9yeVZpZXdlciB9IGZyb20gJy4vU3RvcnlWaWV3ZXInO1xyXG5leHBvcnQgeyBkZWZhdWx0IGFzIFN0b3J5VGh1bWJuYWlsIH0gZnJvbSAnLi9TdG9yeVRodW1ibmFpbCc7XHJcbmV4cG9ydCB7IGRlZmF1bHQgYXMgU3Rvcmllc0NvbnRhaW5lciB9IGZyb20gJy4vU3Rvcmllc0NvbnRhaW5lcic7XHJcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ3JlYXRlU3RvcnlNb2RhbCB9IGZyb20gJy4vQ3JlYXRlU3RvcnlNb2RhbCc7ICJdLCJuYW1lcyI6WyJkZWZhdWx0IiwiU3RvcnlQcm9ncmVzc0JhciIsIlN0b3J5Vmlld2VyIiwiU3RvcnlUaHVtYm5haWwiLCJTdG9yaWVzQ29udGFpbmVyIiwiQ3JlYXRlU3RvcnlNb2RhbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/Story/index.ts\n");

/***/ }),

/***/ "(ssr)/./src/components/TranslateSettingsModal.tsx":
/*!***************************************************!*\
  !*** ./src/components/TranslateSettingsModal.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TranslateSettingsModal)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_FiGlobe_FiSave_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=FiGlobe,FiSave,FiX!=!react-icons/fi */ \"(ssr)/./node_modules/react-icons/fi/index.esm.js\");\n/* harmony import */ var _lib_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/context */ \"(ssr)/./src/lib/context.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n// Daftar bahasa yang didukung untuk terjemahan\nconst AVAILABLE_LANGUAGES = [\n    {\n        code: \"en\",\n        name: \"Inggris\"\n    },\n    {\n        code: \"id\",\n        name: \"Indonesia\"\n    },\n    {\n        code: \"jw\",\n        name: \"Jawa\"\n    },\n    {\n        code: \"su\",\n        name: \"Sunda\"\n    },\n    {\n        code: \"ar\",\n        name: \"Arab\"\n    },\n    {\n        code: \"zh\",\n        name: \"Mandarin\"\n    },\n    {\n        code: \"ru\",\n        name: \"Rusia\"\n    }\n];\nfunction TranslateSettingsModal({ isOpen, onClose }) {\n    const { aiConfig, updateAIConfig } = (0,_lib_context__WEBPACK_IMPORTED_MODULE_2__.useAIConfig)();\n    // State untuk pengaturan terjemahan\n    const [selectedLanguage, setSelectedLanguage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(aiConfig.translateLanguage || \"en\");\n    const [autoTranslate, setAutoTranslate] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(aiConfig.autoTranslate || false);\n    // Reset state saat modal dibuka\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isOpen) {\n            setSelectedLanguage(aiConfig.translateLanguage || \"en\");\n            setAutoTranslate(aiConfig.autoTranslate || false);\n        }\n    }, [\n        isOpen,\n        aiConfig.translateLanguage,\n        aiConfig.autoTranslate\n    ]);\n    // Simpan pengaturan terjemahan\n    const handleSaveSettings = ()=>{\n        updateAIConfig({\n            ...aiConfig,\n            translateLanguage: selectedLanguage,\n            autoTranslate: autoTranslate\n        });\n        onClose();\n    };\n    if (!isOpen) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-white rounded-lg shadow-xl w-full max-w-md mx-4 animate-scaleIn\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center justify-between p-4 border-b border-gray-200\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiGlobe_FiSave_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_3__.FiGlobe, {\n                                    className: \"mr-2\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\TranslateSettingsModal.tsx\",\n                                    lineNumber: 80,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-lg font-medium\",\n                                    children: \"Pengaturan Terjemahan\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\TranslateSettingsModal.tsx\",\n                                    lineNumber: 81,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\TranslateSettingsModal.tsx\",\n                            lineNumber: 79,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: onClose,\n                            className: \"text-gray-500 hover:text-gray-700 transition-colors\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiGlobe_FiSave_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_3__.FiX, {\n                                size: 20\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\TranslateSettingsModal.tsx\",\n                                lineNumber: 87,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\TranslateSettingsModal.tsx\",\n                            lineNumber: 83,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\TranslateSettingsModal.tsx\",\n                    lineNumber: 78,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"block text-sm font-medium text-gray-700 mb-2\",\n                                    children: \"Bahasa Terjemahan Default\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\TranslateSettingsModal.tsx\",\n                                    lineNumber: 93,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                    value: selectedLanguage,\n                                    onChange: (e)=>setSelectedLanguage(e.target.value),\n                                    className: \"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary\",\n                                    children: AVAILABLE_LANGUAGES.map((lang)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                            value: lang.code,\n                                            children: lang.name\n                                        }, lang.code, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\TranslateSettingsModal.tsx\",\n                                            lineNumber: 102,\n                                            columnNumber: 17\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\TranslateSettingsModal.tsx\",\n                                    lineNumber: 96,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-xs text-gray-500 mt-1\",\n                                    children: \"Pesan akan diterjemahkan ke bahasa ini saat Anda menggunakan fitur terjemahan.\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\TranslateSettingsModal.tsx\",\n                                    lineNumber: 107,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\TranslateSettingsModal.tsx\",\n                            lineNumber: 92,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            id: \"autoTranslate\",\n                                            type: \"checkbox\",\n                                            checked: autoTranslate,\n                                            onChange: (e)=>setAutoTranslate(e.target.checked),\n                                            className: \"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\TranslateSettingsModal.tsx\",\n                                            lineNumber: 114,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            htmlFor: \"autoTranslate\",\n                                            className: \"ml-2 block text-sm font-medium text-gray-700\",\n                                            children: \"Terjemahkan Otomatis\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\TranslateSettingsModal.tsx\",\n                                            lineNumber: 121,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\TranslateSettingsModal.tsx\",\n                                    lineNumber: 113,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-xs text-gray-500 mt-1 ml-6\",\n                                    children: \"Saat diaktifkan, pesan yang diterima akan otomatis diterjemahkan ke bahasa pilihan Anda.\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\TranslateSettingsModal.tsx\",\n                                    lineNumber: 125,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\TranslateSettingsModal.tsx\",\n                            lineNumber: 112,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\TranslateSettingsModal.tsx\",\n                    lineNumber: 91,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-end p-4 border-t border-gray-200\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleSaveSettings,\n                        className: \"px-4 py-2 bg-primary text-white rounded-md hover:bg-primary-dark transition-colors flex items-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiGlobe_FiSave_FiX_react_icons_fi__WEBPACK_IMPORTED_MODULE_3__.FiSave, {\n                                className: \"mr-2\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\TranslateSettingsModal.tsx\",\n                                lineNumber: 136,\n                                columnNumber: 13\n                            }, this),\n                            \"Simpan Pengaturan\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\TranslateSettingsModal.tsx\",\n                        lineNumber: 132,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\TranslateSettingsModal.tsx\",\n                    lineNumber: 131,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\TranslateSettingsModal.tsx\",\n            lineNumber: 77,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\TranslateSettingsModal.tsx\",\n        lineNumber: 76,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9UcmFuc2xhdGVTZXR0aW5nc01vZGFsLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUU0QztBQUNVO0FBQ1Y7QUFFNUMsK0NBQStDO0FBQy9DLE1BQU1NLHNCQUFzQjtJQUMxQjtRQUNFQyxNQUFNO1FBQ05DLE1BQU07SUFDUjtJQUNBO1FBQ0VELE1BQU07UUFDTkMsTUFBTTtJQUNSO0lBQ0E7UUFDRUQsTUFBTTtRQUNOQyxNQUFNO0lBQ1I7SUFDQTtRQUNFRCxNQUFNO1FBQ05DLE1BQU07SUFDUjtJQUNBO1FBQ0VELE1BQU07UUFDTkMsTUFBTTtJQUNSO0lBQ0E7UUFDRUQsTUFBTTtRQUNOQyxNQUFNO0lBQ1I7SUFDQTtRQUNFRCxNQUFNO1FBQ05DLE1BQU07SUFDUjtDQUNEO0FBT2MsU0FBU0MsdUJBQXVCLEVBQzdDQyxNQUFNLEVBQ05DLE9BQU8sRUFDcUI7SUFDNUIsTUFBTSxFQUFFQyxRQUFRLEVBQUVDLGNBQWMsRUFBRSxHQUFHUix5REFBV0E7SUFFaEQsb0NBQW9DO0lBQ3BDLE1BQU0sQ0FBQ1Msa0JBQWtCQyxvQkFBb0IsR0FBR2YsK0NBQVFBLENBQUNZLFNBQVNJLGlCQUFpQixJQUFJO0lBQ3ZGLE1BQU0sQ0FBQ0MsZUFBZUMsaUJBQWlCLEdBQUdsQiwrQ0FBUUEsQ0FBQ1ksU0FBU0ssYUFBYSxJQUFJO0lBRTdFLGdDQUFnQztJQUNoQ2hCLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSVMsUUFBUTtZQUNWSyxvQkFBb0JILFNBQVNJLGlCQUFpQixJQUFJO1lBQ2xERSxpQkFBaUJOLFNBQVNLLGFBQWEsSUFBSTtRQUM3QztJQUNGLEdBQUc7UUFBQ1A7UUFBUUUsU0FBU0ksaUJBQWlCO1FBQUVKLFNBQVNLLGFBQWE7S0FBQztJQUUvRCwrQkFBK0I7SUFDL0IsTUFBTUUscUJBQXFCO1FBQ3pCTixlQUFlO1lBQ2IsR0FBR0QsUUFBUTtZQUNYSSxtQkFBbUJGO1lBQ25CRyxlQUFlQTtRQUNqQjtRQUVBTjtJQUNGO0lBRUEsSUFBSSxDQUFDRCxRQUFRLE9BQU87SUFFcEIscUJBQ0UsOERBQUNVO1FBQUlDLFdBQVU7a0JBQ2IsNEVBQUNEO1lBQUlDLFdBQVU7OzhCQUNiLDhEQUFDRDtvQkFBSUMsV0FBVTs7c0NBQ2IsOERBQUNEOzRCQUFJQyxXQUFVOzs4Q0FDYiw4REFBQ2xCLDZGQUFPQTtvQ0FBQ2tCLFdBQVU7Ozs7Ozs4Q0FDbkIsOERBQUNDO29DQUFHRCxXQUFVOzhDQUFzQjs7Ozs7Ozs7Ozs7O3NDQUV0Qyw4REFBQ0U7NEJBQ0NDLFNBQVNiOzRCQUNUVSxXQUFVO3NDQUVWLDRFQUFDbkIseUZBQUdBO2dDQUFDdUIsTUFBTTs7Ozs7Ozs7Ozs7Ozs7Ozs7OEJBSWYsOERBQUNMO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ0Q7NEJBQUlDLFdBQVU7OzhDQUNiLDhEQUFDSztvQ0FBTUwsV0FBVTs4Q0FBK0M7Ozs7Ozs4Q0FHaEUsOERBQUNNO29DQUNDQyxPQUFPZDtvQ0FDUGUsVUFBVSxDQUFDQyxJQUFNZixvQkFBb0JlLEVBQUVDLE1BQU0sQ0FBQ0gsS0FBSztvQ0FDbkRQLFdBQVU7OENBRVRmLG9CQUFvQjBCLEdBQUcsQ0FBQyxDQUFDQyxxQkFDeEIsOERBQUNDOzRDQUF1Qk4sT0FBT0ssS0FBSzFCLElBQUk7c0RBQ3JDMEIsS0FBS3pCLElBQUk7MkNBREN5QixLQUFLMUIsSUFBSTs7Ozs7Ozs7Ozs4Q0FLMUIsOERBQUM0QjtvQ0FBRWQsV0FBVTs4Q0FBNkI7Ozs7Ozs7Ozs7OztzQ0FLNUMsOERBQUNEOzRCQUFJQyxXQUFVOzs4Q0FDYiw4REFBQ0Q7b0NBQUlDLFdBQVU7O3NEQUNiLDhEQUFDZTs0Q0FDQ0MsSUFBRzs0Q0FDSEMsTUFBSzs0Q0FDTEMsU0FBU3RCOzRDQUNUWSxVQUFVLENBQUNDLElBQU1aLGlCQUFpQlksRUFBRUMsTUFBTSxDQUFDUSxPQUFPOzRDQUNsRGxCLFdBQVU7Ozs7OztzREFFWiw4REFBQ0s7NENBQU1jLFNBQVE7NENBQWdCbkIsV0FBVTtzREFBK0M7Ozs7Ozs7Ozs7Ozs4Q0FJMUYsOERBQUNjO29DQUFFZCxXQUFVOzhDQUFrQzs7Ozs7Ozs7Ozs7Ozs7Ozs7OzhCQU1uRCw4REFBQ0Q7b0JBQUlDLFdBQVU7OEJBQ2IsNEVBQUNFO3dCQUNDQyxTQUFTTDt3QkFDVEUsV0FBVTs7MENBRVYsOERBQUNqQiw0RkFBTUE7Z0NBQUNpQixXQUFVOzs7Ozs7NEJBQVM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT3ZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFsbG8vLi9zcmMvY29tcG9uZW50cy9UcmFuc2xhdGVTZXR0aW5nc01vZGFsLnRzeD82Nzk4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcclxuXHJcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IEZpWCwgRmlHbG9iZSwgRmlTYXZlIH0gZnJvbSAncmVhY3QtaWNvbnMvZmknO1xyXG5pbXBvcnQgeyB1c2VBSUNvbmZpZyB9IGZyb20gJ0AvbGliL2NvbnRleHQnO1xyXG5cclxuLy8gRGFmdGFyIGJhaGFzYSB5YW5nIGRpZHVrdW5nIHVudHVrIHRlcmplbWFoYW5cclxuY29uc3QgQVZBSUxBQkxFX0xBTkdVQUdFUyA9IFtcclxuICB7XHJcbiAgICBjb2RlOiAnZW4nLFxyXG4gICAgbmFtZTogJ0luZ2dyaXMnXHJcbiAgfSxcclxuICB7XHJcbiAgICBjb2RlOiAnaWQnLFxyXG4gICAgbmFtZTogJ0luZG9uZXNpYSdcclxuICB9LFxyXG4gIHtcclxuICAgIGNvZGU6ICdqdycsXHJcbiAgICBuYW1lOiAnSmF3YSdcclxuICB9LFxyXG4gIHtcclxuICAgIGNvZGU6ICdzdScsXHJcbiAgICBuYW1lOiAnU3VuZGEnXHJcbiAgfSxcclxuICB7XHJcbiAgICBjb2RlOiAnYXInLFxyXG4gICAgbmFtZTogJ0FyYWInXHJcbiAgfSxcclxuICB7XHJcbiAgICBjb2RlOiAnemgnLFxyXG4gICAgbmFtZTogJ01hbmRhcmluJ1xyXG4gIH0sXHJcbiAge1xyXG4gICAgY29kZTogJ3J1JyxcclxuICAgIG5hbWU6ICdSdXNpYSdcclxuICB9XHJcbl07XHJcblxyXG50eXBlIFRyYW5zbGF0ZVNldHRpbmdzTW9kYWxQcm9wcyA9IHtcclxuICBpc09wZW46IGJvb2xlYW47XHJcbiAgb25DbG9zZTogKCkgPT4gdm9pZDtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFRyYW5zbGF0ZVNldHRpbmdzTW9kYWwoe1xyXG4gIGlzT3BlbixcclxuICBvbkNsb3NlXHJcbn06IFRyYW5zbGF0ZVNldHRpbmdzTW9kYWxQcm9wcykge1xyXG4gIGNvbnN0IHsgYWlDb25maWcsIHVwZGF0ZUFJQ29uZmlnIH0gPSB1c2VBSUNvbmZpZygpO1xyXG4gIFxyXG4gIC8vIFN0YXRlIHVudHVrIHBlbmdhdHVyYW4gdGVyamVtYWhhblxyXG4gIGNvbnN0IFtzZWxlY3RlZExhbmd1YWdlLCBzZXRTZWxlY3RlZExhbmd1YWdlXSA9IHVzZVN0YXRlKGFpQ29uZmlnLnRyYW5zbGF0ZUxhbmd1YWdlIHx8ICdlbicpO1xyXG4gIGNvbnN0IFthdXRvVHJhbnNsYXRlLCBzZXRBdXRvVHJhbnNsYXRlXSA9IHVzZVN0YXRlKGFpQ29uZmlnLmF1dG9UcmFuc2xhdGUgfHwgZmFsc2UpO1xyXG4gIFxyXG4gIC8vIFJlc2V0IHN0YXRlIHNhYXQgbW9kYWwgZGlidWthXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChpc09wZW4pIHtcclxuICAgICAgc2V0U2VsZWN0ZWRMYW5ndWFnZShhaUNvbmZpZy50cmFuc2xhdGVMYW5ndWFnZSB8fCAnZW4nKTtcclxuICAgICAgc2V0QXV0b1RyYW5zbGF0ZShhaUNvbmZpZy5hdXRvVHJhbnNsYXRlIHx8IGZhbHNlKTtcclxuICAgIH1cclxuICB9LCBbaXNPcGVuLCBhaUNvbmZpZy50cmFuc2xhdGVMYW5ndWFnZSwgYWlDb25maWcuYXV0b1RyYW5zbGF0ZV0pO1xyXG4gIFxyXG4gIC8vIFNpbXBhbiBwZW5nYXR1cmFuIHRlcmplbWFoYW5cclxuICBjb25zdCBoYW5kbGVTYXZlU2V0dGluZ3MgPSAoKSA9PiB7XHJcbiAgICB1cGRhdGVBSUNvbmZpZyh7XHJcbiAgICAgIC4uLmFpQ29uZmlnLFxyXG4gICAgICB0cmFuc2xhdGVMYW5ndWFnZTogc2VsZWN0ZWRMYW5ndWFnZSxcclxuICAgICAgYXV0b1RyYW5zbGF0ZTogYXV0b1RyYW5zbGF0ZVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIG9uQ2xvc2UoKTtcclxuICB9O1xyXG4gIFxyXG4gIGlmICghaXNPcGVuKSByZXR1cm4gbnVsbDtcclxuICBcclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIHotNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctYmxhY2sgYmctb3BhY2l0eS01MFwiPlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93LXhsIHctZnVsbCBtYXgtdy1tZCBteC00IGFuaW1hdGUtc2NhbGVJblwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHAtNCBib3JkZXItYiBib3JkZXItZ3JheS0yMDBcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cclxuICAgICAgICAgICAgPEZpR2xvYmUgY2xhc3NOYW1lPVwibXItMlwiIC8+XHJcbiAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtbWVkaXVtXCI+UGVuZ2F0dXJhbiBUZXJqZW1haGFuPC9oMj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGJ1dHRvbiBcclxuICAgICAgICAgICAgb25DbGljaz17b25DbG9zZX1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMCBob3Zlcjp0ZXh0LWdyYXktNzAwIHRyYW5zaXRpb24tY29sb3JzXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPEZpWCBzaXplPXsyMH0gLz5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00XCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTRcIj5cclxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0yXCI+XHJcbiAgICAgICAgICAgICAgQmFoYXNhIFRlcmplbWFoYW4gRGVmYXVsdFxyXG4gICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICA8c2VsZWN0XHJcbiAgICAgICAgICAgICAgdmFsdWU9e3NlbGVjdGVkTGFuZ3VhZ2V9XHJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWxlY3RlZExhbmd1YWdlKGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJibG9jayB3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1tZCBzaGFkb3ctc20gZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctcHJpbWFyeSBmb2N1czpib3JkZXItcHJpbWFyeVwiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICB7QVZBSUxBQkxFX0xBTkdVQUdFUy5tYXAoKGxhbmcpID0+IChcclxuICAgICAgICAgICAgICAgIDxvcHRpb24ga2V5PXtsYW5nLmNvZGV9IHZhbHVlPXtsYW5nLmNvZGV9PlxyXG4gICAgICAgICAgICAgICAgICB7bGFuZy5uYW1lfVxyXG4gICAgICAgICAgICAgICAgPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgbXQtMVwiPlxyXG4gICAgICAgICAgICAgIFBlc2FuIGFrYW4gZGl0ZXJqZW1haGthbiBrZSBiYWhhc2EgaW5pIHNhYXQgQW5kYSBtZW5nZ3VuYWthbiBmaXR1ciB0ZXJqZW1haGFuLlxyXG4gICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgIGlkPVwiYXV0b1RyYW5zbGF0ZVwiXHJcbiAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxyXG4gICAgICAgICAgICAgICAgY2hlY2tlZD17YXV0b1RyYW5zbGF0ZX1cclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0QXV0b1RyYW5zbGF0ZShlLnRhcmdldC5jaGVja2VkKX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtNCB3LTQgdGV4dC1wcmltYXJ5IGZvY3VzOnJpbmctcHJpbWFyeSBib3JkZXItZ3JheS0zMDAgcm91bmRlZFwiXHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImF1dG9UcmFuc2xhdGVcIiBjbGFzc05hbWU9XCJtbC0yIGJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMFwiPlxyXG4gICAgICAgICAgICAgICAgVGVyamVtYWhrYW4gT3RvbWF0aXNcclxuICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIG10LTEgbWwtNlwiPlxyXG4gICAgICAgICAgICAgIFNhYXQgZGlha3RpZmthbiwgcGVzYW4geWFuZyBkaXRlcmltYSBha2FuIG90b21hdGlzIGRpdGVyamVtYWhrYW4ga2UgYmFoYXNhIHBpbGloYW4gQW5kYS5cclxuICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktZW5kIHAtNCBib3JkZXItdCBib3JkZXItZ3JheS0yMDBcIj5cclxuICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2F2ZVNldHRpbmdzfVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgYmctcHJpbWFyeSB0ZXh0LXdoaXRlIHJvdW5kZWQtbWQgaG92ZXI6YmctcHJpbWFyeS1kYXJrIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPEZpU2F2ZSBjbGFzc05hbWU9XCJtci0yXCIgLz5cclxuICAgICAgICAgICAgU2ltcGFuIFBlbmdhdHVyYW5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn0gIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiRmlYIiwiRmlHbG9iZSIsIkZpU2F2ZSIsInVzZUFJQ29uZmlnIiwiQVZBSUxBQkxFX0xBTkdVQUdFUyIsImNvZGUiLCJuYW1lIiwiVHJhbnNsYXRlU2V0dGluZ3NNb2RhbCIsImlzT3BlbiIsIm9uQ2xvc2UiLCJhaUNvbmZpZyIsInVwZGF0ZUFJQ29uZmlnIiwic2VsZWN0ZWRMYW5ndWFnZSIsInNldFNlbGVjdGVkTGFuZ3VhZ2UiLCJ0cmFuc2xhdGVMYW5ndWFnZSIsImF1dG9UcmFuc2xhdGUiLCJzZXRBdXRvVHJhbnNsYXRlIiwiaGFuZGxlU2F2ZVNldHRpbmdzIiwiZGl2IiwiY2xhc3NOYW1lIiwiaDIiLCJidXR0b24iLCJvbkNsaWNrIiwic2l6ZSIsImxhYmVsIiwic2VsZWN0IiwidmFsdWUiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJtYXAiLCJsYW5nIiwib3B0aW9uIiwicCIsImlucHV0IiwiaWQiLCJ0eXBlIiwiY2hlY2tlZCIsImh0bWxGb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/components/TranslateSettingsModal.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/VideoCallModal.tsx":
/*!*******************************************!*\
  !*** ./src/components/VideoCallModal.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ VideoCallModal)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_FiMic_FiMicOff_FiPhone_FiVideo_FiVideoOff_FiWifi_FiWifiOff_react_icons_fi__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=FiMic,FiMicOff,FiPhone,FiVideo,FiVideoOff,FiWifi,FiWifiOff!=!react-icons/fi */ \"(ssr)/./node_modules/react-icons/fi/index.esm.js\");\n/* harmony import */ var simple_peer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! simple-peer */ \"(ssr)/./node_modules/simple-peer/index.js\");\n/* harmony import */ var simple_peer__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(simple_peer__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/firestore */ \"(ssr)/./node_modules/firebase/firestore/dist/index.mjs\");\n/* harmony import */ var _firebase_config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../firebase/config */ \"(ssr)/./src/firebase/config.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n // Pastikan ini sudah benar sesuai struktur folder Anda\n// Konstanta untuk mode testing satu perangkat\nconst SINGLE_DEVICE_TESTING = false; // Set ke false untuk deployment\n// Konstanta delay untuk stabilitas timing\nconst MODAL_INIT_DELAY = 300; // Waktu tunggu sebelum inisialisasi koneksi\nconst SIGNALING_LOCK_RELEASE = 2000; // Waktu untuk membuka signaling lock\nconst CALL_TIMEOUT = 30000; // Waktu maksimum menunggu jawaban panggilan\nconst ANSWER_TIMEOUT = 15000; // Waktu tunggu setelah panggilan dijawab\nconst RETRY_BASE_DELAY = 1500; // Delay dasar untuk retry\nconst MAX_RETRIES = 3; // Batas maksimum retry\n// Helper untuk menyimpan data call ke Firestore\nconst saveCallToFirestore = async (callId, callData)=>{\n    try {\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.setDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_4__.db, \"calls\", callId), {\n            ...callData,\n            updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.serverTimestamp)()\n        });\n        return true;\n    } catch (error) {\n        console.error(\"Error saving call data to Firestore:\", error);\n        return false;\n    }\n};\n// Helper untuk mengupdate status panggilan di Firestore\nconst updateCallStatus = async (callId, status)=>{\n    try {\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.updateDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_4__.db, \"calls\", callId), {\n            status,\n            updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.serverTimestamp)(),\n            ...status === \"ended\" ? {\n                endedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.serverTimestamp)()\n            } : {}\n        });\n        return true;\n    } catch (error) {\n        console.error(\"Error updating call status in Firestore:\", error);\n        return false;\n    }\n};\nfunction VideoCallModal({ isOpen, onClose, user, chatId, recipientId, isVideoCall = true, incomingCallId = null // Nilai default null untuk panggilan keluar\n }) {\n    const [localStream, setLocalStream] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [remoteStream, setRemoteStream] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isCameraOn, setIsCameraOn] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [isMicOn, setIsMicOn] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [callStatus, setCallStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"connecting\");\n    const [callDuration, setCallDuration] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [recipientName, setRecipientName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isCallInitiator, setIsCallInitiator] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isModalReady, setIsModalReady] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [connectionQuality, setConnectionQuality] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"unknown\");\n    const [showNetworkToast, setShowNetworkToast] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [latestIceStats, setLatestIceStats] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    // Referensi untuk berbagai objek dan status\n    const localVideoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const remoteVideoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const peerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const callDocRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const intervalRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const unsubscribeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const timeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const callInitializedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const connectingRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const mountedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const lastProcessedSignalRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({});\n    const signalingLockRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const retryCountRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    const iceStatsIntervalRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Penanganan tambahan untuk skenario pengujian dua browser di perangkat yang sama\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Fungsi ini untuk mendeteksi apakah pengguna aktif di tab/window saat ini\n        const handleVisibilityChange = ()=>{\n            if (document.hidden) {\n                // Tab tidak aktif, tandai untuk menghindari konflik hardware\n                console.log(\"Tab inactive, marking call as background\");\n            } else {\n                // Tab aktif kembali, periksa status\n                console.log(\"Tab active again, checking call status\");\n                if (connectingRef.current && callStatus === \"connecting\" && peerRef.current === null) {\n                    // Mungkin koneksi hilang saat tab tidak aktif, mencoba restart\n                    console.log(\"Connection lost while tab inactive, trying to restart\");\n                }\n            }\n        };\n        // Tambahkan listener untuk visibilitas dokumen\n        document.addEventListener(\"visibilitychange\", handleVisibilityChange);\n        return ()=>{\n            document.removeEventListener(\"visibilitychange\", handleVisibilityChange);\n        };\n    }, [\n        callStatus\n    ]);\n    // Mendapatkan info recipient\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const fetchRecipientInfo = async ()=>{\n            if (!recipientId) {\n                setRecipientName(\"Pengguna\");\n                return;\n            }\n            try {\n                // Coba dapatkan info pengguna dari Firestore\n                const userDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.getDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_4__.db, \"users\", recipientId));\n                if (userDoc.exists()) {\n                    const userData = userDoc.data();\n                    const name = userData.displayName || \"Pengguna\";\n                    setRecipientName(name);\n                } else {\n                    // Fallback ke localStorage jika ada\n                    try {\n                        const users = JSON.parse(localStorage.getItem(\"hallo_users\") || \"{}\");\n                        const userData = users[recipientId];\n                        if (userData && userData.displayName) {\n                            setRecipientName(userData.displayName);\n                        } else {\n                            setRecipientName(\"Pengguna\");\n                        }\n                    } catch (storageError) {\n                        console.error(\"Error accessing localStorage:\", storageError);\n                        setRecipientName(\"Pengguna\");\n                    }\n                }\n            } catch (error) {\n                console.error(\"Error fetching recipient info:\", error);\n                setRecipientName(\"Pengguna\");\n            }\n        };\n        fetchRecipientInfo();\n    }, [\n        recipientId\n    ]);\n    // Effect untuk menandai modal sudah siap setelah mounting\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        console.log(\"VideoCallModal component mounted\");\n        if (isOpen) {\n            // Tandai modal sudah siap setelah rendering pertama selesai\n            setIsModalReady(true);\n        }\n        return ()=>{\n            console.log(\"VideoCallModal component will unmount\");\n        };\n    }, [\n        isOpen\n    ]);\n    // Effect untuk reset state saat modal tertutup\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Reset state saat modal ditutup\n        if (!isOpen && callInitializedRef.current) {\n            console.log(\"Modal closed, resetting initialized state\");\n            // Hanya reset setelah timeout untuk mencegah race condition\n            const resetTimer = setTimeout(()=>{\n                callInitializedRef.current = false;\n                // Reset state lainnya\n                signalingLockRef.current = false;\n                retryCountRef.current = 0;\n                lastProcessedSignalRef.current = {};\n            }, SIGNALING_LOCK_RELEASE / 2);\n            return ()=>{\n                clearTimeout(resetTimer);\n            };\n        }\n    }, [\n        isOpen\n    ]);\n    // Memulai media stream dan setup panggilan\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Skip jika modal tidak terbuka atau belum siap\n        if (!isOpen || !isModalReady) {\n            return;\n        }\n        // Tandai komponen sebagai terpasang\n        mountedRef.current = true;\n        console.log(\"VideoCallModal mounted, isOpen:\", isOpen, \"isModalReady:\", isModalReady);\n        // Guard clause - hanya inisialisasi sekali dan saat modal terbuka\n        if (callInitializedRef.current) {\n            console.log(\"Skipping initialization: already initialized\");\n            return;\n        }\n        // Tandai proses sudah dimulai\n        callInitializedRef.current = true;\n        connectingRef.current = true;\n        // Reset state signaling\n        signalingLockRef.current = false;\n        retryCountRef.current = 0;\n        lastProcessedSignalRef.current = {};\n        // Setup timeout untuk panggilan yang tidak terjawab\n        timeoutRef.current = setTimeout(()=>{\n            if (mountedRef.current && connectingRef.current && callStatus === \"connecting\") {\n                console.log(\"Call timed out after 30 seconds\");\n                endCall();\n            }\n        }, CALL_TIMEOUT);\n        const initializeCall = async ()=>{\n            try {\n                console.log(\"Initializing call and requesting media access\");\n                // Request media access with appropriate constraints\n                const constraints = {\n                    video: isVideoCall ? {\n                        facingMode: \"user\",\n                        width: {\n                            ideal: 640\n                        },\n                        height: {\n                            ideal: 480\n                        }\n                    } : false,\n                    audio: {\n                        echoCancellation: true,\n                        noiseSuppression: true,\n                        autoGainControl: true\n                    }\n                };\n                // Mode testing satu perangkat\n                if (SINGLE_DEVICE_TESTING) {\n                    console.log(\"Running in single-device testing mode\");\n                    // Delay lebih lama untuk memberi waktu browser melepaskan media\n                    await new Promise((resolve)=>setTimeout(resolve, 700));\n                    // Constraint lebih sederhana untuk mengurangi konflik\n                    if (isVideoCall) {\n                        constraints.video = true;\n                    }\n                } else {\n                    // Delay kecil untuk produksi normal\n                    await new Promise((resolve)=>setTimeout(resolve, 150));\n                }\n                let stream;\n                try {\n                    stream = await navigator.mediaDevices.getUserMedia(constraints);\n                } catch (mediaError) {\n                    console.error(\"Error accessing media devices:\", mediaError);\n                    // Coba lagi dengan constraints yang lebih sederhana jika gagal\n                    if (isVideoCall) {\n                        console.log(\"Retrying with simplified video constraints\");\n                        stream = await navigator.mediaDevices.getUserMedia({\n                            video: true,\n                            audio: true\n                        });\n                    } else {\n                        throw mediaError; // re-throw jika bukan video call\n                    }\n                }\n                // Guard check if component unmounted during async operation\n                if (!mountedRef.current) {\n                    stream.getTracks().forEach((track)=>track.stop());\n                    return;\n                }\n                console.log(\"Media access granted\");\n                // Set local stream\n                setLocalStream(stream);\n                if (localVideoRef.current) {\n                    localVideoRef.current.srcObject = stream;\n                    localVideoRef.current.muted = true;\n                }\n                // Logic for incoming call\n                if (incomingCallId) {\n                    await handleIncomingCall(incomingCallId, stream);\n                } else {\n                    await handleOutgoingCall(stream);\n                }\n            } catch (error) {\n                console.error(\"Error in call setup:\", error);\n                if (mountedRef.current) {\n                    setCallStatus(\"failed\");\n                }\n            }\n        };\n        // Gunakan setTimeout untuk memastikan komponen sudah benar-benar dimuat\n        // sebelum memulai proses inisialisasi\n        const initTimer = setTimeout(()=>{\n            console.log(\"Starting call initialization with delay\");\n            initializeCall();\n        }, MODAL_INIT_DELAY);\n        // Cleanup function\n        return ()=>{\n            console.log(\"VideoCallModal call setup cleanup, status:\", callStatus);\n            clearTimeout(initTimer);\n            mountedRef.current = false;\n            if (timeoutRef.current) {\n                clearTimeout(timeoutRef.current);\n                timeoutRef.current = null;\n            }\n            // Hanya bersihkan jika masih dalam proses (bukan setelah selesai normal)\n            if (callStatus !== \"ended\" && callStatus !== \"failed\") {\n                endCall();\n            }\n        };\n    }, [\n        isOpen,\n        isModalReady,\n        incomingCallId,\n        isVideoCall,\n        chatId,\n        recipientId,\n        user.uid\n    ]);\n    // Effect untuk memonitor kualitas koneksi\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (callStatus === \"connected\" && peerRef.current) {\n            // Mulai monitoring stats setelah terhubung\n            const monitorConnectionQuality = ()=>{\n                if (!peerRef.current) {\n                    return;\n                }\n                console.log(\"Starting connection quality monitoring\");\n                // Bersihkan interval yang ada\n                if (iceStatsIntervalRef.current) {\n                    clearInterval(iceStatsIntervalRef.current);\n                }\n                // Setup interval untuk mengecek kualitas koneksi\n                iceStatsIntervalRef.current = setInterval(async ()=>{\n                    if (!peerRef.current || !mountedRef.current) {\n                        if (iceStatsIntervalRef.current) {\n                            clearInterval(iceStatsIntervalRef.current);\n                            iceStatsIntervalRef.current = null;\n                        }\n                        return;\n                    }\n                    try {\n                        // Ambil WebRTC stats dengan type casting untuk mengatasi error TypeScript\n                        // getStats() adalah metode standar di WebRTC RTCPeerConnection\n                        // @ts-ignore - cast SimplePeer instance ke any untuk akses WebRTC stats\n                        const stats = await peerRef.current.getStats();\n                        if (!stats) return;\n                        let currentRTT = 0;\n                        let packetsLost = 0;\n                        let packetsReceived = 0;\n                        let jitter = 0;\n                        let statsCount = 0;\n                        // Parse WebRTC stats\n                        stats.forEach((stat)=>{\n                            if (stat.type === \"inbound-rtp\" || stat.type === \"remote-inbound-rtp\") {\n                                statsCount++;\n                                if (stat.roundTripTime) {\n                                    currentRTT += stat.roundTripTime * 1000; // Convert to ms\n                                }\n                                if (stat.packetsLost) {\n                                    packetsLost += stat.packetsLost;\n                                }\n                                if (stat.packetsReceived) {\n                                    packetsReceived += stat.packetsReceived;\n                                }\n                                if (stat.jitter) {\n                                    jitter += stat.jitter * 1000; // Convert to ms\n                                }\n                            }\n                        });\n                        // Hitung rata-rata jika ada data\n                        if (statsCount > 0) {\n                            currentRTT = currentRTT / statsCount;\n                            jitter = jitter / statsCount;\n                            const iceStats = {\n                                RTT: Math.round(currentRTT),\n                                packetsLost,\n                                jitter: Math.round(jitter)\n                            };\n                            setLatestIceStats(iceStats);\n                            // Evaluasi kualitas berdasarkan metrics\n                            let quality = \"good\";\n                            // Evaluasi RTT (ping)\n                            if (currentRTT > 300) {\n                                quality = \"poor\";\n                            } else if (currentRTT > 150) {\n                                quality = \"medium\";\n                            }\n                            // Evaluasi packet loss rate jika ada packet yang diterima\n                            if (packetsReceived > 0) {\n                                const lossRate = packetsLost / (packetsLost + packetsReceived);\n                                if (lossRate > 0.05) {\n                                    quality = \"poor\";\n                                } else if (lossRate > 0.02) {\n                                    quality = quality === \"poor\" ? \"poor\" : \"medium\";\n                                }\n                            }\n                            // Evaluasi jitter (consistency)\n                            if (jitter > 50) {\n                                quality = \"poor\";\n                            } else if (jitter > 30) {\n                                quality = quality === \"poor\" ? \"poor\" : \"medium\";\n                            }\n                            // Set kualitas koneksi\n                            setConnectionQuality(quality);\n                            // Tampilkan toast jika kualitas buruk\n                            if (quality === \"poor\" && !showNetworkToast) {\n                                setShowNetworkToast(true);\n                                // Sembunyikan toast setelah 5 detik\n                                setTimeout(()=>{\n                                    if (mountedRef.current) {\n                                        setShowNetworkToast(false);\n                                    }\n                                }, 5000);\n                            }\n                        }\n                    } catch (error) {\n                        console.error(\"Error getting WebRTC stats:\", error);\n                    }\n                }, 3000); // Cek setiap 3 detik\n            };\n            // Mulai monitoring setelah koneksi\n            monitorConnectionQuality();\n            return ()=>{\n                if (iceStatsIntervalRef.current) {\n                    clearInterval(iceStatsIntervalRef.current);\n                    iceStatsIntervalRef.current = null;\n                }\n            };\n        }\n    }, [\n        callStatus\n    ]);\n    // Fungsi untuk membuat peer connection\n    const createPeer = (stream, initiator)=>{\n        console.log(\"Creating SimplePeer connection, initiator:\", initiator);\n        // Cegah pembuatan peer ganda\n        if (peerRef.current) {\n            console.log(\"Peer instance already exists, destroying old one first\");\n            try {\n                peerRef.current.destroy();\n                peerRef.current = null;\n            } catch (e) {\n                console.error(\"Error destroying existing peer:\", e);\n            }\n        }\n        // Reset signaling lock when creating a new peer\n        signalingLockRef.current = false;\n        // Konfigurasi ICE servers yang lebih lengkap\n        const iceServers = [\n            {\n                urls: \"stun:stun.l.google.com:19302\"\n            },\n            {\n                urls: \"stun:stun1.l.google.com:19302\"\n            },\n            {\n                urls: \"turn:openrelay.metered.ca:80\",\n                username: \"openrelayproject\",\n                credential: \"openrelayproject\"\n            },\n            {\n                urls: \"turn:global.turn.twilio.com:3478?transport=udp\",\n                username: \"f4b4035eaa76f4a55de5f4351567653ee4ff6fa97b50b6b334a1dffbe923f24a\",\n                credential: \"myL7nn4CuLV0GPPwoP9NMb02MsCl6FKoJP5Y800kC1I=\"\n            }\n        ];\n        // Buat peer dengan konfigurasi yang lebih stabil\n        const peer = new (simple_peer__WEBPACK_IMPORTED_MODULE_2___default())({\n            initiator,\n            trickle: true,\n            stream,\n            config: {\n                iceServers,\n                iceTransportPolicy: \"all\",\n                sdpSemantics: \"unified-plan\"\n            },\n            objectMode: true\n        });\n        // Handle signal events\n        peer.on(\"signal\", async (data)=>{\n            if (!callDocRef.current || !mountedRef.current) return;\n            const callId = callDocRef.current;\n            try {\n                // Jika signaling lock aktif, skip pengiriman sinyal\n                if (signalingLockRef.current) {\n                    console.log(\"Signaling locked, skipping signal\");\n                    return;\n                }\n                // Handle different signal types\n                if (data.type === \"offer\" && initiator) {\n                    console.log(\"Sending offer to peer\");\n                    const offerTimestamp = new Date().toISOString();\n                    // Simpan timestamp untuk mencegah pemrosesan ganda\n                    lastProcessedSignalRef.current.offer = offerTimestamp;\n                    await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.updateDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_4__.db, \"calls\", callId), {\n                        offer: JSON.stringify(data),\n                        offerTimestamp\n                    });\n                } else if (data.type === \"answer\" && !initiator) {\n                    console.log(\"Sending answer to peer\");\n                    const answerTimestamp = new Date().toISOString();\n                    // Simpan timestamp untuk mencegah pemrosesan ganda\n                    lastProcessedSignalRef.current.answer = answerTimestamp;\n                    // Kunci signaling setelah answer dikirim untuk mencegah race condition\n                    signalingLockRef.current = true;\n                    await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.updateDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_4__.db, \"calls\", callId), {\n                        answer: JSON.stringify(data),\n                        answerTimestamp,\n                        status: \"connected\"\n                    });\n                    // Buka kembali signaling lock setelah 2 detik\n                    setTimeout(()=>{\n                        signalingLockRef.current = false;\n                    }, 2000);\n                } else if (data.candidate) {\n                    // Skip ICE candidate jika signaling lock aktif\n                    if (signalingLockRef.current) return;\n                    // Catat ICE candidate dengan format yang lebih efisien\n                    const callDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.getDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_4__.db, \"calls\", callId));\n                    if (!callDoc.exists()) return;\n                    const currentData = callDoc.data();\n                    const iceUpdateCounter = (currentData.iceUpdateCounter || 0) + 1;\n                    // Batasi jumlah ICE candidates yang disimpan\n                    if (iceUpdateCounter <= 50) {\n                        const fieldName = initiator ? `ice_init_${iceUpdateCounter}` : `ice_recv_${iceUpdateCounter}`;\n                        const updateData = {\n                            iceUpdateCounter\n                        };\n                        updateData[fieldName] = JSON.stringify(data);\n                        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.updateDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_4__.db, \"calls\", callId), updateData);\n                    }\n                }\n            } catch (error) {\n                console.error(\"Error updating signal data:\", error);\n            }\n        });\n        // Handle successful connection\n        peer.on(\"connect\", ()=>{\n            console.log(\"Peer connection established\");\n            if (!mountedRef.current) return;\n            // Update status in component and Firestore\n            connectingRef.current = false;\n            setCallStatus(\"connected\");\n            startCallTimer();\n            // Clear connection timeout\n            if (timeoutRef.current) {\n                clearTimeout(timeoutRef.current);\n                timeoutRef.current = null;\n            }\n            // Update Firestore status\n            if (callDocRef.current) {\n                (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.updateDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_4__.db, \"calls\", callDocRef.current), {\n                    status: \"connected\"\n                }).catch((err)=>{\n                    console.error(\"Error updating connected status:\", err);\n                });\n            }\n        });\n        // Handle remote stream\n        peer.on(\"stream\", (stream)=>{\n            console.log(\"Received remote stream\");\n            if (!mountedRef.current) return;\n            setRemoteStream(stream);\n            if (remoteVideoRef.current) {\n                remoteVideoRef.current.srcObject = stream;\n                // Ensure video plays with better error handling\n                remoteVideoRef.current.play().catch((err)=>{\n                    console.warn(\"Autoplay failed, adding interaction handlers\");\n                    const playOnInteraction = ()=>{\n                        if (remoteVideoRef.current) {\n                            remoteVideoRef.current.play().then(()=>{\n                                document.removeEventListener(\"click\", playOnInteraction);\n                                document.removeEventListener(\"touchstart\", playOnInteraction);\n                            }).catch((e)=>console.error(\"Still cannot play video:\", e));\n                        }\n                    };\n                    document.addEventListener(\"click\", playOnInteraction, {\n                        once: true\n                    });\n                    document.addEventListener(\"touchstart\", playOnInteraction, {\n                        once: true\n                    });\n                });\n            }\n        });\n        // Handle errors\n        peer.on(\"error\", (err)=>{\n            console.error(\"Peer connection error:\", err);\n            if (!mountedRef.current) return;\n            // If connected, try to maintain connection\n            if (callStatus === \"connected\") {\n                console.log(\"Error occurred while connected, attempting to continue\");\n            } else {\n                // For connection errors, fail after a timeout if it's not an invalid state error\n                // which can happen during race conditions when both peers signal at once\n                const errorString = err.toString();\n                if (errorString.includes(\"InvalidStateError\")) {\n                    console.log(\"Invalid state error detected, likely due to simultaneous signaling\");\n                    // Increment retry counter\n                    retryCountRef.current += 1;\n                    // Try to recover by recreating peer with a delay if it was the initiator\n                    // but limit number of retries to prevent infinite loops\n                    if (initiator && retryCountRef.current < 3) {\n                        console.log(`Recreating peer connection after invalid state error (retry ${retryCountRef.current}/3)`);\n                        // Set signaling lock immediately\n                        signalingLockRef.current = true;\n                        // Use a longer delay for each retry attempt\n                        const retryDelay = RETRY_BASE_DELAY + retryCountRef.current * RETRY_BASE_DELAY;\n                        setTimeout(()=>{\n                            // Release signaling lock\n                            signalingLockRef.current = false;\n                            if (mountedRef.current && callStatus === \"connecting\" && peerRef.current === peer) {\n                                console.log(\"Recreating peer connection after invalid state error\");\n                                peerRef.current = null;\n                                const newPeer = createPeer(stream, true);\n                                peerRef.current = newPeer;\n                            }\n                        }, retryDelay);\n                    } else if (retryCountRef.current >= 3) {\n                        console.log(\"Too many retries, setting call as failed\");\n                        setCallStatus(\"failed\");\n                    }\n                } else if (!timeoutRef.current) {\n                    timeoutRef.current = setTimeout(()=>{\n                        if (mountedRef.current && callStatus === \"connecting\") {\n                            console.log(\"Connection failed\");\n                            setCallStatus(\"failed\");\n                        }\n                    }, 8000);\n                }\n            }\n        });\n        // Handle close\n        peer.on(\"close\", ()=>{\n            console.log(\"Peer connection closed\");\n            if (!mountedRef.current) return;\n            if (callStatus !== \"ended\") {\n                endCall();\n            }\n        });\n        return peer;\n    };\n    // Mulai timer durasi panggilan\n    const startCallTimer = ()=>{\n        if (intervalRef.current) {\n            clearInterval(intervalRef.current);\n        }\n        let seconds = 0;\n        intervalRef.current = setInterval(()=>{\n            seconds += 1;\n            if (mountedRef.current) {\n                setCallDuration(seconds);\n            } else {\n                // Cleanup jika komponen sudah unmount\n                if (intervalRef.current) {\n                    clearInterval(intervalRef.current);\n                }\n            }\n        }, 1000);\n    };\n    // Format durasi panggilan untuk tampilan\n    const formatCallDuration = (seconds)=>{\n        const hrs = Math.floor(seconds / 3600);\n        const mins = Math.floor(seconds % 3600 / 60);\n        const secs = seconds % 60;\n        return `${hrs.toString().padStart(2, \"0\")}:${mins.toString().padStart(2, \"0\")}:${secs.toString().padStart(2, \"0\")}`;\n    };\n    // Toggle camera on/off\n    const toggleCamera = ()=>{\n        if (!localStream) return;\n        const videoTracks = localStream.getVideoTracks();\n        if (videoTracks.length > 0) {\n            const enabled = !videoTracks[0].enabled;\n            videoTracks[0].enabled = enabled;\n            setIsCameraOn(enabled);\n        }\n    };\n    // Toggle mic on/off\n    const toggleMic = ()=>{\n        if (!localStream) return;\n        const audioTracks = localStream.getAudioTracks();\n        if (audioTracks.length > 0) {\n            const enabled = !audioTracks[0].enabled;\n            audioTracks[0].enabled = enabled;\n            setIsMicOn(enabled);\n        }\n    };\n    // Clean end call with proper cleanup\n    const endCall = async ()=>{\n        console.log(\"Ending call, status:\", callStatus);\n        // Prevent multiple calls to endCall\n        if (callStatus === \"ended\") {\n            console.log(\"Call already ended, skipping endCall\");\n            return;\n        }\n        // Set status to ended immediately\n        setCallStatus(\"ended\");\n        connectingRef.current = false;\n        // Clear timeout if any\n        if (timeoutRef.current) {\n            clearTimeout(timeoutRef.current);\n            timeoutRef.current = null;\n        }\n        // Stop interval timer\n        if (intervalRef.current) {\n            clearInterval(intervalRef.current);\n            intervalRef.current = null;\n        }\n        // Stop stats monitoring\n        if (iceStatsIntervalRef.current) {\n            clearInterval(iceStatsIntervalRef.current);\n            iceStatsIntervalRef.current = null;\n        }\n        // Stop local stream\n        if (localStream) {\n            try {\n                localStream.getTracks().forEach((track)=>{\n                    track.stop();\n                });\n                setLocalStream(null);\n            } catch (e) {\n                console.error(\"Error stopping local stream:\", e);\n            }\n        }\n        // Stop remote stream\n        if (remoteStream) {\n            try {\n                remoteStream.getTracks().forEach((track)=>{\n                    track.stop();\n                });\n                setRemoteStream(null);\n            } catch (e) {\n                console.error(\"Error stopping remote stream:\", e);\n            }\n        }\n        // Destroy peer\n        if (peerRef.current) {\n            try {\n                peerRef.current.destroy();\n                peerRef.current = null;\n            } catch (e) {\n                console.error(\"Error destroying peer:\", e);\n            }\n        }\n        // Unsubscribe from Firestore\n        if (unsubscribeRef.current) {\n            try {\n                unsubscribeRef.current();\n                unsubscribeRef.current = null;\n            } catch (e) {\n                console.error(\"Error unsubscribing from Firestore:\", e);\n            }\n        }\n        // Update call status in Firestore\n        if (callDocRef.current) {\n            try {\n                // Tambahkan guard untuk mencegah multiple update ke Firestore\n                const callId = callDocRef.current;\n                callDocRef.current = null;\n                await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.updateDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_4__.db, \"calls\", callId), {\n                    status: \"ended\",\n                    endedAt: new Date().toISOString()\n                });\n            } catch (e) {\n                console.error(\"Error updating call status:\", e);\n            }\n        }\n        // Reset refs\n        callInitializedRef.current = false;\n        // Close modal with delay\n        setTimeout(()=>{\n            if (mountedRef.current) {\n                setCallDuration(0);\n                console.log(\"Closing modal after call ended\");\n                onClose();\n            }\n        }, 500);\n    };\n    // Handler untuk panggilan masuk\n    const handleIncomingCall = async (callId, stream)=>{\n        console.log(\"Handling incoming call:\", callId);\n        callDocRef.current = callId;\n        try {\n            // Get call data\n            const callDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.getDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_4__.db, \"calls\", callId));\n            if (!callDoc.exists()) {\n                console.error(\"Call document not found\");\n                setCallStatus(\"failed\");\n                return;\n            }\n            const callData = callDoc.data();\n            setIsCallInitiator(false);\n            // Reset retry counter for a fresh call\n            retryCountRef.current = 0;\n            // Setup firestore listener untuk signaling dan status panggilan\n            const unsubscribe = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.onSnapshot)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_4__.db, \"calls\", callId), (docSnapshot)=>{\n                if (!mountedRef.current) return;\n                if (!docSnapshot.exists()) {\n                    console.log(\"Call document deleted\");\n                    endCall();\n                    return;\n                }\n                const callData = docSnapshot.data();\n                // Check call status\n                if (callData.status === \"ended\" || callData.status === \"declined\") {\n                    console.log(\"Call ended by other party\");\n                    endCall();\n                    return;\n                }\n                // Process offer jika ada dan kita belum punya peer\n                // Atau jika offerTimestamp lebih baru dari offer terakhir yang kita proses\n                if (callData.offer && (!peerRef.current || callData.offerTimestamp && (!lastProcessedSignalRef.current.offer || callData.offerTimestamp > lastProcessedSignalRef.current.offer))) {\n                    // Skip jika signaling lock aktif\n                    if (signalingLockRef.current) {\n                        console.log(\"Signaling locked, skipping offer processing\");\n                        return;\n                    }\n                    console.log(\"Received offer, initializing peer connection\");\n                    // Simpan timestamp untuk mencegah pemrosesan ganda\n                    lastProcessedSignalRef.current.offer = callData.offerTimestamp;\n                    // Cek apakah peer sudah ada, jika ada refresh\n                    if (peerRef.current) {\n                        console.log(\"Refreshing existing peer connection for incoming call\");\n                        refreshConnection(stream, false);\n                    } else {\n                        // Buat dan simpan peer connection baru\n                        const peer = createPeer(stream, false);\n                        peerRef.current = peer;\n                    }\n                    // Proses offer dari penelepon dalam try-catch untuk penanganan error yang lebih baik\n                    try {\n                        const offer = JSON.parse(callData.offer);\n                        // Delay singkat sebelum proses offer untuk memastikan peer siap\n                        setTimeout(()=>{\n                            if (peerRef.current && mountedRef.current) {\n                                try {\n                                    peerRef.current.signal(offer);\n                                } catch (signalError) {\n                                    console.error(\"Error processing offer signal:\", signalError);\n                                    // Jika terjadi error, coba refresh connection setelah delay\n                                    if (mountedRef.current) {\n                                        setTimeout(()=>{\n                                            if (mountedRef.current) {\n                                                console.log(\"Attempting to recover from signal error\");\n                                                const newPeer = refreshConnection(stream, false);\n                                                setTimeout(()=>{\n                                                    if (newPeer && mountedRef.current) {\n                                                        try {\n                                                            newPeer.signal(offer);\n                                                        } catch (retryError) {\n                                                            console.error(\"Failed to recover from signal error:\", retryError);\n                                                        }\n                                                    }\n                                                }, 500);\n                                            }\n                                        }, 1000);\n                                    }\n                                }\n                            }\n                        }, 100);\n                    } catch (error) {\n                        console.error(\"Error processing offer:\", error);\n                    }\n                }\n            });\n            unsubscribeRef.current = unsubscribe;\n            // Update call status ke 'answered'\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.updateDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_4__.db, \"calls\", callId), {\n                status: \"answered\",\n                answeredAt: new Date().toISOString()\n            });\n        } catch (error) {\n            console.error(\"Error in handling incoming call:\", error);\n            setCallStatus(\"failed\");\n        }\n    };\n    // Handler untuk panggilan keluar\n    const handleOutgoingCall = async (stream)=>{\n        console.log(\"Handling outgoing call\");\n        try {\n            // Buat ID panggilan baru\n            const newCallId = `call_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n            callDocRef.current = newCallId;\n            setIsCallInitiator(true);\n            // Reset retry counter for a fresh call\n            retryCountRef.current = 0;\n            // Data panggilan awal\n            const callData = {\n                chatId,\n                initiatorId: user.uid,\n                recipientId,\n                status: \"ringing\",\n                type: isVideoCall ? \"video\" : \"audio\",\n                startedAt: new Date().toISOString(),\n                endedAt: null,\n                offer: null,\n                answer: null,\n                offerTimestamp: null,\n                answerTimestamp: null,\n                iceUpdateCounter: 0,\n                callClientId: Math.random().toString(36).substring(2, 15)\n            };\n            // Simpan dokumen panggilan\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.setDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_4__.db, \"calls\", newCallId), callData);\n            console.log(\"Call document created:\", newCallId);\n            // Setup listener untuk update panggilan\n            const unsubscribe = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.onSnapshot)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_4__.db, \"calls\", newCallId), (docSnapshot)=>{\n                if (!mountedRef.current) return;\n                if (!docSnapshot.exists()) {\n                    console.log(\"Call document deleted\");\n                    endCall();\n                    return;\n                }\n                const callData = docSnapshot.data();\n                // Check call status updates\n                if (callData.status === \"declined\") {\n                    console.log(\"Call declined by recipient\");\n                    endCall();\n                    return;\n                } else if (callData.status === \"answered\" && callStatus === \"connecting\") {\n                    console.log(\"Call answered, waiting for connection...\");\n                    // Reset timeout since call was answered\n                    if (timeoutRef.current) {\n                        clearTimeout(timeoutRef.current);\n                        timeoutRef.current = setTimeout(()=>{\n                            if (callStatus === \"connecting\" && mountedRef.current) {\n                                console.log(\"Call answered but failed to connect\");\n                                endCall();\n                            }\n                        }, ANSWER_TIMEOUT);\n                    }\n                } else if (callData.status === \"ended\") {\n                    console.log(\"Call ended by recipient\");\n                    endCall();\n                    return;\n                }\n                // Process answer jika tersedia dan lebih baru dari yang sebelumnya\n                if (callData.answer && peerRef.current && (!lastProcessedSignalRef.current.answer || callData.answerTimestamp && callData.answerTimestamp > lastProcessedSignalRef.current.answer)) {\n                    // Skip jika signaling lock aktif\n                    if (signalingLockRef.current) {\n                        console.log(\"Signaling locked, skipping answer processing\");\n                        return;\n                    }\n                    try {\n                        console.log(\"Received answer from peer\");\n                        const answer = JSON.parse(callData.answer);\n                        // Simpan timestamp untuk mencegah pemrosesan ganda\n                        lastProcessedSignalRef.current.answer = callData.answerTimestamp;\n                        // Kunci signaling selama pemrosesan answer untuk mencegah race condition\n                        signalingLockRef.current = true;\n                        // Wrap dalam try-catch untuk menangani error \"Called in wrong state: stable\"\n                        try {\n                            peerRef.current.signal(answer);\n                            // Jika tidak ada error, buka kembali signaling lock setelah delay\n                            setTimeout(()=>{\n                                signalingLockRef.current = false;\n                            }, SIGNALING_LOCK_RELEASE / 2);\n                        } catch (err) {\n                            console.error(\"Error processing answer, will retry:\", err);\n                            // Jika terjadi error, coba refresh connection dan kemudian coba lagi\n                            setTimeout(()=>{\n                                if (stream && mountedRef.current) {\n                                    try {\n                                        // Refresh connection dan coba lagi dengan signaling yang sama\n                                        console.log(\"Refreshing connection after signaling error\");\n                                        const newPeer = refreshConnection(stream, true);\n                                        // Tunggu sebentar, kemudian coba set signal lagi\n                                        setTimeout(()=>{\n                                            if (newPeer && mountedRef.current) {\n                                                try {\n                                                    newPeer.signal(answer);\n                                                } catch (retryErr) {\n                                                    console.error(\"Final error processing answer after refresh:\", retryErr);\n                                                    // Buka signaling lock setelah lebih lama\n                                                    setTimeout(()=>{\n                                                        signalingLockRef.current = false;\n                                                    }, SIGNALING_LOCK_RELEASE);\n                                                    // Increment retry counter\n                                                    retryCountRef.current += 1;\n                                                    // Jika sudah mencoba beberapa kali, tandai panggilan gagal\n                                                    if (retryCountRef.current >= MAX_RETRIES) {\n                                                        console.log(\"Too many signal processing errors, failing call\");\n                                                        setCallStatus(\"failed\");\n                                                    }\n                                                }\n                                            } else {\n                                                // Peer sudah tidak ada, buka signaling lock\n                                                signalingLockRef.current = false;\n                                            }\n                                        }, 500);\n                                    } catch (refreshErr) {\n                                        console.error(\"Error refreshing connection:\", refreshErr);\n                                        signalingLockRef.current = false;\n                                        setCallStatus(\"failed\");\n                                    }\n                                } else {\n                                    // Stream tidak tersedia, buka signaling lock\n                                    signalingLockRef.current = false;\n                                }\n                            }, RETRY_BASE_DELAY);\n                        }\n                    } catch (error) {\n                        console.error(\"Error parsing answer:\", error);\n                        // Buka kembali signaling lock jika terjadi error parsing\n                        signalingLockRef.current = false;\n                    }\n                }\n            });\n            unsubscribeRef.current = unsubscribe;\n            // Buat peer connection sebagai inisiator\n            const peer = createPeer(stream, true);\n            peerRef.current = peer;\n        } catch (error) {\n            console.error(\"Error in outgoing call:\", error);\n            setCallStatus(\"failed\");\n        }\n    };\n    // Fungsi untuk me-refresh koneksi jika terjadi kegagalan\n    const refreshConnection = (stream, isInitiator)=>{\n        console.log(\"Refreshing peer connection\");\n        // Bersihkan peer connection yang ada\n        if (peerRef.current) {\n            try {\n                peerRef.current.destroy();\n                peerRef.current = null;\n            } catch (e) {\n                console.error(\"Error destroying existing peer during refresh:\", e);\n            }\n        }\n        // Reset signaling lock\n        signalingLockRef.current = false;\n        // Buat peer connection baru\n        const newPeer = createPeer(stream, isInitiator);\n        peerRef.current = newPeer;\n        // Jika belum terhubung, set status ke connecting\n        if (callStatus !== \"connected\") {\n            setCallStatus(\"connecting\");\n        }\n        return newPeer;\n    };\n    if (!isOpen) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-white rounded-lg shadow-lg w-full max-w-md overflow-hidden\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-primary text-white p-4 flex justify-between items-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"text-xl font-semibold\",\n                            children: [\n                                isVideoCall ? \"Video Call\" : \"Audio Call\",\n                                \" dengan \",\n                                recipientName\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                            lineNumber: 1210,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center\",\n                            children: [\n                                callStatus === \"connected\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-sm mr-2\",\n                                            children: formatCallDuration(callDuration)\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                                            lineNumber: 1216,\n                                            columnNumber: 17\n                                        }, this),\n                                        connectionQuality !== \"unknown\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"h-6 w-6 rounded-full flex items-center justify-center mr-1\",\n                                            title: `Kualitas koneksi: ${connectionQuality === \"good\" ? \"Baik\" : connectionQuality === \"medium\" ? \"Sedang\" : \"Buruk\"}`,\n                                            children: [\n                                                connectionQuality === \"good\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiMic_FiMicOff_FiPhone_FiVideo_FiVideoOff_FiWifi_FiWifiOff_react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiWifi, {\n                                                    className: \"text-green-300\",\n                                                    size: 16\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                                                    lineNumber: 1226,\n                                                    columnNumber: 54\n                                                }, this),\n                                                connectionQuality === \"medium\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiMic_FiMicOff_FiPhone_FiVideo_FiVideoOff_FiWifi_FiWifiOff_react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiWifi, {\n                                                    className: \"text-yellow-300\",\n                                                    size: 16\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                                                    lineNumber: 1227,\n                                                    columnNumber: 56\n                                                }, this),\n                                                connectionQuality === \"poor\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiMic_FiMicOff_FiPhone_FiVideo_FiVideoOff_FiWifi_FiWifiOff_react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiWifiOff, {\n                                                    className: \"text-red-300\",\n                                                    size: 16\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                                                    lineNumber: 1228,\n                                                    columnNumber: 54\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                                            lineNumber: 1219,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true),\n                                callStatus === \"connecting\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-sm\",\n                                    children: \"Menghubungkan...\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                                    lineNumber: 1234,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                            lineNumber: 1213,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                    lineNumber: 1209,\n                    columnNumber: 9\n                }, this),\n                showNetworkToast && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-red-500 text-white text-xs p-2 text-center animate-pulse\",\n                    children: \"Koneksi internet lemah. Kualitas panggilan mungkin terpengaruh.\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                    lineNumber: 1241,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"video-container relative\",\n                    children: [\n                        isVideoCall && callStatus === \"connected\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-full h-64 bg-gray-800 flex items-center justify-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                                    ref: remoteVideoRef,\n                                    autoPlay: true,\n                                    playsInline: true,\n                                    className: \"w-full h-full object-cover\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                                    lineNumber: 1249,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute top-2 right-2 w-24 h-24 bg-gray-900 rounded-lg overflow-hidden\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                                        ref: localVideoRef,\n                                        autoPlay: true,\n                                        playsInline: true,\n                                        muted: true,\n                                        className: \"w-full h-full object-cover\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                                        lineNumber: 1256,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                                    lineNumber: 1255,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                            lineNumber: 1248,\n                            columnNumber: 13\n                        }, this),\n                        callStatus === \"connecting\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex flex-col items-center justify-center py-8\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-20 h-20 rounded-full bg-primary flex items-center justify-center mb-4\",\n                                    children: isVideoCall ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiMic_FiMicOff_FiPhone_FiVideo_FiVideoOff_FiWifi_FiWifiOff_react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiVideo, {\n                                        size: 32,\n                                        className: \"text-white\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                                        lineNumber: 1270,\n                                        columnNumber: 32\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiMic_FiMicOff_FiPhone_FiVideo_FiVideoOff_FiWifi_FiWifiOff_react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiPhone, {\n                                        size: 32,\n                                        className: \"text-white\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                                        lineNumber: 1270,\n                                        columnNumber: 79\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                                    lineNumber: 1269,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-lg font-medium\",\n                                    children: [\n                                        \"Menghubungi \",\n                                        recipientName,\n                                        \"...\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                                    lineNumber: 1272,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-4 flex space-x-2 items-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-2 h-2 bg-primary rounded-full animate-bounce\",\n                                            style: {\n                                                animationDelay: \"0ms\"\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                                            lineNumber: 1274,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-2 h-2 bg-primary rounded-full animate-bounce\",\n                                            style: {\n                                                animationDelay: \"250ms\"\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                                            lineNumber: 1275,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-2 h-2 bg-primary rounded-full animate-bounce\",\n                                            style: {\n                                                animationDelay: \"500ms\"\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                                            lineNumber: 1276,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                                    lineNumber: 1273,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                            lineNumber: 1268,\n                            columnNumber: 13\n                        }, this),\n                        !isVideoCall && callStatus === \"connected\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex flex-col items-center justify-center py-12 bg-gradient-to-r from-primary/10 to-primary-dark/10\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-24 h-24 rounded-full bg-primary flex items-center justify-center mb-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiMic_FiMicOff_FiPhone_FiVideo_FiVideoOff_FiWifi_FiWifiOff_react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiPhone, {\n                                        size: 40,\n                                        className: \"text-white\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                                        lineNumber: 1284,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                                    lineNumber: 1283,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-xl\",\n                                    children: [\n                                        \"Audio Call dengan \",\n                                        recipientName\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                                    lineNumber: 1286,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-gray-500 mt-2\",\n                                    children: formatCallDuration(callDuration)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                                    lineNumber: 1287,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                            lineNumber: 1282,\n                            columnNumber: 13\n                        }, this),\n                        callStatus === \"failed\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex flex-col items-center justify-center py-8 bg-red-50\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-20 h-20 rounded-full bg-red-500 flex items-center justify-center mb-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiMic_FiMicOff_FiPhone_FiVideo_FiVideoOff_FiWifi_FiWifiOff_react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiPhone, {\n                                        size: 32,\n                                        className: \"text-white transform rotate-135\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                                        lineNumber: 1295,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                                    lineNumber: 1294,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-lg font-medium text-red-700\",\n                                    children: \"Panggilan Gagal\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                                    lineNumber: 1297,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-gray-500 mt-1 mb-4 text-center px-6\",\n                                    children: [\n                                        \"Tidak dapat menghubungkan panggilan.\",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                                            lineNumber: 1299,\n                                            columnNumber: 53\n                                        }, this),\n                                        \"Periksa koneksi internet Anda.\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                                    lineNumber: 1298,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: onClose,\n                                    className: \"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark\",\n                                    children: \"Tutup\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                                    lineNumber: 1301,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                            lineNumber: 1293,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                    lineNumber: 1246,\n                    columnNumber: 9\n                }, this),\n                (callStatus === \"connected\" || localStream) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-4 flex justify-center space-x-4 bg-gray-100\",\n                    children: [\n                        isVideoCall && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: toggleCamera,\n                            className: `rounded-full p-3 ${isCameraOn ? \"bg-primary text-white\" : \"bg-gray-300 text-gray-700\"}`,\n                            children: isCameraOn ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiMic_FiMicOff_FiPhone_FiVideo_FiVideoOff_FiWifi_FiWifiOff_react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiVideo, {\n                                size: 22\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                                lineNumber: 1318,\n                                columnNumber: 31\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiMic_FiMicOff_FiPhone_FiVideo_FiVideoOff_FiWifi_FiWifiOff_react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiVideoOff, {\n                                size: 22\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                                lineNumber: 1318,\n                                columnNumber: 55\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                            lineNumber: 1314,\n                            columnNumber: 15\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: toggleMic,\n                            className: `rounded-full p-3 ${isMicOn ? \"bg-primary text-white\" : \"bg-gray-300 text-gray-700\"}`,\n                            children: isMicOn ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiMic_FiMicOff_FiPhone_FiVideo_FiVideoOff_FiWifi_FiWifiOff_react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiMic, {\n                                size: 22\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                                lineNumber: 1325,\n                                columnNumber: 26\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiMic_FiMicOff_FiPhone_FiVideo_FiVideoOff_FiWifi_FiWifiOff_react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiMicOff, {\n                                size: 22\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                                lineNumber: 1325,\n                                columnNumber: 48\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                            lineNumber: 1321,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: endCall,\n                            className: \"rounded-full p-3 bg-red-500 text-white\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FiMic_FiMicOff_FiPhone_FiVideo_FiVideoOff_FiWifi_FiWifiOff_react_icons_fi__WEBPACK_IMPORTED_MODULE_5__.FiPhone, {\n                                size: 22,\n                                className: \"transform rotate-135\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                                lineNumber: 1331,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                            lineNumber: 1327,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n                    lineNumber: 1312,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n            lineNumber: 1208,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\components\\\\VideoCallModal.tsx\",\n        lineNumber: 1207,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9WaWRlb0NhbGxNb2RhbC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFFb0Q7QUFFOEM7QUFDN0Q7QUFDZ0Y7QUFDN0UsQ0FBQyx1REFBdUQ7QUFFaEcsOENBQThDO0FBQzlDLE1BQU1rQix3QkFBd0IsT0FBTyxnQ0FBZ0M7QUFFckUsMENBQTBDO0FBQzFDLE1BQU1DLG1CQUFtQixLQUFXLDRDQUE0QztBQUNoRixNQUFNQyx5QkFBeUIsTUFBTSxxQ0FBcUM7QUFDMUUsTUFBTUMsZUFBZSxPQUFnQiw0Q0FBNEM7QUFDakYsTUFBTUMsaUJBQWlCLE9BQWMseUNBQXlDO0FBQzlFLE1BQU1DLG1CQUFtQixNQUFZLDBCQUEwQjtBQUMvRCxNQUFNQyxjQUFjLEdBQWlCLHVCQUF1QjtBQVk1RCxnREFBZ0Q7QUFDaEQsTUFBTUMsc0JBQXNCLE9BQU9DLFFBQWdCQztJQUNqRCxJQUFJO1FBQ0YsTUFBTWYsMERBQU1BLENBQUNELHVEQUFHQSxDQUFDTSxnREFBRUEsRUFBRSxTQUFTUyxTQUFTO1lBQ3JDLEdBQUdDLFFBQVE7WUFDWEMsV0FBV1osbUVBQWVBO1FBQzVCO1FBQ0EsT0FBTztJQUNULEVBQUUsT0FBT2EsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsd0NBQXdDQTtRQUN0RCxPQUFPO0lBQ1Q7QUFDRjtBQUVBLHdEQUF3RDtBQUN4RCxNQUFNRSxtQkFBbUIsT0FBT0wsUUFBZ0JNO0lBQzlDLElBQUk7UUFDRixNQUFNbEIsNkRBQVNBLENBQUNILHVEQUFHQSxDQUFDTSxnREFBRUEsRUFBRSxTQUFTUyxTQUFTO1lBQ3hDTTtZQUNBSixXQUFXWixtRUFBZUE7WUFDMUIsR0FBSWdCLFdBQVcsVUFBVTtnQkFBRUMsU0FBU2pCLG1FQUFlQTtZQUFHLElBQUksQ0FBQyxDQUFDO1FBQzlEO1FBQ0EsT0FBTztJQUNULEVBQUUsT0FBT2EsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsNENBQTRDQTtRQUMxRCxPQUFPO0lB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bU8sTUFBTTs7Ozs7cURBQVMsOERBQUNsTyx3SUFBVUE7Z0NBQUNrTyxNQUFNOzs7Ozs7Ozs7OztzQ0FHNUQsOERBQUNROzRCQUNDQyxTQUFTbkM7NEJBQ1RzQixXQUFXLENBQUMsaUJBQWlCLEVBQUVsTCxVQUFVLDBCQUEwQiw0QkFBNEIsQ0FBQztzQ0FFL0ZBLHdCQUFVLDhEQUFDM0MsbUlBQUtBO2dDQUFDaU8sTUFBTTs7Ozs7cURBQVMsOERBQUNoTyxzSUFBUUE7Z0NBQUNnTyxNQUFNOzs7Ozs7Ozs7OztzQ0FFbkQsOERBQUNROzRCQUNDQyxTQUFTeEk7NEJBQ1QySCxXQUFVO3NDQUVWLDRFQUFDM04scUlBQU9BO2dDQUFDK04sTUFBTTtnQ0FBSUosV0FBVTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU8zQyIsInNvdXJjZXMiOlsid2VicGFjazovL2hhbGxvLy4vc3JjL2NvbXBvbmVudHMvVmlkZW9DYWxsTW9kYWwudHN4PzZlNjgiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xyXG5cclxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBVc2VyIH0gZnJvbSAnZmlyZWJhc2UvYXV0aCc7XHJcbmltcG9ydCB7IEZpVmlkZW8sIEZpVmlkZW9PZmYsIEZpTWljLCBGaU1pY09mZiwgRmlQaG9uZSwgRmlXaWZpLCBGaVdpZmlPZmYgfSBmcm9tICdyZWFjdC1pY29ucy9maSc7XHJcbmltcG9ydCBTaW1wbGVQZWVyIGZyb20gJ3NpbXBsZS1wZWVyJztcclxuaW1wb3J0IHsgY29sbGVjdGlvbiwgZG9jLCBzZXREb2MsIG9uU25hcHNob3QsIHVwZGF0ZURvYywgZ2V0RG9jLCBhZGREb2MsIHNlcnZlclRpbWVzdGFtcCB9IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XHJcbmltcG9ydCB7IGRiIH0gZnJvbSAnLi4vZmlyZWJhc2UvY29uZmlnJzsgLy8gUGFzdGlrYW4gaW5pIHN1ZGFoIGJlbmFyIHNlc3VhaSBzdHJ1a3R1ciBmb2xkZXIgQW5kYVxyXG5cclxuLy8gS29uc3RhbnRhIHVudHVrIG1vZGUgdGVzdGluZyBzYXR1IHBlcmFuZ2thdFxyXG5jb25zdCBTSU5HTEVfREVWSUNFX1RFU1RJTkcgPSBmYWxzZTsgLy8gU2V0IGtlIGZhbHNlIHVudHVrIGRlcGxveW1lbnRcclxuXHJcbi8vIEtvbnN0YW50YSBkZWxheSB1bnR1ayBzdGFiaWxpdGFzIHRpbWluZ1xyXG5jb25zdCBNT0RBTF9JTklUX0RFTEFZID0gMzAwOyAgICAgICAvLyBXYWt0dSB0dW5nZ3Ugc2ViZWx1bSBpbmlzaWFsaXNhc2kga29uZWtzaVxyXG5jb25zdCBTSUdOQUxJTkdfTE9DS19SRUxFQVNFID0gMjAwMDsgLy8gV2FrdHUgdW50dWsgbWVtYnVrYSBzaWduYWxpbmcgbG9ja1xyXG5jb25zdCBDQUxMX1RJTUVPVVQgPSAzMDAwMDsgICAgICAgICAgLy8gV2FrdHUgbWFrc2ltdW0gbWVudW5nZ3UgamF3YWJhbiBwYW5nZ2lsYW5cclxuY29uc3QgQU5TV0VSX1RJTUVPVVQgPSAxNTAwMDsgICAgICAgIC8vIFdha3R1IHR1bmdndSBzZXRlbGFoIHBhbmdnaWxhbiBkaWphd2FiXHJcbmNvbnN0IFJFVFJZX0JBU0VfREVMQVkgPSAxNTAwOyAgICAgICAvLyBEZWxheSBkYXNhciB1bnR1ayByZXRyeVxyXG5jb25zdCBNQVhfUkVUUklFUyA9IDM7ICAgICAgICAgICAgICAgLy8gQmF0YXMgbWFrc2ltdW0gcmV0cnlcclxuXHJcbnR5cGUgVmlkZW9DYWxsTW9kYWxQcm9wcyA9IHtcclxuICBpc09wZW46IGJvb2xlYW47XHJcbiAgb25DbG9zZTogKCkgPT4gdm9pZDtcclxuICB1c2VyOiBVc2VyO1xyXG4gIGNoYXRJZDogc3RyaW5nO1xyXG4gIHJlY2lwaWVudElkOiBzdHJpbmc7XHJcbiAgaXNWaWRlb0NhbGw/OiBib29sZWFuO1xyXG4gIGluY29taW5nQ2FsbElkPzogc3RyaW5nIHwgbnVsbDsgLy8gVGFtYmFoa2FuIHByb3AgdW50dWsgbWVuYW5kYWkgcGFuZ2dpbGFuIG1hc3VrXHJcbn07XHJcblxyXG4vLyBIZWxwZXIgdW50dWsgbWVueWltcGFuIGRhdGEgY2FsbCBrZSBGaXJlc3RvcmVcclxuY29uc3Qgc2F2ZUNhbGxUb0ZpcmVzdG9yZSA9IGFzeW5jIChjYWxsSWQ6IHN0cmluZywgY2FsbERhdGE6IGFueSkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBhd2FpdCBzZXREb2MoZG9jKGRiLCAnY2FsbHMnLCBjYWxsSWQpLCB7XHJcbiAgICAgIC4uLmNhbGxEYXRhLFxyXG4gICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpXHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgY2FsbCBkYXRhIHRvIEZpcmVzdG9yZTonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gSGVscGVyIHVudHVrIG1lbmd1cGRhdGUgc3RhdHVzIHBhbmdnaWxhbiBkaSBGaXJlc3RvcmVcclxuY29uc3QgdXBkYXRlQ2FsbFN0YXR1cyA9IGFzeW5jIChjYWxsSWQ6IHN0cmluZywgc3RhdHVzOiBzdHJpbmcpID0+IHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgdXBkYXRlRG9jKGRvYyhkYiwgJ2NhbGxzJywgY2FsbElkKSwge1xyXG4gICAgICBzdGF0dXMsXHJcbiAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXHJcbiAgICAgIC4uLihzdGF0dXMgPT09ICdlbmRlZCcgPyB7IGVuZGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpIH0gOiB7fSlcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGNhbGwgc3RhdHVzIGluIEZpcmVzdG9yZTonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVmlkZW9DYWxsTW9kYWwoe1xyXG4gIGlzT3BlbixcclxuICBvbkNsb3NlLFxyXG4gIHVzZXIsXHJcbiAgY2hhdElkLFxyXG4gIHJlY2lwaWVudElkLFxyXG4gIGlzVmlkZW9DYWxsID0gdHJ1ZSxcclxuICBpbmNvbWluZ0NhbGxJZCA9IG51bGwgLy8gTmlsYWkgZGVmYXVsdCBudWxsIHVudHVrIHBhbmdnaWxhbiBrZWx1YXJcclxufTogVmlkZW9DYWxsTW9kYWxQcm9wcykge1xyXG4gIGNvbnN0IFtsb2NhbFN0cmVhbSwgc2V0TG9jYWxTdHJlYW1dID0gdXNlU3RhdGU8TWVkaWFTdHJlYW0gfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbcmVtb3RlU3RyZWFtLCBzZXRSZW1vdGVTdHJlYW1dID0gdXNlU3RhdGU8TWVkaWFTdHJlYW0gfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbaXNDYW1lcmFPbiwgc2V0SXNDYW1lcmFPbl0gPSB1c2VTdGF0ZTxib29sZWFuPih0cnVlKTtcclxuICBjb25zdCBbaXNNaWNPbiwgc2V0SXNNaWNPbl0gPSB1c2VTdGF0ZTxib29sZWFuPih0cnVlKTtcclxuICBjb25zdCBbY2FsbFN0YXR1cywgc2V0Q2FsbFN0YXR1c10gPSB1c2VTdGF0ZTwnY29ubmVjdGluZycgfCAnY29ubmVjdGVkJyB8ICdlbmRlZCcgfCAnZmFpbGVkJz4oJ2Nvbm5lY3RpbmcnKTtcclxuICBjb25zdCBbY2FsbER1cmF0aW9uLCBzZXRDYWxsRHVyYXRpb25dID0gdXNlU3RhdGU8bnVtYmVyPigwKTtcclxuICBjb25zdCBbcmVjaXBpZW50TmFtZSwgc2V0UmVjaXBpZW50TmFtZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKTtcclxuICBjb25zdCBbaXNDYWxsSW5pdGlhdG9yLCBzZXRJc0NhbGxJbml0aWF0b3JdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xyXG4gIGNvbnN0IFtpc01vZGFsUmVhZHksIHNldElzTW9kYWxSZWFkeV0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XHJcbiAgY29uc3QgW2Nvbm5lY3Rpb25RdWFsaXR5LCBzZXRDb25uZWN0aW9uUXVhbGl0eV0gPSB1c2VTdGF0ZTwnZ29vZCcgfCAnbWVkaXVtJyB8ICdwb29yJyB8ICd1bmtub3duJz4oJ3Vua25vd24nKTtcclxuICBjb25zdCBbc2hvd05ldHdvcmtUb2FzdCwgc2V0U2hvd05ldHdvcmtUb2FzdF0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XHJcbiAgY29uc3QgW2xhdGVzdEljZVN0YXRzLCBzZXRMYXRlc3RJY2VTdGF0c10gPSB1c2VTdGF0ZTx7XHJcbiAgICBSVFQ/OiBudW1iZXIsXHJcbiAgICBwYWNrZXRzTG9zdD86IG51bWJlcixcclxuICAgIGppdHRlcj86IG51bWJlclxyXG4gIH0+KHt9KTtcclxuICBcclxuICAvLyBSZWZlcmVuc2kgdW50dWsgYmVyYmFnYWkgb2JqZWsgZGFuIHN0YXR1c1xyXG4gIGNvbnN0IGxvY2FsVmlkZW9SZWYgPSB1c2VSZWY8SFRNTFZpZGVvRWxlbWVudD4obnVsbCk7XHJcbiAgY29uc3QgcmVtb3RlVmlkZW9SZWYgPSB1c2VSZWY8SFRNTFZpZGVvRWxlbWVudD4obnVsbCk7XHJcbiAgY29uc3QgcGVlclJlZiA9IHVzZVJlZjxTaW1wbGVQZWVyLkluc3RhbmNlIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgY2FsbERvY1JlZiA9IHVzZVJlZjxzdHJpbmcgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBpbnRlcnZhbFJlZiA9IHVzZVJlZjxOb2RlSlMuVGltZW91dCB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IHVuc3Vic2NyaWJlUmVmID0gdXNlUmVmPCgoKSA9PiB2b2lkKSB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IHRpbWVvdXRSZWYgPSB1c2VSZWY8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBjYWxsSW5pdGlhbGl6ZWRSZWYgPSB1c2VSZWY8Ym9vbGVhbj4oZmFsc2UpO1xyXG4gIGNvbnN0IGNvbm5lY3RpbmdSZWYgPSB1c2VSZWY8Ym9vbGVhbj4oZmFsc2UpO1xyXG4gIGNvbnN0IG1vdW50ZWRSZWYgPSB1c2VSZWY8Ym9vbGVhbj4oZmFsc2UpO1xyXG4gIGNvbnN0IGxhc3RQcm9jZXNzZWRTaWduYWxSZWYgPSB1c2VSZWY8e29mZmVyPzogc3RyaW5nLCBhbnN3ZXI/OiBzdHJpbmd9Pih7fSk7XHJcbiAgY29uc3Qgc2lnbmFsaW5nTG9ja1JlZiA9IHVzZVJlZjxib29sZWFuPihmYWxzZSk7XHJcbiAgY29uc3QgcmV0cnlDb3VudFJlZiA9IHVzZVJlZjxudW1iZXI+KDApO1xyXG4gIGNvbnN0IGljZVN0YXRzSW50ZXJ2YWxSZWYgPSB1c2VSZWY8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKTtcclxuICBcclxuICAvLyBQZW5hbmdhbmFuIHRhbWJhaGFuIHVudHVrIHNrZW5hcmlvIHBlbmd1amlhbiBkdWEgYnJvd3NlciBkaSBwZXJhbmdrYXQgeWFuZyBzYW1hXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIC8vIEZ1bmdzaSBpbmkgdW50dWsgbWVuZGV0ZWtzaSBhcGFrYWggcGVuZ2d1bmEgYWt0aWYgZGkgdGFiL3dpbmRvdyBzYWF0IGluaVxyXG4gICAgY29uc3QgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgaWYgKGRvY3VtZW50LmhpZGRlbikge1xyXG4gICAgICAgIC8vIFRhYiB0aWRhayBha3RpZiwgdGFuZGFpIHVudHVrIG1lbmdoaW5kYXJpIGtvbmZsaWsgaGFyZHdhcmVcclxuICAgICAgICBjb25zb2xlLmxvZygnVGFiIGluYWN0aXZlLCBtYXJraW5nIGNhbGwgYXMgYmFja2dyb3VuZCcpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIFRhYiBha3RpZiBrZW1iYWxpLCBwZXJpa3NhIHN0YXR1c1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdUYWIgYWN0aXZlIGFnYWluLCBjaGVja2luZyBjYWxsIHN0YXR1cycpO1xyXG4gICAgICAgIGlmIChjb25uZWN0aW5nUmVmLmN1cnJlbnQgJiYgY2FsbFN0YXR1cyA9PT0gJ2Nvbm5lY3RpbmcnICYmIHBlZXJSZWYuY3VycmVudCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgLy8gTXVuZ2tpbiBrb25la3NpIGhpbGFuZyBzYWF0IHRhYiB0aWRhayBha3RpZiwgbWVuY29iYSByZXN0YXJ0XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnQ29ubmVjdGlvbiBsb3N0IHdoaWxlIHRhYiBpbmFjdGl2ZSwgdHJ5aW5nIHRvIHJlc3RhcnQnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gVGFtYmFoa2FuIGxpc3RlbmVyIHVudHVrIHZpc2liaWxpdGFzIGRva3VtZW5cclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKTtcclxuXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSk7XHJcbiAgICB9O1xyXG4gIH0sIFtjYWxsU3RhdHVzXSk7XHJcbiAgXHJcbiAgLy8gTWVuZGFwYXRrYW4gaW5mbyByZWNpcGllbnRcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgZmV0Y2hSZWNpcGllbnRJbmZvID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICBpZiAoIXJlY2lwaWVudElkKSB7XHJcbiAgICAgICAgc2V0UmVjaXBpZW50TmFtZSgnUGVuZ2d1bmEnKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgLy8gQ29iYSBkYXBhdGthbiBpbmZvIHBlbmdndW5hIGRhcmkgRmlyZXN0b3JlXHJcbiAgICAgICAgY29uc3QgdXNlckRvYyA9IGF3YWl0IGdldERvYyhkb2MoZGIsICd1c2VycycsIHJlY2lwaWVudElkKSk7XHJcbiAgICAgICAgaWYgKHVzZXJEb2MuZXhpc3RzKCkpIHtcclxuICAgICAgICAgIGNvbnN0IHVzZXJEYXRhID0gdXNlckRvYy5kYXRhKCk7XHJcbiAgICAgICAgICBjb25zdCBuYW1lID0gdXNlckRhdGEuZGlzcGxheU5hbWUgfHwgJ1BlbmdndW5hJztcclxuICAgICAgICAgIHNldFJlY2lwaWVudE5hbWUobmFtZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIEZhbGxiYWNrIGtlIGxvY2FsU3RvcmFnZSBqaWthIGFkYVxyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgdXNlcnMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdoYWxsb191c2VycycpIHx8ICd7fScpO1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyRGF0YSA9IHVzZXJzW3JlY2lwaWVudElkXTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmICh1c2VyRGF0YSAmJiB1c2VyRGF0YS5kaXNwbGF5TmFtZSkge1xyXG4gICAgICAgICAgICAgIHNldFJlY2lwaWVudE5hbWUodXNlckRhdGEuZGlzcGxheU5hbWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHNldFJlY2lwaWVudE5hbWUoJ1BlbmdndW5hJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gY2F0Y2ggKHN0b3JhZ2VFcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhY2Nlc3NpbmcgbG9jYWxTdG9yYWdlOicsIHN0b3JhZ2VFcnJvcik7XHJcbiAgICAgICAgICAgIHNldFJlY2lwaWVudE5hbWUoJ1BlbmdndW5hJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHJlY2lwaWVudCBpbmZvOicsIGVycm9yKTtcclxuICAgICAgICBzZXRSZWNpcGllbnROYW1lKCdQZW5nZ3VuYScpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICBmZXRjaFJlY2lwaWVudEluZm8oKTtcclxuICB9LCBbcmVjaXBpZW50SWRdKTtcclxuICBcclxuICAvLyBFZmZlY3QgdW50dWsgbWVuYW5kYWkgbW9kYWwgc3VkYWggc2lhcCBzZXRlbGFoIG1vdW50aW5nXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCdWaWRlb0NhbGxNb2RhbCBjb21wb25lbnQgbW91bnRlZCcpO1xyXG4gICAgaWYgKGlzT3Blbikge1xyXG4gICAgICAvLyBUYW5kYWkgbW9kYWwgc3VkYWggc2lhcCBzZXRlbGFoIHJlbmRlcmluZyBwZXJ0YW1hIHNlbGVzYWlcclxuICAgICAgc2V0SXNNb2RhbFJlYWR5KHRydWUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coJ1ZpZGVvQ2FsbE1vZGFsIGNvbXBvbmVudCB3aWxsIHVubW91bnQnKTtcclxuICAgIH07XHJcbiAgfSwgW2lzT3Blbl0pO1xyXG4gIFxyXG4gIC8vIEVmZmVjdCB1bnR1ayByZXNldCBzdGF0ZSBzYWF0IG1vZGFsIHRlcnR1dHVwXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIC8vIFJlc2V0IHN0YXRlIHNhYXQgbW9kYWwgZGl0dXR1cFxyXG4gICAgaWYgKCFpc09wZW4gJiYgY2FsbEluaXRpYWxpemVkUmVmLmN1cnJlbnQpIHtcclxuICAgICAgY29uc29sZS5sb2coJ01vZGFsIGNsb3NlZCwgcmVzZXR0aW5nIGluaXRpYWxpemVkIHN0YXRlJyk7XHJcbiAgICAgIC8vIEhhbnlhIHJlc2V0IHNldGVsYWggdGltZW91dCB1bnR1ayBtZW5jZWdhaCByYWNlIGNvbmRpdGlvblxyXG4gICAgICBjb25zdCByZXNldFRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgY2FsbEluaXRpYWxpemVkUmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuICAgICAgICAvLyBSZXNldCBzdGF0ZSBsYWlubnlhXHJcbiAgICAgICAgc2lnbmFsaW5nTG9ja1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgICAgcmV0cnlDb3VudFJlZi5jdXJyZW50ID0gMDtcclxuICAgICAgICBsYXN0UHJvY2Vzc2VkU2lnbmFsUmVmLmN1cnJlbnQgPSB7fTtcclxuICAgICAgfSwgU0lHTkFMSU5HX0xPQ0tfUkVMRUFTRSAvIDIpO1xyXG4gICAgICBcclxuICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICBjbGVhclRpbWVvdXQocmVzZXRUaW1lcik7XHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfSwgW2lzT3Blbl0pO1xyXG4gIFxyXG4gIC8vIE1lbXVsYWkgbWVkaWEgc3RyZWFtIGRhbiBzZXR1cCBwYW5nZ2lsYW5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgLy8gU2tpcCBqaWthIG1vZGFsIHRpZGFrIHRlcmJ1a2EgYXRhdSBiZWx1bSBzaWFwXHJcbiAgICBpZiAoIWlzT3BlbiB8fCAhaXNNb2RhbFJlYWR5KSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gVGFuZGFpIGtvbXBvbmVuIHNlYmFnYWkgdGVycGFzYW5nXHJcbiAgICBtb3VudGVkUmVmLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgY29uc29sZS5sb2coJ1ZpZGVvQ2FsbE1vZGFsIG1vdW50ZWQsIGlzT3BlbjonLCBpc09wZW4sICdpc01vZGFsUmVhZHk6JywgaXNNb2RhbFJlYWR5KTtcclxuICAgIFxyXG4gICAgLy8gR3VhcmQgY2xhdXNlIC0gaGFueWEgaW5pc2lhbGlzYXNpIHNla2FsaSBkYW4gc2FhdCBtb2RhbCB0ZXJidWthXHJcbiAgICBpZiAoY2FsbEluaXRpYWxpemVkUmVmLmN1cnJlbnQpIHtcclxuICAgICAgY29uc29sZS5sb2coJ1NraXBwaW5nIGluaXRpYWxpemF0aW9uOiBhbHJlYWR5IGluaXRpYWxpemVkJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gVGFuZGFpIHByb3NlcyBzdWRhaCBkaW11bGFpXHJcbiAgICBjYWxsSW5pdGlhbGl6ZWRSZWYuY3VycmVudCA9IHRydWU7XHJcbiAgICBjb25uZWN0aW5nUmVmLmN1cnJlbnQgPSB0cnVlO1xyXG4gICAgXHJcbiAgICAvLyBSZXNldCBzdGF0ZSBzaWduYWxpbmdcclxuICAgIHNpZ25hbGluZ0xvY2tSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgcmV0cnlDb3VudFJlZi5jdXJyZW50ID0gMDtcclxuICAgIGxhc3RQcm9jZXNzZWRTaWduYWxSZWYuY3VycmVudCA9IHt9O1xyXG4gICAgXHJcbiAgICAvLyBTZXR1cCB0aW1lb3V0IHVudHVrIHBhbmdnaWxhbiB5YW5nIHRpZGFrIHRlcmphd2FiXHJcbiAgICB0aW1lb3V0UmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgaWYgKG1vdW50ZWRSZWYuY3VycmVudCAmJiBjb25uZWN0aW5nUmVmLmN1cnJlbnQgJiYgY2FsbFN0YXR1cyA9PT0gJ2Nvbm5lY3RpbmcnKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0NhbGwgdGltZWQgb3V0IGFmdGVyIDMwIHNlY29uZHMnKTtcclxuICAgICAgICBlbmRDYWxsKCk7XHJcbiAgICAgIH1cclxuICAgIH0sIENBTExfVElNRU9VVCk7XHJcbiAgICBcclxuICAgIGNvbnN0IGluaXRpYWxpemVDYWxsID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdJbml0aWFsaXppbmcgY2FsbCBhbmQgcmVxdWVzdGluZyBtZWRpYSBhY2Nlc3MnKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBSZXF1ZXN0IG1lZGlhIGFjY2VzcyB3aXRoIGFwcHJvcHJpYXRlIGNvbnN0cmFpbnRzXHJcbiAgICAgICAgY29uc3QgY29uc3RyYWludHMgPSB7XHJcbiAgICAgICAgICB2aWRlbzogaXNWaWRlb0NhbGwgPyB7XHJcbiAgICAgICAgICAgIGZhY2luZ01vZGU6ICd1c2VyJyxcclxuICAgICAgICAgICAgd2lkdGg6IHsgaWRlYWw6IDY0MCB9LFxyXG4gICAgICAgICAgICBoZWlnaHQ6IHsgaWRlYWw6IDQ4MCB9XHJcbiAgICAgICAgICB9IDogZmFsc2UsXHJcbiAgICAgICAgICBhdWRpbzoge1xyXG4gICAgICAgICAgICBlY2hvQ2FuY2VsbGF0aW9uOiB0cnVlLCBcclxuICAgICAgICAgICAgbm9pc2VTdXBwcmVzc2lvbjogdHJ1ZSxcclxuICAgICAgICAgICAgYXV0b0dhaW5Db250cm9sOiB0cnVlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBNb2RlIHRlc3Rpbmcgc2F0dSBwZXJhbmdrYXRcclxuICAgICAgICBpZiAoU0lOR0xFX0RFVklDRV9URVNUSU5HKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnUnVubmluZyBpbiBzaW5nbGUtZGV2aWNlIHRlc3RpbmcgbW9kZScpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBEZWxheSBsZWJpaCBsYW1hIHVudHVrIG1lbWJlcmkgd2FrdHUgYnJvd3NlciBtZWxlcGFza2FuIG1lZGlhXHJcbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNzAwKSk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIENvbnN0cmFpbnQgbGViaWggc2VkZXJoYW5hIHVudHVrIG1lbmd1cmFuZ2kga29uZmxpa1xyXG4gICAgICAgICAgaWYgKGlzVmlkZW9DYWxsKSB7XHJcbiAgICAgICAgICAgIGNvbnN0cmFpbnRzLnZpZGVvID0gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gRGVsYXkga2VjaWwgdW50dWsgcHJvZHVrc2kgbm9ybWFsXHJcbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTUwKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBzdHJlYW07XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIHN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKTtcclxuICAgICAgICB9IGNhdGNoIChtZWRpYUVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhY2Nlc3NpbmcgbWVkaWEgZGV2aWNlczonLCBtZWRpYUVycm9yKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gQ29iYSBsYWdpIGRlbmdhbiBjb25zdHJhaW50cyB5YW5nIGxlYmloIHNlZGVyaGFuYSBqaWthIGdhZ2FsXHJcbiAgICAgICAgICBpZiAoaXNWaWRlb0NhbGwpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1JldHJ5aW5nIHdpdGggc2ltcGxpZmllZCB2aWRlbyBjb25zdHJhaW50cycpO1xyXG4gICAgICAgICAgICBzdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7XHJcbiAgICAgICAgICAgICAgdmlkZW86IHRydWUsXHJcbiAgICAgICAgICAgICAgYXVkaW86IHRydWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBtZWRpYUVycm9yOyAvLyByZS10aHJvdyBqaWthIGJ1a2FuIHZpZGVvIGNhbGxcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gR3VhcmQgY2hlY2sgaWYgY29tcG9uZW50IHVubW91bnRlZCBkdXJpbmcgYXN5bmMgb3BlcmF0aW9uXHJcbiAgICAgICAgaWYgKCFtb3VudGVkUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICAgIHN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKHRyYWNrID0+IHRyYWNrLnN0b3AoKSk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdNZWRpYSBhY2Nlc3MgZ3JhbnRlZCcpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFNldCBsb2NhbCBzdHJlYW1cclxuICAgICAgICBzZXRMb2NhbFN0cmVhbShzdHJlYW0pO1xyXG4gICAgICAgIGlmIChsb2NhbFZpZGVvUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICAgIGxvY2FsVmlkZW9SZWYuY3VycmVudC5zcmNPYmplY3QgPSBzdHJlYW07XHJcbiAgICAgICAgICBsb2NhbFZpZGVvUmVmLmN1cnJlbnQubXV0ZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBMb2dpYyBmb3IgaW5jb21pbmcgY2FsbFxyXG4gICAgICAgIGlmIChpbmNvbWluZ0NhbGxJZCkge1xyXG4gICAgICAgICAgYXdhaXQgaGFuZGxlSW5jb21pbmdDYWxsKGluY29taW5nQ2FsbElkLCBzdHJlYW0pO1xyXG4gICAgICAgIH0gXHJcbiAgICAgICAgLy8gTG9naWMgZm9yIG91dGdvaW5nIGNhbGxcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIGF3YWl0IGhhbmRsZU91dGdvaW5nQ2FsbChzdHJlYW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBjYWxsIHNldHVwOicsIGVycm9yKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAobW91bnRlZFJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgICBzZXRDYWxsU3RhdHVzKCdmYWlsZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vIEd1bmFrYW4gc2V0VGltZW91dCB1bnR1ayBtZW1hc3Rpa2FuIGtvbXBvbmVuIHN1ZGFoIGJlbmFyLWJlbmFyIGRpbXVhdFxyXG4gICAgLy8gc2ViZWx1bSBtZW11bGFpIHByb3NlcyBpbmlzaWFsaXNhc2lcclxuICAgIGNvbnN0IGluaXRUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZygnU3RhcnRpbmcgY2FsbCBpbml0aWFsaXphdGlvbiB3aXRoIGRlbGF5Jyk7XHJcbiAgICAgIGluaXRpYWxpemVDYWxsKCk7XHJcbiAgICB9LCBNT0RBTF9JTklUX0RFTEFZKTtcclxuICAgIFxyXG4gICAgLy8gQ2xlYW51cCBmdW5jdGlvblxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coJ1ZpZGVvQ2FsbE1vZGFsIGNhbGwgc2V0dXAgY2xlYW51cCwgc3RhdHVzOicsIGNhbGxTdGF0dXMpO1xyXG4gICAgICBjbGVhclRpbWVvdXQoaW5pdFRpbWVyKTtcclxuICAgICAgbW91bnRlZFJlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgIFxyXG4gICAgICBpZiAodGltZW91dFJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRSZWYuY3VycmVudCk7XHJcbiAgICAgICAgdGltZW91dFJlZi5jdXJyZW50ID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gSGFueWEgYmVyc2loa2FuIGppa2EgbWFzaWggZGFsYW0gcHJvc2VzIChidWthbiBzZXRlbGFoIHNlbGVzYWkgbm9ybWFsKVxyXG4gICAgICBpZiAoY2FsbFN0YXR1cyAhPT0gJ2VuZGVkJyAmJiBjYWxsU3RhdHVzICE9PSAnZmFpbGVkJykge1xyXG4gICAgICAgIGVuZENhbGwoKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9LCBbaXNPcGVuLCBpc01vZGFsUmVhZHksIGluY29taW5nQ2FsbElkLCBpc1ZpZGVvQ2FsbCwgY2hhdElkLCByZWNpcGllbnRJZCwgdXNlci51aWRdKTtcclxuICBcclxuICAvLyBFZmZlY3QgdW50dWsgbWVtb25pdG9yIGt1YWxpdGFzIGtvbmVrc2lcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGNhbGxTdGF0dXMgPT09ICdjb25uZWN0ZWQnICYmIHBlZXJSZWYuY3VycmVudCkge1xyXG4gICAgICAvLyBNdWxhaSBtb25pdG9yaW5nIHN0YXRzIHNldGVsYWggdGVyaHVidW5nXHJcbiAgICAgIGNvbnN0IG1vbml0b3JDb25uZWN0aW9uUXVhbGl0eSA9ICgpID0+IHtcclxuICAgICAgICBpZiAoIXBlZXJSZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZygnU3RhcnRpbmcgY29ubmVjdGlvbiBxdWFsaXR5IG1vbml0b3JpbmcnKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBCZXJzaWhrYW4gaW50ZXJ2YWwgeWFuZyBhZGFcclxuICAgICAgICBpZiAoaWNlU3RhdHNJbnRlcnZhbFJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgICBjbGVhckludGVydmFsKGljZVN0YXRzSW50ZXJ2YWxSZWYuY3VycmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFNldHVwIGludGVydmFsIHVudHVrIG1lbmdlY2VrIGt1YWxpdGFzIGtvbmVrc2lcclxuICAgICAgICBpY2VTdGF0c0ludGVydmFsUmVmLmN1cnJlbnQgPSBzZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICBpZiAoIXBlZXJSZWYuY3VycmVudCB8fCAhbW91bnRlZFJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChpY2VTdGF0c0ludGVydmFsUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICBjbGVhckludGVydmFsKGljZVN0YXRzSW50ZXJ2YWxSZWYuY3VycmVudCk7XHJcbiAgICAgICAgICAgICAgaWNlU3RhdHNJbnRlcnZhbFJlZi5jdXJyZW50ID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIEFtYmlsIFdlYlJUQyBzdGF0cyBkZW5nYW4gdHlwZSBjYXN0aW5nIHVudHVrIG1lbmdhdGFzaSBlcnJvciBUeXBlU2NyaXB0XHJcbiAgICAgICAgICAgIC8vIGdldFN0YXRzKCkgYWRhbGFoIG1ldG9kZSBzdGFuZGFyIGRpIFdlYlJUQyBSVENQZWVyQ29ubmVjdGlvblxyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIC0gY2FzdCBTaW1wbGVQZWVyIGluc3RhbmNlIGtlIGFueSB1bnR1ayBha3NlcyBXZWJSVEMgc3RhdHNcclxuICAgICAgICAgICAgY29uc3Qgc3RhdHMgPSBhd2FpdCAocGVlclJlZi5jdXJyZW50IGFzIGFueSkuZ2V0U3RhdHMoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmICghc3RhdHMpIHJldHVybjtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50UlRUID0gMDtcclxuICAgICAgICAgICAgbGV0IHBhY2tldHNMb3N0ID0gMDtcclxuICAgICAgICAgICAgbGV0IHBhY2tldHNSZWNlaXZlZCA9IDA7XHJcbiAgICAgICAgICAgIGxldCBqaXR0ZXIgPSAwO1xyXG4gICAgICAgICAgICBsZXQgc3RhdHNDb3VudCA9IDA7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBQYXJzZSBXZWJSVEMgc3RhdHNcclxuICAgICAgICAgICAgc3RhdHMuZm9yRWFjaCgoc3RhdDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgaWYgKHN0YXQudHlwZSA9PT0gJ2luYm91bmQtcnRwJyB8fCBzdGF0LnR5cGUgPT09ICdyZW1vdGUtaW5ib3VuZC1ydHAnKSB7XHJcbiAgICAgICAgICAgICAgICBzdGF0c0NvdW50Kys7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmIChzdGF0LnJvdW5kVHJpcFRpbWUpIHtcclxuICAgICAgICAgICAgICAgICAgY3VycmVudFJUVCArPSBzdGF0LnJvdW5kVHJpcFRpbWUgKiAxMDAwOyAvLyBDb252ZXJ0IHRvIG1zXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmIChzdGF0LnBhY2tldHNMb3N0KSB7XHJcbiAgICAgICAgICAgICAgICAgIHBhY2tldHNMb3N0ICs9IHN0YXQucGFja2V0c0xvc3Q7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmIChzdGF0LnBhY2tldHNSZWNlaXZlZCkge1xyXG4gICAgICAgICAgICAgICAgICBwYWNrZXRzUmVjZWl2ZWQgKz0gc3RhdC5wYWNrZXRzUmVjZWl2ZWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmIChzdGF0LmppdHRlcikge1xyXG4gICAgICAgICAgICAgICAgICBqaXR0ZXIgKz0gc3RhdC5qaXR0ZXIgKiAxMDAwOyAvLyBDb252ZXJ0IHRvIG1zXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIEhpdHVuZyByYXRhLXJhdGEgamlrYSBhZGEgZGF0YVxyXG4gICAgICAgICAgICBpZiAoc3RhdHNDb3VudCA+IDApIHtcclxuICAgICAgICAgICAgICBjdXJyZW50UlRUID0gY3VycmVudFJUVCAvIHN0YXRzQ291bnQ7XHJcbiAgICAgICAgICAgICAgaml0dGVyID0gaml0dGVyIC8gc3RhdHNDb3VudDtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICBjb25zdCBpY2VTdGF0cyA9IHtcclxuICAgICAgICAgICAgICAgIFJUVDogTWF0aC5yb3VuZChjdXJyZW50UlRUKSxcclxuICAgICAgICAgICAgICAgIHBhY2tldHNMb3N0LFxyXG4gICAgICAgICAgICAgICAgaml0dGVyOiBNYXRoLnJvdW5kKGppdHRlcilcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIHNldExhdGVzdEljZVN0YXRzKGljZVN0YXRzKTtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAvLyBFdmFsdWFzaSBrdWFsaXRhcyBiZXJkYXNhcmthbiBtZXRyaWNzXHJcbiAgICAgICAgICAgICAgbGV0IHF1YWxpdHk6ICdnb29kJyB8ICdtZWRpdW0nIHwgJ3Bvb3InID0gJ2dvb2QnO1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIC8vIEV2YWx1YXNpIFJUVCAocGluZylcclxuICAgICAgICAgICAgICBpZiAoY3VycmVudFJUVCA+IDMwMCkge1xyXG4gICAgICAgICAgICAgICAgcXVhbGl0eSA9ICdwb29yJztcclxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRSVFQgPiAxNTApIHtcclxuICAgICAgICAgICAgICAgIHF1YWxpdHkgPSAnbWVkaXVtJztcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgLy8gRXZhbHVhc2kgcGFja2V0IGxvc3MgcmF0ZSBqaWthIGFkYSBwYWNrZXQgeWFuZyBkaXRlcmltYVxyXG4gICAgICAgICAgICAgIGlmIChwYWNrZXRzUmVjZWl2ZWQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsb3NzUmF0ZSA9IHBhY2tldHNMb3N0IC8gKHBhY2tldHNMb3N0ICsgcGFja2V0c1JlY2VpdmVkKTtcclxuICAgICAgICAgICAgICAgIGlmIChsb3NzUmF0ZSA+IDAuMDUpIHsgLy8gPjUlIHBhY2tldCBsb3NzXHJcbiAgICAgICAgICAgICAgICAgIHF1YWxpdHkgPSAncG9vcic7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvc3NSYXRlID4gMC4wMikgeyAvLyA+MiUgcGFja2V0IGxvc3NcclxuICAgICAgICAgICAgICAgICAgcXVhbGl0eSA9IHF1YWxpdHkgPT09ICdwb29yJyA/ICdwb29yJyA6ICdtZWRpdW0nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAvLyBFdmFsdWFzaSBqaXR0ZXIgKGNvbnNpc3RlbmN5KVxyXG4gICAgICAgICAgICAgIGlmIChqaXR0ZXIgPiA1MCkge1xyXG4gICAgICAgICAgICAgICAgcXVhbGl0eSA9ICdwb29yJztcclxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGppdHRlciA+IDMwKSB7XHJcbiAgICAgICAgICAgICAgICBxdWFsaXR5ID0gcXVhbGl0eSA9PT0gJ3Bvb3InID8gJ3Bvb3InIDogJ21lZGl1bSc7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIC8vIFNldCBrdWFsaXRhcyBrb25la3NpXHJcbiAgICAgICAgICAgICAgc2V0Q29ubmVjdGlvblF1YWxpdHkocXVhbGl0eSk7XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgLy8gVGFtcGlsa2FuIHRvYXN0IGppa2Ega3VhbGl0YXMgYnVydWtcclxuICAgICAgICAgICAgICBpZiAocXVhbGl0eSA9PT0gJ3Bvb3InICYmICFzaG93TmV0d29ya1RvYXN0KSB7XHJcbiAgICAgICAgICAgICAgICBzZXRTaG93TmV0d29ya1RvYXN0KHRydWUpO1xyXG4gICAgICAgICAgICAgICAgLy8gU2VtYnVueWlrYW4gdG9hc3Qgc2V0ZWxhaCA1IGRldGlrXHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgaWYgKG1vdW50ZWRSZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFNob3dOZXR3b3JrVG9hc3QoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCA1MDAwKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgV2ViUlRDIHN0YXRzOicsIGVycm9yKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCAzMDAwKTsgLy8gQ2VrIHNldGlhcCAzIGRldGlrXHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICAvLyBNdWxhaSBtb25pdG9yaW5nIHNldGVsYWgga29uZWtzaVxyXG4gICAgICBtb25pdG9yQ29ubmVjdGlvblF1YWxpdHkoKTtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgaWYgKGljZVN0YXRzSW50ZXJ2YWxSZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChpY2VTdGF0c0ludGVydmFsUmVmLmN1cnJlbnQpO1xyXG4gICAgICAgICAgaWNlU3RhdHNJbnRlcnZhbFJlZi5jdXJyZW50ID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfSwgW2NhbGxTdGF0dXNdKTtcclxuICBcclxuICAvLyBGdW5nc2kgdW50dWsgbWVtYnVhdCBwZWVyIGNvbm5lY3Rpb25cclxuICBjb25zdCBjcmVhdGVQZWVyID0gKHN0cmVhbTogTWVkaWFTdHJlYW0sIGluaXRpYXRvcjogYm9vbGVhbikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ0NyZWF0aW5nIFNpbXBsZVBlZXIgY29ubmVjdGlvbiwgaW5pdGlhdG9yOicsIGluaXRpYXRvcik7XHJcbiAgICBcclxuICAgIC8vIENlZ2FoIHBlbWJ1YXRhbiBwZWVyIGdhbmRhXHJcbiAgICBpZiAocGVlclJlZi5jdXJyZW50KSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdQZWVyIGluc3RhbmNlIGFscmVhZHkgZXhpc3RzLCBkZXN0cm95aW5nIG9sZCBvbmUgZmlyc3QnKTtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBwZWVyUmVmLmN1cnJlbnQuZGVzdHJveSgpO1xyXG4gICAgICAgIHBlZXJSZWYuY3VycmVudCA9IG51bGw7XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZXN0cm95aW5nIGV4aXN0aW5nIHBlZXI6JywgZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gUmVzZXQgc2lnbmFsaW5nIGxvY2sgd2hlbiBjcmVhdGluZyBhIG5ldyBwZWVyXHJcbiAgICBzaWduYWxpbmdMb2NrUmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuICAgIFxyXG4gICAgLy8gS29uZmlndXJhc2kgSUNFIHNlcnZlcnMgeWFuZyBsZWJpaCBsZW5na2FwXHJcbiAgICBjb25zdCBpY2VTZXJ2ZXJzID0gW1xyXG4gICAgICB7IHVybHM6ICdzdHVuOnN0dW4ubC5nb29nbGUuY29tOjE5MzAyJyB9LFxyXG4gICAgICB7IHVybHM6ICdzdHVuOnN0dW4xLmwuZ29vZ2xlLmNvbToxOTMwMicgfSxcclxuICAgICAgeyBcclxuICAgICAgICB1cmxzOiAndHVybjpvcGVucmVsYXkubWV0ZXJlZC5jYTo4MCcsXHJcbiAgICAgICAgdXNlcm5hbWU6ICdvcGVucmVsYXlwcm9qZWN0JyxcclxuICAgICAgICBjcmVkZW50aWFsOiAnb3BlbnJlbGF5cHJvamVjdCdcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIHVybHM6ICd0dXJuOmdsb2JhbC50dXJuLnR3aWxpby5jb206MzQ3OD90cmFuc3BvcnQ9dWRwJyxcclxuICAgICAgICB1c2VybmFtZTogJ2Y0YjQwMzVlYWE3NmY0YTU1ZGU1ZjQzNTE1Njc2NTNlZTRmZjZmYTk3YjUwYjZiMzM0YTFkZmZiZTkyM2YyNGEnLFxyXG4gICAgICAgIGNyZWRlbnRpYWw6ICdteUw3bm40Q3VMVjBHUFB3b1A5Tk1iMDJNc0NsNkZLb0pQNVk4MDBrQzFJPSdcclxuICAgICAgfVxyXG4gICAgXTtcclxuICAgIFxyXG4gICAgLy8gQnVhdCBwZWVyIGRlbmdhbiBrb25maWd1cmFzaSB5YW5nIGxlYmloIHN0YWJpbFxyXG4gICAgY29uc3QgcGVlciA9IG5ldyBTaW1wbGVQZWVyKHtcclxuICAgICAgaW5pdGlhdG9yLFxyXG4gICAgICB0cmlja2xlOiB0cnVlLFxyXG4gICAgICBzdHJlYW0sXHJcbiAgICAgIGNvbmZpZzogeyBcclxuICAgICAgICBpY2VTZXJ2ZXJzLFxyXG4gICAgICAgIGljZVRyYW5zcG9ydFBvbGljeTogJ2FsbCcsXHJcbiAgICAgICAgc2RwU2VtYW50aWNzOiAndW5pZmllZC1wbGFuJ1xyXG4gICAgICB9LFxyXG4gICAgICBvYmplY3RNb2RlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgLy8gSGFuZGxlIHNpZ25hbCBldmVudHNcclxuICAgIHBlZXIub24oJ3NpZ25hbCcsIGFzeW5jIChkYXRhKSA9PiB7XHJcbiAgICAgIGlmICghY2FsbERvY1JlZi5jdXJyZW50IHx8ICFtb3VudGVkUmVmLmN1cnJlbnQpIHJldHVybjtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGNhbGxJZCA9IGNhbGxEb2NSZWYuY3VycmVudDtcclxuICAgICAgXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgLy8gSmlrYSBzaWduYWxpbmcgbG9jayBha3RpZiwgc2tpcCBwZW5naXJpbWFuIHNpbnlhbFxyXG4gICAgICAgIGlmIChzaWduYWxpbmdMb2NrUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdTaWduYWxpbmcgbG9ja2VkLCBza2lwcGluZyBzaWduYWwnKTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gSGFuZGxlIGRpZmZlcmVudCBzaWduYWwgdHlwZXNcclxuICAgICAgICBpZiAoZGF0YS50eXBlID09PSAnb2ZmZXInICYmIGluaXRpYXRvcikge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ1NlbmRpbmcgb2ZmZXIgdG8gcGVlcicpO1xyXG4gICAgICAgICAgY29uc3Qgb2ZmZXJUaW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIFNpbXBhbiB0aW1lc3RhbXAgdW50dWsgbWVuY2VnYWggcGVtcm9zZXNhbiBnYW5kYVxyXG4gICAgICAgICAgbGFzdFByb2Nlc3NlZFNpZ25hbFJlZi5jdXJyZW50Lm9mZmVyID0gb2ZmZXJUaW1lc3RhbXA7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGF3YWl0IHVwZGF0ZURvYyhkb2MoZGIsICdjYWxscycsIGNhbGxJZCksIHtcclxuICAgICAgICAgICAgb2ZmZXI6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxyXG4gICAgICAgICAgICBvZmZlclRpbWVzdGFtcFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ2Fuc3dlcicgJiYgIWluaXRpYXRvcikge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ1NlbmRpbmcgYW5zd2VyIHRvIHBlZXInKTtcclxuICAgICAgICAgIGNvbnN0IGFuc3dlclRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gU2ltcGFuIHRpbWVzdGFtcCB1bnR1ayBtZW5jZWdhaCBwZW1yb3Nlc2FuIGdhbmRhXHJcbiAgICAgICAgICBsYXN0UHJvY2Vzc2VkU2lnbmFsUmVmLmN1cnJlbnQuYW5zd2VyID0gYW5zd2VyVGltZXN0YW1wO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBLdW5jaSBzaWduYWxpbmcgc2V0ZWxhaCBhbnN3ZXIgZGlraXJpbSB1bnR1ayBtZW5jZWdhaCByYWNlIGNvbmRpdGlvblxyXG4gICAgICAgICAgc2lnbmFsaW5nTG9ja1JlZi5jdXJyZW50ID0gdHJ1ZTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgYXdhaXQgdXBkYXRlRG9jKGRvYyhkYiwgJ2NhbGxzJywgY2FsbElkKSwge1xyXG4gICAgICAgICAgICBhbnN3ZXI6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxyXG4gICAgICAgICAgICBhbnN3ZXJUaW1lc3RhbXAsXHJcbiAgICAgICAgICAgIHN0YXR1czogJ2Nvbm5lY3RlZCdcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBCdWthIGtlbWJhbGkgc2lnbmFsaW5nIGxvY2sgc2V0ZWxhaCAyIGRldGlrXHJcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgc2lnbmFsaW5nTG9ja1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoZGF0YS5jYW5kaWRhdGUpIHtcclxuICAgICAgICAgIC8vIFNraXAgSUNFIGNhbmRpZGF0ZSBqaWthIHNpZ25hbGluZyBsb2NrIGFrdGlmXHJcbiAgICAgICAgICBpZiAoc2lnbmFsaW5nTG9ja1JlZi5jdXJyZW50KSByZXR1cm47XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIENhdGF0IElDRSBjYW5kaWRhdGUgZGVuZ2FuIGZvcm1hdCB5YW5nIGxlYmloIGVmaXNpZW5cclxuICAgICAgICAgIGNvbnN0IGNhbGxEb2MgPSBhd2FpdCBnZXREb2MoZG9jKGRiLCAnY2FsbHMnLCBjYWxsSWQpKTtcclxuICAgICAgICAgIGlmICghY2FsbERvYy5leGlzdHMoKSkgcmV0dXJuO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBjb25zdCBjdXJyZW50RGF0YSA9IGNhbGxEb2MuZGF0YSgpO1xyXG4gICAgICAgICAgY29uc3QgaWNlVXBkYXRlQ291bnRlciA9IChjdXJyZW50RGF0YS5pY2VVcGRhdGVDb3VudGVyIHx8IDApICsgMTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gQmF0YXNpIGp1bWxhaCBJQ0UgY2FuZGlkYXRlcyB5YW5nIGRpc2ltcGFuXHJcbiAgICAgICAgICBpZiAoaWNlVXBkYXRlQ291bnRlciA8PSA1MCkge1xyXG4gICAgICAgICAgICBjb25zdCBmaWVsZE5hbWUgPSBpbml0aWF0b3IgPyBgaWNlX2luaXRfJHtpY2VVcGRhdGVDb3VudGVyfWAgOiBgaWNlX3JlY3ZfJHtpY2VVcGRhdGVDb3VudGVyfWA7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCB1cGRhdGVEYXRhOiBhbnkgPSB7IGljZVVwZGF0ZUNvdW50ZXIgfTtcclxuICAgICAgICAgICAgdXBkYXRlRGF0YVtmaWVsZE5hbWVdID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBhd2FpdCB1cGRhdGVEb2MoZG9jKGRiLCAnY2FsbHMnLCBjYWxsSWQpLCB1cGRhdGVEYXRhKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgc2lnbmFsIGRhdGE6JywgZXJyb3IpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgLy8gSGFuZGxlIHN1Y2Nlc3NmdWwgY29ubmVjdGlvblxyXG4gICAgcGVlci5vbignY29ubmVjdCcsICgpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coJ1BlZXIgY29ubmVjdGlvbiBlc3RhYmxpc2hlZCcpO1xyXG4gICAgICBcclxuICAgICAgaWYgKCFtb3VudGVkUmVmLmN1cnJlbnQpIHJldHVybjtcclxuICAgICAgXHJcbiAgICAgIC8vIFVwZGF0ZSBzdGF0dXMgaW4gY29tcG9uZW50IGFuZCBGaXJlc3RvcmVcclxuICAgICAgY29ubmVjdGluZ1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgIHNldENhbGxTdGF0dXMoJ2Nvbm5lY3RlZCcpO1xyXG4gICAgICBzdGFydENhbGxUaW1lcigpO1xyXG4gICAgICBcclxuICAgICAgLy8gQ2xlYXIgY29ubmVjdGlvbiB0aW1lb3V0XHJcbiAgICAgIGlmICh0aW1lb3V0UmVmLmN1cnJlbnQpIHtcclxuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dFJlZi5jdXJyZW50KTtcclxuICAgICAgICB0aW1lb3V0UmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBVcGRhdGUgRmlyZXN0b3JlIHN0YXR1c1xyXG4gICAgICBpZiAoY2FsbERvY1JlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgdXBkYXRlRG9jKGRvYyhkYiwgJ2NhbGxzJywgY2FsbERvY1JlZi5jdXJyZW50KSwge1xyXG4gICAgICAgICAgc3RhdHVzOiAnY29ubmVjdGVkJ1xyXG4gICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBjb25uZWN0ZWQgc3RhdHVzOicsIGVycik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAvLyBIYW5kbGUgcmVtb3RlIHN0cmVhbVxyXG4gICAgcGVlci5vbignc3RyZWFtJywgKHN0cmVhbSkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZygnUmVjZWl2ZWQgcmVtb3RlIHN0cmVhbScpO1xyXG4gICAgICBcclxuICAgICAgaWYgKCFtb3VudGVkUmVmLmN1cnJlbnQpIHJldHVybjtcclxuICAgICAgXHJcbiAgICAgIHNldFJlbW90ZVN0cmVhbShzdHJlYW0pO1xyXG4gICAgICBcclxuICAgICAgaWYgKHJlbW90ZVZpZGVvUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICByZW1vdGVWaWRlb1JlZi5jdXJyZW50LnNyY09iamVjdCA9IHN0cmVhbTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBFbnN1cmUgdmlkZW8gcGxheXMgd2l0aCBiZXR0ZXIgZXJyb3IgaGFuZGxpbmdcclxuICAgICAgICByZW1vdGVWaWRlb1JlZi5jdXJyZW50LnBsYXkoKS5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKCdBdXRvcGxheSBmYWlsZWQsIGFkZGluZyBpbnRlcmFjdGlvbiBoYW5kbGVycycpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBjb25zdCBwbGF5T25JbnRlcmFjdGlvbiA9ICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlbW90ZVZpZGVvUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICByZW1vdGVWaWRlb1JlZi5jdXJyZW50LnBsYXkoKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHBsYXlPbkludGVyYWN0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHBsYXlPbkludGVyYWN0aW9uKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZSA9PiBjb25zb2xlLmVycm9yKCdTdGlsbCBjYW5ub3QgcGxheSB2aWRlbzonLCBlKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcGxheU9uSW50ZXJhY3Rpb24sIHsgb25jZTogdHJ1ZSB9KTtcclxuICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBwbGF5T25JbnRlcmFjdGlvbiwgeyBvbmNlOiB0cnVlIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgLy8gSGFuZGxlIGVycm9yc1xyXG4gICAgcGVlci5vbignZXJyb3InLCAoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1BlZXIgY29ubmVjdGlvbiBlcnJvcjonLCBlcnIpO1xyXG4gICAgICBcclxuICAgICAgaWYgKCFtb3VudGVkUmVmLmN1cnJlbnQpIHJldHVybjtcclxuICAgICAgXHJcbiAgICAgIC8vIElmIGNvbm5lY3RlZCwgdHJ5IHRvIG1haW50YWluIGNvbm5lY3Rpb25cclxuICAgICAgaWYgKGNhbGxTdGF0dXMgPT09ICdjb25uZWN0ZWQnKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yIG9jY3VycmVkIHdoaWxlIGNvbm5lY3RlZCwgYXR0ZW1wdGluZyB0byBjb250aW51ZScpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIEZvciBjb25uZWN0aW9uIGVycm9ycywgZmFpbCBhZnRlciBhIHRpbWVvdXQgaWYgaXQncyBub3QgYW4gaW52YWxpZCBzdGF0ZSBlcnJvclxyXG4gICAgICAgIC8vIHdoaWNoIGNhbiBoYXBwZW4gZHVyaW5nIHJhY2UgY29uZGl0aW9ucyB3aGVuIGJvdGggcGVlcnMgc2lnbmFsIGF0IG9uY2VcclxuICAgICAgICBjb25zdCBlcnJvclN0cmluZyA9IGVyci50b1N0cmluZygpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChlcnJvclN0cmluZy5pbmNsdWRlcygnSW52YWxpZFN0YXRlRXJyb3InKSkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ0ludmFsaWQgc3RhdGUgZXJyb3IgZGV0ZWN0ZWQsIGxpa2VseSBkdWUgdG8gc2ltdWx0YW5lb3VzIHNpZ25hbGluZycpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBJbmNyZW1lbnQgcmV0cnkgY291bnRlclxyXG4gICAgICAgICAgcmV0cnlDb3VudFJlZi5jdXJyZW50ICs9IDE7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIFRyeSB0byByZWNvdmVyIGJ5IHJlY3JlYXRpbmcgcGVlciB3aXRoIGEgZGVsYXkgaWYgaXQgd2FzIHRoZSBpbml0aWF0b3JcclxuICAgICAgICAgIC8vIGJ1dCBsaW1pdCBudW1iZXIgb2YgcmV0cmllcyB0byBwcmV2ZW50IGluZmluaXRlIGxvb3BzXHJcbiAgICAgICAgICBpZiAoaW5pdGlhdG9yICYmIHJldHJ5Q291bnRSZWYuY3VycmVudCA8IDMpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYFJlY3JlYXRpbmcgcGVlciBjb25uZWN0aW9uIGFmdGVyIGludmFsaWQgc3RhdGUgZXJyb3IgKHJldHJ5ICR7cmV0cnlDb3VudFJlZi5jdXJyZW50fS8zKWApO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gU2V0IHNpZ25hbGluZyBsb2NrIGltbWVkaWF0ZWx5XHJcbiAgICAgICAgICAgIHNpZ25hbGluZ0xvY2tSZWYuY3VycmVudCA9IHRydWU7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBVc2UgYSBsb25nZXIgZGVsYXkgZm9yIGVhY2ggcmV0cnkgYXR0ZW1wdFxyXG4gICAgICAgICAgICBjb25zdCByZXRyeURlbGF5ID0gUkVUUllfQkFTRV9ERUxBWSArIChyZXRyeUNvdW50UmVmLmN1cnJlbnQgKiBSRVRSWV9CQVNFX0RFTEFZKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgIC8vIFJlbGVhc2Ugc2lnbmFsaW5nIGxvY2tcclxuICAgICAgICAgICAgICBzaWduYWxpbmdMb2NrUmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICBpZiAobW91bnRlZFJlZi5jdXJyZW50ICYmIGNhbGxTdGF0dXMgPT09ICdjb25uZWN0aW5nJyAmJiBwZWVyUmVmLmN1cnJlbnQgPT09IHBlZXIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWNyZWF0aW5nIHBlZXIgY29ubmVjdGlvbiBhZnRlciBpbnZhbGlkIHN0YXRlIGVycm9yJyk7XHJcbiAgICAgICAgICAgICAgICBwZWVyUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3UGVlciA9IGNyZWF0ZVBlZXIoc3RyZWFtLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIHBlZXJSZWYuY3VycmVudCA9IG5ld1BlZXI7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCByZXRyeURlbGF5KTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAocmV0cnlDb3VudFJlZi5jdXJyZW50ID49IDMpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1RvbyBtYW55IHJldHJpZXMsIHNldHRpbmcgY2FsbCBhcyBmYWlsZWQnKTtcclxuICAgICAgICAgICAgc2V0Q2FsbFN0YXR1cygnZmFpbGVkJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmICghdGltZW91dFJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgICB0aW1lb3V0UmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKG1vdW50ZWRSZWYuY3VycmVudCAmJiBjYWxsU3RhdHVzID09PSAnY29ubmVjdGluZycpIHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQ29ubmVjdGlvbiBmYWlsZWQnKTtcclxuICAgICAgICAgICAgICBzZXRDYWxsU3RhdHVzKCdmYWlsZWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSwgODAwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgLy8gSGFuZGxlIGNsb3NlXHJcbiAgICBwZWVyLm9uKCdjbG9zZScsICgpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coJ1BlZXIgY29ubmVjdGlvbiBjbG9zZWQnKTtcclxuICAgICAgXHJcbiAgICAgIGlmICghbW91bnRlZFJlZi5jdXJyZW50KSByZXR1cm47XHJcbiAgICAgIFxyXG4gICAgICBpZiAoY2FsbFN0YXR1cyAhPT0gJ2VuZGVkJykge1xyXG4gICAgICAgIGVuZENhbGwoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIHJldHVybiBwZWVyO1xyXG4gIH07XHJcbiAgXHJcbiAgLy8gTXVsYWkgdGltZXIgZHVyYXNpIHBhbmdnaWxhblxyXG4gIGNvbnN0IHN0YXJ0Q2FsbFRpbWVyID0gKCkgPT4ge1xyXG4gICAgaWYgKGludGVydmFsUmVmLmN1cnJlbnQpIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbFJlZi5jdXJyZW50KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgbGV0IHNlY29uZHMgPSAwO1xyXG4gICAgaW50ZXJ2YWxSZWYuY3VycmVudCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgc2Vjb25kcyArPSAxO1xyXG4gICAgICBpZiAobW91bnRlZFJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgc2V0Q2FsbER1cmF0aW9uKHNlY29uZHMpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIENsZWFudXAgamlrYSBrb21wb25lbiBzdWRhaCB1bm1vdW50XHJcbiAgICAgICAgaWYgKGludGVydmFsUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxSZWYuY3VycmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LCAxMDAwKTtcclxuICB9O1xyXG4gIFxyXG4gIC8vIEZvcm1hdCBkdXJhc2kgcGFuZ2dpbGFuIHVudHVrIHRhbXBpbGFuXHJcbiAgY29uc3QgZm9ybWF0Q2FsbER1cmF0aW9uID0gKHNlY29uZHM6IG51bWJlcik6IHN0cmluZyA9PiB7XHJcbiAgICBjb25zdCBocnMgPSBNYXRoLmZsb29yKHNlY29uZHMgLyAzNjAwKTtcclxuICAgIGNvbnN0IG1pbnMgPSBNYXRoLmZsb29yKChzZWNvbmRzICUgMzYwMCkgLyA2MCk7XHJcbiAgICBjb25zdCBzZWNzID0gc2Vjb25kcyAlIDYwO1xyXG4gICAgXHJcbiAgICByZXR1cm4gYCR7aHJzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX06JHttaW5zLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX06JHtzZWNzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1gO1xyXG4gIH07XHJcbiAgXHJcbiAgLy8gVG9nZ2xlIGNhbWVyYSBvbi9vZmZcclxuICBjb25zdCB0b2dnbGVDYW1lcmEgPSAoKSA9PiB7XHJcbiAgICBpZiAoIWxvY2FsU3RyZWFtKSByZXR1cm47XHJcbiAgICBcclxuICAgIGNvbnN0IHZpZGVvVHJhY2tzID0gbG9jYWxTdHJlYW0uZ2V0VmlkZW9UcmFja3MoKTtcclxuICAgIGlmICh2aWRlb1RyYWNrcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGNvbnN0IGVuYWJsZWQgPSAhdmlkZW9UcmFja3NbMF0uZW5hYmxlZDtcclxuICAgICAgdmlkZW9UcmFja3NbMF0uZW5hYmxlZCA9IGVuYWJsZWQ7XHJcbiAgICAgIHNldElzQ2FtZXJhT24oZW5hYmxlZCk7XHJcbiAgICB9XHJcbiAgfTtcclxuICBcclxuICAvLyBUb2dnbGUgbWljIG9uL29mZlxyXG4gIGNvbnN0IHRvZ2dsZU1pYyA9ICgpID0+IHtcclxuICAgIGlmICghbG9jYWxTdHJlYW0pIHJldHVybjtcclxuICAgIFxyXG4gICAgY29uc3QgYXVkaW9UcmFja3MgPSBsb2NhbFN0cmVhbS5nZXRBdWRpb1RyYWNrcygpO1xyXG4gICAgaWYgKGF1ZGlvVHJhY2tzLmxlbmd0aCA+IDApIHtcclxuICAgICAgY29uc3QgZW5hYmxlZCA9ICFhdWRpb1RyYWNrc1swXS5lbmFibGVkO1xyXG4gICAgICBhdWRpb1RyYWNrc1swXS5lbmFibGVkID0gZW5hYmxlZDtcclxuICAgICAgc2V0SXNNaWNPbihlbmFibGVkKTtcclxuICAgIH1cclxuICB9O1xyXG4gIFxyXG4gIC8vIENsZWFuIGVuZCBjYWxsIHdpdGggcHJvcGVyIGNsZWFudXBcclxuICBjb25zdCBlbmRDYWxsID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ0VuZGluZyBjYWxsLCBzdGF0dXM6JywgY2FsbFN0YXR1cyk7XHJcbiAgICBcclxuICAgIC8vIFByZXZlbnQgbXVsdGlwbGUgY2FsbHMgdG8gZW5kQ2FsbFxyXG4gICAgaWYgKGNhbGxTdGF0dXMgPT09ICdlbmRlZCcpIHtcclxuICAgICAgY29uc29sZS5sb2coJ0NhbGwgYWxyZWFkeSBlbmRlZCwgc2tpcHBpbmcgZW5kQ2FsbCcpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFNldCBzdGF0dXMgdG8gZW5kZWQgaW1tZWRpYXRlbHlcclxuICAgIHNldENhbGxTdGF0dXMoJ2VuZGVkJyk7XHJcbiAgICBjb25uZWN0aW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuICAgIFxyXG4gICAgLy8gQ2xlYXIgdGltZW91dCBpZiBhbnlcclxuICAgIGlmICh0aW1lb3V0UmVmLmN1cnJlbnQpIHtcclxuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRSZWYuY3VycmVudCk7XHJcbiAgICAgIHRpbWVvdXRSZWYuY3VycmVudCA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFN0b3AgaW50ZXJ2YWwgdGltZXJcclxuICAgIGlmIChpbnRlcnZhbFJlZi5jdXJyZW50KSB7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxSZWYuY3VycmVudCk7XHJcbiAgICAgIGludGVydmFsUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBTdG9wIHN0YXRzIG1vbml0b3JpbmdcclxuICAgIGlmIChpY2VTdGF0c0ludGVydmFsUmVmLmN1cnJlbnQpIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbChpY2VTdGF0c0ludGVydmFsUmVmLmN1cnJlbnQpO1xyXG4gICAgICBpY2VTdGF0c0ludGVydmFsUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBTdG9wIGxvY2FsIHN0cmVhbVxyXG4gICAgaWYgKGxvY2FsU3RyZWFtKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgbG9jYWxTdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCh0cmFjayA9PiB7XHJcbiAgICAgICAgICB0cmFjay5zdG9wKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc2V0TG9jYWxTdHJlYW0obnVsbCk7XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzdG9wcGluZyBsb2NhbCBzdHJlYW06JywgZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gU3RvcCByZW1vdGUgc3RyZWFtXHJcbiAgICBpZiAocmVtb3RlU3RyZWFtKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgcmVtb3RlU3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2godHJhY2sgPT4ge1xyXG4gICAgICAgICAgdHJhY2suc3RvcCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNldFJlbW90ZVN0cmVhbShudWxsKTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN0b3BwaW5nIHJlbW90ZSBzdHJlYW06JywgZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gRGVzdHJveSBwZWVyXHJcbiAgICBpZiAocGVlclJlZi5jdXJyZW50KSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgcGVlclJlZi5jdXJyZW50LmRlc3Ryb3koKTtcclxuICAgICAgICBwZWVyUmVmLmN1cnJlbnQgPSBudWxsO1xyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVzdHJveWluZyBwZWVyOicsIGUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFVuc3Vic2NyaWJlIGZyb20gRmlyZXN0b3JlXHJcbiAgICBpZiAodW5zdWJzY3JpYmVSZWYuY3VycmVudCkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHVuc3Vic2NyaWJlUmVmLmN1cnJlbnQoKTtcclxuICAgICAgICB1bnN1YnNjcmliZVJlZi5jdXJyZW50ID0gbnVsbDtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVuc3Vic2NyaWJpbmcgZnJvbSBGaXJlc3RvcmU6JywgZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gVXBkYXRlIGNhbGwgc3RhdHVzIGluIEZpcmVzdG9yZVxyXG4gICAgaWYgKGNhbGxEb2NSZWYuY3VycmVudCkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIC8vIFRhbWJhaGthbiBndWFyZCB1bnR1ayBtZW5jZWdhaCBtdWx0aXBsZSB1cGRhdGUga2UgRmlyZXN0b3JlXHJcbiAgICAgICAgY29uc3QgY2FsbElkID0gY2FsbERvY1JlZi5jdXJyZW50O1xyXG4gICAgICAgIGNhbGxEb2NSZWYuY3VycmVudCA9IG51bGw7XHJcbiAgICAgICAgXHJcbiAgICAgICAgYXdhaXQgdXBkYXRlRG9jKGRvYyhkYiwgJ2NhbGxzJywgY2FsbElkKSwge1xyXG4gICAgICAgICAgc3RhdHVzOiAnZW5kZWQnLFxyXG4gICAgICAgICAgZW5kZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBjYWxsIHN0YXR1czonLCBlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBSZXNldCByZWZzXHJcbiAgICBjYWxsSW5pdGlhbGl6ZWRSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgXHJcbiAgICAvLyBDbG9zZSBtb2RhbCB3aXRoIGRlbGF5XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgaWYgKG1vdW50ZWRSZWYuY3VycmVudCkge1xyXG4gICAgICAgIHNldENhbGxEdXJhdGlvbigwKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnQ2xvc2luZyBtb2RhbCBhZnRlciBjYWxsIGVuZGVkJyk7XHJcbiAgICAgICAgb25DbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9LCA1MDApO1xyXG4gIH07XHJcbiAgXHJcbiAgLy8gSGFuZGxlciB1bnR1ayBwYW5nZ2lsYW4gbWFzdWtcclxuICBjb25zdCBoYW5kbGVJbmNvbWluZ0NhbGwgPSBhc3luYyAoY2FsbElkOiBzdHJpbmcsIHN0cmVhbTogTWVkaWFTdHJlYW0pID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCdIYW5kbGluZyBpbmNvbWluZyBjYWxsOicsIGNhbGxJZCk7XHJcbiAgICBjYWxsRG9jUmVmLmN1cnJlbnQgPSBjYWxsSWQ7XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIEdldCBjYWxsIGRhdGFcclxuICAgICAgY29uc3QgY2FsbERvYyA9IGF3YWl0IGdldERvYyhkb2MoZGIsICdjYWxscycsIGNhbGxJZCkpO1xyXG4gICAgICBpZiAoIWNhbGxEb2MuZXhpc3RzKCkpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdDYWxsIGRvY3VtZW50IG5vdCBmb3VuZCcpO1xyXG4gICAgICAgIHNldENhbGxTdGF0dXMoJ2ZhaWxlZCcpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc3QgY2FsbERhdGEgPSBjYWxsRG9jLmRhdGEoKTtcclxuICAgICAgc2V0SXNDYWxsSW5pdGlhdG9yKGZhbHNlKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFJlc2V0IHJldHJ5IGNvdW50ZXIgZm9yIGEgZnJlc2ggY2FsbFxyXG4gICAgICByZXRyeUNvdW50UmVmLmN1cnJlbnQgPSAwO1xyXG4gICAgICBcclxuICAgICAgLy8gU2V0dXAgZmlyZXN0b3JlIGxpc3RlbmVyIHVudHVrIHNpZ25hbGluZyBkYW4gc3RhdHVzIHBhbmdnaWxhblxyXG4gICAgICBjb25zdCB1bnN1YnNjcmliZSA9IG9uU25hcHNob3QoZG9jKGRiLCAnY2FsbHMnLCBjYWxsSWQpLCAoZG9jU25hcHNob3QpID0+IHtcclxuICAgICAgICBpZiAoIW1vdW50ZWRSZWYuY3VycmVudCkgcmV0dXJuO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICghZG9jU25hcHNob3QuZXhpc3RzKCkpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdDYWxsIGRvY3VtZW50IGRlbGV0ZWQnKTtcclxuICAgICAgICAgIGVuZENhbGwoKTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgY2FsbERhdGEgPSBkb2NTbmFwc2hvdC5kYXRhKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQ2hlY2sgY2FsbCBzdGF0dXNcclxuICAgICAgICBpZiAoY2FsbERhdGEuc3RhdHVzID09PSAnZW5kZWQnIHx8IGNhbGxEYXRhLnN0YXR1cyA9PT0gJ2RlY2xpbmVkJykge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ0NhbGwgZW5kZWQgYnkgb3RoZXIgcGFydHknKTtcclxuICAgICAgICAgIGVuZENhbGwoKTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gUHJvY2VzcyBvZmZlciBqaWthIGFkYSBkYW4ga2l0YSBiZWx1bSBwdW55YSBwZWVyXHJcbiAgICAgICAgLy8gQXRhdSBqaWthIG9mZmVyVGltZXN0YW1wIGxlYmloIGJhcnUgZGFyaSBvZmZlciB0ZXJha2hpciB5YW5nIGtpdGEgcHJvc2VzXHJcbiAgICAgICAgaWYgKGNhbGxEYXRhLm9mZmVyICYmIFxyXG4gICAgICAgICAgICAoIXBlZXJSZWYuY3VycmVudCB8fCBcclxuICAgICAgICAgICAgKGNhbGxEYXRhLm9mZmVyVGltZXN0YW1wICYmIFxyXG4gICAgICAgICAgICAgKCFsYXN0UHJvY2Vzc2VkU2lnbmFsUmVmLmN1cnJlbnQub2ZmZXIgfHwgXHJcbiAgICAgICAgICAgICAgY2FsbERhdGEub2ZmZXJUaW1lc3RhbXAgPiBsYXN0UHJvY2Vzc2VkU2lnbmFsUmVmLmN1cnJlbnQub2ZmZXIpKSkpIHtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gU2tpcCBqaWthIHNpZ25hbGluZyBsb2NrIGFrdGlmXHJcbiAgICAgICAgICBpZiAoc2lnbmFsaW5nTG9ja1JlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTaWduYWxpbmcgbG9ja2VkLCBza2lwcGluZyBvZmZlciBwcm9jZXNzaW5nJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc29sZS5sb2coJ1JlY2VpdmVkIG9mZmVyLCBpbml0aWFsaXppbmcgcGVlciBjb25uZWN0aW9uJyk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIFNpbXBhbiB0aW1lc3RhbXAgdW50dWsgbWVuY2VnYWggcGVtcm9zZXNhbiBnYW5kYVxyXG4gICAgICAgICAgbGFzdFByb2Nlc3NlZFNpZ25hbFJlZi5jdXJyZW50Lm9mZmVyID0gY2FsbERhdGEub2ZmZXJUaW1lc3RhbXA7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIENlayBhcGFrYWggcGVlciBzdWRhaCBhZGEsIGppa2EgYWRhIHJlZnJlc2hcclxuICAgICAgICAgIGlmIChwZWVyUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1JlZnJlc2hpbmcgZXhpc3RpbmcgcGVlciBjb25uZWN0aW9uIGZvciBpbmNvbWluZyBjYWxsJyk7XHJcbiAgICAgICAgICAgIHJlZnJlc2hDb25uZWN0aW9uKHN0cmVhbSwgZmFsc2UpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gQnVhdCBkYW4gc2ltcGFuIHBlZXIgY29ubmVjdGlvbiBiYXJ1XHJcbiAgICAgICAgICAgIGNvbnN0IHBlZXIgPSBjcmVhdGVQZWVyKHN0cmVhbSwgZmFsc2UpO1xyXG4gICAgICAgICAgICBwZWVyUmVmLmN1cnJlbnQgPSBwZWVyO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBQcm9zZXMgb2ZmZXIgZGFyaSBwZW5lbGVwb24gZGFsYW0gdHJ5LWNhdGNoIHVudHVrIHBlbmFuZ2FuYW4gZXJyb3IgeWFuZyBsZWJpaCBiYWlrXHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBvZmZlciA9IEpTT04ucGFyc2UoY2FsbERhdGEub2ZmZXIpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gRGVsYXkgc2luZ2thdCBzZWJlbHVtIHByb3NlcyBvZmZlciB1bnR1ayBtZW1hc3Rpa2FuIHBlZXIgc2lhcFxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICBpZiAocGVlclJlZi5jdXJyZW50ICYmIG1vdW50ZWRSZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgcGVlclJlZi5jdXJyZW50LnNpZ25hbChvZmZlcik7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChzaWduYWxFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwcm9jZXNzaW5nIG9mZmVyIHNpZ25hbDonLCBzaWduYWxFcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAvLyBKaWthIHRlcmphZGkgZXJyb3IsIGNvYmEgcmVmcmVzaCBjb25uZWN0aW9uIHNldGVsYWggZGVsYXlcclxuICAgICAgICAgICAgICAgICAgaWYgKG1vdW50ZWRSZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKG1vdW50ZWRSZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQXR0ZW1wdGluZyB0byByZWNvdmVyIGZyb20gc2lnbmFsIGVycm9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1BlZXIgPSByZWZyZXNoQ29ubmVjdGlvbihzdHJlYW0sIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1BlZXIgJiYgbW91bnRlZFJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdQZWVyLnNpZ25hbChvZmZlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChyZXRyeUVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byByZWNvdmVyIGZyb20gc2lnbmFsIGVycm9yOicsIHJldHJ5RXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMTAwKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwcm9jZXNzaW5nIG9mZmVyOicsIGVycm9yKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgdW5zdWJzY3JpYmVSZWYuY3VycmVudCA9IHVuc3Vic2NyaWJlO1xyXG4gICAgICBcclxuICAgICAgLy8gVXBkYXRlIGNhbGwgc3RhdHVzIGtlICdhbnN3ZXJlZCdcclxuICAgICAgYXdhaXQgdXBkYXRlRG9jKGRvYyhkYiwgJ2NhbGxzJywgY2FsbElkKSwge1xyXG4gICAgICAgIHN0YXR1czogJ2Fuc3dlcmVkJyxcclxuICAgICAgICBhbnN3ZXJlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBoYW5kbGluZyBpbmNvbWluZyBjYWxsOicsIGVycm9yKTtcclxuICAgICAgc2V0Q2FsbFN0YXR1cygnZmFpbGVkJyk7XHJcbiAgICB9XHJcbiAgfTtcclxuICBcclxuICAvLyBIYW5kbGVyIHVudHVrIHBhbmdnaWxhbiBrZWx1YXJcclxuICBjb25zdCBoYW5kbGVPdXRnb2luZ0NhbGwgPSBhc3luYyAoc3RyZWFtOiBNZWRpYVN0cmVhbSkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ0hhbmRsaW5nIG91dGdvaW5nIGNhbGwnKTtcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gQnVhdCBJRCBwYW5nZ2lsYW4gYmFydVxyXG4gICAgICBjb25zdCBuZXdDYWxsSWQgPSBgY2FsbF8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XHJcbiAgICAgIGNhbGxEb2NSZWYuY3VycmVudCA9IG5ld0NhbGxJZDtcclxuICAgICAgc2V0SXNDYWxsSW5pdGlhdG9yKHRydWUpO1xyXG4gICAgICBcclxuICAgICAgLy8gUmVzZXQgcmV0cnkgY291bnRlciBmb3IgYSBmcmVzaCBjYWxsXHJcbiAgICAgIHJldHJ5Q291bnRSZWYuY3VycmVudCA9IDA7XHJcbiAgICAgIFxyXG4gICAgICAvLyBEYXRhIHBhbmdnaWxhbiBhd2FsXHJcbiAgICAgIGNvbnN0IGNhbGxEYXRhID0ge1xyXG4gICAgICAgIGNoYXRJZCxcclxuICAgICAgICBpbml0aWF0b3JJZDogdXNlci51aWQsXHJcbiAgICAgICAgcmVjaXBpZW50SWQsXHJcbiAgICAgICAgc3RhdHVzOiAncmluZ2luZycsXHJcbiAgICAgICAgdHlwZTogaXNWaWRlb0NhbGwgPyAndmlkZW8nIDogJ2F1ZGlvJyxcclxuICAgICAgICBzdGFydGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICBlbmRlZEF0OiBudWxsLFxyXG4gICAgICAgIG9mZmVyOiBudWxsLFxyXG4gICAgICAgIGFuc3dlcjogbnVsbCxcclxuICAgICAgICBvZmZlclRpbWVzdGFtcDogbnVsbCxcclxuICAgICAgICBhbnN3ZXJUaW1lc3RhbXA6IG51bGwsXHJcbiAgICAgICAgaWNlVXBkYXRlQ291bnRlcjogMCxcclxuICAgICAgICBjYWxsQ2xpZW50SWQ6IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxNSlcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIC8vIFNpbXBhbiBkb2t1bWVuIHBhbmdnaWxhblxyXG4gICAgICBhd2FpdCBzZXREb2MoZG9jKGRiLCAnY2FsbHMnLCBuZXdDYWxsSWQpLCBjYWxsRGF0YSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdDYWxsIGRvY3VtZW50IGNyZWF0ZWQ6JywgbmV3Q2FsbElkKTtcclxuICAgICAgXHJcbiAgICAgIC8vIFNldHVwIGxpc3RlbmVyIHVudHVrIHVwZGF0ZSBwYW5nZ2lsYW5cclxuICAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSBvblNuYXBzaG90KGRvYyhkYiwgJ2NhbGxzJywgbmV3Q2FsbElkKSwgKGRvY1NuYXBzaG90KSA9PiB7XHJcbiAgICAgICAgaWYgKCFtb3VudGVkUmVmLmN1cnJlbnQpIHJldHVybjtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoIWRvY1NuYXBzaG90LmV4aXN0cygpKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnQ2FsbCBkb2N1bWVudCBkZWxldGVkJyk7XHJcbiAgICAgICAgICBlbmRDYWxsKCk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGNhbGxEYXRhID0gZG9jU25hcHNob3QuZGF0YSgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENoZWNrIGNhbGwgc3RhdHVzIHVwZGF0ZXNcclxuICAgICAgICBpZiAoY2FsbERhdGEuc3RhdHVzID09PSAnZGVjbGluZWQnKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnQ2FsbCBkZWNsaW5lZCBieSByZWNpcGllbnQnKTtcclxuICAgICAgICAgIGVuZENhbGwoKTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9IFxyXG4gICAgICAgIGVsc2UgaWYgKGNhbGxEYXRhLnN0YXR1cyA9PT0gJ2Fuc3dlcmVkJyAmJiBjYWxsU3RhdHVzID09PSAnY29ubmVjdGluZycpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdDYWxsIGFuc3dlcmVkLCB3YWl0aW5nIGZvciBjb25uZWN0aW9uLi4uJyk7XHJcbiAgICAgICAgICAvLyBSZXNldCB0aW1lb3V0IHNpbmNlIGNhbGwgd2FzIGFuc3dlcmVkXHJcbiAgICAgICAgICBpZiAodGltZW91dFJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0UmVmLmN1cnJlbnQpO1xyXG4gICAgICAgICAgICB0aW1lb3V0UmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICBpZiAoY2FsbFN0YXR1cyA9PT0gJ2Nvbm5lY3RpbmcnICYmIG1vdW50ZWRSZWYuY3VycmVudCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0NhbGwgYW5zd2VyZWQgYnV0IGZhaWxlZCB0byBjb25uZWN0Jyk7XHJcbiAgICAgICAgICAgICAgICBlbmRDYWxsKCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCBBTlNXRVJfVElNRU9VVCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGNhbGxEYXRhLnN0YXR1cyA9PT0gJ2VuZGVkJykge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ0NhbGwgZW5kZWQgYnkgcmVjaXBpZW50Jyk7XHJcbiAgICAgICAgICBlbmRDYWxsKCk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFByb2Nlc3MgYW5zd2VyIGppa2EgdGVyc2VkaWEgZGFuIGxlYmloIGJhcnUgZGFyaSB5YW5nIHNlYmVsdW1ueWFcclxuICAgICAgICBpZiAoY2FsbERhdGEuYW5zd2VyICYmIHBlZXJSZWYuY3VycmVudCAmJiBcclxuICAgICAgICAgICAgKCFsYXN0UHJvY2Vzc2VkU2lnbmFsUmVmLmN1cnJlbnQuYW5zd2VyIHx8IFxyXG4gICAgICAgICAgICAoY2FsbERhdGEuYW5zd2VyVGltZXN0YW1wICYmIGNhbGxEYXRhLmFuc3dlclRpbWVzdGFtcCA+IGxhc3RQcm9jZXNzZWRTaWduYWxSZWYuY3VycmVudC5hbnN3ZXIpKSkge1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBTa2lwIGppa2Egc2lnbmFsaW5nIGxvY2sgYWt0aWZcclxuICAgICAgICAgIGlmIChzaWduYWxpbmdMb2NrUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1NpZ25hbGluZyBsb2NrZWQsIHNraXBwaW5nIGFuc3dlciBwcm9jZXNzaW5nJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1JlY2VpdmVkIGFuc3dlciBmcm9tIHBlZXInKTtcclxuICAgICAgICAgICAgY29uc3QgYW5zd2VyID0gSlNPTi5wYXJzZShjYWxsRGF0YS5hbnN3ZXIpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gU2ltcGFuIHRpbWVzdGFtcCB1bnR1ayBtZW5jZWdhaCBwZW1yb3Nlc2FuIGdhbmRhXHJcbiAgICAgICAgICAgIGxhc3RQcm9jZXNzZWRTaWduYWxSZWYuY3VycmVudC5hbnN3ZXIgPSBjYWxsRGF0YS5hbnN3ZXJUaW1lc3RhbXA7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBLdW5jaSBzaWduYWxpbmcgc2VsYW1hIHBlbXJvc2VzYW4gYW5zd2VyIHVudHVrIG1lbmNlZ2FoIHJhY2UgY29uZGl0aW9uXHJcbiAgICAgICAgICAgIHNpZ25hbGluZ0xvY2tSZWYuY3VycmVudCA9IHRydWU7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBXcmFwIGRhbGFtIHRyeS1jYXRjaCB1bnR1ayBtZW5hbmdhbmkgZXJyb3IgXCJDYWxsZWQgaW4gd3Jvbmcgc3RhdGU6IHN0YWJsZVwiXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgcGVlclJlZi5jdXJyZW50LnNpZ25hbChhbnN3ZXIpO1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIC8vIEppa2EgdGlkYWsgYWRhIGVycm9yLCBidWthIGtlbWJhbGkgc2lnbmFsaW5nIGxvY2sgc2V0ZWxhaCBkZWxheVxyXG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2lnbmFsaW5nTG9ja1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgfSwgU0lHTkFMSU5HX0xPQ0tfUkVMRUFTRSAvIDIpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwcm9jZXNzaW5nIGFuc3dlciwgd2lsbCByZXRyeTonLCBlcnIpO1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIC8vIEppa2EgdGVyamFkaSBlcnJvciwgY29iYSByZWZyZXNoIGNvbm5lY3Rpb24gZGFuIGtlbXVkaWFuIGNvYmEgbGFnaVxyXG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0cmVhbSAmJiBtb3VudGVkUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBSZWZyZXNoIGNvbm5lY3Rpb24gZGFuIGNvYmEgbGFnaSBkZW5nYW4gc2lnbmFsaW5nIHlhbmcgc2FtYVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWZyZXNoaW5nIGNvbm5lY3Rpb24gYWZ0ZXIgc2lnbmFsaW5nIGVycm9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3UGVlciA9IHJlZnJlc2hDb25uZWN0aW9uKHN0cmVhbSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVHVuZ2d1IHNlYmVudGFyLCBrZW11ZGlhbiBjb2JhIHNldCBzaWduYWwgbGFnaVxyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1BlZXIgJiYgbW91bnRlZFJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGVlci5zaWduYWwoYW5zd2VyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAocmV0cnlFcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGaW5hbCBlcnJvciBwcm9jZXNzaW5nIGFuc3dlciBhZnRlciByZWZyZXNoOicsIHJldHJ5RXJyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBCdWthIHNpZ25hbGluZyBsb2NrIHNldGVsYWggbGViaWggbGFtYVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmFsaW5nTG9ja1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgU0lHTkFMSU5HX0xPQ0tfUkVMRUFTRSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW5jcmVtZW50IHJldHJ5IGNvdW50ZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXRyeUNvdW50UmVmLmN1cnJlbnQgKz0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBKaWthIHN1ZGFoIG1lbmNvYmEgYmViZXJhcGEga2FsaSwgdGFuZGFpIHBhbmdnaWxhbiBnYWdhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXRyeUNvdW50UmVmLmN1cnJlbnQgPj0gTUFYX1JFVFJJRVMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUb28gbWFueSBzaWduYWwgcHJvY2Vzc2luZyBlcnJvcnMsIGZhaWxpbmcgY2FsbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q2FsbFN0YXR1cygnZmFpbGVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQZWVyIHN1ZGFoIHRpZGFrIGFkYSwgYnVrYSBzaWduYWxpbmcgbG9ja1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduYWxpbmdMb2NrUmVmLmN1cnJlbnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LCA1MDApO1xyXG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIChyZWZyZXNoRXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVmcmVzaGluZyBjb25uZWN0aW9uOicsIHJlZnJlc2hFcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNpZ25hbGluZ0xvY2tSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldENhbGxTdGF0dXMoJ2ZhaWxlZCcpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAvLyBTdHJlYW0gdGlkYWsgdGVyc2VkaWEsIGJ1a2Egc2lnbmFsaW5nIGxvY2tcclxuICAgICAgICAgICAgICAgICAgc2lnbmFsaW5nTG9ja1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSwgUkVUUllfQkFTRV9ERUxBWSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgYW5zd2VyOicsIGVycm9yKTtcclxuICAgICAgICAgICAgLy8gQnVrYSBrZW1iYWxpIHNpZ25hbGluZyBsb2NrIGppa2EgdGVyamFkaSBlcnJvciBwYXJzaW5nXHJcbiAgICAgICAgICAgIHNpZ25hbGluZ0xvY2tSZWYuY3VycmVudCA9IGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICB1bnN1YnNjcmliZVJlZi5jdXJyZW50ID0gdW5zdWJzY3JpYmU7XHJcbiAgICAgIFxyXG4gICAgICAvLyBCdWF0IHBlZXIgY29ubmVjdGlvbiBzZWJhZ2FpIGluaXNpYXRvclxyXG4gICAgICBjb25zdCBwZWVyID0gY3JlYXRlUGVlcihzdHJlYW0sIHRydWUpO1xyXG4gICAgICBwZWVyUmVmLmN1cnJlbnQgPSBwZWVyO1xyXG4gICAgICBcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIG91dGdvaW5nIGNhbGw6JywgZXJyb3IpO1xyXG4gICAgICBzZXRDYWxsU3RhdHVzKCdmYWlsZWQnKTtcclxuICAgIH1cclxuICB9O1xyXG4gIFxyXG4gIC8vIEZ1bmdzaSB1bnR1ayBtZS1yZWZyZXNoIGtvbmVrc2kgamlrYSB0ZXJqYWRpIGtlZ2FnYWxhblxyXG4gIGNvbnN0IHJlZnJlc2hDb25uZWN0aW9uID0gKHN0cmVhbTogTWVkaWFTdHJlYW0sIGlzSW5pdGlhdG9yOiBib29sZWFuKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygnUmVmcmVzaGluZyBwZWVyIGNvbm5lY3Rpb24nKTtcclxuICAgIFxyXG4gICAgLy8gQmVyc2loa2FuIHBlZXIgY29ubmVjdGlvbiB5YW5nIGFkYVxyXG4gICAgaWYgKHBlZXJSZWYuY3VycmVudCkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHBlZXJSZWYuY3VycmVudC5kZXN0cm95KCk7XHJcbiAgICAgICAgcGVlclJlZi5jdXJyZW50ID0gbnVsbDtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlc3Ryb3lpbmcgZXhpc3RpbmcgcGVlciBkdXJpbmcgcmVmcmVzaDonLCBlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBSZXNldCBzaWduYWxpbmcgbG9ja1xyXG4gICAgc2lnbmFsaW5nTG9ja1JlZi5jdXJyZW50ID0gZmFsc2U7XHJcbiAgICBcclxuICAgIC8vIEJ1YXQgcGVlciBjb25uZWN0aW9uIGJhcnVcclxuICAgIGNvbnN0IG5ld1BlZXIgPSBjcmVhdGVQZWVyKHN0cmVhbSwgaXNJbml0aWF0b3IpO1xyXG4gICAgcGVlclJlZi5jdXJyZW50ID0gbmV3UGVlcjtcclxuICAgIFxyXG4gICAgLy8gSmlrYSBiZWx1bSB0ZXJodWJ1bmcsIHNldCBzdGF0dXMga2UgY29ubmVjdGluZ1xyXG4gICAgaWYgKGNhbGxTdGF0dXMgIT09ICdjb25uZWN0ZWQnKSB7XHJcbiAgICAgIHNldENhbGxTdGF0dXMoJ2Nvbm5lY3RpbmcnKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIG5ld1BlZXI7XHJcbiAgfTtcclxuICBcclxuICBpZiAoIWlzT3BlbikgcmV0dXJuIG51bGw7XHJcbiAgXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCB6LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWJsYWNrIGJnLW9wYWNpdHktNzUgcC00XCI+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3ctbGcgdy1mdWxsIG1heC13LW1kIG92ZXJmbG93LWhpZGRlblwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctcHJpbWFyeSB0ZXh0LXdoaXRlIHAtNCBmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXJcIj5cclxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGRcIj5cclxuICAgICAgICAgICAge2lzVmlkZW9DYWxsID8gJ1ZpZGVvIENhbGwnIDogJ0F1ZGlvIENhbGwnfSBkZW5nYW4ge3JlY2lwaWVudE5hbWV9XHJcbiAgICAgICAgICA8L2gzPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICB7Y2FsbFN0YXR1cyA9PT0gJ2Nvbm5lY3RlZCcgJiYgKFxyXG4gICAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIG1yLTJcIj57Zm9ybWF0Q2FsbER1cmF0aW9uKGNhbGxEdXJhdGlvbil9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgey8qIENvbm5lY3Rpb24gUXVhbGl0eSBJbmRpY2F0b3IgKi99XHJcbiAgICAgICAgICAgICAgICB7Y29ubmVjdGlvblF1YWxpdHkgIT09ICd1bmtub3duJyAmJiAoXHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC02IHctNiByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgbXItMVwiXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2BLdWFsaXRhcyBrb25la3NpOiAke1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvblF1YWxpdHkgPT09ICdnb29kJyA/ICdCYWlrJyA6IFxyXG4gICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvblF1YWxpdHkgPT09ICdtZWRpdW0nID8gJ1NlZGFuZycgOiAnQnVydWsnXHJcbiAgICAgICAgICAgICAgICAgICAgfWB9XHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICB7Y29ubmVjdGlvblF1YWxpdHkgPT09ICdnb29kJyAmJiA8RmlXaWZpIGNsYXNzTmFtZT1cInRleHQtZ3JlZW4tMzAwXCIgc2l6ZT17MTZ9IC8+fVxyXG4gICAgICAgICAgICAgICAgICAgIHtjb25uZWN0aW9uUXVhbGl0eSA9PT0gJ21lZGl1bScgJiYgPEZpV2lmaSBjbGFzc05hbWU9XCJ0ZXh0LXllbGxvdy0zMDBcIiBzaXplPXsxNn0gLz59XHJcbiAgICAgICAgICAgICAgICAgICAge2Nvbm5lY3Rpb25RdWFsaXR5ID09PSAncG9vcicgJiYgPEZpV2lmaU9mZiBjbGFzc05hbWU9XCJ0ZXh0LXJlZC0zMDBcIiBzaXplPXsxNn0gLz59XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAge2NhbGxTdGF0dXMgPT09ICdjb25uZWN0aW5nJyAmJiAoXHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbVwiPk1lbmdodWJ1bmdrYW4uLi48L3NwYW4+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICBcclxuICAgICAgICB7LyogTm90aWZpa2FzaSBrdWFsaXRhcyBqYXJpbmdhbiBidXJ1ayAqL31cclxuICAgICAgICB7c2hvd05ldHdvcmtUb2FzdCAmJiAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXJlZC01MDAgdGV4dC13aGl0ZSB0ZXh0LXhzIHAtMiB0ZXh0LWNlbnRlciBhbmltYXRlLXB1bHNlXCI+XHJcbiAgICAgICAgICAgIEtvbmVrc2kgaW50ZXJuZXQgbGVtYWguIEt1YWxpdGFzIHBhbmdnaWxhbiBtdW5na2luIHRlcnBlbmdhcnVoLlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKX1cclxuICAgICAgICBcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInZpZGVvLWNvbnRhaW5lciByZWxhdGl2ZVwiPlxyXG4gICAgICAgICAgeyhpc1ZpZGVvQ2FsbCAmJiBjYWxsU3RhdHVzID09PSAnY29ubmVjdGVkJykgJiYgKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBoLTY0IGJnLWdyYXktODAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgPHZpZGVvXHJcbiAgICAgICAgICAgICAgICByZWY9e3JlbW90ZVZpZGVvUmVmfVxyXG4gICAgICAgICAgICAgICAgYXV0b1BsYXlcclxuICAgICAgICAgICAgICAgIHBsYXlzSW5saW5lXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb3ZlclwiXHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0yIHJpZ2h0LTIgdy0yNCBoLTI0IGJnLWdyYXktOTAwIHJvdW5kZWQtbGcgb3ZlcmZsb3ctaGlkZGVuXCI+XHJcbiAgICAgICAgICAgICAgICA8dmlkZW9cclxuICAgICAgICAgICAgICAgICAgcmVmPXtsb2NhbFZpZGVvUmVmfVxyXG4gICAgICAgICAgICAgICAgICBhdXRvUGxheVxyXG4gICAgICAgICAgICAgICAgICBwbGF5c0lubGluZVxyXG4gICAgICAgICAgICAgICAgICBtdXRlZFxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb3ZlclwiXHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHtjYWxsU3RhdHVzID09PSAnY29ubmVjdGluZycgJiYgKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHB5LThcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMjAgaC0yMCByb3VuZGVkLWZ1bGwgYmctcHJpbWFyeSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtYi00XCI+XHJcbiAgICAgICAgICAgICAgICB7aXNWaWRlb0NhbGwgPyA8RmlWaWRlbyBzaXplPXszMn0gY2xhc3NOYW1lPVwidGV4dC13aGl0ZVwiIC8+IDogPEZpUGhvbmUgc2l6ZT17MzJ9IGNsYXNzTmFtZT1cInRleHQtd2hpdGVcIiAvPn1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtbWVkaXVtXCI+TWVuZ2h1YnVuZ2kge3JlY2lwaWVudE5hbWV9Li4uPC9wPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBmbGV4IHNwYWNlLXgtMiBpdGVtcy1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0yIGgtMiBiZy1wcmltYXJ5IHJvdW5kZWQtZnVsbCBhbmltYXRlLWJvdW5jZVwiIHN0eWxlPXt7IGFuaW1hdGlvbkRlbGF5OiAnMG1zJyB9fT48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0yIGgtMiBiZy1wcmltYXJ5IHJvdW5kZWQtZnVsbCBhbmltYXRlLWJvdW5jZVwiIHN0eWxlPXt7IGFuaW1hdGlvbkRlbGF5OiAnMjUwbXMnIH19PjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTIgaC0yIGJnLXByaW1hcnkgcm91bmRlZC1mdWxsIGFuaW1hdGUtYm91bmNlXCIgc3R5bGU9e3sgYW5pbWF0aW9uRGVsYXk6ICc1MDBtcycgfX0+PC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgeyghaXNWaWRlb0NhbGwgJiYgY2FsbFN0YXR1cyA9PT0gJ2Nvbm5lY3RlZCcpICYmIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBweS0xMiBiZy1ncmFkaWVudC10by1yIGZyb20tcHJpbWFyeS8xMCB0by1wcmltYXJ5LWRhcmsvMTBcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMjQgaC0yNCByb3VuZGVkLWZ1bGwgYmctcHJpbWFyeSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtYi00XCI+XHJcbiAgICAgICAgICAgICAgICA8RmlQaG9uZSBzaXplPXs0MH0gY2xhc3NOYW1lPVwidGV4dC13aGl0ZVwiIC8+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14bFwiPkF1ZGlvIENhbGwgZGVuZ2FuIHtyZWNpcGllbnROYW1lfTwvcD5cclxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIG10LTJcIj57Zm9ybWF0Q2FsbER1cmF0aW9uKGNhbGxEdXJhdGlvbil9PC9wPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHsvKiBGYWlsZWQgQ2FsbCBTdGF0dXMgKi99XHJcbiAgICAgICAgICB7Y2FsbFN0YXR1cyA9PT0gJ2ZhaWxlZCcgJiYgKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHB5LTggYmctcmVkLTUwXCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTIwIGgtMjAgcm91bmRlZC1mdWxsIGJnLXJlZC01MDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgbWItNFwiPlxyXG4gICAgICAgICAgICAgICAgPEZpUGhvbmUgc2l6ZT17MzJ9IGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdHJhbnNmb3JtIHJvdGF0ZS0xMzVcIiAvPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1tZWRpdW0gdGV4dC1yZWQtNzAwXCI+UGFuZ2dpbGFuIEdhZ2FsPC9wPlxyXG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgbXQtMSBtYi00IHRleHQtY2VudGVyIHB4LTZcIj5cclxuICAgICAgICAgICAgICAgIFRpZGFrIGRhcGF0IG1lbmdodWJ1bmdrYW4gcGFuZ2dpbGFuLjxiciAvPlBlcmlrc2Ega29uZWtzaSBpbnRlcm5ldCBBbmRhLlxyXG4gICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNsb3NlfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIGJnLXByaW1hcnkgdGV4dC13aGl0ZSByb3VuZGVkLWxnIGhvdmVyOmJnLXByaW1hcnktZGFya1wiXHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgVHV0dXBcclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIFxyXG4gICAgICAgIHsoY2FsbFN0YXR1cyA9PT0gJ2Nvbm5lY3RlZCcgfHwgbG9jYWxTdHJlYW0pICYmIChcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IGZsZXgganVzdGlmeS1jZW50ZXIgc3BhY2UteC00IGJnLWdyYXktMTAwXCI+XHJcbiAgICAgICAgICAgIHtpc1ZpZGVvQ2FsbCAmJiAoXHJcbiAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17dG9nZ2xlQ2FtZXJhfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcm91bmRlZC1mdWxsIHAtMyAke2lzQ2FtZXJhT24gPyAnYmctcHJpbWFyeSB0ZXh0LXdoaXRlJyA6ICdiZy1ncmF5LTMwMCB0ZXh0LWdyYXktNzAwJ31gfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIHtpc0NhbWVyYU9uID8gPEZpVmlkZW8gc2l6ZT17MjJ9IC8+IDogPEZpVmlkZW9PZmYgc2l6ZT17MjJ9IC8+fVxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgb25DbGljaz17dG9nZ2xlTWljfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YHJvdW5kZWQtZnVsbCBwLTMgJHtpc01pY09uID8gJ2JnLXByaW1hcnkgdGV4dC13aGl0ZScgOiAnYmctZ3JheS0zMDAgdGV4dC1ncmF5LTcwMCd9YH1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIHtpc01pY09uID8gPEZpTWljIHNpemU9ezIyfSAvPiA6IDxGaU1pY09mZiBzaXplPXsyMn0gLz59XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgb25DbGljaz17ZW5kQ2FsbH1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLWZ1bGwgcC0zIGJnLXJlZC01MDAgdGV4dC13aGl0ZVwiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8RmlQaG9uZSBzaXplPXsyMn0gY2xhc3NOYW1lPVwidHJhbnNmb3JtIHJvdGF0ZS0xMzVcIiAvPlxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICl9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufSAiXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJGaVZpZGVvIiwiRmlWaWRlb09mZiIsIkZpTWljIiwiRmlNaWNPZmYiLCJGaVBob25lIiwiRmlXaWZpIiwiRmlXaWZpT2ZmIiwiU2ltcGxlUGVlciIsImRvYyIsInNldERvYyIsIm9uU25hcHNob3QiLCJ1cGRhdGVEb2MiLCJnZXREb2MiLCJzZXJ2ZXJUaW1lc3RhbXAiLCJkYiIsIlNJTkdMRV9ERVZJQ0VfVEVTVElORyIsIk1PREFMX0lOSVRfREVMQVkiLCJTSUdOQUxJTkdfTE9DS19SRUxFQVNFIiwiQ0FMTF9USU1FT1VUIiwiQU5TV0VSX1RJTUVPVVQiLCJSRVRSWV9CQVNFX0RFTEFZIiwiTUFYX1JFVFJJRVMiLCJzYXZlQ2FsbFRvRmlyZXN0b3JlIiwiY2FsbElkIiwiY2FsbERhdGEiLCJ1cGRhdGVkQXQiLCJlcnJvciIsImNvbnNvbGUiLCJ1cGRhdGVDYWxsU3RhdHVzIiwic3RhdHVzIiwiZW5kZWRBdCIsIlZpZGVvQ2FsbE1vZGFsIiwiaXNPcGVuIiwib25DbG9zZSIsInVzZXIiLCJjaGF0SWQiLCJyZWNpcGllbnRJZCIsImlzVmlkZW9DYWxsIiwiaW5jb21pbmdDYWxsSWQiLCJsb2NhbFN0cmVhbSIsInNldExvY2FsU3RyZWFtIiwicmVtb3RlU3RyZWFtIiwic2V0UmVtb3RlU3RyZWFtIiwiaXNDYW1lcmFPbiIsInNldElzQ2FtZXJhT24iLCJpc01pY09uIiwic2V0SXNNaWNPbiIsImNhbGxTdGF0dXMiLCJzZXRDYWxsU3RhdHVzIiwiY2FsbER1cmF0aW9uIiwic2V0Q2FsbER1cmF0aW9uIiwicmVjaXBpZW50TmFtZSIsInNldFJlY2lwaWVudE5hbWUiLCJpc0NhbGxJbml0aWF0b3IiLCJzZXRJc0NhbGxJbml0aWF0b3IiLCJpc01vZGFsUmVhZHkiLCJzZXRJc01vZGFsUmVhZHkiLCJjb25uZWN0aW9uUXVhbGl0eSIsInNldENvbm5lY3Rpb25RdWFsaXR5Iiwic2hvd05ldHdvcmtUb2FzdCIsInNldFNob3dOZXR3b3JrVG9hc3QiLCJsYXRlc3RJY2VTdGF0cyIsInNldExhdGVzdEljZVN0YXRzIiwibG9jYWxWaWRlb1JlZiIsInJlbW90ZVZpZGVvUmVmIiwicGVlclJlZiIsImNhbGxEb2NSZWYiLCJpbnRlcnZhbFJlZiIsInVuc3Vic2NyaWJlUmVmIiwidGltZW91dFJlZiIsImNhbGxJbml0aWFsaXplZFJlZiIsImNvbm5lY3RpbmdSZWYiLCJtb3VudGVkUmVmIiwibGFzdFByb2Nlc3NlZFNpZ25hbFJlZiIsInNpZ25hbGluZ0xvY2tSZWYiLCJyZXRyeUNvdW50UmVmIiwiaWNlU3RhdHNJbnRlcnZhbFJlZiIsImhhbmRsZVZpc2liaWxpdHlDaGFuZ2UiLCJkb2N1bWVudCIsImhpZGRlbiIsImxvZyIsImN1cnJlbnQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImZldGNoUmVjaXBpZW50SW5mbyIsInVzZXJEb2MiLCJleGlzdHMiLCJ1c2VyRGF0YSIsImRhdGEiLCJuYW1lIiwiZGlzcGxheU5hbWUiLCJ1c2VycyIsIkpTT04iLCJwYXJzZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzdG9yYWdlRXJyb3IiLCJyZXNldFRpbWVyIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsImVuZENhbGwiLCJpbml0aWFsaXplQ2FsbCIsImNvbnN0cmFpbnRzIiwidmlkZW8iLCJmYWNpbmdNb2RlIiwid2lkdGgiLCJpZGVhbCIsImhlaWdodCIsImF1ZGlvIiwiZWNob0NhbmNlbGxhdGlvbiIsIm5vaXNlU3VwcHJlc3Npb24iLCJhdXRvR2FpbkNvbnRyb2wiLCJQcm9taXNlIiwicmVzb2x2ZSIsInN0cmVhbSIsIm5hdmlnYXRvciIsIm1lZGlhRGV2aWNlcyIsImdldFVzZXJNZWRpYSIsIm1lZGlhRXJyb3IiLCJnZXRUcmFja3MiLCJmb3JFYWNoIiwidHJhY2siLCJzdG9wIiwic3JjT2JqZWN0IiwibXV0ZWQiLCJoYW5kbGVJbmNvbWluZ0NhbGwiLCJoYW5kbGVPdXRnb2luZ0NhbGwiLCJpbml0VGltZXIiLCJ1aWQiLCJtb25pdG9yQ29ubmVjdGlvblF1YWxpdHkiLCJjbGVhckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJzdGF0cyIsImdldFN0YXRzIiwiY3VycmVudFJUVCIsInBhY2tldHNMb3N0IiwicGFja2V0c1JlY2VpdmVkIiwiaml0dGVyIiwic3RhdHNDb3VudCIsInN0YXQiLCJ0eXBlIiwicm91bmRUcmlwVGltZSIsImljZVN0YXRzIiwiUlRUIiwiTWF0aCIsInJvdW5kIiwicXVhbGl0eSIsImxvc3NSYXRlIiwiY3JlYXRlUGVlciIsImluaXRpYXRvciIsImRlc3Ryb3kiLCJlIiwiaWNlU2VydmVycyIsInVybHMiLCJ1c2VybmFtZSIsImNyZWRlbnRpYWwiLCJwZWVyIiwidHJpY2tsZSIsImNvbmZpZyIsImljZVRyYW5zcG9ydFBvbGljeSIsInNkcFNlbWFudGljcyIsIm9iamVjdE1vZGUiLCJvbiIsIm9mZmVyVGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwib2ZmZXIiLCJzdHJpbmdpZnkiLCJhbnN3ZXJUaW1lc3RhbXAiLCJhbnN3ZXIiLCJjYW5kaWRhdGUiLCJjYWxsRG9jIiwiY3VycmVudERhdGEiLCJpY2VVcGRhdGVDb3VudGVyIiwiZmllbGROYW1lIiwidXBkYXRlRGF0YSIsInN0YXJ0Q2FsbFRpbWVyIiwiY2F0Y2giLCJlcnIiLCJwbGF5Iiwid2FybiIsInBsYXlPbkludGVyYWN0aW9uIiwidGhlbiIsIm9uY2UiLCJlcnJvclN0cmluZyIsInRvU3RyaW5nIiwiaW5jbHVkZXMiLCJyZXRyeURlbGF5IiwibmV3UGVlciIsInNlY29uZHMiLCJmb3JtYXRDYWxsRHVyYXRpb24iLCJocnMiLCJmbG9vciIsIm1pbnMiLCJzZWNzIiwicGFkU3RhcnQiLCJ0b2dnbGVDYW1lcmEiLCJ2aWRlb1RyYWNrcyIsImdldFZpZGVvVHJhY2tzIiwibGVuZ3RoIiwiZW5hYmxlZCIsInRvZ2dsZU1pYyIsImF1ZGlvVHJhY2tzIiwiZ2V0QXVkaW9UcmFja3MiLCJ1bnN1YnNjcmliZSIsImRvY1NuYXBzaG90IiwicmVmcmVzaENvbm5lY3Rpb24iLCJzaWduYWwiLCJzaWduYWxFcnJvciIsInJldHJ5RXJyb3IiLCJhbnN3ZXJlZEF0IiwibmV3Q2FsbElkIiwibm93IiwicmFuZG9tIiwic3Vic3RyIiwiaW5pdGlhdG9ySWQiLCJzdGFydGVkQXQiLCJjYWxsQ2xpZW50SWQiLCJzdWJzdHJpbmciLCJyZXRyeUVyciIsInJlZnJlc2hFcnIiLCJpc0luaXRpYXRvciIsImRpdiIsImNsYXNzTmFtZSIsImgzIiwic3BhbiIsInRpdGxlIiwic2l6ZSIsInJlZiIsImF1dG9QbGF5IiwicGxheXNJbmxpbmUiLCJwIiwic3R5bGUiLCJhbmltYXRpb25EZWxheSIsImJyIiwiYnV0dG9uIiwib25DbGljayJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/VideoCallModal.tsx\n");

/***/ }),

/***/ "(ssr)/./src/firebase/config.ts":
/*!********************************!*\
  !*** ./src/firebase/config.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   auth: () => (/* binding */ auth),\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   storage: () => (/* binding */ storage)\n/* harmony export */ });\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/app */ \"(ssr)/./node_modules/firebase/app/dist/index.mjs\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/firestore */ \"(ssr)/./node_modules/firebase/firestore/dist/index.mjs\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/auth */ \"(ssr)/./node_modules/firebase/auth/dist/index.mjs\");\n/* harmony import */ var firebase_storage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/storage */ \"(ssr)/./node_modules/firebase/storage/dist/index.mjs\");\n\n\n\n\n// Konfigurasi Firebase\nconst firebaseConfig = {\n    apiKey: \"AIzaSyCSYb-iyLVbcnl5VZfAMcBwwfpUSkL9cic\",\n    authDomain: \"hallo-19aab.firebaseapp.com\",\n    projectId: \"hallo-19aab\",\n    storageBucket: \"hallo-19aab.appspot.com\",\n    messagingSenderId: \"29702158520\",\n    appId: \"1:29702158520:web:c1e4d3eab0815186739c4d\",\n    measurementId: \"G-86GPTBD5NB\"\n};\n// Inisialisasi Firebase\nconst app = (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.getApps)().length === 0 ? (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(firebaseConfig) : (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.getApps)()[0];\n// Ekspor Firebase services\nconst db = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getFirestore)(app);\nconst auth = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.getAuth)(app);\nconst storage = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_3__.getStorage)(app);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvZmlyZWJhc2UvY29uZmlnLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBc0Q7QUFDSjtBQUNWO0FBQ007QUFFOUMsdUJBQXVCO0FBQ3ZCLE1BQU1LLGlCQUFpQjtJQUNyQkMsUUFBUUMseUNBQXdDO0lBQ2hERyxZQUFZSCw2QkFBNEM7SUFDeERLLFdBQVdMLGFBQTJDO0lBQ3RETyxlQUFlUCx5QkFBK0M7SUFDOURTLG1CQUFtQlQsYUFBb0Q7SUFDdkVXLE9BQU9YLDBDQUF1QztJQUM5Q2EsZUFBZWIsY0FBK0M7QUFDaEU7QUFFQSx3QkFBd0I7QUFDeEIsTUFBTWUsTUFBTXJCLHFEQUFPQSxHQUFHc0IsTUFBTSxLQUFLLElBQUl2QiwyREFBYUEsQ0FBQ0ssa0JBQWtCSixxREFBT0EsRUFBRSxDQUFDLEVBQUU7QUFFakYsMkJBQTJCO0FBQ3BCLE1BQU11QixLQUFLdEIsZ0VBQVlBLENBQUNvQixLQUFLO0FBQzdCLE1BQU1HLE9BQU90QixzREFBT0EsQ0FBQ21CLEtBQUs7QUFDMUIsTUFBTUksVUFBVXRCLDREQUFVQSxDQUFDa0IsS0FBSyIsInNvdXJjZXMiOlsid2VicGFjazovL2hhbGxvLy4vc3JjL2ZpcmViYXNlL2NvbmZpZy50cz8zMThjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGluaXRpYWxpemVBcHAsIGdldEFwcHMgfSBmcm9tICdmaXJlYmFzZS9hcHAnO1xuaW1wb3J0IHsgZ2V0RmlyZXN0b3JlIH0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcbmltcG9ydCB7IGdldEF1dGggfSBmcm9tICdmaXJlYmFzZS9hdXRoJztcbmltcG9ydCB7IGdldFN0b3JhZ2UgfSBmcm9tICdmaXJlYmFzZS9zdG9yYWdlJztcblxuLy8gS29uZmlndXJhc2kgRmlyZWJhc2VcbmNvbnN0IGZpcmViYXNlQ29uZmlnID0ge1xuICBhcGlLZXk6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FQSV9LRVksXG4gIGF1dGhEb21haW46IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FVVEhfRE9NQUlOLFxuICBwcm9qZWN0SWQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX1BST0pFQ1RfSUQsXG4gIHN0b3JhZ2VCdWNrZXQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX1NUT1JBR0VfQlVDS0VULFxuICBtZXNzYWdpbmdTZW5kZXJJZDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfTUVTU0FHSU5HX1NFTkRFUl9JRCxcbiAgYXBwSWQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FQUF9JRCxcbiAgbWVhc3VyZW1lbnRJZDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfTUVBU1VSRU1FTlRfSURcbn07XG5cbi8vIEluaXNpYWxpc2FzaSBGaXJlYmFzZVxuY29uc3QgYXBwID0gZ2V0QXBwcygpLmxlbmd0aCA9PT0gMCA/IGluaXRpYWxpemVBcHAoZmlyZWJhc2VDb25maWcpIDogZ2V0QXBwcygpWzBdO1xuXG4vLyBFa3Nwb3IgRmlyZWJhc2Ugc2VydmljZXNcbmV4cG9ydCBjb25zdCBkYiA9IGdldEZpcmVzdG9yZShhcHApO1xuZXhwb3J0IGNvbnN0IGF1dGggPSBnZXRBdXRoKGFwcCk7XG5leHBvcnQgY29uc3Qgc3RvcmFnZSA9IGdldFN0b3JhZ2UoYXBwKTsiXSwibmFtZXMiOlsiaW5pdGlhbGl6ZUFwcCIsImdldEFwcHMiLCJnZXRGaXJlc3RvcmUiLCJnZXRBdXRoIiwiZ2V0U3RvcmFnZSIsImZpcmViYXNlQ29uZmlnIiwiYXBpS2V5IiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FQSV9LRVkiLCJhdXRoRG9tYWluIiwiTkVYVF9QVUJMSUNfRklSRUJBU0VfQVVUSF9ET01BSU4iLCJwcm9qZWN0SWQiLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9QUk9KRUNUX0lEIiwic3RvcmFnZUJ1Y2tldCIsIk5FWFRfUFVCTElDX0ZJUkVCQVNFX1NUT1JBR0VfQlVDS0VUIiwibWVzc2FnaW5nU2VuZGVySWQiLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9NRVNTQUdJTkdfU0VOREVSX0lEIiwiYXBwSWQiLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9BUFBfSUQiLCJtZWFzdXJlbWVudElkIiwiTkVYVF9QVUJMSUNfRklSRUJBU0VfTUVBU1VSRU1FTlRfSUQiLCJhcHAiLCJsZW5ndGgiLCJkYiIsImF1dGgiLCJzdG9yYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/firebase/config.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/ai-config.ts":
/*!******************************!*\
  !*** ./src/lib/ai-config.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_AI_CONFIG: () => (/* binding */ DEFAULT_AI_CONFIG),\n/* harmony export */   getAIConfig: () => (/* binding */ getAIConfig),\n/* harmony export */   saveAIConfig: () => (/* binding */ saveAIConfig)\n/* harmony export */ });\n/* harmony import */ var _firebase_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/firebase/config */ \"(ssr)/./src/firebase/config.ts\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/firestore */ \"(ssr)/./node_modules/firebase/firestore/dist/index.mjs\");\n/* harmony import */ var _qwen__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./qwen */ \"(ssr)/./src/lib/qwen.ts\");\n\n\n\n// Default AI config\nconst DEFAULT_AI_CONFIG = {\n    defaultLanguage: \"id\",\n    autoTranslate: false,\n    customInstructions: \"\",\n    model: _qwen__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_MODEL\n};\n/**\r\n * Mengambil konfigurasi AI dari Firestore\r\n */ const getAIConfig = async (userId)=>{\n    try {\n        const configRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_0__.db, \"users\", userId, \"settings\", \"ai-config\");\n        const configDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDoc)(configRef);\n        if (configDoc.exists()) {\n            return configDoc.data();\n        }\n        // Jika belum ada, buat dengan konfigurasi default\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.setDoc)(configRef, DEFAULT_AI_CONFIG);\n        return DEFAULT_AI_CONFIG;\n    } catch (error) {\n        console.error(\"Error saat mengambil konfigurasi AI:\", error);\n        return DEFAULT_AI_CONFIG;\n    }\n};\n/**\r\n * Menyimpan konfigurasi AI ke Firestore\r\n */ const saveAIConfig = async (userId, config)=>{\n    try {\n        const configRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_0__.db, \"users\", userId, \"settings\", \"ai-config\");\n        const configDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDoc)(configRef);\n        if (configDoc.exists()) {\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.updateDoc)(configRef, config);\n        } else {\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.setDoc)(configRef, config);\n        }\n        return true;\n    } catch (error) {\n        console.error(\"Error saat menyimpan konfigurasi AI:\", error);\n        return false;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvbGliL2FpLWNvbmZpZy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBdUM7QUFDNkI7QUFFN0I7QUFFdkMsb0JBQW9CO0FBQ2IsTUFBTU0sb0JBQThCO0lBQ3pDQyxpQkFBaUI7SUFDakJDLGVBQWU7SUFDZkMsb0JBQW9CO0lBQ3BCQyxPQUFPTCxnREFBYUE7QUFDdEIsRUFBRTtBQUVGOztDQUVDLEdBQ00sTUFBTU0sY0FBYyxPQUFPQztJQUNoQyxJQUFJO1FBQ0YsTUFBTUMsWUFBWVosdURBQUdBLENBQUNELGdEQUFFQSxFQUFFLFNBQVNZLFFBQVEsWUFBWTtRQUN2RCxNQUFNRSxZQUFZLE1BQU1aLDBEQUFNQSxDQUFDVztRQUUvQixJQUFJQyxVQUFVQyxNQUFNLElBQUk7WUFDdEIsT0FBT0QsVUFBVUUsSUFBSTtRQUN2QjtRQUVBLGtEQUFrRDtRQUNsRCxNQUFNYiwwREFBTUEsQ0FBQ1UsV0FBV1A7UUFDeEIsT0FBT0E7SUFDVCxFQUFFLE9BQU9XLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLHdDQUF3Q0E7UUFDdEQsT0FBT1g7SUFDVDtBQUNGLEVBQUU7QUFFRjs7Q0FFQyxHQUNNLE1BQU1hLGVBQWUsT0FBT1AsUUFBZ0JRO0lBQ2pELElBQUk7UUFDRixNQUFNUCxZQUFZWix1REFBR0EsQ0FBQ0QsZ0RBQUVBLEVBQUUsU0FBU1ksUUFBUSxZQUFZO1FBQ3ZELE1BQU1FLFlBQVksTUFBTVosMERBQU1BLENBQUNXO1FBRS9CLElBQUlDLFVBQVVDLE1BQU0sSUFBSTtZQUN0QixNQUFNWCw2REFBU0EsQ0FBQ1MsV0FBV087UUFDN0IsT0FBTztZQUNMLE1BQU1qQiwwREFBTUEsQ0FBQ1UsV0FBV087UUFDMUI7UUFFQSxPQUFPO0lBQ1QsRUFBRSxPQUFPSCxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyx3Q0FBd0NBO1FBQ3RELE9BQU87SUFDVDtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWxsby8uL3NyYy9saWIvYWktY29uZmlnLnRzPzdhOGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGIgfSBmcm9tICdAL2ZpcmViYXNlL2NvbmZpZyc7XHJcbmltcG9ydCB7IGRvYywgZ2V0RG9jLCBzZXREb2MsIHVwZGF0ZURvYyB9IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XHJcbmltcG9ydCB7IEFJQ29uZmlnIH0gZnJvbSAnLi90eXBlcyc7XHJcbmltcG9ydCB7IERFRkFVTFRfTU9ERUwgfSBmcm9tICcuL3F3ZW4nO1xyXG5cclxuLy8gRGVmYXVsdCBBSSBjb25maWdcclxuZXhwb3J0IGNvbnN0IERFRkFVTFRfQUlfQ09ORklHOiBBSUNvbmZpZyA9IHtcclxuICBkZWZhdWx0TGFuZ3VhZ2U6ICdpZCcsXHJcbiAgYXV0b1RyYW5zbGF0ZTogZmFsc2UsXHJcbiAgY3VzdG9tSW5zdHJ1Y3Rpb25zOiAnJyxcclxuICBtb2RlbDogREVGQVVMVF9NT0RFTCxcclxufTtcclxuXHJcbi8qKlxyXG4gKiBNZW5nYW1iaWwga29uZmlndXJhc2kgQUkgZGFyaSBGaXJlc3RvcmVcclxuICovXHJcbmV4cG9ydCBjb25zdCBnZXRBSUNvbmZpZyA9IGFzeW5jICh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8QUlDb25maWc+ID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgY29uZmlnUmVmID0gZG9jKGRiLCAndXNlcnMnLCB1c2VySWQsICdzZXR0aW5ncycsICdhaS1jb25maWcnKTtcclxuICAgIGNvbnN0IGNvbmZpZ0RvYyA9IGF3YWl0IGdldERvYyhjb25maWdSZWYpO1xyXG4gICAgXHJcbiAgICBpZiAoY29uZmlnRG9jLmV4aXN0cygpKSB7XHJcbiAgICAgIHJldHVybiBjb25maWdEb2MuZGF0YSgpIGFzIEFJQ29uZmlnO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBKaWthIGJlbHVtIGFkYSwgYnVhdCBkZW5nYW4ga29uZmlndXJhc2kgZGVmYXVsdFxyXG4gICAgYXdhaXQgc2V0RG9jKGNvbmZpZ1JlZiwgREVGQVVMVF9BSV9DT05GSUcpO1xyXG4gICAgcmV0dXJuIERFRkFVTFRfQUlfQ09ORklHO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYWF0IG1lbmdhbWJpbCBrb25maWd1cmFzaSBBSTonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gREVGQVVMVF9BSV9DT05GSUc7XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIE1lbnlpbXBhbiBrb25maWd1cmFzaSBBSSBrZSBGaXJlc3RvcmVcclxuICovXHJcbmV4cG9ydCBjb25zdCBzYXZlQUlDb25maWcgPSBhc3luYyAodXNlcklkOiBzdHJpbmcsIGNvbmZpZzogQUlDb25maWcpOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgY29uZmlnUmVmID0gZG9jKGRiLCAndXNlcnMnLCB1c2VySWQsICdzZXR0aW5ncycsICdhaS1jb25maWcnKTtcclxuICAgIGNvbnN0IGNvbmZpZ0RvYyA9IGF3YWl0IGdldERvYyhjb25maWdSZWYpO1xyXG4gICAgXHJcbiAgICBpZiAoY29uZmlnRG9jLmV4aXN0cygpKSB7XHJcbiAgICAgIGF3YWl0IHVwZGF0ZURvYyhjb25maWdSZWYsIGNvbmZpZyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhd2FpdCBzZXREb2MoY29uZmlnUmVmLCBjb25maWcpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc2FhdCBtZW55aW1wYW4ga29uZmlndXJhc2kgQUk6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufTsgIl0sIm5hbWVzIjpbImRiIiwiZG9jIiwiZ2V0RG9jIiwic2V0RG9jIiwidXBkYXRlRG9jIiwiREVGQVVMVF9NT0RFTCIsIkRFRkFVTFRfQUlfQ09ORklHIiwiZGVmYXVsdExhbmd1YWdlIiwiYXV0b1RyYW5zbGF0ZSIsImN1c3RvbUluc3RydWN0aW9ucyIsIm1vZGVsIiwiZ2V0QUlDb25maWciLCJ1c2VySWQiLCJjb25maWdSZWYiLCJjb25maWdEb2MiLCJleGlzdHMiLCJkYXRhIiwiZXJyb3IiLCJjb25zb2xlIiwic2F2ZUFJQ29uZmlnIiwiY29uZmlnIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/ai-config.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/context.tsx":
/*!*****************************!*\
  !*** ./src/lib/context.tsx ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AIConfigProvider: () => (/* binding */ AIConfigProvider),\n/* harmony export */   useAIConfig: () => (/* binding */ useAIConfig)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* __next_internal_client_entry_do_not_use__ useAIConfig,AIConfigProvider auto */ \n\n// Default AI config\nconst defaultAIConfig = {\n    defaultLanguage: \"id\",\n    customInstructions: \"\",\n    model: \"qwen/qwen3-32b:free\",\n    translateLanguage: \"en\",\n    autoTranslate: false\n};\n// Create context with default values\nconst AIContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({\n    aiConfig: defaultAIConfig,\n    updateAIConfig: ()=>{}\n});\n// Hook to use AI context\nconst useAIConfig = ()=>(0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AIContext);\n// Provider component\nconst AIConfigProvider = ({ children })=>{\n    const [aiConfig, setAIConfig] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(defaultAIConfig);\n    // Load settings from localStorage on first render\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        try {\n            const storedConfig = localStorage.getItem(\"aiConfig\");\n            if (storedConfig) {\n                setAIConfig(JSON.parse(storedConfig));\n            }\n        } catch (error) {\n            console.error(\"Error loading AI config from localStorage:\", error);\n        }\n    }, []);\n    // Update AI config and save to localStorage\n    const updateAIConfig = (config)=>{\n        setAIConfig(config);\n        try {\n            localStorage.setItem(\"aiConfig\", JSON.stringify(config));\n        } catch (error) {\n            console.error(\"Error saving AI config to localStorage:\", error);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AIContext.Provider, {\n        value: {\n            aiConfig,\n            updateAIConfig\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\lib\\\\context.tsx\",\n        lineNumber: 57,\n        columnNumber: 5\n    }, undefined);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvbGliL2NvbnRleHQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFFOEU7QUFHOUUsb0JBQW9CO0FBQ3BCLE1BQU1LLGtCQUE0QjtJQUNoQ0MsaUJBQWlCO0lBQ2pCQyxvQkFBb0I7SUFDcEJDLE9BQU87SUFDUEMsbUJBQW1CO0lBQ25CQyxlQUFlO0FBQ2pCO0FBUUEscUNBQXFDO0FBQ3JDLE1BQU1DLDBCQUFZVixvREFBYUEsQ0FBZ0I7SUFDN0NXLFVBQVVQO0lBQ1ZRLGdCQUFnQixLQUFPO0FBQ3pCO0FBRUEseUJBQXlCO0FBQ2xCLE1BQU1DLGNBQWMsSUFBTVosaURBQVVBLENBQUNTLFdBQVc7QUFFdkQscUJBQXFCO0FBQ2QsTUFBTUksbUJBQTRELENBQUMsRUFBRUMsUUFBUSxFQUFFO0lBQ3BGLE1BQU0sQ0FBQ0osVUFBVUssWUFBWSxHQUFHZCwrQ0FBUUEsQ0FBV0U7SUFFbkQsa0RBQWtEO0lBQ2xERCxnREFBU0EsQ0FBQztRQUNSLElBQUk7WUFDRixNQUFNYyxlQUFlQyxhQUFhQyxPQUFPLENBQUM7WUFDMUMsSUFBSUYsY0FBYztnQkFDaEJELFlBQVlJLEtBQUtDLEtBQUssQ0FBQ0o7WUFDekI7UUFDRixFQUFFLE9BQU9LLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLDhDQUE4Q0E7UUFDOUQ7SUFDRixHQUFHLEVBQUU7SUFFTCw0Q0FBNEM7SUFDNUMsTUFBTVYsaUJBQWlCLENBQUNZO1FBQ3RCUixZQUFZUTtRQUNaLElBQUk7WUFDRk4sYUFBYU8sT0FBTyxDQUFDLFlBQVlMLEtBQUtNLFNBQVMsQ0FBQ0Y7UUFDbEQsRUFBRSxPQUFPRixPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQywyQ0FBMkNBO1FBQzNEO0lBQ0Y7SUFFQSxxQkFDRSw4REFBQ1osVUFBVWlCLFFBQVE7UUFBQ0MsT0FBTztZQUFFakI7WUFBVUM7UUFBZTtrQkFDbkRHOzs7Ozs7QUFHUCxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFsbG8vLi9zcmMvbGliL2NvbnRleHQudHN4PzRlNDUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEFJQ29uZmlnIH0gZnJvbSAnLi90eXBlcyc7XG5cbi8vIERlZmF1bHQgQUkgY29uZmlnXG5jb25zdCBkZWZhdWx0QUlDb25maWc6IEFJQ29uZmlnID0ge1xuICBkZWZhdWx0TGFuZ3VhZ2U6ICdpZCcsXG4gIGN1c3RvbUluc3RydWN0aW9uczogJycsXG4gIG1vZGVsOiAncXdlbi9xd2VuMy0zMmI6ZnJlZScsXG4gIHRyYW5zbGF0ZUxhbmd1YWdlOiAnZW4nLFxuICBhdXRvVHJhbnNsYXRlOiBmYWxzZSxcbn07XG5cbi8vIERlZmluZSBjb250ZXh0IHR5cGVcbmludGVyZmFjZSBBSUNvbnRleHRUeXBlIHtcbiAgYWlDb25maWc6IEFJQ29uZmlnO1xuICB1cGRhdGVBSUNvbmZpZzogKGNvbmZpZzogQUlDb25maWcpID0+IHZvaWQ7XG59XG5cbi8vIENyZWF0ZSBjb250ZXh0IHdpdGggZGVmYXVsdCB2YWx1ZXNcbmNvbnN0IEFJQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8QUlDb250ZXh0VHlwZT4oe1xuICBhaUNvbmZpZzogZGVmYXVsdEFJQ29uZmlnLFxuICB1cGRhdGVBSUNvbmZpZzogKCkgPT4ge30sXG59KTtcblxuLy8gSG9vayB0byB1c2UgQUkgY29udGV4dFxuZXhwb3J0IGNvbnN0IHVzZUFJQ29uZmlnID0gKCkgPT4gdXNlQ29udGV4dChBSUNvbnRleHQpO1xuXG4vLyBQcm92aWRlciBjb21wb25lbnRcbmV4cG9ydCBjb25zdCBBSUNvbmZpZ1Byb3ZpZGVyOiBSZWFjdC5GQzx7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfT4gPSAoeyBjaGlsZHJlbiB9KSA9PiB7XG4gIGNvbnN0IFthaUNvbmZpZywgc2V0QUlDb25maWddID0gdXNlU3RhdGU8QUlDb25maWc+KGRlZmF1bHRBSUNvbmZpZyk7XG5cbiAgLy8gTG9hZCBzZXR0aW5ncyBmcm9tIGxvY2FsU3RvcmFnZSBvbiBmaXJzdCByZW5kZXJcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3RvcmVkQ29uZmlnID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FpQ29uZmlnJyk7XG4gICAgICBpZiAoc3RvcmVkQ29uZmlnKSB7XG4gICAgICAgIHNldEFJQ29uZmlnKEpTT04ucGFyc2Uoc3RvcmVkQ29uZmlnKSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgQUkgY29uZmlnIGZyb20gbG9jYWxTdG9yYWdlOicsIGVycm9yKTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICAvLyBVcGRhdGUgQUkgY29uZmlnIGFuZCBzYXZlIHRvIGxvY2FsU3RvcmFnZVxuICBjb25zdCB1cGRhdGVBSUNvbmZpZyA9IChjb25maWc6IEFJQ29uZmlnKSA9PiB7XG4gICAgc2V0QUlDb25maWcoY29uZmlnKTtcbiAgICB0cnkge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2FpQ29uZmlnJywgSlNPTi5zdHJpbmdpZnkoY29uZmlnKSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBBSSBjb25maWcgdG8gbG9jYWxTdG9yYWdlOicsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8QUlDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt7IGFpQ29uZmlnLCB1cGRhdGVBSUNvbmZpZyB9fT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L0FJQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn07ICJdLCJuYW1lcyI6WyJSZWFjdCIsImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJkZWZhdWx0QUlDb25maWciLCJkZWZhdWx0TGFuZ3VhZ2UiLCJjdXN0b21JbnN0cnVjdGlvbnMiLCJtb2RlbCIsInRyYW5zbGF0ZUxhbmd1YWdlIiwiYXV0b1RyYW5zbGF0ZSIsIkFJQ29udGV4dCIsImFpQ29uZmlnIiwidXBkYXRlQUlDb25maWciLCJ1c2VBSUNvbmZpZyIsIkFJQ29uZmlnUHJvdmlkZXIiLCJjaGlsZHJlbiIsInNldEFJQ29uZmlnIiwic3RvcmVkQ29uZmlnIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIkpTT04iLCJwYXJzZSIsImVycm9yIiwiY29uc29sZSIsImNvbmZpZyIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJQcm92aWRlciIsInZhbHVlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/context.tsx\n");

/***/ }),

/***/ "(ssr)/./src/lib/hooks/useTranslate.ts":
/*!***************************************!*\
  !*** ./src/lib/hooks/useTranslate.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useTranslate: () => (/* binding */ useTranslate)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-i18next */ \"(ssr)/./node_modules/react-i18next/dist/es/index.js\");\n/* harmony import */ var _lib_translate__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/translate */ \"(ssr)/./src/lib/translate.ts\");\n/* harmony import */ var _lib_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/context */ \"(ssr)/./src/lib/context.tsx\");\n/* __next_internal_client_entry_do_not_use__ useTranslate auto */ \n\n\n\n// Cache untuk menyimpan terjemahan yang sudah pernah dilakukan\nconst translationCache = new Map();\nfunction useTranslate() {\n    const { t } = (0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.useTranslation)();\n    const [isTranslating, setIsTranslating] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [translationError, setTranslationError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const { aiConfig } = (0,_lib_context__WEBPACK_IMPORTED_MODULE_3__.useAIConfig)();\n    // Gunakan ref untuk menyimpan informasi request yang sedang aktif\n    const activeRequests = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({});\n    // Fungsi untuk membatalkan permintaan terjemahan yang sedang berlangsung\n    const cancelTranslation = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((messageId)=>{\n        if (activeRequests.current[messageId]) {\n            activeRequests.current[messageId].abort();\n            delete activeRequests.current[messageId];\n        }\n    }, []);\n    // Fungsi untuk menerjemahkan pesan\n    const translateMessage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (text, messageId, customLang)=>{\n        if (!text || text.trim() === \"\") {\n            return null;\n        }\n        // Gunakan ID pesan jika disediakan, atau gunakan teks sebagai ID\n        const id = messageId || text.substring(0, 20);\n        // Batalkan permintaan terjemahan sebelumnya untuk pesan yang sama\n        cancelTranslation(id);\n        // Gunakan bahasa target dari aiConfig atau bahasa kustom yang diberikan\n        const targetLang = customLang || aiConfig.translateLanguage || \"en\";\n        // Cek cache\n        const cacheKey = `${text}_${targetLang}`;\n        if (translationCache.has(cacheKey)) {\n            return translationCache.get(cacheKey);\n        }\n        try {\n            setIsTranslating(true);\n            setTranslationError(null);\n            // Buat controller baru untuk request ini\n            const controller = new AbortController();\n            activeRequests.current[id] = controller;\n            // Panggil API terjemahan dengan timeout\n            const signal = controller.signal;\n            const timeoutId = setTimeout(()=>controller.abort(), 15000); // 15 detik timeout\n            try {\n                // Menggunakan translateText yang dioptimalkan hanya dengan Lingva\n                const result = await (0,_lib_translate__WEBPACK_IMPORTED_MODULE_2__.translateText)(text, targetLang);\n                // Simpan di cache\n                translationCache.set(cacheKey, result);\n                // Bersihkan timeout dan controller\n                clearTimeout(timeoutId);\n                delete activeRequests.current[id];\n                return result;\n            } catch (error) {\n                if (error.name === \"AbortError\") {\n                    // Request timeout atau dibatalkan\n                    setTranslationError(\"Terjemahan dibatalkan atau timeout\");\n                    console.error(\"Translation aborted or timed out\");\n                    return null;\n                }\n                // Error lainnya\n                setTranslationError(\"Gagal menerjemahkan: \" + (error.message || \"Unknown error\"));\n                console.error(\"Translation error:\", error);\n                return null;\n            } finally{\n                // Bersihkan timeout\n                clearTimeout(timeoutId);\n            }\n        } catch (e) {\n            setTranslationError(\"Gagal memulai terjemahan\");\n            console.error(\"Error starting translation:\", e);\n            return null;\n        } finally{\n            setIsTranslating(false);\n            // Hapus controller dari daftar aktif\n            delete activeRequests.current[id];\n        }\n    }, [\n        aiConfig.translateLanguage,\n        cancelTranslation\n    ]);\n    // Fungsi untuk auto-translate semua pesan dalam array\n    const autoTranslateMessages = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (messages, targetLang)=>{\n        // Hanya jika fitur auto-translate diaktifkan\n        if (!aiConfig.autoTranslate) {\n            return {};\n        }\n        const translationResults = {};\n        // Gunakan Promise.all untuk terjemahan paralel yang efisien\n        try {\n            // Batasi jumlah permintaan paralel dengan proses batch\n            const batchSize = 3;\n            for(let i = 0; i < messages.length; i += batchSize){\n                const batch = messages.slice(i, i + batchSize);\n                const results = await Promise.allSettled(batch.map((msg)=>translateMessage(msg.text, msg.id, targetLang)));\n                // Proses hasil batch\n                results.forEach((result, index)=>{\n                    if (result.status === \"fulfilled\" && result.value) {\n                        translationResults[batch[index].id] = result.value;\n                    }\n                });\n                // Tunggu sebentar di antara batch untuk menghindari pembatasan API\n                if (i + batchSize < messages.length) {\n                    await new Promise((resolve)=>setTimeout(resolve, 800));\n                }\n            }\n        } catch (error) {\n            console.error(\"Error in auto-translate:\", error);\n        }\n        return translationResults;\n    }, [\n        aiConfig.autoTranslate,\n        translateMessage\n    ]);\n    return {\n        translateMessage,\n        autoTranslateMessages,\n        cancelTranslation,\n        isTranslating,\n        translationError\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvbGliL2hvb2tzL3VzZVRyYW5zbGF0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7a0VBRXNEO0FBQ1A7QUFDQztBQUNKO0FBRzVDLCtEQUErRDtBQUMvRCxNQUFNTSxtQkFBbUIsSUFBSUM7QUFFdEIsU0FBU0M7SUFDZCxNQUFNLEVBQUVDLENBQUMsRUFBRSxHQUFHTiw2REFBY0E7SUFDNUIsTUFBTSxDQUFDTyxlQUFlQyxpQkFBaUIsR0FBR1gsK0NBQVFBLENBQUM7SUFDbkQsTUFBTSxDQUFDWSxrQkFBa0JDLG9CQUFvQixHQUFHYiwrQ0FBUUEsQ0FBZ0I7SUFDeEUsTUFBTSxFQUFFYyxRQUFRLEVBQUUsR0FBR1QseURBQVdBO0lBRWhDLGtFQUFrRTtJQUNsRSxNQUFNVSxpQkFBaUJiLDZDQUFNQSxDQUFrQyxDQUFDO0lBRWhFLHlFQUF5RTtJQUN6RSxNQUFNYyxvQkFBb0JmLGtEQUFXQSxDQUFDLENBQUNnQjtRQUNyQyxJQUFJRixlQUFlRyxPQUFPLENBQUNELFVBQVUsRUFBRTtZQUNyQ0YsZUFBZUcsT0FBTyxDQUFDRCxVQUFVLENBQUNFLEtBQUs7WUFDdkMsT0FBT0osZUFBZUcsT0FBTyxDQUFDRCxVQUFVO1FBQzFDO0lBQ0YsR0FBRyxFQUFFO0lBRUwsbUNBQW1DO0lBQ25DLE1BQU1HLG1CQUFtQm5CLGtEQUFXQSxDQUFDLE9BQ25Db0IsTUFDQUosV0FDQUs7UUFFQSxJQUFJLENBQUNELFFBQVFBLEtBQUtFLElBQUksT0FBTyxJQUFJO1lBQy9CLE9BQU87UUFDVDtRQUVBLGlFQUFpRTtRQUNqRSxNQUFNQyxLQUFLUCxhQUFhSSxLQUFLSSxTQUFTLENBQUMsR0FBRztRQUUxQyxrRUFBa0U7UUFDbEVULGtCQUFrQlE7UUFFbEIsd0VBQXdFO1FBQ3hFLE1BQU1FLGFBQWFKLGNBQWNSLFNBQVNhLGlCQUFpQixJQUFJO1FBRS9ELFlBQVk7UUFDWixNQUFNQyxXQUFXLENBQUMsRUFBRVAsS0FBSyxDQUFDLEVBQUVLLFdBQVcsQ0FBQztRQUN4QyxJQUFJcEIsaUJBQWlCdUIsR0FBRyxDQUFDRCxXQUFXO1lBQ2xDLE9BQU90QixpQkFBaUJ3QixHQUFHLENBQUNGO1FBQzlCO1FBRUEsSUFBSTtZQUNGakIsaUJBQWlCO1lBQ2pCRSxvQkFBb0I7WUFFcEIseUNBQXlDO1lBQ3pDLE1BQU1rQixhQUFhLElBQUlDO1lBQ3ZCakIsZUFBZUcsT0FBTyxDQUFDTSxHQUFHLEdBQUdPO1lBRTdCLHdDQUF3QztZQUN4QyxNQUFNRSxTQUFTRixXQUFXRSxNQUFNO1lBQ2hDLE1BQU1DLFlBQVlDLFdBQVcsSUFBTUosV0FBV1osS0FBSyxJQUFJLFFBQVEsbUJBQW1CO1lBRWxGLElBQUk7Z0JBQ0Ysa0VBQWtFO2dCQUNsRSxNQUFNaUIsU0FBUyxNQUFNaEMsNkRBQWFBLENBQUNpQixNQUFNSztnQkFFekMsa0JBQWtCO2dCQUNsQnBCLGlCQUFpQitCLEdBQUcsQ0FBQ1QsVUFBVVE7Z0JBRS9CLG1DQUFtQztnQkFDbkNFLGFBQWFKO2dCQUNiLE9BQU9uQixlQUFlRyxPQUFPLENBQUNNLEdBQUc7Z0JBRWpDLE9BQU9ZO1lBQ1QsRUFBRSxPQUFPRyxPQUFZO2dCQUNuQixJQUFJQSxNQUFNQyxJQUFJLEtBQUssY0FBYztvQkFDL0Isa0NBQWtDO29CQUNsQzNCLG9CQUFvQjtvQkFDcEI0QixRQUFRRixLQUFLLENBQUM7b0JBQ2QsT0FBTztnQkFDVDtnQkFFQSxnQkFBZ0I7Z0JBQ2hCMUIsb0JBQW9CLDBCQUEyQjBCLENBQUFBLE1BQU1HLE9BQU8sSUFBSSxlQUFjO2dCQUM5RUQsUUFBUUYsS0FBSyxDQUFDLHNCQUFzQkE7Z0JBQ3BDLE9BQU87WUFDVCxTQUFVO2dCQUNSLG9CQUFvQjtnQkFDcEJELGFBQWFKO1lBQ2Y7UUFDRixFQUFFLE9BQU9TLEdBQUc7WUFDVjlCLG9CQUFvQjtZQUNwQjRCLFFBQVFGLEtBQUssQ0FBQywrQkFBK0JJO1lBQzdDLE9BQU87UUFDVCxTQUFVO1lBQ1JoQyxpQkFBaUI7WUFDakIscUNBQXFDO1lBQ3JDLE9BQU9JLGVBQWVHLE9BQU8sQ0FBQ00sR0FBRztRQUNuQztJQUNGLEdBQUc7UUFBQ1YsU0FBU2EsaUJBQWlCO1FBQUVYO0tBQWtCO0lBRWxELHNEQUFzRDtJQUN0RCxNQUFNNEIsd0JBQXdCM0Msa0RBQVdBLENBQUMsT0FDeEM0QyxVQUNBbkI7UUFFQSw2Q0FBNkM7UUFDN0MsSUFBSSxDQUFDWixTQUFTZ0MsYUFBYSxFQUFFO1lBQzNCLE9BQU8sQ0FBQztRQUNWO1FBRUEsTUFBTUMscUJBQXdELENBQUM7UUFFL0QsNERBQTREO1FBQzVELElBQUk7WUFDRix1REFBdUQ7WUFDdkQsTUFBTUMsWUFBWTtZQUNsQixJQUFLLElBQUlDLElBQUksR0FBR0EsSUFBSUosU0FBU0ssTUFBTSxFQUFFRCxLQUFLRCxVQUFXO2dCQUNuRCxNQUFNRyxRQUFRTixTQUFTTyxLQUFLLENBQUNILEdBQUdBLElBQUlEO2dCQUVwQyxNQUFNSyxVQUFVLE1BQU1DLFFBQVFDLFVBQVUsQ0FDdENKLE1BQU1LLEdBQUcsQ0FBQ0MsQ0FBQUEsTUFBT3JDLGlCQUFpQnFDLElBQUlwQyxJQUFJLEVBQUVvQyxJQUFJakMsRUFBRSxFQUFFRTtnQkFHdEQscUJBQXFCO2dCQUNyQjJCLFFBQVFLLE9BQU8sQ0FBQyxDQUFDdEIsUUFBUXVCO29CQUN2QixJQUFJdkIsT0FBT3dCLE1BQU0sS0FBSyxlQUFleEIsT0FBT3lCLEtBQUssRUFBRTt3QkFDakRkLGtCQUFrQixDQUFDSSxLQUFLLENBQUNRLE1BQU0sQ0FBQ25DLEVBQUUsQ0FBQyxHQUFHWSxPQUFPeUIsS0FBSztvQkFDcEQ7Z0JBQ0Y7Z0JBRUEsbUVBQW1FO2dCQUNuRSxJQUFJWixJQUFJRCxZQUFZSCxTQUFTSyxNQUFNLEVBQUU7b0JBQ25DLE1BQU0sSUFBSUksUUFBUVEsQ0FBQUEsVUFBVzNCLFdBQVcyQixTQUFTO2dCQUNuRDtZQUNGO1FBQ0YsRUFBRSxPQUFPdkIsT0FBTztZQUNkRSxRQUFRRixLQUFLLENBQUMsNEJBQTRCQTtRQUM1QztRQUVBLE9BQU9RO0lBQ1QsR0FBRztRQUFDakMsU0FBU2dDLGFBQWE7UUFBRTFCO0tBQWlCO0lBRTdDLE9BQU87UUFDTEE7UUFDQXdCO1FBQ0E1QjtRQUNBTjtRQUNBRTtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oYWxsby8uL3NyYy9saWIvaG9va3MvdXNlVHJhbnNsYXRlLnRzP2I5N2UiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xyXG5cclxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAncmVhY3QtaTE4bmV4dCc7XHJcbmltcG9ydCB7IHRyYW5zbGF0ZVRleHQgfSBmcm9tICdAL2xpYi90cmFuc2xhdGUnO1xyXG5pbXBvcnQgeyB1c2VBSUNvbmZpZyB9IGZyb20gJ0AvbGliL2NvbnRleHQnO1xyXG5pbXBvcnQgeyBUcmFuc2xhdGlvblJlc3VsdCB9IGZyb20gJ0AvbGliL3R5cGVzJztcclxuXHJcbi8vIENhY2hlIHVudHVrIG1lbnlpbXBhbiB0ZXJqZW1haGFuIHlhbmcgc3VkYWggcGVybmFoIGRpbGFrdWthblxyXG5jb25zdCB0cmFuc2xhdGlvbkNhY2hlID0gbmV3IE1hcDxzdHJpbmcsIFRyYW5zbGF0aW9uUmVzdWx0PigpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVzZVRyYW5zbGF0ZSgpIHtcclxuICBjb25zdCB7IHQgfSA9IHVzZVRyYW5zbGF0aW9uKCk7XHJcbiAgY29uc3QgW2lzVHJhbnNsYXRpbmcsIHNldElzVHJhbnNsYXRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFt0cmFuc2xhdGlvbkVycm9yLCBzZXRUcmFuc2xhdGlvbkVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IHsgYWlDb25maWcgfSA9IHVzZUFJQ29uZmlnKCk7XHJcbiAgXHJcbiAgLy8gR3VuYWthbiByZWYgdW50dWsgbWVueWltcGFuIGluZm9ybWFzaSByZXF1ZXN0IHlhbmcgc2VkYW5nIGFrdGlmXHJcbiAgY29uc3QgYWN0aXZlUmVxdWVzdHMgPSB1c2VSZWY8UmVjb3JkPHN0cmluZywgQWJvcnRDb250cm9sbGVyPj4oe30pO1xyXG4gIFxyXG4gIC8vIEZ1bmdzaSB1bnR1ayBtZW1iYXRhbGthbiBwZXJtaW50YWFuIHRlcmplbWFoYW4geWFuZyBzZWRhbmcgYmVybGFuZ3N1bmdcclxuICBjb25zdCBjYW5jZWxUcmFuc2xhdGlvbiA9IHVzZUNhbGxiYWNrKChtZXNzYWdlSWQ6IHN0cmluZykgPT4ge1xyXG4gICAgaWYgKGFjdGl2ZVJlcXVlc3RzLmN1cnJlbnRbbWVzc2FnZUlkXSkge1xyXG4gICAgICBhY3RpdmVSZXF1ZXN0cy5jdXJyZW50W21lc3NhZ2VJZF0uYWJvcnQoKTtcclxuICAgICAgZGVsZXRlIGFjdGl2ZVJlcXVlc3RzLmN1cnJlbnRbbWVzc2FnZUlkXTtcclxuICAgIH1cclxuICB9LCBbXSk7XHJcbiAgXHJcbiAgLy8gRnVuZ3NpIHVudHVrIG1lbmVyamVtYWhrYW4gcGVzYW5cclxuICBjb25zdCB0cmFuc2xhdGVNZXNzYWdlID0gdXNlQ2FsbGJhY2soYXN5bmMgKFxyXG4gICAgdGV4dDogc3RyaW5nLFxyXG4gICAgbWVzc2FnZUlkPzogc3RyaW5nLFxyXG4gICAgY3VzdG9tTGFuZz86IHN0cmluZ1xyXG4gICk6IFByb21pc2U8VHJhbnNsYXRpb25SZXN1bHQgfCBudWxsPiA9PiB7XHJcbiAgICBpZiAoIXRleHQgfHwgdGV4dC50cmltKCkgPT09ICcnKSB7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBHdW5ha2FuIElEIHBlc2FuIGppa2EgZGlzZWRpYWthbiwgYXRhdSBndW5ha2FuIHRla3Mgc2ViYWdhaSBJRFxyXG4gICAgY29uc3QgaWQgPSBtZXNzYWdlSWQgfHwgdGV4dC5zdWJzdHJpbmcoMCwgMjApO1xyXG4gICAgXHJcbiAgICAvLyBCYXRhbGthbiBwZXJtaW50YWFuIHRlcmplbWFoYW4gc2ViZWx1bW55YSB1bnR1ayBwZXNhbiB5YW5nIHNhbWFcclxuICAgIGNhbmNlbFRyYW5zbGF0aW9uKGlkKTtcclxuICAgIFxyXG4gICAgLy8gR3VuYWthbiBiYWhhc2EgdGFyZ2V0IGRhcmkgYWlDb25maWcgYXRhdSBiYWhhc2Ega3VzdG9tIHlhbmcgZGliZXJpa2FuXHJcbiAgICBjb25zdCB0YXJnZXRMYW5nID0gY3VzdG9tTGFuZyB8fCBhaUNvbmZpZy50cmFuc2xhdGVMYW5ndWFnZSB8fCAnZW4nO1xyXG4gICAgXHJcbiAgICAvLyBDZWsgY2FjaGVcclxuICAgIGNvbnN0IGNhY2hlS2V5ID0gYCR7dGV4dH1fJHt0YXJnZXRMYW5nfWA7XHJcbiAgICBpZiAodHJhbnNsYXRpb25DYWNoZS5oYXMoY2FjaGVLZXkpKSB7XHJcbiAgICAgIHJldHVybiB0cmFuc2xhdGlvbkNhY2hlLmdldChjYWNoZUtleSkhO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICBzZXRJc1RyYW5zbGF0aW5nKHRydWUpO1xyXG4gICAgICBzZXRUcmFuc2xhdGlvbkVycm9yKG51bGwpO1xyXG4gICAgICBcclxuICAgICAgLy8gQnVhdCBjb250cm9sbGVyIGJhcnUgdW50dWsgcmVxdWVzdCBpbmlcclxuICAgICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcclxuICAgICAgYWN0aXZlUmVxdWVzdHMuY3VycmVudFtpZF0gPSBjb250cm9sbGVyO1xyXG4gICAgICBcclxuICAgICAgLy8gUGFuZ2dpbCBBUEkgdGVyamVtYWhhbiBkZW5nYW4gdGltZW91dFxyXG4gICAgICBjb25zdCBzaWduYWwgPSBjb250cm9sbGVyLnNpZ25hbDtcclxuICAgICAgY29uc3QgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiBjb250cm9sbGVyLmFib3J0KCksIDE1MDAwKTsgLy8gMTUgZGV0aWsgdGltZW91dFxyXG4gICAgICBcclxuICAgICAgdHJ5IHtcclxuICAgICAgICAvLyBNZW5nZ3VuYWthbiB0cmFuc2xhdGVUZXh0IHlhbmcgZGlvcHRpbWFsa2FuIGhhbnlhIGRlbmdhbiBMaW5ndmFcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0cmFuc2xhdGVUZXh0KHRleHQsIHRhcmdldExhbmcpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFNpbXBhbiBkaSBjYWNoZVxyXG4gICAgICAgIHRyYW5zbGF0aW9uQ2FjaGUuc2V0KGNhY2hlS2V5LCByZXN1bHQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEJlcnNpaGthbiB0aW1lb3V0IGRhbiBjb250cm9sbGVyXHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XHJcbiAgICAgICAgZGVsZXRlIGFjdGl2ZVJlcXVlc3RzLmN1cnJlbnRbaWRdO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgICAgICBpZiAoZXJyb3IubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSB7XHJcbiAgICAgICAgICAvLyBSZXF1ZXN0IHRpbWVvdXQgYXRhdSBkaWJhdGFsa2FuXHJcbiAgICAgICAgICBzZXRUcmFuc2xhdGlvbkVycm9yKCdUZXJqZW1haGFuIGRpYmF0YWxrYW4gYXRhdSB0aW1lb3V0Jyk7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdUcmFuc2xhdGlvbiBhYm9ydGVkIG9yIHRpbWVkIG91dCcpO1xyXG4gICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEVycm9yIGxhaW5ueWFcclxuICAgICAgICBzZXRUcmFuc2xhdGlvbkVycm9yKCdHYWdhbCBtZW5lcmplbWFoa2FuOiAnICsgKGVycm9yLm1lc3NhZ2UgfHwgJ1Vua25vd24gZXJyb3InKSk7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignVHJhbnNsYXRpb24gZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgIC8vIEJlcnNpaGthbiB0aW1lb3V0XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgc2V0VHJhbnNsYXRpb25FcnJvcignR2FnYWwgbWVtdWxhaSB0ZXJqZW1haGFuJyk7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN0YXJ0aW5nIHRyYW5zbGF0aW9uOicsIGUpO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldElzVHJhbnNsYXRpbmcoZmFsc2UpO1xyXG4gICAgICAvLyBIYXB1cyBjb250cm9sbGVyIGRhcmkgZGFmdGFyIGFrdGlmXHJcbiAgICAgIGRlbGV0ZSBhY3RpdmVSZXF1ZXN0cy5jdXJyZW50W2lkXTtcclxuICAgIH1cclxuICB9LCBbYWlDb25maWcudHJhbnNsYXRlTGFuZ3VhZ2UsIGNhbmNlbFRyYW5zbGF0aW9uXSk7XHJcbiAgXHJcbiAgLy8gRnVuZ3NpIHVudHVrIGF1dG8tdHJhbnNsYXRlIHNlbXVhIHBlc2FuIGRhbGFtIGFycmF5XHJcbiAgY29uc3QgYXV0b1RyYW5zbGF0ZU1lc3NhZ2VzID0gdXNlQ2FsbGJhY2soYXN5bmMgKFxyXG4gICAgbWVzc2FnZXM6IEFycmF5PHtpZDogc3RyaW5nLCB0ZXh0OiBzdHJpbmd9PixcclxuICAgIHRhcmdldExhbmc6IHN0cmluZ1xyXG4gICkgPT4ge1xyXG4gICAgLy8gSGFueWEgamlrYSBmaXR1ciBhdXRvLXRyYW5zbGF0ZSBkaWFrdGlma2FuXHJcbiAgICBpZiAoIWFpQ29uZmlnLmF1dG9UcmFuc2xhdGUpIHtcclxuICAgICAgcmV0dXJuIHt9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCB0cmFuc2xhdGlvblJlc3VsdHM6IFJlY29yZDxzdHJpbmcsIFRyYW5zbGF0aW9uUmVzdWx0PiA9IHt9O1xyXG4gICAgXHJcbiAgICAvLyBHdW5ha2FuIFByb21pc2UuYWxsIHVudHVrIHRlcmplbWFoYW4gcGFyYWxlbCB5YW5nIGVmaXNpZW5cclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIEJhdGFzaSBqdW1sYWggcGVybWludGFhbiBwYXJhbGVsIGRlbmdhbiBwcm9zZXMgYmF0Y2hcclxuICAgICAgY29uc3QgYmF0Y2hTaXplID0gMztcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZXNzYWdlcy5sZW5ndGg7IGkgKz0gYmF0Y2hTaXplKSB7XHJcbiAgICAgICAgY29uc3QgYmF0Y2ggPSBtZXNzYWdlcy5zbGljZShpLCBpICsgYmF0Y2hTaXplKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKFxyXG4gICAgICAgICAgYmF0Y2gubWFwKG1zZyA9PiB0cmFuc2xhdGVNZXNzYWdlKG1zZy50ZXh0LCBtc2cuaWQsIHRhcmdldExhbmcpKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gUHJvc2VzIGhhc2lsIGJhdGNoXHJcbiAgICAgICAgcmVzdWx0cy5mb3JFYWNoKChyZXN1bHQsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcgJiYgcmVzdWx0LnZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uUmVzdWx0c1tiYXRjaFtpbmRleF0uaWRdID0gcmVzdWx0LnZhbHVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFR1bmdndSBzZWJlbnRhciBkaSBhbnRhcmEgYmF0Y2ggdW50dWsgbWVuZ2hpbmRhcmkgcGVtYmF0YXNhbiBBUElcclxuICAgICAgICBpZiAoaSArIGJhdGNoU2l6ZSA8IG1lc3NhZ2VzLmxlbmd0aCkge1xyXG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDgwMCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gYXV0by10cmFuc2xhdGU6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gdHJhbnNsYXRpb25SZXN1bHRzO1xyXG4gIH0sIFthaUNvbmZpZy5hdXRvVHJhbnNsYXRlLCB0cmFuc2xhdGVNZXNzYWdlXSk7XHJcbiAgXHJcbiAgcmV0dXJuIHtcclxuICAgIHRyYW5zbGF0ZU1lc3NhZ2UsXHJcbiAgICBhdXRvVHJhbnNsYXRlTWVzc2FnZXMsXHJcbiAgICBjYW5jZWxUcmFuc2xhdGlvbixcclxuICAgIGlzVHJhbnNsYXRpbmcsXHJcbiAgICB0cmFuc2xhdGlvbkVycm9yLFxyXG4gIH07XHJcbn0gIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJ1c2VSZWYiLCJ1c2VUcmFuc2xhdGlvbiIsInRyYW5zbGF0ZVRleHQiLCJ1c2VBSUNvbmZpZyIsInRyYW5zbGF0aW9uQ2FjaGUiLCJNYXAiLCJ1c2VUcmFuc2xhdGUiLCJ0IiwiaXNUcmFuc2xhdGluZyIsInNldElzVHJhbnNsYXRpbmciLCJ0cmFuc2xhdGlvbkVycm9yIiwic2V0VHJhbnNsYXRpb25FcnJvciIsImFpQ29uZmlnIiwiYWN0aXZlUmVxdWVzdHMiLCJjYW5jZWxUcmFuc2xhdGlvbiIsIm1lc3NhZ2VJZCIsImN1cnJlbnQiLCJhYm9ydCIsInRyYW5zbGF0ZU1lc3NhZ2UiLCJ0ZXh0IiwiY3VzdG9tTGFuZyIsInRyaW0iLCJpZCIsInN1YnN0cmluZyIsInRhcmdldExhbmciLCJ0cmFuc2xhdGVMYW5ndWFnZSIsImNhY2hlS2V5IiwiaGFzIiwiZ2V0IiwiY29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsInNpZ25hbCIsInRpbWVvdXRJZCIsInNldFRpbWVvdXQiLCJyZXN1bHQiLCJzZXQiLCJjbGVhclRpbWVvdXQiLCJlcnJvciIsIm5hbWUiLCJjb25zb2xlIiwibWVzc2FnZSIsImUiLCJhdXRvVHJhbnNsYXRlTWVzc2FnZXMiLCJtZXNzYWdlcyIsImF1dG9UcmFuc2xhdGUiLCJ0cmFuc2xhdGlvblJlc3VsdHMiLCJiYXRjaFNpemUiLCJpIiwibGVuZ3RoIiwiYmF0Y2giLCJzbGljZSIsInJlc3VsdHMiLCJQcm9taXNlIiwiYWxsU2V0dGxlZCIsIm1hcCIsIm1zZyIsImZvckVhY2giLCJpbmRleCIsInN0YXR1cyIsInZhbHVlIiwicmVzb2x2ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/hooks/useTranslate.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/i18n.ts":
/*!*************************!*\
  !*** ./src/lib/i18n.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   translateClientSide: () => (/* binding */ translateClientSide)\n/* harmony export */ });\n/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! i18next */ \"(ssr)/./node_modules/i18next/dist/esm/i18next.js\");\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-i18next */ \"(ssr)/./node_modules/react-i18next/dist/es/index.js\");\n\n\n// Inisialisasi i18next untuk client-side translation\n// Ini dapat digunakan sebagai fallback jika API terjemahan gagal\ni18next__WEBPACK_IMPORTED_MODULE_0__[\"default\"].use(react_i18next__WEBPACK_IMPORTED_MODULE_1__.initReactI18next).init({\n    resources: {\n        // Indonesia (bahasa default)\n        id: {\n            translation: {\n                // Umum\n                \"welcome\": \"Selamat datang\",\n                \"hello\": \"Halo\",\n                \"selectLanguage\": \"Pilih bahasa\",\n                \"loading\": \"Memuat...\",\n                \"error\": \"Terjadi kesalahan\",\n                \"retry\": \"Coba lagi\",\n                \"save\": \"Simpan\",\n                \"cancel\": \"Batal\",\n                \"delete\": \"Hapus\",\n                \"edit\": \"Edit\",\n                \"send\": \"Kirim\",\n                \"search\": \"Cari\",\n                // Aplikasi\n                \"newChat\": \"Chat Baru\",\n                \"settings\": \"Pengaturan\",\n                \"translate\": \"Terjemahkan\",\n                \"copyToClipboard\": \"Salin ke clipboard\",\n                \"typeYourMessage\": \"Ketik pesan Anda...\",\n                // Pesan status\n                \"messageSent\": \"Pesan terkirim\",\n                \"messageDelivered\": \"Pesan tersampaikan\",\n                \"messageRead\": \"Pesan dibaca\"\n            }\n        },\n        // English\n        en: {\n            translation: {\n                // General\n                \"welcome\": \"Welcome\",\n                \"hello\": \"Hello\",\n                \"selectLanguage\": \"Select language\",\n                \"loading\": \"Loading...\",\n                \"error\": \"An error occurred\",\n                \"retry\": \"Retry\",\n                \"save\": \"Save\",\n                \"cancel\": \"Cancel\",\n                \"delete\": \"Delete\",\n                \"edit\": \"Edit\",\n                \"send\": \"Send\",\n                \"search\": \"Search\",\n                // Application\n                \"newChat\": \"New Chat\",\n                \"settings\": \"Settings\",\n                \"translate\": \"Translate\",\n                \"copyToClipboard\": \"Copy to clipboard\",\n                \"typeYourMessage\": \"Type your message...\",\n                // Status messages\n                \"messageSent\": \"Message sent\",\n                \"messageDelivered\": \"Message delivered\",\n                \"messageRead\": \"Message read\"\n            }\n        },\n        // Jawa\n        jw: {\n            translation: {\n                // Umum\n                \"welcome\": \"Sugeng rawuh\",\n                \"hello\": \"Halo\",\n                \"selectLanguage\": \"Pilih basa\",\n                \"loading\": \"Ngenteni...\",\n                \"error\": \"Ana kesalahan\",\n                \"retry\": \"Coba maneh\",\n                \"save\": \"Simpen\",\n                \"cancel\": \"Batal\",\n                \"delete\": \"Busak\",\n                \"edit\": \"Owahi\",\n                \"send\": \"Kirim\",\n                \"search\": \"Golek\",\n                // Aplikasi\n                \"newChat\": \"Obrolan Anyar\",\n                \"settings\": \"Setelan\",\n                \"translate\": \"Terjemahke\",\n                \"copyToClipboard\": \"Salin kanggo clipboard\",\n                \"typeYourMessage\": \"Ketik pesen sampeyan...\",\n                // Pesan status\n                \"messageSent\": \"Pesen dikirim\",\n                \"messageDelivered\": \"Pesen ditompo\",\n                \"messageRead\": \"Pesen diwoco\"\n            }\n        }\n    },\n    fallbackLng: \"id\",\n    debug: \"development\" === \"development\",\n    interpolation: {\n        escapeValue: false\n    }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (i18next__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n// Kamus kecil untuk kata-kata umum\nconst simpleDictionary = {\n    // Indonesia -> English\n    id: {\n        en: {\n            \"selamat\": \"welcome\",\n            \"pagi\": \"morning\",\n            \"siang\": \"afternoon\",\n            \"malam\": \"evening/night\",\n            \"halo\": \"hello\",\n            \"hai\": \"hi\",\n            \"terima\": \"thank\",\n            \"kasih\": \"you\",\n            \"bagaimana\": \"how\",\n            \"kabar\": \"news/condition\",\n            \"baik\": \"good\",\n            \"buruk\": \"bad\",\n            \"apa\": \"what\",\n            \"siapa\": \"who\",\n            \"kapan\": \"when\",\n            \"dimana\": \"where\",\n            \"mengapa\": \"why\",\n            \"saya\": \"I/me\",\n            \"kamu\": \"you\",\n            \"dia\": \"he/she\",\n            \"mereka\": \"they\",\n            \"kami\": \"we\",\n            \"kita\": \"we (inclusive)\",\n            \"dan\": \"and\",\n            \"atau\": \"or\",\n            \"tapi\": \"but\",\n            \"jika\": \"if\",\n            \"maka\": \"then\",\n            \"tidak\": \"no/not\",\n            \"ya\": \"yes\",\n            \"benar\": \"correct/true\",\n            \"salah\": \"wrong/false\",\n            \"sudah\": \"already\",\n            \"belum\": \"not yet\",\n            \"akan\": \"will\",\n            \"sedang\": \"currently\",\n            \"telah\": \"have\",\n            \"bisa\": \"can\",\n            \"tolong\": \"please/help\",\n            \"maaf\": \"sorry\",\n            \"permisi\": \"excuse me\",\n            \"sampai\": \"until\",\n            \"jumpa\": \"meet\",\n            \"senang\": \"happy\",\n            \"sedih\": \"sad\",\n            \"marah\": \"angry\",\n            \"takut\": \"afraid\",\n            \"cinta\": \"love\",\n            \"benci\": \"hate\"\n        },\n        // Indonesia -> Jawa\n        jw: {\n            \"selamat\": \"sugeng\",\n            \"pagi\": \"enjing\",\n            \"siang\": \"siang\",\n            \"malam\": \"dalu\",\n            \"halo\": \"halo\",\n            \"terima\": \"matur\",\n            \"kasih\": \"nuwun\",\n            \"bagaimana\": \"pripun\",\n            \"kabar\": \"kabar\",\n            \"baik\": \"sae/becik\",\n            \"buruk\": \"awon\",\n            \"apa\": \"menapa\",\n            \"siapa\": \"sinten\",\n            \"kapan\": \"kapan\",\n            \"dimana\": \"wonten pundi\",\n            \"mengapa\": \"kenging menapa\",\n            \"saya\": \"kula\",\n            \"kamu\": \"sampeyan\",\n            \"dia\": \"piyambakipun\",\n            \"mereka\": \"piyambakipun sedaya\",\n            \"kami\": \"kita sedaya\",\n            \"kita\": \"kita sedaya\",\n            \"dan\": \"lan\",\n            \"atau\": \"utawi\",\n            \"tapi\": \"nanging\",\n            \"jika\": \"menawi\",\n            \"maka\": \"mangka\",\n            \"tidak\": \"boten\",\n            \"ya\": \"nggih\",\n            \"benar\": \"leres\",\n            \"salah\": \"lepat\",\n            \"sudah\": \"sampun\",\n            \"belum\": \"dereng\",\n            \"akan\": \"badhe\",\n            \"sedang\": \"saweg\",\n            \"telah\": \"sampun\",\n            \"bisa\": \"saged\",\n            \"tolong\": \"tulung\",\n            \"maaf\": \"nyuwun pangapunten\",\n            \"permisi\": \"nuwun sewu\",\n            \"sampai\": \"ngantos\",\n            \"jumpa\": \"panggih\",\n            \"senang\": \"seneng\",\n            \"sedih\": \"sedhih\",\n            \"marah\": \"duka\",\n            \"takut\": \"ajrih\",\n            \"cinta\": \"tresna\",\n            \"benci\": \"sengit\"\n        }\n    }\n};\n// Fungsi untuk menerjemahkan kata per kata dengan simple dictionary\nconst translateWordByWord = (text, sourceLang, targetLang)=>{\n    // Hanya mendukung dari bahasa Indonesia untuk saat ini\n    if (sourceLang !== \"id\") return text;\n    // Pastikan dict untuk bahasa target tersedia\n    if (!simpleDictionary[sourceLang]?.[targetLang]) return text;\n    const dict = simpleDictionary[sourceLang][targetLang];\n    // Memisahkan teks menjadi kata-kata\n    const words = text.toLowerCase().split(/\\s+/);\n    // Terjemahkan setiap kata jika ada di kamus\n    const translatedWords = words.map((word)=>{\n        // Bersihkan kata dari tanda baca\n        const cleanWord = word.replace(/[.,?!;:()]/g, \"\");\n        // Cari terjemahan\n        const translation = dict[cleanWord];\n        // Jika ada terjemahan, gunakan. Jika tidak, gunakan kata asli\n        return translation || word;\n    });\n    return translatedWords.join(\" \");\n};\n// Fungsi alternatif menggunakan Lingva Translate (tidak perlu API key dan lebih stabil)\nconst translateWithLingva = async (text, targetLang, sourceLang = \"id\")=>{\n    try {\n        // Lingva instances dan alternatif lain yang sejenis\n        const alternateInstances = [\n            \"https://lingva.ml\",\n            \"https://lingva.pussthecat.org\",\n            \"https://translate.argosopentech.com\"\n        ];\n        // Coba beberapa instance secara berurutan jika gagal\n        let lastError = null;\n        for (const instance of alternateInstances){\n            try {\n                console.log(`Mencoba Lingva instance: ${instance}`);\n                // Coba gunakan API Lingva\n                const isLingvaInstance = instance.includes(\"lingva\");\n                if (isLingvaInstance) {\n                    const url = `${instance}/api/v1/${sourceLang}/${targetLang}/${encodeURIComponent(text)}`;\n                    const response = await fetch(url, {\n                        method: \"GET\",\n                        headers: {\n                            \"Accept\": \"application/json\"\n                        },\n                        // Timeout 8 detik\n                        signal: AbortSignal.timeout(8000)\n                    });\n                    if (!response.ok) {\n                        throw new Error(`Lingva API error: ${response.status}`);\n                    }\n                    const data = await response.json();\n                    if (data && data.translation) {\n                        return data.translation;\n                    }\n                    throw new Error(\"Invalid response from Lingva\");\n                } else {\n                    // Jika bukan Lingva instance, coba gunakan sebagai proxy translator\n                    const url = `${instance}/api/translate`;\n                    const response = await fetch(url, {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify({\n                            q: text,\n                            source: sourceLang,\n                            target: targetLang\n                        }),\n                        signal: AbortSignal.timeout(8000)\n                    });\n                    if (!response.ok) {\n                        throw new Error(`Translation API error: ${response.status}`);\n                    }\n                    const data = await response.json();\n                    if (data && (data.translation || data.translatedText)) {\n                        return data.translation || data.translatedText;\n                    }\n                    throw new Error(\"Invalid response from translation API\");\n                }\n            } catch (instanceError) {\n                console.warn(`Error with translation instance ${instance}:`, instanceError);\n                lastError = instanceError;\n                continue;\n            }\n        }\n        // Jika semua instance gagal\n        throw lastError || new Error(\"All translation services failed\");\n    } catch (error) {\n        console.error(\"Error calling translation services from client:\", error);\n        throw error;\n    }\n};\n// Alternatif lain: Simulasi terjemahan sederhana dengan kamus statis\nconst translateWithDictionary = (text, targetLang)=>{\n    // Ini hanya contoh sederhana\n    if (targetLang === \"en\") {\n        // Kamus sederhana Indonesia ke Inggris\n        const dictIdEn = {\n            \"halo\": \"hello\",\n            \"selamat\": \"congratulations\",\n            \"pagi\": \"morning\",\n            \"siang\": \"afternoon\",\n            \"malam\": \"evening/night\",\n            \"terima kasih\": \"thank you\",\n            \"bagaimana kabarmu\": \"how are you\",\n            \"baik\": \"good\",\n            \"ya\": \"yes\",\n            \"tidak\": \"no\",\n            \"tolong\": \"please\",\n            \"maaf\": \"sorry\",\n            \"saya\": \"I\",\n            \"kamu\": \"you\"\n        };\n        return text.split(\" \").map((word)=>{\n            const lowerWord = word.toLowerCase().replace(/[.,!?;:]/, \"\");\n            return dictIdEn[lowerWord] || word;\n        }).join(\" \");\n    } else if (targetLang === \"id\") {\n        // Kamus sederhana Inggris ke Indonesia\n        const dictEnId = {\n            \"hello\": \"halo\",\n            \"hi\": \"hai\",\n            \"good\": \"baik\",\n            \"morning\": \"pagi\",\n            \"afternoon\": \"siang\",\n            \"evening\": \"malam\",\n            \"night\": \"malam\",\n            \"thank you\": \"terima kasih\",\n            \"how are you\": \"bagaimana kabarmu\",\n            \"yes\": \"ya\",\n            \"no\": \"tidak\",\n            \"please\": \"tolong\",\n            \"sorry\": \"maaf\",\n            \"i\": \"saya\",\n            \"you\": \"kamu\"\n        };\n        return text.split(\" \").map((word)=>{\n            const lowerWord = word.toLowerCase().replace(/[.,!?;:]/, \"\");\n            return dictEnId[lowerWord] || word;\n        }).join(\" \");\n    }\n    // Default: kembalikan teks asli dengan label\n    return `[${targetLang.toUpperCase()}] ${text}`;\n};\n// Fungsi untuk menerjemahkan teks secara client-side\nconst translateClientSide = async (text, targetLang = \"en\")=>{\n    // Deteksi bahasa (anggap selalu Bahasa Indonesia untuk sederhananya)\n    const detectedLang = \"id\";\n    try {\n        // Strategi 1: Coba terjemahkan menggunakan kamus statis i18next\n        const keys = Object.keys(i18next__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getDataByLanguage(\"id\")?.translation || {});\n        const matchedKey = keys.find((key)=>i18next__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getDataByLanguage(\"id\")?.translation?.[key] === text);\n        if (matchedKey) {\n            // Jika ditemukan, ambil terjemahan dari bahasa target\n            const translatedText = i18next__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getDataByLanguage(targetLang)?.translation?.[matchedKey];\n            if (translatedText) {\n                return {\n                    originalText: text,\n                    translatedText,\n                    detectedLanguage: detectedLang,\n                    sourceLang: detectedLang,\n                    targetLang\n                };\n            }\n        }\n        // Strategi 2: Coba terjemahkan kata per kata dengan kamus sederhana \n        const wordByWordTranslation = translateWordByWord(text, detectedLang, targetLang);\n        // Cek apakah hasil terjemahan kata per kata berbeda dari aslinya\n        // Jika berbeda, artinya ada beberapa kata yang berhasil diterjemahkan\n        if (wordByWordTranslation.toLowerCase() !== text.toLowerCase()) {\n            return {\n                originalText: text,\n                translatedText: wordByWordTranslation,\n                detectedLanguage: detectedLang,\n                sourceLang: detectedLang,\n                targetLang,\n                error: null\n            };\n        }\n        // Strategi 3: Coba gunakan Lingva Translate API\n        try {\n            console.log(\"Mencoba terjemahan dengan Lingva API...\");\n            const lingvaTranslation = await translateWithLingva(text, targetLang, detectedLang);\n            return {\n                originalText: text,\n                translatedText: lingvaTranslation,\n                detectedLanguage: detectedLang,\n                sourceLang: detectedLang,\n                targetLang,\n                error: null\n            };\n        } catch (lingvaError) {\n            console.error(\"Lingva API error:\", lingvaError);\n        // Lanjut ke strategi berikutnya jika Lingva gagal\n        }\n        // Jika Lingva gagal, gunakan terjemahan kamus\n        console.log(\"Menggunakan terjemahan kamus sederhana...\");\n        const dictionaryTranslation = translateWithDictionary(text, targetLang);\n        return {\n            originalText: text,\n            translatedText: dictionaryTranslation,\n            detectedLanguage: detectedLang,\n            sourceLang: detectedLang,\n            targetLang,\n            error: null\n        };\n    } catch (error) {\n        console.error(\"Client-side translation error:\", error);\n        // Fallback final: Gunakan label sederhana\n        return {\n            originalText: text,\n            translatedText: `[${targetLang.toUpperCase()}] ${text}`,\n            detectedLanguage: detectedLang,\n            sourceLang: detectedLang,\n            targetLang,\n            error: null // Tidak menampilkan error kepada pengguna\n        };\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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d0QsY0FBYzFEO1lBQ2R5QyxnQkFBZ0JzQjtZQUNoQkosa0JBQWtCUjtZQUNsQmxELFlBQVlrRDtZQUNaakQ7WUFDQTBDLE9BQU87UUFDVDtJQUNGLEVBQUUsT0FBT0EsT0FBTztRQUNkM0IsUUFBUTJCLEtBQUssQ0FBQyxrQ0FBa0NBO1FBRWhELDBDQUEwQztRQUMxQyxPQUFPO1lBQ0xjLGNBQWMxRDtZQUNkeUMsZ0JBQWdCLENBQUMsQ0FBQyxFQUFFdkMsV0FBVytDLFdBQVcsR0FBRyxFQUFFLEVBQUVqRCxLQUFLLENBQUM7WUFDdkQyRCxrQkFBa0JSO1lBQ2xCbEQsWUFBWWtEO1lBQ1pqRDtZQUNBMEMsT0FBTyxLQUFLLDBDQUEwQztRQUN4RDtJQUNGO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2hhbGxvLy4vc3JjL2xpYi9pMThuLnRzP2YyM2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGkxOG4gZnJvbSAnaTE4bmV4dCc7XHJcbmltcG9ydCB7IGluaXRSZWFjdEkxOG5leHQgfSBmcm9tICdyZWFjdC1pMThuZXh0JztcclxuXHJcbi8vIEluaXNpYWxpc2FzaSBpMThuZXh0IHVudHVrIGNsaWVudC1zaWRlIHRyYW5zbGF0aW9uXHJcbi8vIEluaSBkYXBhdCBkaWd1bmFrYW4gc2ViYWdhaSBmYWxsYmFjayBqaWthIEFQSSB0ZXJqZW1haGFuIGdhZ2FsXHJcbmkxOG5cclxuICAudXNlKGluaXRSZWFjdEkxOG5leHQpXHJcbiAgLmluaXQoe1xyXG4gICAgcmVzb3VyY2VzOiB7XHJcbiAgICAgIC8vIEluZG9uZXNpYSAoYmFoYXNhIGRlZmF1bHQpXHJcbiAgICAgIGlkOiB7XHJcbiAgICAgICAgdHJhbnNsYXRpb246IHtcclxuICAgICAgICAgIC8vIFVtdW1cclxuICAgICAgICAgICd3ZWxjb21lJzogJ1NlbGFtYXQgZGF0YW5nJyxcclxuICAgICAgICAgICdoZWxsbyc6ICdIYWxvJyxcclxuICAgICAgICAgICdzZWxlY3RMYW5ndWFnZSc6ICdQaWxpaCBiYWhhc2EnLFxyXG4gICAgICAgICAgJ2xvYWRpbmcnOiAnTWVtdWF0Li4uJyxcclxuICAgICAgICAgICdlcnJvcic6ICdUZXJqYWRpIGtlc2FsYWhhbicsXHJcbiAgICAgICAgICAncmV0cnknOiAnQ29iYSBsYWdpJyxcclxuICAgICAgICAgICdzYXZlJzogJ1NpbXBhbicsXHJcbiAgICAgICAgICAnY2FuY2VsJzogJ0JhdGFsJyxcclxuICAgICAgICAgICdkZWxldGUnOiAnSGFwdXMnLFxyXG4gICAgICAgICAgJ2VkaXQnOiAnRWRpdCcsXHJcbiAgICAgICAgICAnc2VuZCc6ICdLaXJpbScsXHJcbiAgICAgICAgICAnc2VhcmNoJzogJ0NhcmknLFxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBBcGxpa2FzaVxyXG4gICAgICAgICAgJ25ld0NoYXQnOiAnQ2hhdCBCYXJ1JyxcclxuICAgICAgICAgICdzZXR0aW5ncyc6ICdQZW5nYXR1cmFuJyxcclxuICAgICAgICAgICd0cmFuc2xhdGUnOiAnVGVyamVtYWhrYW4nLFxyXG4gICAgICAgICAgJ2NvcHlUb0NsaXBib2FyZCc6ICdTYWxpbiBrZSBjbGlwYm9hcmQnLFxyXG4gICAgICAgICAgJ3R5cGVZb3VyTWVzc2FnZSc6ICdLZXRpayBwZXNhbiBBbmRhLi4uJyxcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gUGVzYW4gc3RhdHVzXHJcbiAgICAgICAgICAnbWVzc2FnZVNlbnQnOiAnUGVzYW4gdGVya2lyaW0nLFxyXG4gICAgICAgICAgJ21lc3NhZ2VEZWxpdmVyZWQnOiAnUGVzYW4gdGVyc2FtcGFpa2FuJyxcclxuICAgICAgICAgICdtZXNzYWdlUmVhZCc6ICdQZXNhbiBkaWJhY2EnLFxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgLy8gRW5nbGlzaFxyXG4gICAgICBlbjoge1xyXG4gICAgICAgIHRyYW5zbGF0aW9uOiB7XHJcbiAgICAgICAgICAvLyBHZW5lcmFsXHJcbiAgICAgICAgICAnd2VsY29tZSc6ICdXZWxjb21lJyxcclxuICAgICAgICAgICdoZWxsbyc6ICdIZWxsbycsXHJcbiAgICAgICAgICAnc2VsZWN0TGFuZ3VhZ2UnOiAnU2VsZWN0IGxhbmd1YWdlJyxcclxuICAgICAgICAgICdsb2FkaW5nJzogJ0xvYWRpbmcuLi4nLFxyXG4gICAgICAgICAgJ2Vycm9yJzogJ0FuIGVycm9yIG9jY3VycmVkJyxcclxuICAgICAgICAgICdyZXRyeSc6ICdSZXRyeScsXHJcbiAgICAgICAgICAnc2F2ZSc6ICdTYXZlJyxcclxuICAgICAgICAgICdjYW5jZWwnOiAnQ2FuY2VsJyxcclxuICAgICAgICAgICdkZWxldGUnOiAnRGVsZXRlJyxcclxuICAgICAgICAgICdlZGl0JzogJ0VkaXQnLFxyXG4gICAgICAgICAgJ3NlbmQnOiAnU2VuZCcsXHJcbiAgICAgICAgICAnc2VhcmNoJzogJ1NlYXJjaCcsXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIEFwcGxpY2F0aW9uXHJcbiAgICAgICAgICAnbmV3Q2hhdCc6ICdOZXcgQ2hhdCcsXHJcbiAgICAgICAgICAnc2V0dGluZ3MnOiAnU2V0dGluZ3MnLFxyXG4gICAgICAgICAgJ3RyYW5zbGF0ZSc6ICdUcmFuc2xhdGUnLFxyXG4gICAgICAgICAgJ2NvcHlUb0NsaXBib2FyZCc6ICdDb3B5IHRvIGNsaXBib2FyZCcsXHJcbiAgICAgICAgICAndHlwZVlvdXJNZXNzYWdlJzogJ1R5cGUgeW91ciBtZXNzYWdlLi4uJyxcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gU3RhdHVzIG1lc3NhZ2VzXHJcbiAgICAgICAgICAnbWVzc2FnZVNlbnQnOiAnTWVzc2FnZSBzZW50JyxcclxuICAgICAgICAgICdtZXNzYWdlRGVsaXZlcmVkJzogJ01lc3NhZ2UgZGVsaXZlcmVkJyxcclxuICAgICAgICAgICdtZXNzYWdlUmVhZCc6ICdNZXNzYWdlIHJlYWQnLFxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgLy8gSmF3YVxyXG4gICAgICBqdzoge1xyXG4gICAgICAgIHRyYW5zbGF0aW9uOiB7XHJcbiAgICAgICAgICAvLyBVbXVtXHJcbiAgICAgICAgICAnd2VsY29tZSc6ICdTdWdlbmcgcmF3dWgnLFxyXG4gICAgICAgICAgJ2hlbGxvJzogJ0hhbG8nLFxyXG4gICAgICAgICAgJ3NlbGVjdExhbmd1YWdlJzogJ1BpbGloIGJhc2EnLFxyXG4gICAgICAgICAgJ2xvYWRpbmcnOiAnTmdlbnRlbmkuLi4nLFxyXG4gICAgICAgICAgJ2Vycm9yJzogJ0FuYSBrZXNhbGFoYW4nLFxyXG4gICAgICAgICAgJ3JldHJ5JzogJ0NvYmEgbWFuZWgnLFxyXG4gICAgICAgICAgJ3NhdmUnOiAnU2ltcGVuJyxcclxuICAgICAgICAgICdjYW5jZWwnOiAnQmF0YWwnLFxyXG4gICAgICAgICAgJ2RlbGV0ZSc6ICdCdXNhaycsXHJcbiAgICAgICAgICAnZWRpdCc6ICdPd2FoaScsXHJcbiAgICAgICAgICAnc2VuZCc6ICdLaXJpbScsXHJcbiAgICAgICAgICAnc2VhcmNoJzogJ0dvbGVrJyxcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gQXBsaWthc2lcclxuICAgICAgICAgICduZXdDaGF0JzogJ09icm9sYW4gQW55YXInLFxyXG4gICAgICAgICAgJ3NldHRpbmdzJzogJ1NldGVsYW4nLFxyXG4gICAgICAgICAgJ3RyYW5zbGF0ZSc6ICdUZXJqZW1haGtlJyxcclxuICAgICAgICAgICdjb3B5VG9DbGlwYm9hcmQnOiAnU2FsaW4ga2FuZ2dvIGNsaXBib2FyZCcsXHJcbiAgICAgICAgICAndHlwZVlvdXJNZXNzYWdlJzogJ0tldGlrIHBlc2VuIHNhbXBleWFuLi4uJyxcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gUGVzYW4gc3RhdHVzXHJcbiAgICAgICAgICAnbWVzc2FnZVNlbnQnOiAnUGVzZW4gZGlraXJpbScsXHJcbiAgICAgICAgICAnbWVzc2FnZURlbGl2ZXJlZCc6ICdQZXNlbiBkaXRvbXBvJyxcclxuICAgICAgICAgICdtZXNzYWdlUmVhZCc6ICdQZXNlbiBkaXdvY28nLFxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICBmYWxsYmFja0xuZzogJ2lkJyxcclxuICAgIGRlYnVnOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyxcclxuICAgIGludGVycG9sYXRpb246IHtcclxuICAgICAgZXNjYXBlVmFsdWU6IGZhbHNlLCAvLyB0aWRhayBwZXJsdSBlc2NhcGUga2FyZW5hIFJlYWN0IHN1ZGFoIGFtYW4gZGFyaSBYU1NcclxuICAgIH1cclxuICB9KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGkxOG47XHJcblxyXG4vLyBEZWZpbmlzaSB0aXBlIHVudHVrIGthbXVzIHRlcmplbWFoYW5cclxuaW50ZXJmYWNlIERpY3Rpb25hcnlFbnRyeSB7XHJcbiAgW3dvcmQ6IHN0cmluZ106IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIExhbmd1YWdlRGljdGlvbmFyeSB7XHJcbiAgW3RhcmdldExhbmc6IHN0cmluZ106IERpY3Rpb25hcnlFbnRyeTtcclxufVxyXG5cclxuaW50ZXJmYWNlIFNpbXBsZURpY3Rpb25hcnkge1xyXG4gIFtzb3VyY2VMYW5nOiBzdHJpbmddOiBMYW5ndWFnZURpY3Rpb25hcnk7XHJcbn1cclxuXHJcbi8vIEthbXVzIGtlY2lsIHVudHVrIGthdGEta2F0YSB1bXVtXHJcbmNvbnN0IHNpbXBsZURpY3Rpb25hcnk6IFNpbXBsZURpY3Rpb25hcnkgPSB7XHJcbiAgLy8gSW5kb25lc2lhIC0+IEVuZ2xpc2hcclxuICBpZDoge1xyXG4gICAgZW46IHtcclxuICAgICAgJ3NlbGFtYXQnOiAnd2VsY29tZScsXHJcbiAgICAgICdwYWdpJzogJ21vcm5pbmcnLFxyXG4gICAgICAnc2lhbmcnOiAnYWZ0ZXJub29uJyxcclxuICAgICAgJ21hbGFtJzogJ2V2ZW5pbmcvbmlnaHQnLFxyXG4gICAgICAnaGFsbyc6ICdoZWxsbycsXHJcbiAgICAgICdoYWknOiAnaGknLFxyXG4gICAgICAndGVyaW1hJzogJ3RoYW5rJyxcclxuICAgICAgJ2thc2loJzogJ3lvdScsXHJcbiAgICAgICdiYWdhaW1hbmEnOiAnaG93JyxcclxuICAgICAgJ2thYmFyJzogJ25ld3MvY29uZGl0aW9uJyxcclxuICAgICAgJ2JhaWsnOiAnZ29vZCcsXHJcbiAgICAgICdidXJ1ayc6ICdiYWQnLFxyXG4gICAgICAnYXBhJzogJ3doYXQnLFxyXG4gICAgICAnc2lhcGEnOiAnd2hvJyxcclxuICAgICAgJ2thcGFuJzogJ3doZW4nLFxyXG4gICAgICAnZGltYW5hJzogJ3doZXJlJyxcclxuICAgICAgJ21lbmdhcGEnOiAnd2h5JyxcclxuICAgICAgJ3NheWEnOiAnSS9tZScsXHJcbiAgICAgICdrYW11JzogJ3lvdScsXHJcbiAgICAgICdkaWEnOiAnaGUvc2hlJyxcclxuICAgICAgJ21lcmVrYSc6ICd0aGV5JyxcclxuICAgICAgJ2thbWknOiAnd2UnLFxyXG4gICAgICAna2l0YSc6ICd3ZSAoaW5jbHVzaXZlKScsXHJcbiAgICAgICdkYW4nOiAnYW5kJyxcclxuICAgICAgJ2F0YXUnOiAnb3InLFxyXG4gICAgICAndGFwaSc6ICdidXQnLFxyXG4gICAgICAnamlrYSc6ICdpZicsXHJcbiAgICAgICdtYWthJzogJ3RoZW4nLFxyXG4gICAgICAndGlkYWsnOiAnbm8vbm90JyxcclxuICAgICAgJ3lhJzogJ3llcycsXHJcbiAgICAgICdiZW5hcic6ICdjb3JyZWN0L3RydWUnLFxyXG4gICAgICAnc2FsYWgnOiAnd3JvbmcvZmFsc2UnLFxyXG4gICAgICAnc3VkYWgnOiAnYWxyZWFkeScsXHJcbiAgICAgICdiZWx1bSc6ICdub3QgeWV0JyxcclxuICAgICAgJ2FrYW4nOiAnd2lsbCcsXHJcbiAgICAgICdzZWRhbmcnOiAnY3VycmVudGx5JyxcclxuICAgICAgJ3RlbGFoJzogJ2hhdmUnLFxyXG4gICAgICAnYmlzYSc6ICdjYW4nLFxyXG4gICAgICAndG9sb25nJzogJ3BsZWFzZS9oZWxwJyxcclxuICAgICAgJ21hYWYnOiAnc29ycnknLFxyXG4gICAgICAncGVybWlzaSc6ICdleGN1c2UgbWUnLFxyXG4gICAgICAnc2FtcGFpJzogJ3VudGlsJyxcclxuICAgICAgJ2p1bXBhJzogJ21lZXQnLFxyXG4gICAgICAnc2VuYW5nJzogJ2hhcHB5JyxcclxuICAgICAgJ3NlZGloJzogJ3NhZCcsXHJcbiAgICAgICdtYXJhaCc6ICdhbmdyeScsXHJcbiAgICAgICd0YWt1dCc6ICdhZnJhaWQnLFxyXG4gICAgICAnY2ludGEnOiAnbG92ZScsXHJcbiAgICAgICdiZW5jaSc6ICdoYXRlJ1xyXG4gICAgfSxcclxuICAgIC8vIEluZG9uZXNpYSAtPiBKYXdhXHJcbiAgICBqdzoge1xyXG4gICAgICAnc2VsYW1hdCc6ICdzdWdlbmcnLFxyXG4gICAgICAncGFnaSc6ICdlbmppbmcnLFxyXG4gICAgICAnc2lhbmcnOiAnc2lhbmcnLFxyXG4gICAgICAnbWFsYW0nOiAnZGFsdScsXHJcbiAgICAgICdoYWxvJzogJ2hhbG8nLFxyXG4gICAgICAndGVyaW1hJzogJ21hdHVyJyxcclxuICAgICAgJ2thc2loJzogJ251d3VuJyxcclxuICAgICAgJ2JhZ2FpbWFuYSc6ICdwcmlwdW4nLFxyXG4gICAgICAna2FiYXInOiAna2FiYXInLFxyXG4gICAgICAnYmFpayc6ICdzYWUvYmVjaWsnLFxyXG4gICAgICAnYnVydWsnOiAnYXdvbicsXHJcbiAgICAgICdhcGEnOiAnbWVuYXBhJyxcclxuICAgICAgJ3NpYXBhJzogJ3NpbnRlbicsXHJcbiAgICAgICdrYXBhbic6ICdrYXBhbicsXHJcbiAgICAgICdkaW1hbmEnOiAnd29udGVuIHB1bmRpJyxcclxuICAgICAgJ21lbmdhcGEnOiAna2VuZ2luZyBtZW5hcGEnLFxyXG4gICAgICAnc2F5YSc6ICdrdWxhJyxcclxuICAgICAgJ2thbXUnOiAnc2FtcGV5YW4nLFxyXG4gICAgICAnZGlhJzogJ3BpeWFtYmFraXB1bicsXHJcbiAgICAgICdtZXJla2EnOiAncGl5YW1iYWtpcHVuIHNlZGF5YScsXHJcbiAgICAgICdrYW1pJzogJ2tpdGEgc2VkYXlhJyxcclxuICAgICAgJ2tpdGEnOiAna2l0YSBzZWRheWEnLFxyXG4gICAgICAnZGFuJzogJ2xhbicsXHJcbiAgICAgICdhdGF1JzogJ3V0YXdpJyxcclxuICAgICAgJ3RhcGknOiAnbmFuZ2luZycsXHJcbiAgICAgICdqaWthJzogJ21lbmF3aScsXHJcbiAgICAgICdtYWthJzogJ21hbmdrYScsXHJcbiAgICAgICd0aWRhayc6ICdib3RlbicsXHJcbiAgICAgICd5YSc6ICduZ2dpaCcsXHJcbiAgICAgICdiZW5hcic6ICdsZXJlcycsXHJcbiAgICAgICdzYWxhaCc6ICdsZXBhdCcsXHJcbiAgICAgICdzdWRhaCc6ICdzYW1wdW4nLFxyXG4gICAgICAnYmVsdW0nOiAnZGVyZW5nJyxcclxuICAgICAgJ2FrYW4nOiAnYmFkaGUnLFxyXG4gICAgICAnc2VkYW5nJzogJ3Nhd2VnJyxcclxuICAgICAgJ3RlbGFoJzogJ3NhbXB1bicsXHJcbiAgICAgICdiaXNhJzogJ3NhZ2VkJyxcclxuICAgICAgJ3RvbG9uZyc6ICd0dWx1bmcnLFxyXG4gICAgICAnbWFhZic6ICdueXV3dW4gcGFuZ2FwdW50ZW4nLFxyXG4gICAgICAncGVybWlzaSc6ICdudXd1biBzZXd1JyxcclxuICAgICAgJ3NhbXBhaSc6ICduZ2FudG9zJyxcclxuICAgICAgJ2p1bXBhJzogJ3BhbmdnaWgnLFxyXG4gICAgICAnc2VuYW5nJzogJ3NlbmVuZycsXHJcbiAgICAgICdzZWRpaCc6ICdzZWRoaWgnLFxyXG4gICAgICAnbWFyYWgnOiAnZHVrYScsXHJcbiAgICAgICd0YWt1dCc6ICdhanJpaCcsXHJcbiAgICAgICdjaW50YSc6ICd0cmVzbmEnLFxyXG4gICAgICAnYmVuY2knOiAnc2VuZ2l0J1xyXG4gICAgfVxyXG4gIH1cclxufTtcclxuXHJcbi8vIEZ1bmdzaSB1bnR1ayBtZW5lcmplbWFoa2FuIGthdGEgcGVyIGthdGEgZGVuZ2FuIHNpbXBsZSBkaWN0aW9uYXJ5XHJcbmNvbnN0IHRyYW5zbGF0ZVdvcmRCeVdvcmQgPSAodGV4dDogc3RyaW5nLCBzb3VyY2VMYW5nOiBzdHJpbmcsIHRhcmdldExhbmc6IHN0cmluZyk6IHN0cmluZyA9PiB7XHJcbiAgLy8gSGFueWEgbWVuZHVrdW5nIGRhcmkgYmFoYXNhIEluZG9uZXNpYSB1bnR1ayBzYWF0IGluaVxyXG4gIGlmIChzb3VyY2VMYW5nICE9PSAnaWQnKSByZXR1cm4gdGV4dDtcclxuICBcclxuICAvLyBQYXN0aWthbiBkaWN0IHVudHVrIGJhaGFzYSB0YXJnZXQgdGVyc2VkaWFcclxuICBpZiAoIXNpbXBsZURpY3Rpb25hcnlbc291cmNlTGFuZ10/Llt0YXJnZXRMYW5nXSkgcmV0dXJuIHRleHQ7XHJcbiAgXHJcbiAgY29uc3QgZGljdCA9IHNpbXBsZURpY3Rpb25hcnlbc291cmNlTGFuZ11bdGFyZ2V0TGFuZ107XHJcbiAgXHJcbiAgLy8gTWVtaXNhaGthbiB0ZWtzIG1lbmphZGkga2F0YS1rYXRhXHJcbiAgY29uc3Qgd29yZHMgPSB0ZXh0LnRvTG93ZXJDYXNlKCkuc3BsaXQoL1xccysvKTtcclxuICBcclxuICAvLyBUZXJqZW1haGthbiBzZXRpYXAga2F0YSBqaWthIGFkYSBkaSBrYW11c1xyXG4gIGNvbnN0IHRyYW5zbGF0ZWRXb3JkcyA9IHdvcmRzLm1hcCh3b3JkID0+IHtcclxuICAgIC8vIEJlcnNpaGthbiBrYXRhIGRhcmkgdGFuZGEgYmFjYVxyXG4gICAgY29uc3QgY2xlYW5Xb3JkID0gd29yZC5yZXBsYWNlKC9bLiw/ITs6KCldL2csICcnKTtcclxuICAgIFxyXG4gICAgLy8gQ2FyaSB0ZXJqZW1haGFuXHJcbiAgICBjb25zdCB0cmFuc2xhdGlvbiA9IGRpY3RbY2xlYW5Xb3JkXTtcclxuICAgIFxyXG4gICAgLy8gSmlrYSBhZGEgdGVyamVtYWhhbiwgZ3VuYWthbi4gSmlrYSB0aWRhaywgZ3VuYWthbiBrYXRhIGFzbGlcclxuICAgIHJldHVybiB0cmFuc2xhdGlvbiB8fCB3b3JkO1xyXG4gIH0pO1xyXG4gIFxyXG4gIHJldHVybiB0cmFuc2xhdGVkV29yZHMuam9pbignICcpO1xyXG59O1xyXG5cclxuLy8gRnVuZ3NpIGFsdGVybmF0aWYgbWVuZ2d1bmFrYW4gTGluZ3ZhIFRyYW5zbGF0ZSAodGlkYWsgcGVybHUgQVBJIGtleSBkYW4gbGViaWggc3RhYmlsKVxyXG5jb25zdCB0cmFuc2xhdGVXaXRoTGluZ3ZhID0gYXN5bmMgKHRleHQ6IHN0cmluZywgdGFyZ2V0TGFuZzogc3RyaW5nLCBzb3VyY2VMYW5nOiBzdHJpbmcgPSAnaWQnKTogUHJvbWlzZTxzdHJpbmc+ID0+IHtcclxuICB0cnkge1xyXG4gICAgLy8gTGluZ3ZhIGluc3RhbmNlcyBkYW4gYWx0ZXJuYXRpZiBsYWluIHlhbmcgc2VqZW5pc1xyXG4gICAgY29uc3QgYWx0ZXJuYXRlSW5zdGFuY2VzID0gW1xyXG4gICAgICAnaHR0cHM6Ly9saW5ndmEubWwnLFxyXG4gICAgICAnaHR0cHM6Ly9saW5ndmEucHVzc3RoZWNhdC5vcmcnLFxyXG4gICAgICAnaHR0cHM6Ly90cmFuc2xhdGUuYXJnb3NvcGVudGVjaC5jb20nXHJcbiAgICBdO1xyXG4gICAgXHJcbiAgICAvLyBDb2JhIGJlYmVyYXBhIGluc3RhbmNlIHNlY2FyYSBiZXJ1cnV0YW4gamlrYSBnYWdhbFxyXG4gICAgbGV0IGxhc3RFcnJvciA9IG51bGw7XHJcbiAgICBcclxuICAgIGZvciAoY29uc3QgaW5zdGFuY2Ugb2YgYWx0ZXJuYXRlSW5zdGFuY2VzKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYE1lbmNvYmEgTGluZ3ZhIGluc3RhbmNlOiAke2luc3RhbmNlfWApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENvYmEgZ3VuYWthbiBBUEkgTGluZ3ZhXHJcbiAgICAgICAgY29uc3QgaXNMaW5ndmFJbnN0YW5jZSA9IGluc3RhbmNlLmluY2x1ZGVzKCdsaW5ndmEnKTtcclxuICAgICAgICBpZiAoaXNMaW5ndmFJbnN0YW5jZSkge1xyXG4gICAgICAgICAgY29uc3QgdXJsID0gYCR7aW5zdGFuY2V9L2FwaS92MS8ke3NvdXJjZUxhbmd9LyR7dGFyZ2V0TGFuZ30vJHtlbmNvZGVVUklDb21wb25lbnQodGV4dCl9YDtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vIFRpbWVvdXQgOCBkZXRpa1xyXG4gICAgICAgICAgICBzaWduYWw6IEFib3J0U2lnbmFsLnRpbWVvdXQoODAwMCksXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYExpbmd2YSBBUEkgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS50cmFuc2xhdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gZGF0YS50cmFuc2xhdGlvbjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHJlc3BvbnNlIGZyb20gTGluZ3ZhJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIEppa2EgYnVrYW4gTGluZ3ZhIGluc3RhbmNlLCBjb2JhIGd1bmFrYW4gc2ViYWdhaSBwcm94eSB0cmFuc2xhdG9yXHJcbiAgICAgICAgICBjb25zdCB1cmwgPSBgJHtpbnN0YW5jZX0vYXBpL3RyYW5zbGF0ZWA7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgIHE6IHRleHQsXHJcbiAgICAgICAgICAgICAgc291cmNlOiBzb3VyY2VMYW5nLFxyXG4gICAgICAgICAgICAgIHRhcmdldDogdGFyZ2V0TGFuZyxcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCg4MDAwKSxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVHJhbnNsYXRpb24gQVBJIGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgIGlmIChkYXRhICYmIChkYXRhLnRyYW5zbGF0aW9uIHx8IGRhdGEudHJhbnNsYXRlZFRleHQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhLnRyYW5zbGF0aW9uIHx8IGRhdGEudHJhbnNsYXRlZFRleHQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCByZXNwb25zZSBmcm9tIHRyYW5zbGF0aW9uIEFQSScpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoaW5zdGFuY2VFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihgRXJyb3Igd2l0aCB0cmFuc2xhdGlvbiBpbnN0YW5jZSAke2luc3RhbmNlfTpgLCBpbnN0YW5jZUVycm9yKTtcclxuICAgICAgICBsYXN0RXJyb3IgPSBpbnN0YW5jZUVycm9yO1xyXG4gICAgICAgIC8vIENvYmEgaW5zdGFuY2UgYmVyaWt1dG55YVxyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIEppa2Egc2VtdWEgaW5zdGFuY2UgZ2FnYWxcclxuICAgIHRocm93IGxhc3RFcnJvciB8fCBuZXcgRXJyb3IoJ0FsbCB0cmFuc2xhdGlvbiBzZXJ2aWNlcyBmYWlsZWQnKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgY2FsbGluZyB0cmFuc2xhdGlvbiBzZXJ2aWNlcyBmcm9tIGNsaWVudDonLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn07XHJcblxyXG4vLyBBbHRlcm5hdGlmIGxhaW46IFNpbXVsYXNpIHRlcmplbWFoYW4gc2VkZXJoYW5hIGRlbmdhbiBrYW11cyBzdGF0aXNcclxuY29uc3QgdHJhbnNsYXRlV2l0aERpY3Rpb25hcnkgPSAodGV4dDogc3RyaW5nLCB0YXJnZXRMYW5nOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xyXG4gIC8vIEluaSBoYW55YSBjb250b2ggc2VkZXJoYW5hXHJcbiAgaWYgKHRhcmdldExhbmcgPT09ICdlbicpIHtcclxuICAgIC8vIEthbXVzIHNlZGVyaGFuYSBJbmRvbmVzaWEga2UgSW5nZ3Jpc1xyXG4gICAgY29uc3QgZGljdElkRW46IHtba2V5OiBzdHJpbmddOiBzdHJpbmd9ID0ge1xyXG4gICAgICAnaGFsbyc6ICdoZWxsbycsXHJcbiAgICAgICdzZWxhbWF0JzogJ2NvbmdyYXR1bGF0aW9ucycsXHJcbiAgICAgICdwYWdpJzogJ21vcm5pbmcnLFxyXG4gICAgICAnc2lhbmcnOiAnYWZ0ZXJub29uJyxcclxuICAgICAgJ21hbGFtJzogJ2V2ZW5pbmcvbmlnaHQnLFxyXG4gICAgICAndGVyaW1hIGthc2loJzogJ3RoYW5rIHlvdScsXHJcbiAgICAgICdiYWdhaW1hbmEga2FiYXJtdSc6ICdob3cgYXJlIHlvdScsXHJcbiAgICAgICdiYWlrJzogJ2dvb2QnLFxyXG4gICAgICAneWEnOiAneWVzJyxcclxuICAgICAgJ3RpZGFrJzogJ25vJyxcclxuICAgICAgJ3RvbG9uZyc6ICdwbGVhc2UnLFxyXG4gICAgICAnbWFhZic6ICdzb3JyeScsXHJcbiAgICAgICdzYXlhJzogJ0knLFxyXG4gICAgICAna2FtdSc6ICd5b3UnXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICByZXR1cm4gdGV4dC5zcGxpdCgnICcpLm1hcCh3b3JkID0+IHtcclxuICAgICAgY29uc3QgbG93ZXJXb3JkID0gd29yZC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1suLCE/OzpdLywgJycpO1xyXG4gICAgICByZXR1cm4gZGljdElkRW5bbG93ZXJXb3JkXSB8fCB3b3JkO1xyXG4gICAgfSkuam9pbignICcpO1xyXG4gIH0gZWxzZSBpZiAodGFyZ2V0TGFuZyA9PT0gJ2lkJykge1xyXG4gICAgLy8gS2FtdXMgc2VkZXJoYW5hIEluZ2dyaXMga2UgSW5kb25lc2lhXHJcbiAgICBjb25zdCBkaWN0RW5JZDoge1trZXk6IHN0cmluZ106IHN0cmluZ30gPSB7XHJcbiAgICAgICdoZWxsbyc6ICdoYWxvJyxcclxuICAgICAgJ2hpJzogJ2hhaScsXHJcbiAgICAgICdnb29kJzogJ2JhaWsnLFxyXG4gICAgICAnbW9ybmluZyc6ICdwYWdpJyxcclxuICAgICAgJ2FmdGVybm9vbic6ICdzaWFuZycsXHJcbiAgICAgICdldmVuaW5nJzogJ21hbGFtJyxcclxuICAgICAgJ25pZ2h0JzogJ21hbGFtJyxcclxuICAgICAgJ3RoYW5rIHlvdSc6ICd0ZXJpbWEga2FzaWgnLFxyXG4gICAgICAnaG93IGFyZSB5b3UnOiAnYmFnYWltYW5hIGthYmFybXUnLFxyXG4gICAgICAneWVzJzogJ3lhJyxcclxuICAgICAgJ25vJzogJ3RpZGFrJyxcclxuICAgICAgJ3BsZWFzZSc6ICd0b2xvbmcnLFxyXG4gICAgICAnc29ycnknOiAnbWFhZicsXHJcbiAgICAgICdpJzogJ3NheWEnLFxyXG4gICAgICAneW91JzogJ2thbXUnXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICByZXR1cm4gdGV4dC5zcGxpdCgnICcpLm1hcCh3b3JkID0+IHtcclxuICAgICAgY29uc3QgbG93ZXJXb3JkID0gd29yZC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1suLCE/OzpdLywgJycpO1xyXG4gICAgICByZXR1cm4gZGljdEVuSWRbbG93ZXJXb3JkXSB8fCB3b3JkO1xyXG4gICAgfSkuam9pbignICcpO1xyXG4gIH1cclxuICBcclxuICAvLyBEZWZhdWx0OiBrZW1iYWxpa2FuIHRla3MgYXNsaSBkZW5nYW4gbGFiZWxcclxuICByZXR1cm4gYFske3RhcmdldExhbmcudG9VcHBlckNhc2UoKX1dICR7dGV4dH1gO1xyXG59O1xyXG5cclxuLy8gRnVuZ3NpIHVudHVrIG1lbmVyamVtYWhrYW4gdGVrcyBzZWNhcmEgY2xpZW50LXNpZGVcclxuZXhwb3J0IGNvbnN0IHRyYW5zbGF0ZUNsaWVudFNpZGUgPSBhc3luYyAoXHJcbiAgdGV4dDogc3RyaW5nLCBcclxuICB0YXJnZXRMYW5nOiBzdHJpbmcgPSAnZW4nXHJcbik6IFByb21pc2U8e1xyXG4gIG9yaWdpbmFsVGV4dDogc3RyaW5nO1xyXG4gIHRyYW5zbGF0ZWRUZXh0OiBzdHJpbmc7XHJcbiAgZGV0ZWN0ZWRMYW5ndWFnZTogc3RyaW5nO1xyXG4gIHNvdXJjZUxhbmc6IHN0cmluZztcclxuICB0YXJnZXRMYW5nOiBzdHJpbmc7XHJcbiAgZXJyb3I/OiBzdHJpbmcgfCBudWxsO1xyXG59PiA9PiB7XHJcbiAgLy8gRGV0ZWtzaSBiYWhhc2EgKGFuZ2dhcCBzZWxhbHUgQmFoYXNhIEluZG9uZXNpYSB1bnR1ayBzZWRlcmhhbmFueWEpXHJcbiAgY29uc3QgZGV0ZWN0ZWRMYW5nID0gJ2lkJztcclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gU3RyYXRlZ2kgMTogQ29iYSB0ZXJqZW1haGthbiBtZW5nZ3VuYWthbiBrYW11cyBzdGF0aXMgaTE4bmV4dFxyXG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGkxOG4uZ2V0RGF0YUJ5TGFuZ3VhZ2UoJ2lkJyk/LnRyYW5zbGF0aW9uIHx8IHt9KTtcclxuICAgIGNvbnN0IG1hdGNoZWRLZXkgPSBrZXlzLmZpbmQoa2V5ID0+IFxyXG4gICAgICBpMThuLmdldERhdGFCeUxhbmd1YWdlKCdpZCcpPy50cmFuc2xhdGlvbj8uW2tleV0gPT09IHRleHRcclxuICAgICk7XHJcbiAgICBcclxuICAgIGlmIChtYXRjaGVkS2V5KSB7XHJcbiAgICAgIC8vIEppa2EgZGl0ZW11a2FuLCBhbWJpbCB0ZXJqZW1haGFuIGRhcmkgYmFoYXNhIHRhcmdldFxyXG4gICAgICBjb25zdCB0cmFuc2xhdGVkVGV4dCA9IGkxOG4uZ2V0RGF0YUJ5TGFuZ3VhZ2UodGFyZ2V0TGFuZyk/LnRyYW5zbGF0aW9uPy5bbWF0Y2hlZEtleV07XHJcbiAgICAgIGlmICh0cmFuc2xhdGVkVGV4dCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBvcmlnaW5hbFRleHQ6IHRleHQsXHJcbiAgICAgICAgICB0cmFuc2xhdGVkVGV4dCxcclxuICAgICAgICAgIGRldGVjdGVkTGFuZ3VhZ2U6IGRldGVjdGVkTGFuZyxcclxuICAgICAgICAgIHNvdXJjZUxhbmc6IGRldGVjdGVkTGFuZyxcclxuICAgICAgICAgIHRhcmdldExhbmdcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFN0cmF0ZWdpIDI6IENvYmEgdGVyamVtYWhrYW4ga2F0YSBwZXIga2F0YSBkZW5nYW4ga2FtdXMgc2VkZXJoYW5hIFxyXG4gICAgY29uc3Qgd29yZEJ5V29yZFRyYW5zbGF0aW9uID0gdHJhbnNsYXRlV29yZEJ5V29yZCh0ZXh0LCBkZXRlY3RlZExhbmcsIHRhcmdldExhbmcpO1xyXG4gICAgXHJcbiAgICAvLyBDZWsgYXBha2FoIGhhc2lsIHRlcmplbWFoYW4ga2F0YSBwZXIga2F0YSBiZXJiZWRhIGRhcmkgYXNsaW55YVxyXG4gICAgLy8gSmlrYSBiZXJiZWRhLCBhcnRpbnlhIGFkYSBiZWJlcmFwYSBrYXRhIHlhbmcgYmVyaGFzaWwgZGl0ZXJqZW1haGthblxyXG4gICAgaWYgKHdvcmRCeVdvcmRUcmFuc2xhdGlvbi50b0xvd2VyQ2FzZSgpICE9PSB0ZXh0LnRvTG93ZXJDYXNlKCkpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBvcmlnaW5hbFRleHQ6IHRleHQsXHJcbiAgICAgICAgdHJhbnNsYXRlZFRleHQ6IHdvcmRCeVdvcmRUcmFuc2xhdGlvbixcclxuICAgICAgICBkZXRlY3RlZExhbmd1YWdlOiBkZXRlY3RlZExhbmcsXHJcbiAgICAgICAgc291cmNlTGFuZzogZGV0ZWN0ZWRMYW5nLFxyXG4gICAgICAgIHRhcmdldExhbmcsXHJcbiAgICAgICAgZXJyb3I6IG51bGxcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gU3RyYXRlZ2kgMzogQ29iYSBndW5ha2FuIExpbmd2YSBUcmFuc2xhdGUgQVBJXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygnTWVuY29iYSB0ZXJqZW1haGFuIGRlbmdhbiBMaW5ndmEgQVBJLi4uJyk7XHJcbiAgICAgIGNvbnN0IGxpbmd2YVRyYW5zbGF0aW9uID0gYXdhaXQgdHJhbnNsYXRlV2l0aExpbmd2YSh0ZXh0LCB0YXJnZXRMYW5nLCBkZXRlY3RlZExhbmcpO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIG9yaWdpbmFsVGV4dDogdGV4dCxcclxuICAgICAgICB0cmFuc2xhdGVkVGV4dDogbGluZ3ZhVHJhbnNsYXRpb24sXHJcbiAgICAgICAgZGV0ZWN0ZWRMYW5ndWFnZTogZGV0ZWN0ZWRMYW5nLCBcclxuICAgICAgICBzb3VyY2VMYW5nOiBkZXRlY3RlZExhbmcsXHJcbiAgICAgICAgdGFyZ2V0TGFuZyxcclxuICAgICAgICBlcnJvcjogbnVsbFxyXG4gICAgICB9O1xyXG4gICAgfSBjYXRjaCAobGluZ3ZhRXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignTGluZ3ZhIEFQSSBlcnJvcjonLCBsaW5ndmFFcnJvcik7XHJcbiAgICAgIC8vIExhbmp1dCBrZSBzdHJhdGVnaSBiZXJpa3V0bnlhIGppa2EgTGluZ3ZhIGdhZ2FsXHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIEppa2EgTGluZ3ZhIGdhZ2FsLCBndW5ha2FuIHRlcmplbWFoYW4ga2FtdXNcclxuICAgIGNvbnNvbGUubG9nKCdNZW5nZ3VuYWthbiB0ZXJqZW1haGFuIGthbXVzIHNlZGVyaGFuYS4uLicpO1xyXG4gICAgY29uc3QgZGljdGlvbmFyeVRyYW5zbGF0aW9uID0gdHJhbnNsYXRlV2l0aERpY3Rpb25hcnkodGV4dCwgdGFyZ2V0TGFuZyk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBvcmlnaW5hbFRleHQ6IHRleHQsXHJcbiAgICAgIHRyYW5zbGF0ZWRUZXh0OiBkaWN0aW9uYXJ5VHJhbnNsYXRpb24sXHJcbiAgICAgIGRldGVjdGVkTGFuZ3VhZ2U6IGRldGVjdGVkTGFuZyxcclxuICAgICAgc291cmNlTGFuZzogZGV0ZWN0ZWRMYW5nLFxyXG4gICAgICB0YXJnZXRMYW5nLFxyXG4gICAgICBlcnJvcjogbnVsbFxyXG4gICAgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignQ2xpZW50LXNpZGUgdHJhbnNsYXRpb24gZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgXHJcbiAgICAvLyBGYWxsYmFjayBmaW5hbDogR3VuYWthbiBsYWJlbCBzZWRlcmhhbmFcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG9yaWdpbmFsVGV4dDogdGV4dCxcclxuICAgICAgdHJhbnNsYXRlZFRleHQ6IGBbJHt0YXJnZXRMYW5nLnRvVXBwZXJDYXNlKCl9XSAke3RleHR9YCxcclxuICAgICAgZGV0ZWN0ZWRMYW5ndWFnZTogZGV0ZWN0ZWRMYW5nLFxyXG4gICAgICBzb3VyY2VMYW5nOiBkZXRlY3RlZExhbmcsIFxyXG4gICAgICB0YXJnZXRMYW5nLFxyXG4gICAgICBlcnJvcjogbnVsbCAvLyBUaWRhayBtZW5hbXBpbGthbiBlcnJvciBrZXBhZGEgcGVuZ2d1bmFcclxuICAgIH07XHJcbiAgfVxyXG59OyAiXSwibmFtZXMiOlsiaTE4biIsImluaXRSZWFjdEkxOG5leHQiLCJ1c2UiLCJpbml0IiwicmVzb3VyY2VzIiwiaWQiLCJ0cmFuc2xhdGlvbiIsImVuIiwianciLCJmYWxsYmFja0xuZyIsImRlYnVnIiwicHJvY2VzcyIsImludGVycG9sYXRpb24iLCJlc2NhcGVWYWx1ZSIsInNpbXBsZURpY3Rpb25hcnkiLCJ0cmFuc2xhdGVXb3JkQnlXb3JkIiwidGV4dCIsInNvdXJjZUxhbmciLCJ0YXJnZXRMYW5nIiwiZGljdCIsIndvcmRzIiwidG9Mb3dlckNhc2UiLCJzcGxpdCIsInRyYW5zbGF0ZWRXb3JkcyIsIm1hcCIsIndvcmQiLCJjbGVhbldvcmQiLCJyZXBsYWNlIiwiam9pbiIsInRyYW5zbGF0ZVdpdGhMaW5ndmEiLCJhbHRlcm5hdGVJbnN0YW5jZXMiLCJsYXN0RXJyb3IiLCJpbnN0YW5jZSIsImNvbnNvbGUiLCJsb2ciLCJpc0xpbmd2YUluc3RhbmNlIiwiaW5jbHVkZXMiLCJ1cmwiLCJlbmNvZGVVUklDb21wb25lbnQiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsInNpZ25hbCIsIkFib3J0U2lnbmFsIiwidGltZW91dCIsIm9rIiwiRXJyb3IiLCJzdGF0dXMiLCJkYXRhIiwianNvbiIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicSIsInNvdXJjZSIsInRhcmdldCIsInRyYW5zbGF0ZWRUZXh0IiwiaW5zdGFuY2VFcnJvciIsIndhcm4iLCJlcnJvciIsInRyYW5zbGF0ZVdpdGhEaWN0aW9uYXJ5IiwiZGljdElkRW4iLCJsb3dlcldvcmQiLCJkaWN0RW5JZCIsInRvVXBwZXJDYXNlIiwidHJhbnNsYXRlQ2xpZW50U2lkZSIsImRldGVjdGVkTGFuZyIsImtleXMiLCJPYmplY3QiLCJnZXREYXRhQnlMYW5ndWFnZSIsIm1hdGNoZWRLZXkiLCJmaW5kIiwia2V5Iiwib3JpZ2luYWxUZXh0IiwiZGV0ZWN0ZWRMYW5ndWFnZSIsIndvcmRCeVdvcmRUcmFuc2xhdGlvbiIsImxpbmd2YVRyYW5zbGF0aW9uIiwibGluZ3ZhRXJyb3IiLCJkaWN0aW9uYXJ5VHJhbnNsYXRpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/i18n.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/qwen.ts":
/*!*************************!*\
  !*** ./src/lib/qwen.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_MODEL: () => (/* binding */ DEFAULT_MODEL),\n/* harmony export */   getModelDisplayName: () => (/* binding */ getModelDisplayName),\n/* harmony export */   getStaticResponse: () => (/* binding */ getStaticResponse),\n/* harmony export */   sendMessageToQwen: () => (/* binding */ sendMessageToQwen)\n/* harmony export */ });\n// Konfigurasi untuk OpenRouter dengan model Qwen\nconst QWEN_API_ENDPOINT = process.env.NEXT_QWEN_API_ENDPOINT || \"https://openrouter.ai/api/v1/chat/completions\";\nconst QWEN_API_KEY = process.env.NEXT_QWEN_API_KEY || \"\";\n// Model default - gunakan model gratis dari OpenRouter\n// Pastikan menggunakan model yang tersedia di OpenRouter\nconst DEFAULT_MODEL = \"qwen/qwen3-32b:free\";\n/**\r\n * Fungsi untuk mendapatkan nama yang lebih user-friendly dari model ID\r\n */ function getModelDisplayName(modelId) {\n    // Penyederhanaan nama model\n    if (modelId.includes(\"qwen1.5-32b\")) {\n        return \"Qwen 1.5 32B\";\n    } else if (modelId.includes(\"qwen3-32b\")) {\n        return \"Qwen 3 32B\";\n    }\n    // Default jika tidak ada yang cocok\n    return \"Qwen AI\";\n}\n// Fungsi untuk menunda eksekusi\nconst sleep = (ms)=>new Promise((resolve)=>setTimeout(resolve, ms));\n/**\r\n * Fungsi untuk mengirim pesan ke API Qwen melalui OpenRouter\r\n * Dengan penanganan error yang lebih baik dan retries\r\n */ async function sendMessageToQwen(messages, model = DEFAULT_MODEL) {\n    // Jumlah maksimum percobaan\n    const MAX_RETRIES = 2;\n    let retries = 0;\n    let lastError = null;\n    while(retries <= MAX_RETRIES){\n        try {\n            // Periksa API key\n            if (!QWEN_API_KEY) {\n                throw new Error(\"API key OpenRouter tidak tersedia. Periksa konfigurasi .env.local.\");\n            }\n            console.log(\"Mencoba mengirim pesan ke model:\", model);\n            console.log(\"API Endpoint:\", QWEN_API_ENDPOINT);\n            // Format permintaan sesuai dokumentasi OpenRouter terbaru\n            const requestBody = {\n                model: model,\n                messages: messages.map((msg)=>({\n                        role: msg.role,\n                        content: msg.content\n                    })),\n                temperature: 0.7,\n                max_tokens: 3000,\n                stream: false\n            };\n            const response = await fetch(QWEN_API_ENDPOINT, {\n                method: \"POST\",\n                headers: {\n                    \"Authorization\": `Bearer ${QWEN_API_KEY}`,\n                    \"HTTP-Referer\":  false ? 0 : \"https://hallo-app.com\",\n                    \"X-Title\": \"Hallo App\",\n                    \"Content-Type\": \"application/json\",\n                    \"Accept\": \"application/json\"\n                },\n                body: JSON.stringify(requestBody),\n                cache: \"no-store\"\n            });\n            if (!response.ok) {\n                const errorText = await response.text();\n                console.error(\"Error response:\", errorText);\n                try {\n                    const errorData = JSON.parse(errorText);\n                    throw new Error(errorData.error?.message || `Error ${response.status}: ${response.statusText}`);\n                } catch (e) {\n                    throw new Error(`Error ${response.status}: ${response.statusText}`);\n                }\n            }\n            const responseData = await response.json();\n            console.log(\"Respons API berhasil:\", JSON.stringify(responseData).substring(0, 100) + \"...\");\n            // Memeriksa berbagai format respon yang mungkin dari OpenRouter\n            if (responseData.choices && responseData.choices[0] && responseData.choices[0].message) {\n                return responseData.choices[0].message;\n            } else if (responseData.message) {\n                return {\n                    role: responseData.message.role || \"assistant\",\n                    content: responseData.message.content\n                };\n            } else if (responseData.response) {\n                return {\n                    role: \"assistant\",\n                    content: responseData.response\n                };\n            } else if (responseData.content || typeof responseData.content === \"string\") {\n                return {\n                    role: \"assistant\",\n                    content: responseData.content\n                };\n            } else {\n                throw new Error(\"Format respons tidak valid dari OpenRouter.\");\n            }\n        } catch (error) {\n            lastError = error;\n            console.error(`Percobaan ${retries + 1}/${MAX_RETRIES + 1} gagal:`, error);\n            // Jika masih ada percobaan tersisa, tunggu sebentar sebelum mencoba lagi\n            if (retries < MAX_RETRIES) {\n                // Tunggu semakin lama untuk setiap percobaan (1s, 2s)\n                await sleep(1000 * (retries + 1));\n                retries++;\n            } else {\n                // Jika sudah mencapai batas percobaan, lempar error\n                console.error(\"Semua percobaan gagal:\", lastError);\n                throw lastError;\n            }\n        }\n    }\n    // Ini seharusnya tidak pernah terjangkau, tetapi TypeScript memerlukan return\n    throw lastError || new Error(\"Tidak dapat menghubungi API OpenRouter\");\n}\n// Fungsi untuk fallback ke respons statis jika API tidak tersedia\nfunction getStaticResponse(prompt) {\n    return `Maaf, saya tidak dapat terhubung ke layanan AI saat ini. Silakan coba lagi nanti atau hubungi dukungan teknis jika masalah berlanjut.\r\n\r\nPertanyaan Anda: \"${prompt}\"`;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBSU1lc3NhZ2UgfSBmcm9tICcuL3R5cGVzJztcclxuXHJcbi8vIEtvbmZpZ3VyYXNpIHVudHVrIE9wZW5Sb3V0ZXIgZGVuZ2FuIG1vZGVsIFF3ZW5cclxuY29uc3QgUVdFTl9BUElfRU5EUE9JTlQgPSBwcm9jZXNzLmVudi5ORVhUX1FXRU5fQVBJX0VORFBPSU5UIHx8ICdodHRwczovL29wZW5yb3V0ZXIuYWkvYXBpL3YxL2NoYXQvY29tcGxldGlvbnMnO1xyXG5jb25zdCBRV0VOX0FQSV9LRVkgPSBwcm9jZXNzLmVudi5ORVhUX1FXRU5fQVBJX0tFWSB8fCAnJztcclxuXHJcbi8vIE1vZGVsIGRlZmF1bHQgLSBndW5ha2FuIG1vZGVsIGdyYXRpcyBkYXJpIE9wZW5Sb3V0ZXJcclxuLy8gUGFzdGlrYW4gbWVuZ2d1bmFrYW4gbW9kZWwgeWFuZyB0ZXJzZWRpYSBkaSBPcGVuUm91dGVyXHJcbmNvbnN0IERFRkFVTFRfTU9ERUwgPSAncXdlbi9xd2VuMy0zMmI6ZnJlZSc7XHJcblxyXG4vKipcclxuICogRnVuZ3NpIHVudHVrIG1lbmRhcGF0a2FuIG5hbWEgeWFuZyBsZWJpaCB1c2VyLWZyaWVuZGx5IGRhcmkgbW9kZWwgSURcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRNb2RlbERpc3BsYXlOYW1lKG1vZGVsSWQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgLy8gUGVueWVkZXJoYW5hYW4gbmFtYSBtb2RlbFxyXG4gIGlmIChtb2RlbElkLmluY2x1ZGVzKCdxd2VuMS41LTMyYicpKSB7XHJcbiAgICByZXR1cm4gJ1F3ZW4gMS41IDMyQic7XHJcbiAgfSBlbHNlIGlmIChtb2RlbElkLmluY2x1ZGVzKCdxd2VuMy0zMmInKSkge1xyXG4gICAgcmV0dXJuICdRd2VuIDMgMzJCJztcclxuICB9XHJcbiAgXHJcbiAgLy8gRGVmYXVsdCBqaWthIHRpZGFrIGFkYSB5YW5nIGNvY29rXHJcbiAgcmV0dXJuICdRd2VuIEFJJztcclxufVxyXG5cclxuLy8gRnVuZ3NpIHVudHVrIG1lbnVuZGEgZWtzZWt1c2lcclxuY29uc3Qgc2xlZXAgPSAobXM6IG51bWJlcikgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7XHJcblxyXG4vKipcclxuICogRnVuZ3NpIHVudHVrIG1lbmdpcmltIHBlc2FuIGtlIEFQSSBRd2VuIG1lbGFsdWkgT3BlblJvdXRlclxyXG4gKiBEZW5nYW4gcGVuYW5nYW5hbiBlcnJvciB5YW5nIGxlYmloIGJhaWsgZGFuIHJldHJpZXNcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kTWVzc2FnZVRvUXdlbihtZXNzYWdlczogQUlNZXNzYWdlW10sIG1vZGVsOiBzdHJpbmcgPSBERUZBVUxUX01PREVMKSB7XHJcbiAgLy8gSnVtbGFoIG1ha3NpbXVtIHBlcmNvYmFhblxyXG4gIGNvbnN0IE1BWF9SRVRSSUVTID0gMjtcclxuICBsZXQgcmV0cmllcyA9IDA7XHJcbiAgbGV0IGxhc3RFcnJvcjogRXJyb3IgfCBudWxsID0gbnVsbDtcclxuXHJcbiAgd2hpbGUgKHJldHJpZXMgPD0gTUFYX1JFVFJJRVMpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIFBlcmlrc2EgQVBJIGtleVxyXG4gICAgICBpZiAoIVFXRU5fQVBJX0tFWSkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQVBJIGtleSBPcGVuUm91dGVyIHRpZGFrIHRlcnNlZGlhLiBQZXJpa3NhIGtvbmZpZ3VyYXNpIC5lbnYubG9jYWwuJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCdNZW5jb2JhIG1lbmdpcmltIHBlc2FuIGtlIG1vZGVsOicsIG1vZGVsKTtcclxuICAgICAgY29uc29sZS5sb2coJ0FQSSBFbmRwb2ludDonLCBRV0VOX0FQSV9FTkRQT0lOVCk7XHJcblxyXG4gICAgICAvLyBGb3JtYXQgcGVybWludGFhbiBzZXN1YWkgZG9rdW1lbnRhc2kgT3BlblJvdXRlciB0ZXJiYXJ1XHJcbiAgICAgIGNvbnN0IHJlcXVlc3RCb2R5ID0ge1xyXG4gICAgICAgIG1vZGVsOiBtb2RlbCxcclxuICAgICAgICBtZXNzYWdlczogbWVzc2FnZXMubWFwKG1zZyA9PiAoe1xyXG4gICAgICAgICAgcm9sZTogbXNnLnJvbGUsXHJcbiAgICAgICAgICBjb250ZW50OiBtc2cuY29udGVudFxyXG4gICAgICAgIH0pKSxcclxuICAgICAgICB0ZW1wZXJhdHVyZTogMC43LFxyXG4gICAgICAgIG1heF90b2tlbnM6IDMwMDAsXHJcbiAgICAgICAgc3RyZWFtOiBmYWxzZVxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChRV0VOX0FQSV9FTkRQT0lOVCwge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke1FXRU5fQVBJX0tFWX1gLFxyXG4gICAgICAgICAgJ0hUVFAtUmVmZXJlcic6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93LmxvY2F0aW9uLm9yaWdpbiA6ICdodHRwczovL2hhbGxvLWFwcC5jb20nLFxyXG4gICAgICAgICAgJ1gtVGl0bGUnOiAnSGFsbG8gQXBwJyxcclxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZXF1ZXN0Qm9keSksXHJcbiAgICAgICAgY2FjaGU6ICduby1zdG9yZSdcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlc3BvbnNlOicsIGVycm9yVGV4dCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IEpTT04ucGFyc2UoZXJyb3JUZXh0KTtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEuZXJyb3I/Lm1lc3NhZ2UgfHwgYEVycm9yICR7cmVzcG9uc2Uuc3RhdHVzfTogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgJHtyZXNwb25zZS5zdGF0dXN9OiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdSZXNwb25zIEFQSSBiZXJoYXNpbDonLCBKU09OLnN0cmluZ2lmeShyZXNwb25zZURhdGEpLnN1YnN0cmluZygwLCAxMDApICsgJy4uLicpO1xyXG4gICAgICBcclxuICAgICAgLy8gTWVtZXJpa3NhIGJlcmJhZ2FpIGZvcm1hdCByZXNwb24geWFuZyBtdW5na2luIGRhcmkgT3BlblJvdXRlclxyXG4gICAgICBpZiAocmVzcG9uc2VEYXRhLmNob2ljZXMgJiYgcmVzcG9uc2VEYXRhLmNob2ljZXNbMF0gJiYgcmVzcG9uc2VEYXRhLmNob2ljZXNbMF0ubWVzc2FnZSkge1xyXG4gICAgICAgIHJldHVybiByZXNwb25zZURhdGEuY2hvaWNlc1swXS5tZXNzYWdlO1xyXG4gICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlRGF0YS5tZXNzYWdlKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHJvbGU6IHJlc3BvbnNlRGF0YS5tZXNzYWdlLnJvbGUgfHwgJ2Fzc2lzdGFudCcsXHJcbiAgICAgICAgICBjb250ZW50OiByZXNwb25zZURhdGEubWVzc2FnZS5jb250ZW50XHJcbiAgICAgICAgfTtcclxuICAgICAgfSBlbHNlIGlmIChyZXNwb25zZURhdGEucmVzcG9uc2UpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXHJcbiAgICAgICAgICBjb250ZW50OiByZXNwb25zZURhdGEucmVzcG9uc2VcclxuICAgICAgICB9O1xyXG4gICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlRGF0YS5jb250ZW50IHx8IHR5cGVvZiByZXNwb25zZURhdGEuY29udGVudCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXHJcbiAgICAgICAgICBjb250ZW50OiByZXNwb25zZURhdGEuY29udGVudFxyXG4gICAgICAgIH07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGb3JtYXQgcmVzcG9ucyB0aWRhayB2YWxpZCBkYXJpIE9wZW5Sb3V0ZXIuJyk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgICAgbGFzdEVycm9yID0gZXJyb3I7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFBlcmNvYmFhbiAke3JldHJpZXMgKyAxfS8ke01BWF9SRVRSSUVTICsgMX0gZ2FnYWw6YCwgZXJyb3IpO1xyXG4gICAgICBcclxuICAgICAgLy8gSmlrYSBtYXNpaCBhZGEgcGVyY29iYWFuIHRlcnNpc2EsIHR1bmdndSBzZWJlbnRhciBzZWJlbHVtIG1lbmNvYmEgbGFnaVxyXG4gICAgICBpZiAocmV0cmllcyA8IE1BWF9SRVRSSUVTKSB7XHJcbiAgICAgICAgLy8gVHVuZ2d1IHNlbWFraW4gbGFtYSB1bnR1ayBzZXRpYXAgcGVyY29iYWFuICgxcywgMnMpXHJcbiAgICAgICAgYXdhaXQgc2xlZXAoMTAwMCAqIChyZXRyaWVzICsgMSkpO1xyXG4gICAgICAgIHJldHJpZXMrKztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBKaWthIHN1ZGFoIG1lbmNhcGFpIGJhdGFzIHBlcmNvYmFhbiwgbGVtcGFyIGVycm9yXHJcbiAgICAgICAgY29uc29sZS5lcnJvcignU2VtdWEgcGVyY29iYWFuIGdhZ2FsOicsIGxhc3RFcnJvcik7XHJcbiAgICAgICAgdGhyb3cgbGFzdEVycm9yO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBJbmkgc2VoYXJ1c255YSB0aWRhayBwZXJuYWggdGVyamFuZ2thdSwgdGV0YXBpIFR5cGVTY3JpcHQgbWVtZXJsdWthbiByZXR1cm5cclxuICB0aHJvdyBsYXN0RXJyb3IgfHwgbmV3IEVycm9yKCdUaWRhayBkYXBhdCBtZW5naHVidW5naSBBUEkgT3BlblJvdXRlcicpO1xyXG59XHJcblxyXG4vLyBGdW5nc2kgdW50dWsgZmFsbGJhY2sga2UgcmVzcG9ucyBzdGF0aXMgamlrYSBBUEkgdGlkYWsgdGVyc2VkaWFcclxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YXRpY1Jlc3BvbnNlKHByb21wdDogc3RyaW5nKTogc3RyaW5nIHtcclxuICByZXR1cm4gYE1hYWYsIHNheWEgdGlkYWsgZGFwYXQgdGVyaHVidW5nIGtlIGxheWFuYW4gQUkgc2FhdCBpbmkuIFNpbGFrYW4gY29iYSBsYWdpIG5hbnRpIGF0YXUgaHVidW5naSBkdWt1bmdhbiB0ZWtuaXMgamlrYSBtYXNhbGFoIGJlcmxhbmp1dC5cclxuXHJcblBlcnRhbnlhYW4gQW5kYTogXCIke3Byb21wdH1cImA7XHJcbn1cclxuXHJcbmV4cG9ydCB7IERFRkFVTFRfTU9ERUwgfTsgIl0sIm5hbWVzIjpbIlFXRU5fQVBJX0VORFBPSU5UIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUVdFTl9BUElfRU5EUE9JTlQiLCJRV0VOX0FQSV9LRVkiLCJORVhUX1FXRU5fQVBJX0tFWSIsIkRFRkFVTFRfTU9ERUwiLCJnZXRNb2RlbERpc3BsYXlOYW1lIiwibW9kZWxJZCIsImluY2x1ZGVzIiwic2xlZXAiLCJtcyIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsInNlbmRNZXNzYWdlVG9Rd2VuIiwibWVzc2FnZXMiLCJtb2RlbCIsIk1BWF9SRVRSSUVTIiwicmV0cmllcyIsImxhc3RFcnJvciIsIkVycm9yIiwiY29uc29sZSIsImxvZyIsInJlcXVlc3RCb2R5IiwibWFwIiwibXNnIiwicm9sZSIsImNvbnRlbnQiLCJ0ZW1wZXJhdHVyZSIsIm1heF90b2tlbnMiLCJzdHJlYW0iLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsIndpbmRvdyIsImxvY2F0aW9uIiwib3JpZ2luIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYWNoZSIsIm9rIiwiZXJyb3JUZXh0IiwidGV4dCIsImVycm9yIiwiZXJyb3JEYXRhIiwicGFyc2UiLCJtZXNzYWdlIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsImUiLCJyZXNwb25zZURhdGEiLCJqc29uIiwic3Vic3RyaW5nIiwiY2hvaWNlcyIsImdldFN0YXRpY1Jlc3BvbnNlIiwicHJvbXB0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/qwen.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/stories.ts":
/*!****************************!*\
  !*** ./src/lib/stories.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deleteStory: () => (/* binding */ deleteStory),\n/* harmony export */   getRecentStories: () => (/* binding */ getRecentStories),\n/* harmony export */   listenToStories: () => (/* binding */ listenToStories),\n/* harmony export */   markStoryAsViewed: () => (/* binding */ markStoryAsViewed),\n/* harmony export */   updateStoryCaption: () => (/* binding */ updateStoryCaption),\n/* harmony export */   uploadStory: () => (/* binding */ uploadStory)\n/* harmony export */ });\n/* harmony import */ var _firebase_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/firebase/config */ \"(ssr)/./src/firebase/config.ts\");\n/* __next_internal_client_entry_do_not_use__ getRecentStories,uploadStory,deleteStory,updateStoryCaption,markStoryAsViewed,listenToStories auto */ \n// Mendapatkan semua stories yang belum kedaluwarsa (24 jam)\nconst getRecentStories = async ()=>{\n    try {\n        // Dapatkan token Firebase untuk otorisasi\n        const idToken = await _firebase_config__WEBPACK_IMPORTED_MODULE_0__.auth.currentUser?.getIdToken();\n        if (!idToken) {\n            throw new Error(\"User not authenticated\");\n        }\n        // Fetch stories dari API route\n        const response = await fetch(\"/api/story/list\", {\n            headers: {\n                \"Authorization\": `Bearer ${idToken}`\n            }\n        });\n        if (!response.ok) {\n            const errorData = await response.json();\n            throw new Error(errorData.error || \"Failed to fetch stories\");\n        }\n        const data = await response.json();\n        return data.users;\n    } catch (error) {\n        console.error(\"Error getting recent stories:\", error);\n        return [];\n    }\n};\n// Mengunggah story baru\nconst uploadStory = async (userId, file, caption = \"\")=>{\n    try {\n        // Buat form data untuk upload ke API route kita\n        const formData = new FormData();\n        formData.append(\"file\", file);\n        formData.append(\"caption\", caption);\n        // Tentukan resource_type berdasarkan tipe file\n        const isVideo = file.type.startsWith(\"video/\");\n        formData.append(\"resourceType\", isVideo ? \"video\" : \"image\");\n        // Dapatkan token Firebase untuk otorisasi\n        const idToken = await _firebase_config__WEBPACK_IMPORTED_MODULE_0__.auth.currentUser?.getIdToken();\n        if (!idToken) {\n            throw new Error(\"User not authenticated\");\n        }\n        // Kirim ke API route kita yang akan menghandle upload ke Cloudinary\n        const response = await fetch(\"/api/story/upload\", {\n            method: \"POST\",\n            headers: {\n                \"Authorization\": `Bearer ${idToken}`\n            },\n            body: formData\n        });\n        if (!response.ok) {\n            const errorData = await response.json();\n            throw new Error(errorData.error || \"Failed to upload story\");\n        }\n        const data = await response.json();\n        return data.storyId;\n    } catch (error) {\n        console.error(\"Error uploading story:\", error);\n        throw error;\n    }\n};\n// Menghapus story\nconst deleteStory = async (storyId)=>{\n    console.log(\"lib/stories: Starting delete process for story ID:\", storyId);\n    try {\n        // Dapatkan token Firebase untuk otorisasi\n        const idToken = await _firebase_config__WEBPACK_IMPORTED_MODULE_0__.auth.currentUser?.getIdToken();\n        console.log(\"lib/stories: Got Firebase token:\", idToken ? \"YES\" : \"NO\");\n        if (!idToken) {\n            throw new Error(\"User not authenticated\");\n        }\n        // Kirim ke API route untuk menghapus story\n        const url = `/api/story/delete?storyId=${storyId}`;\n        console.log(\"lib/stories: Sending delete request to:\", url);\n        const response = await fetch(url, {\n            method: \"DELETE\",\n            headers: {\n                \"Authorization\": `Bearer ${idToken}`\n            }\n        });\n        console.log(\"lib/stories: Delete response status:\", response.status);\n        if (!response.ok) {\n            const errorData = await response.json();\n            throw new Error(errorData.error || \"Failed to delete story\");\n        }\n        console.log(\"lib/stories: Delete successful\");\n    } catch (error) {\n        console.error(\"Error deleting story:\", error);\n        throw error;\n    }\n};\n// Mengupdate caption story\nconst updateStoryCaption = async (storyId, caption)=>{\n    try {\n        // Dapatkan token Firebase untuk otorisasi\n        const idToken = await _firebase_config__WEBPACK_IMPORTED_MODULE_0__.auth.currentUser?.getIdToken();\n        if (!idToken) {\n            throw new Error(\"User not authenticated\");\n        }\n        // Kirim ke API route untuk update caption\n        const response = await fetch(\"/api/story/update\", {\n            method: \"PUT\",\n            headers: {\n                \"Authorization\": `Bearer ${idToken}`,\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                storyId,\n                caption\n            })\n        });\n        if (!response.ok) {\n            const errorData = await response.json();\n            throw new Error(errorData.error || \"Failed to update story caption\");\n        }\n    } catch (error) {\n        console.error(\"Error updating story caption:\", error);\n        throw error;\n    }\n};\n// Menandai story sebagai sudah dilihat\nconst markStoryAsViewed = async (userId, storyId)=>{\n    try {\n        console.log(`Marking story ${storyId} as viewed by user ${userId}`);\n        // Dapatkan token Firebase untuk otorisasi\n        const idToken = await _firebase_config__WEBPACK_IMPORTED_MODULE_0__.auth.currentUser?.getIdToken();\n        if (!idToken) {\n            throw new Error(\"User not authenticated\");\n        }\n        // Kirim ke API route untuk menandai story sebagai sudah dilihat\n        const response = await fetch(\"/api/story/view\", {\n            method: \"POST\",\n            headers: {\n                \"Authorization\": `Bearer ${idToken}`,\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                storyId\n            })\n        });\n        if (!response.ok) {\n            const errorData = await response.json();\n            throw new Error(errorData.error || \"Failed to mark story as viewed\");\n        }\n        console.log(`Successfully marked story ${storyId} as viewed`);\n        // Segera ambil data baru setelah menandai story sebagai dilihat\n        await getRecentStories();\n    } catch (error) {\n        console.error(\"Error marking story as viewed:\", error);\n    }\n};\n// Modifikasi fungsi listenToStories untuk menggunakan polling\nconst listenToStories = (callback)=>{\n    let isMounted = true;\n    let intervalId;\n    const fetchStories = async ()=>{\n        try {\n            // Dapatkan token Firebase untuk otorisasi\n            const idToken = await _firebase_config__WEBPACK_IMPORTED_MODULE_0__.auth.currentUser?.getIdToken();\n            const currentUserId = _firebase_config__WEBPACK_IMPORTED_MODULE_0__.auth.currentUser?.uid;\n            if (!idToken) {\n                console.error(\"User not authenticated\");\n                // Panggil callback dengan array kosong\n                if (isMounted) {\n                    callback([]);\n                }\n                return;\n            }\n            // Fetch stories dari API route\n            const response = await fetch(\"/api/story/list\", {\n                headers: {\n                    \"Authorization\": `Bearer ${idToken}`\n                }\n            });\n            if (!response.ok) {\n                console.error(\"Error fetching stories:\", response.statusText);\n                // Panggil callback dengan array kosong\n                if (isMounted) {\n                    callback([]);\n                }\n                return;\n            }\n            try {\n                const data = await response.json();\n                if (isMounted) {\n                    const users = data.users || [];\n                    // Debug informasi tentang data pengguna yang diterima\n                    console.log(\"Stories data debug:\", {\n                        totalUsers: users.length,\n                        currentUserInList: users.some((u)=>u.id === currentUserId),\n                        userIds: users.map((u)=>u.id),\n                        currentUserId\n                    });\n                    callback(users);\n                }\n            } catch (parseError) {\n                console.error(\"Error parsing response:\", parseError);\n                // Panggil callback dengan array kosong jika terjadi error parsing\n                if (isMounted) {\n                    callback([]);\n                }\n            }\n        } catch (error) {\n            console.error(\"Error fetching stories:\", error);\n            // Panggil callback dengan array kosong\n            if (isMounted) {\n                callback([]);\n            }\n        }\n    };\n    // Fetch stories pertama kali\n    fetchStories();\n    // Set up interval untuk polling\n    intervalId = setInterval(fetchStories, 60000); // Poll setiap 60 detik (diubah dari 30 detik)\n    // Return cleanup function\n    return ()=>{\n        isMounted = false;\n        clearInterval(intervalId);\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y2VzIjpbIndlYnBhY2s6Ly9oYWxsby8uL3NyYy9saWIvc3Rvcmllcy50cz9jMmMxIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcclxuXHJcbmltcG9ydCB7IGRiLCBhdXRoIH0gZnJvbSAnQC9maXJlYmFzZS9jb25maWcnO1xyXG5pbXBvcnQgeyBcclxuICBjb2xsZWN0aW9uLCBcclxuICBxdWVyeSwgXHJcbiAgd2hlcmUsIFxyXG4gIG9yZGVyQnksIFxyXG4gIGdldERvY3MsIFxyXG4gIGFkZERvYywgXHJcbiAgc2VydmVyVGltZXN0YW1wLCBcclxuICBkb2MsIFxyXG4gIGdldERvYywgXHJcbiAgVGltZXN0YW1wXHJcbn0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcclxuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XHJcblxyXG5leHBvcnQgdHlwZSBTdG9yeSA9IHtcclxuICBpZDogc3RyaW5nO1xyXG4gIGltYWdlVXJsOiBzdHJpbmc7XHJcbiAgdGltZXN0YW1wOiBUaW1lc3RhbXA7XHJcbiAgdXNlcklkOiBzdHJpbmc7XHJcbiAgY2FwdGlvbj86IHN0cmluZztcclxuICByZXNvdXJjZVR5cGU6ICdpbWFnZScgfCAndmlkZW8nOyAvLyBUaXBlIHJlc291cmNlIChpbWFnZSBhdGF1IHZpZGVvKVxyXG4gIGR1cmF0aW9uPzogbnVtYmVyOyAvLyBEdXJhc2kgZGFsYW0gZGV0aWsgdW50dWsgdmlkZW9cclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIFN0b3J5VXNlciA9IHtcclxuICBpZDogc3RyaW5nO1xyXG4gIGRpc3BsYXlOYW1lOiBzdHJpbmc7XHJcbiAgcGhvdG9VUkw6IHN0cmluZztcclxuICBzdG9yaWVzOiBTdG9yeVtdO1xyXG4gIHZpZXdlZFN0b3JpZXM/OiBzdHJpbmdbXTtcclxufTtcclxuXHJcbi8vIE1lbmRhcGF0a2FuIHNlbXVhIHN0b3JpZXMgeWFuZyBiZWx1bSBrZWRhbHV3YXJzYSAoMjQgamFtKVxyXG5leHBvcnQgY29uc3QgZ2V0UmVjZW50U3RvcmllcyA9IGFzeW5jICgpOiBQcm9taXNlPFN0b3J5VXNlcltdPiA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIERhcGF0a2FuIHRva2VuIEZpcmViYXNlIHVudHVrIG90b3Jpc2FzaVxyXG4gICAgY29uc3QgaWRUb2tlbiA9IGF3YWl0IGF1dGguY3VycmVudFVzZXI/LmdldElkVG9rZW4oKTtcclxuICAgIFxyXG4gICAgaWYgKCFpZFRva2VuKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignVXNlciBub3QgYXV0aGVudGljYXRlZCcpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBGZXRjaCBzdG9yaWVzIGRhcmkgQVBJIHJvdXRlXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3N0b3J5L2xpc3QnLCB7XHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHtpZFRva2VufWBcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JEYXRhLmVycm9yIHx8ICdGYWlsZWQgdG8gZmV0Y2ggc3RvcmllcycpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgcmV0dXJuIGRhdGEudXNlcnM7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgcmVjZW50IHN0b3JpZXM6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIFtdO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIE1lbmd1bmdnYWggc3RvcnkgYmFydVxyXG5leHBvcnQgY29uc3QgdXBsb2FkU3RvcnkgPSBhc3luYyAoXHJcbiAgdXNlcklkOiBzdHJpbmcsIFxyXG4gIGZpbGU6IEZpbGUsXHJcbiAgY2FwdGlvbjogc3RyaW5nID0gJydcclxuKTogUHJvbWlzZTxzdHJpbmc+ID0+IHtcclxuICB0cnkge1xyXG4gICAgLy8gQnVhdCBmb3JtIGRhdGEgdW50dWsgdXBsb2FkIGtlIEFQSSByb3V0ZSBraXRhXHJcbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgZmlsZSk7XHJcbiAgICBmb3JtRGF0YS5hcHBlbmQoJ2NhcHRpb24nLCBjYXB0aW9uKTtcclxuICAgIFxyXG4gICAgLy8gVGVudHVrYW4gcmVzb3VyY2VfdHlwZSBiZXJkYXNhcmthbiB0aXBlIGZpbGVcclxuICAgIGNvbnN0IGlzVmlkZW8gPSBmaWxlLnR5cGUuc3RhcnRzV2l0aCgndmlkZW8vJyk7XHJcbiAgICBmb3JtRGF0YS5hcHBlbmQoJ3Jlc291cmNlVHlwZScsIGlzVmlkZW8gPyAndmlkZW8nIDogJ2ltYWdlJyk7XHJcbiAgICBcclxuICAgIC8vIERhcGF0a2FuIHRva2VuIEZpcmViYXNlIHVudHVrIG90b3Jpc2FzaVxyXG4gICAgY29uc3QgaWRUb2tlbiA9IGF3YWl0IGF1dGguY3VycmVudFVzZXI/LmdldElkVG9rZW4oKTtcclxuICAgIFxyXG4gICAgaWYgKCFpZFRva2VuKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignVXNlciBub3QgYXV0aGVudGljYXRlZCcpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBLaXJpbSBrZSBBUEkgcm91dGUga2l0YSB5YW5nIGFrYW4gbWVuZ2hhbmRsZSB1cGxvYWQga2UgQ2xvdWRpbmFyeVxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9zdG9yeS91cGxvYWQnLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7aWRUb2tlbn1gXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IGZvcm1EYXRhXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEuZXJyb3IgfHwgJ0ZhaWxlZCB0byB1cGxvYWQgc3RvcnknKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIHJldHVybiBkYXRhLnN0b3J5SWQ7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwbG9hZGluZyBzdG9yeTonLCBlcnJvcik7XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn07XHJcblxyXG4vLyBNZW5naGFwdXMgc3RvcnlcclxuZXhwb3J0IGNvbnN0IGRlbGV0ZVN0b3J5ID0gYXN5bmMgKHN0b3J5SWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4gPT4ge1xyXG4gIGNvbnNvbGUubG9nKFwibGliL3N0b3JpZXM6IFN0YXJ0aW5nIGRlbGV0ZSBwcm9jZXNzIGZvciBzdG9yeSBJRDpcIiwgc3RvcnlJZCk7XHJcbiAgdHJ5IHtcclxuICAgIC8vIERhcGF0a2FuIHRva2VuIEZpcmViYXNlIHVudHVrIG90b3Jpc2FzaVxyXG4gICAgY29uc3QgaWRUb2tlbiA9IGF3YWl0IGF1dGguY3VycmVudFVzZXI/LmdldElkVG9rZW4oKTtcclxuICAgIGNvbnNvbGUubG9nKFwibGliL3N0b3JpZXM6IEdvdCBGaXJlYmFzZSB0b2tlbjpcIiwgaWRUb2tlbiA/IFwiWUVTXCIgOiBcIk5PXCIpO1xyXG4gICAgXHJcbiAgICBpZiAoIWlkVG9rZW4pIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVc2VyIG5vdCBhdXRoZW50aWNhdGVkJyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIEtpcmltIGtlIEFQSSByb3V0ZSB1bnR1ayBtZW5naGFwdXMgc3RvcnlcclxuICAgIGNvbnN0IHVybCA9IGAvYXBpL3N0b3J5L2RlbGV0ZT9zdG9yeUlkPSR7c3RvcnlJZH1gO1xyXG4gICAgY29uc29sZS5sb2coXCJsaWIvc3RvcmllczogU2VuZGluZyBkZWxldGUgcmVxdWVzdCB0bzpcIiwgdXJsKTtcclxuICAgIFxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcclxuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke2lkVG9rZW59YFxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coXCJsaWIvc3RvcmllczogRGVsZXRlIHJlc3BvbnNlIHN0YXR1czpcIiwgcmVzcG9uc2Uuc3RhdHVzKTtcclxuICAgIFxyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEuZXJyb3IgfHwgJ0ZhaWxlZCB0byBkZWxldGUgc3RvcnknKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coXCJsaWIvc3RvcmllczogRGVsZXRlIHN1Y2Nlc3NmdWxcIik7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIHN0b3J5OicsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIE1lbmd1cGRhdGUgY2FwdGlvbiBzdG9yeVxyXG5leHBvcnQgY29uc3QgdXBkYXRlU3RvcnlDYXB0aW9uID0gYXN5bmMgKHN0b3J5SWQ6IHN0cmluZywgY2FwdGlvbjogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIERhcGF0a2FuIHRva2VuIEZpcmViYXNlIHVudHVrIG90b3Jpc2FzaVxyXG4gICAgY29uc3QgaWRUb2tlbiA9IGF3YWl0IGF1dGguY3VycmVudFVzZXI/LmdldElkVG9rZW4oKTtcclxuICAgIFxyXG4gICAgaWYgKCFpZFRva2VuKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignVXNlciBub3QgYXV0aGVudGljYXRlZCcpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBLaXJpbSBrZSBBUEkgcm91dGUgdW50dWsgdXBkYXRlIGNhcHRpb25cclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc3RvcnkvdXBkYXRlJywge1xyXG4gICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7aWRUb2tlbn1gLFxyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBzdG9yeUlkLCBjYXB0aW9uIH0pXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEuZXJyb3IgfHwgJ0ZhaWxlZCB0byB1cGRhdGUgc3RvcnkgY2FwdGlvbicpO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBzdG9yeSBjYXB0aW9uOicsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIE1lbmFuZGFpIHN0b3J5IHNlYmFnYWkgc3VkYWggZGlsaWhhdFxyXG5leHBvcnQgY29uc3QgbWFya1N0b3J5QXNWaWV3ZWQgPSBhc3luYyAoXHJcbiAgdXNlcklkOiBzdHJpbmcsXHJcbiAgc3RvcnlJZDogc3RyaW5nXHJcbik6IFByb21pc2U8dm9pZD4gPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zb2xlLmxvZyhgTWFya2luZyBzdG9yeSAke3N0b3J5SWR9IGFzIHZpZXdlZCBieSB1c2VyICR7dXNlcklkfWApO1xyXG4gICAgXHJcbiAgICAvLyBEYXBhdGthbiB0b2tlbiBGaXJlYmFzZSB1bnR1ayBvdG9yaXNhc2lcclxuICAgIGNvbnN0IGlkVG9rZW4gPSBhd2FpdCBhdXRoLmN1cnJlbnRVc2VyPy5nZXRJZFRva2VuKCk7XHJcbiAgICBcclxuICAgIGlmICghaWRUb2tlbikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZXIgbm90IGF1dGhlbnRpY2F0ZWQnKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gS2lyaW0ga2UgQVBJIHJvdXRlIHVudHVrIG1lbmFuZGFpIHN0b3J5IHNlYmFnYWkgc3VkYWggZGlsaWhhdFxyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9zdG9yeS92aWV3Jywge1xyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke2lkVG9rZW59YCxcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgc3RvcnlJZCB9KVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JEYXRhLmVycm9yIHx8ICdGYWlsZWQgdG8gbWFyayBzdG9yeSBhcyB2aWV3ZWQnKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coYFN1Y2Nlc3NmdWxseSBtYXJrZWQgc3RvcnkgJHtzdG9yeUlkfSBhcyB2aWV3ZWRgKTtcclxuICAgIC8vIFNlZ2VyYSBhbWJpbCBkYXRhIGJhcnUgc2V0ZWxhaCBtZW5hbmRhaSBzdG9yeSBzZWJhZ2FpIGRpbGloYXRcclxuICAgIGF3YWl0IGdldFJlY2VudFN0b3JpZXMoKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgbWFya2luZyBzdG9yeSBhcyB2aWV3ZWQ6JywgZXJyb3IpO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIE1vZGlmaWthc2kgZnVuZ3NpIGxpc3RlblRvU3RvcmllcyB1bnR1ayBtZW5nZ3VuYWthbiBwb2xsaW5nXHJcbmV4cG9ydCBjb25zdCBsaXN0ZW5Ub1N0b3JpZXMgPSAoY2FsbGJhY2s6ICh1c2VyczogU3RvcnlVc2VyW10pID0+IHZvaWQpOiAoKCkgPT4gdm9pZCkgPT4ge1xyXG4gIGxldCBpc01vdW50ZWQgPSB0cnVlO1xyXG4gIGxldCBpbnRlcnZhbElkOiBOb2RlSlMuVGltZW91dDtcclxuXHJcbiAgY29uc3QgZmV0Y2hTdG9yaWVzID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gRGFwYXRrYW4gdG9rZW4gRmlyZWJhc2UgdW50dWsgb3RvcmlzYXNpXHJcbiAgICAgIGNvbnN0IGlkVG9rZW4gPSBhd2FpdCBhdXRoLmN1cnJlbnRVc2VyPy5nZXRJZFRva2VuKCk7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRVc2VySWQgPSBhdXRoLmN1cnJlbnRVc2VyPy51aWQ7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIWlkVG9rZW4pIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdVc2VyIG5vdCBhdXRoZW50aWNhdGVkJyk7XHJcbiAgICAgICAgLy8gUGFuZ2dpbCBjYWxsYmFjayBkZW5nYW4gYXJyYXkga29zb25nXHJcbiAgICAgICAgaWYgKGlzTW91bnRlZCkge1xyXG4gICAgICAgICAgY2FsbGJhY2soW10pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIEZldGNoIHN0b3JpZXMgZGFyaSBBUEkgcm91dGVcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9zdG9yeS9saXN0Jywge1xyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke2lkVG9rZW59YFxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgc3RvcmllczonLCByZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAvLyBQYW5nZ2lsIGNhbGxiYWNrIGRlbmdhbiBhcnJheSBrb3NvbmdcclxuICAgICAgICBpZiAoaXNNb3VudGVkKSB7XHJcbiAgICAgICAgICBjYWxsYmFjayhbXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChpc01vdW50ZWQpIHtcclxuICAgICAgICAgIGNvbnN0IHVzZXJzID0gZGF0YS51c2VycyB8fCBbXTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gRGVidWcgaW5mb3JtYXNpIHRlbnRhbmcgZGF0YSBwZW5nZ3VuYSB5YW5nIGRpdGVyaW1hXHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIlN0b3JpZXMgZGF0YSBkZWJ1ZzpcIiwge1xyXG4gICAgICAgICAgICB0b3RhbFVzZXJzOiB1c2Vycy5sZW5ndGgsXHJcbiAgICAgICAgICAgIGN1cnJlbnRVc2VySW5MaXN0OiB1c2Vycy5zb21lKCh1OiBTdG9yeVVzZXIpID0+IHUuaWQgPT09IGN1cnJlbnRVc2VySWQpLFxyXG4gICAgICAgICAgICB1c2VySWRzOiB1c2Vycy5tYXAoKHU6IFN0b3J5VXNlcikgPT4gdS5pZCksXHJcbiAgICAgICAgICAgIGN1cnJlbnRVc2VySWRcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBjYWxsYmFjayh1c2Vycyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChwYXJzZUVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyByZXNwb25zZTonLCBwYXJzZUVycm9yKTtcclxuICAgICAgICAvLyBQYW5nZ2lsIGNhbGxiYWNrIGRlbmdhbiBhcnJheSBrb3NvbmcgamlrYSB0ZXJqYWRpIGVycm9yIHBhcnNpbmdcclxuICAgICAgICBpZiAoaXNNb3VudGVkKSB7XHJcbiAgICAgICAgICBjYWxsYmFjayhbXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBzdG9yaWVzOicsIGVycm9yKTtcclxuICAgICAgLy8gUGFuZ2dpbCBjYWxsYmFjayBkZW5nYW4gYXJyYXkga29zb25nXHJcbiAgICAgIGlmIChpc01vdW50ZWQpIHtcclxuICAgICAgICBjYWxsYmFjayhbXSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBGZXRjaCBzdG9yaWVzIHBlcnRhbWEga2FsaVxyXG4gIGZldGNoU3RvcmllcygpO1xyXG5cclxuICAvLyBTZXQgdXAgaW50ZXJ2YWwgdW50dWsgcG9sbGluZ1xyXG4gIGludGVydmFsSWQgPSBzZXRJbnRlcnZhbChmZXRjaFN0b3JpZXMsIDYwMDAwKTsgLy8gUG9sbCBzZXRpYXAgNjAgZGV0aWsgKGRpdWJhaCBkYXJpIDMwIGRldGlrKVxyXG5cclxuICAvLyBSZXR1cm4gY2xlYW51cCBmdW5jdGlvblxyXG4gIHJldHVybiAoKSA9PiB7XHJcbiAgICBpc01vdW50ZWQgPSBmYWxzZTtcclxuICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XHJcbiAgfTtcclxufTsgIl0sIm5hbWVzIjpbImF1dGgiLCJnZXRSZWNlbnRTdG9yaWVzIiwiaWRUb2tlbiIsImN1cnJlbnRVc2VyIiwiZ2V0SWRUb2tlbiIsIkVycm9yIiwicmVzcG9uc2UiLCJmZXRjaCIsImhlYWRlcnMiLCJvayIsImVycm9yRGF0YSIsImpzb24iLCJlcnJvciIsImRhdGEiLCJ1c2VycyIsImNvbnNvbGUiLCJ1cGxvYWRTdG9yeSIsInVzZXJJZCIsImZpbGUiLCJjYXB0aW9uIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsImlzVmlkZW8iLCJ0eXBlIiwic3RhcnRzV2l0aCIsIm1ldGhvZCIsImJvZHkiLCJzdG9yeUlkIiwiZGVsZXRlU3RvcnkiLCJsb2ciLCJ1cmwiLCJzdGF0dXMiLCJ1cGRhdGVTdG9yeUNhcHRpb24iLCJKU09OIiwic3RyaW5naWZ5IiwibWFya1N0b3J5QXNWaWV3ZWQiLCJsaXN0ZW5Ub1N0b3JpZXMiLCJjYWxsYmFjayIsImlzTW91bnRlZCIsImludGVydmFsSWQiLCJmZXRjaFN0b3JpZXMiLCJjdXJyZW50VXNlcklkIiwidWlkIiwic3RhdHVzVGV4dCIsInRvdGFsVXNlcnMiLCJsZW5ndGgiLCJjdXJyZW50VXNlckluTGlzdCIsInNvbWUiLCJ1IiwiaWQiLCJ1c2VySWRzIiwibWFwIiwicGFyc2VFcnJvciIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/stories.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/translate.ts":
/*!******************************!*\
  !*** ./src/lib/translate.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   translateText: () => (/* binding */ translateText)\n/* harmony export */ });\n/* harmony import */ var _i18n__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./i18n */ \"(ssr)/./src/lib/i18n.ts\");\n\n// Simple function to generate a basic translation for timeout cases\nfunction generateBasicTranslation(text, targetLang) {\n    return {\n        originalText: text,\n        translatedText: `[${targetLang.toUpperCase()}] ${text}`,\n        detectedLanguage: \"auto\",\n        sourceLang: \"auto\",\n        targetLang: targetLang\n    };\n}\n// Tambahkan fungsi untuk mencatat terjemahan yang sering diminta\nconst translationCache = new Map();\n// Translation function using our API route\nasync function translateText(text, targetLang = \"en\") {\n    // Jangan terjemahkan string kosong\n    if (!text || text.trim() === \"\") {\n        return generateBasicTranslation(\"\", targetLang);\n    }\n    // Cek cache untuk terjemahan yang pernah diminta\n    const cacheKey = `${text}_${targetLang}`;\n    if (translationCache.has(cacheKey)) {\n        return translationCache.get(cacheKey);\n    }\n    try {\n        // Gunakan langsung translateClientSide karena lebih handal\n        console.log(`Menterjemahkan menggunakan client-side translation...`);\n        try {\n            // Metode client-side (Lingva) lebih handal\n            const clientResult = await (0,_i18n__WEBPACK_IMPORTED_MODULE_0__.translateClientSide)(text, targetLang);\n            translationCache.set(cacheKey, clientResult);\n            return clientResult;\n        } catch (clientError) {\n            console.error(\"Client-side translation failed:\", clientError);\n            // Fallback terakhir\n            const fallbackResult = generateBasicTranslation(text, targetLang);\n            return {\n                ...fallbackResult,\n                error: \"Terjemahan gagal\"\n            };\n        }\n    } catch (error) {\n        console.error(\"Translation error:\", error);\n        // Fallback terakhir jika semua gagal\n        return generateBasicTranslation(text, targetLang);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvbGliL3RyYW5zbGF0ZS50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUM2QztBQUU3QyxvRUFBb0U7QUFDcEUsU0FBU0MseUJBQXlCQyxJQUFZLEVBQUVDLFVBQWtCO0lBQ2hFLE9BQU87UUFDTEMsY0FBY0Y7UUFDZEcsZ0JBQWdCLENBQUMsQ0FBQyxFQUFFRixXQUFXRyxXQUFXLEdBQUcsRUFBRSxFQUFFSixLQUFLLENBQUM7UUFDdkRLLGtCQUFrQjtRQUNsQkMsWUFBWTtRQUNaTCxZQUFZQTtJQUNkO0FBQ0Y7QUFFQSxpRUFBaUU7QUFDakUsTUFBTU0sbUJBQW1CLElBQUlDO0FBRTdCLDJDQUEyQztBQUNwQyxlQUFlQyxjQUNwQlQsSUFBWSxFQUNaQyxhQUFxQixJQUFJO0lBRXpCLG1DQUFtQztJQUNuQyxJQUFJLENBQUNELFFBQVFBLEtBQUtVLElBQUksT0FBTyxJQUFJO1FBQy9CLE9BQU9YLHlCQUF5QixJQUFJRTtJQUN0QztJQUVBLGlEQUFpRDtJQUNqRCxNQUFNVSxXQUFXLENBQUMsRUFBRVgsS0FBSyxDQUFDLEVBQUVDLFdBQVcsQ0FBQztJQUN4QyxJQUFJTSxpQkFBaUJLLEdBQUcsQ0FBQ0QsV0FBVztRQUNsQyxPQUFPSixpQkFBaUJNLEdBQUcsQ0FBQ0Y7SUFDOUI7SUFFQSxJQUFJO1FBQ0YsMkRBQTJEO1FBQzNERyxRQUFRQyxHQUFHLENBQUMsQ0FBQyxxREFBcUQsQ0FBQztRQUNuRSxJQUFJO1lBQ0YsMkNBQTJDO1lBQzNDLE1BQU1DLGVBQWUsTUFBTWxCLDBEQUFtQkEsQ0FBQ0UsTUFBTUM7WUFDckRNLGlCQUFpQlUsR0FBRyxDQUFDTixVQUFVSztZQUMvQixPQUFPQTtRQUNULEVBQUUsT0FBT0UsYUFBYTtZQUNwQkosUUFBUUssS0FBSyxDQUFDLG1DQUFtQ0Q7WUFDakQsb0JBQW9CO1lBQ3BCLE1BQU1FLGlCQUFpQnJCLHlCQUF5QkMsTUFBTUM7WUFDdEQsT0FBTztnQkFBRSxHQUFHbUIsY0FBYztnQkFBRUQsT0FBTztZQUFtQjtRQUN4RDtJQUNGLEVBQUUsT0FBT0EsT0FBTztRQUNkTCxRQUFRSyxLQUFLLENBQUMsc0JBQXNCQTtRQUNwQyxxQ0FBcUM7UUFDckMsT0FBT3BCLHlCQUF5QkMsTUFBTUM7SUFDeEM7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2hhbGxvLy4vc3JjL2xpYi90cmFuc2xhdGUudHM/YWJkZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUcmFuc2xhdGlvblJlc3VsdCB9IGZyb20gJy4vdHlwZXMnO1xyXG5pbXBvcnQgeyB0cmFuc2xhdGVDbGllbnRTaWRlIH0gZnJvbSAnLi9pMThuJztcclxuXHJcbi8vIFNpbXBsZSBmdW5jdGlvbiB0byBnZW5lcmF0ZSBhIGJhc2ljIHRyYW5zbGF0aW9uIGZvciB0aW1lb3V0IGNhc2VzXHJcbmZ1bmN0aW9uIGdlbmVyYXRlQmFzaWNUcmFuc2xhdGlvbih0ZXh0OiBzdHJpbmcsIHRhcmdldExhbmc6IHN0cmluZyk6IFRyYW5zbGF0aW9uUmVzdWx0IHtcclxuICByZXR1cm4ge1xyXG4gICAgb3JpZ2luYWxUZXh0OiB0ZXh0LFxyXG4gICAgdHJhbnNsYXRlZFRleHQ6IGBbJHt0YXJnZXRMYW5nLnRvVXBwZXJDYXNlKCl9XSAke3RleHR9YCwgXHJcbiAgICBkZXRlY3RlZExhbmd1YWdlOiAnYXV0bycsXHJcbiAgICBzb3VyY2VMYW5nOiAnYXV0bycsXHJcbiAgICB0YXJnZXRMYW5nOiB0YXJnZXRMYW5nXHJcbiAgfTtcclxufVxyXG5cclxuLy8gVGFtYmFoa2FuIGZ1bmdzaSB1bnR1ayBtZW5jYXRhdCB0ZXJqZW1haGFuIHlhbmcgc2VyaW5nIGRpbWludGFcclxuY29uc3QgdHJhbnNsYXRpb25DYWNoZSA9IG5ldyBNYXA8c3RyaW5nLCBUcmFuc2xhdGlvblJlc3VsdD4oKTtcclxuXHJcbi8vIFRyYW5zbGF0aW9uIGZ1bmN0aW9uIHVzaW5nIG91ciBBUEkgcm91dGVcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRyYW5zbGF0ZVRleHQoXHJcbiAgdGV4dDogc3RyaW5nLFxyXG4gIHRhcmdldExhbmc6IHN0cmluZyA9ICdlbidcclxuKTogUHJvbWlzZTxUcmFuc2xhdGlvblJlc3VsdD4ge1xyXG4gIC8vIEphbmdhbiB0ZXJqZW1haGthbiBzdHJpbmcga29zb25nXHJcbiAgaWYgKCF0ZXh0IHx8IHRleHQudHJpbSgpID09PSAnJykge1xyXG4gICAgcmV0dXJuIGdlbmVyYXRlQmFzaWNUcmFuc2xhdGlvbignJywgdGFyZ2V0TGFuZyk7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIENlayBjYWNoZSB1bnR1ayB0ZXJqZW1haGFuIHlhbmcgcGVybmFoIGRpbWludGFcclxuICBjb25zdCBjYWNoZUtleSA9IGAke3RleHR9XyR7dGFyZ2V0TGFuZ31gO1xyXG4gIGlmICh0cmFuc2xhdGlvbkNhY2hlLmhhcyhjYWNoZUtleSkpIHtcclxuICAgIHJldHVybiB0cmFuc2xhdGlvbkNhY2hlLmdldChjYWNoZUtleSkhO1xyXG4gIH1cclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gR3VuYWthbiBsYW5nc3VuZyB0cmFuc2xhdGVDbGllbnRTaWRlIGthcmVuYSBsZWJpaCBoYW5kYWxcclxuICAgIGNvbnNvbGUubG9nKGBNZW50ZXJqZW1haGthbiBtZW5nZ3VuYWthbiBjbGllbnQtc2lkZSB0cmFuc2xhdGlvbi4uLmApO1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gTWV0b2RlIGNsaWVudC1zaWRlIChMaW5ndmEpIGxlYmloIGhhbmRhbFxyXG4gICAgICBjb25zdCBjbGllbnRSZXN1bHQgPSBhd2FpdCB0cmFuc2xhdGVDbGllbnRTaWRlKHRleHQsIHRhcmdldExhbmcpO1xyXG4gICAgICB0cmFuc2xhdGlvbkNhY2hlLnNldChjYWNoZUtleSwgY2xpZW50UmVzdWx0KTtcclxuICAgICAgcmV0dXJuIGNsaWVudFJlc3VsdDtcclxuICAgIH0gY2F0Y2ggKGNsaWVudEVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0NsaWVudC1zaWRlIHRyYW5zbGF0aW9uIGZhaWxlZDonLCBjbGllbnRFcnJvcik7XHJcbiAgICAgIC8vIEZhbGxiYWNrIHRlcmFraGlyXHJcbiAgICAgIGNvbnN0IGZhbGxiYWNrUmVzdWx0ID0gZ2VuZXJhdGVCYXNpY1RyYW5zbGF0aW9uKHRleHQsIHRhcmdldExhbmcpO1xyXG4gICAgICByZXR1cm4geyAuLi5mYWxsYmFja1Jlc3VsdCwgZXJyb3I6ICdUZXJqZW1haGFuIGdhZ2FsJyB9O1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdUcmFuc2xhdGlvbiBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAvLyBGYWxsYmFjayB0ZXJha2hpciBqaWthIHNlbXVhIGdhZ2FsXHJcbiAgICByZXR1cm4gZ2VuZXJhdGVCYXNpY1RyYW5zbGF0aW9uKHRleHQsIHRhcmdldExhbmcpO1xyXG4gIH1cclxufSAiXSwibmFtZXMiOlsidHJhbnNsYXRlQ2xpZW50U2lkZSIsImdlbmVyYXRlQmFzaWNUcmFuc2xhdGlvbiIsInRleHQiLCJ0YXJnZXRMYW5nIiwib3JpZ2luYWxUZXh0IiwidHJhbnNsYXRlZFRleHQiLCJ0b1VwcGVyQ2FzZSIsImRldGVjdGVkTGFuZ3VhZ2UiLCJzb3VyY2VMYW5nIiwidHJhbnNsYXRpb25DYWNoZSIsIk1hcCIsInRyYW5zbGF0ZVRleHQiLCJ0cmltIiwiY2FjaGVLZXkiLCJoYXMiLCJnZXQiLCJjb25zb2xlIiwibG9nIiwiY2xpZW50UmVzdWx0Iiwic2V0IiwiY2xpZW50RXJyb3IiLCJlcnJvciIsImZhbGxiYWNrUmVzdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/translate.ts\n");

/***/ }),

/***/ "(ssr)/./src/lib/users.ts":
/*!**************************!*\
  !*** ./src/lib/users.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   listenToUserProfile: () => (/* binding */ listenToUserProfile),\n/* harmony export */   saveUserToFirestore: () => (/* binding */ saveUserToFirestore),\n/* harmony export */   setUserOffline: () => (/* binding */ setUserOffline),\n/* harmony export */   setupOnlineStatusListeners: () => (/* binding */ setupOnlineStatusListeners),\n/* harmony export */   updateOnlineStatus: () => (/* binding */ updateOnlineStatus),\n/* harmony export */   updateUserProfile: () => (/* binding */ updateUserProfile)\n/* harmony export */ });\n/* harmony import */ var _firebase_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/firebase/config */ \"(ssr)/./src/firebase/config.ts\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/firestore */ \"(ssr)/./node_modules/firebase/firestore/dist/index.mjs\");\n\n\n/**\r\n * Menyimpan data pengguna ke Firestore\r\n */ const saveUserToFirestore = async (user, phoneNumber)=>{\n    if (!user.uid) return;\n    try {\n        const userRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_0__.db, \"users\", user.uid);\n        // Periksa apakah pengguna sudah ada\n        const userDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDoc)(userRef);\n        if (!userDoc.exists()) {\n            // Jika belum ada, simpan data pengguna dengan photoURL dari Google\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.setDoc)(userRef, {\n                uid: user.uid,\n                email: user.email,\n                displayName: user.displayName || user.email?.split(\"@\")[0] || \"Pengguna\",\n                photoURL: user.photoURL || null,\n                phoneNumber: phoneNumber || null,\n                createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)(),\n                lastSeen: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)(),\n                isOnline: true\n            });\n        } else {\n            // Jika sudah ada, selalu update photoURL jika ada dari Google (untuk memastikan selalu konsisten)\n            const updateData = {\n                lastSeen: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)(),\n                isOnline: true\n            };\n            if (user.photoURL) {\n                updateData.photoURL = user.photoURL;\n            }\n            if (user.displayName) {\n                updateData.displayName = user.displayName;\n            }\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.updateDoc)(userRef, updateData);\n        }\n    } catch (error) {\n        console.error(\"Error menyimpan data pengguna:\", error);\n    }\n};\n/**\r\n * Update data pengguna termasuk nomor telepon\r\n */ const updateUserProfile = async (userId, data)=>{\n    try {\n        // Buat objek untuk update yang tidak berisi undefined\n        const updateData = {\n            updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)()\n        };\n        // Hanya tambahkan field yang bukan undefined\n        if (data.displayName !== undefined) {\n            updateData.displayName = data.displayName;\n        }\n        if (data.photoURL !== undefined) {\n            updateData.photoURL = data.photoURL;\n        }\n        // Untuk phoneNumber, ganti undefined dengan null (diterima Firestore)\n        if (data.phoneNumber !== undefined) {\n            updateData.phoneNumber = data.phoneNumber || null;\n        }\n        const userRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_0__.db, \"users\", userId);\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.updateDoc)(userRef, updateData);\n        return true;\n    } catch (error) {\n        console.error(\"Error updating user profile:\", error);\n        return false;\n    }\n};\n/**\r\n * Update status online/offline pengguna\r\n */ const updateOnlineStatus = async (userId, isOnline)=>{\n    try {\n        const userRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_0__.db, \"users\", userId);\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.updateDoc)(userRef, {\n            isOnline: isOnline,\n            lastSeen: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)()\n        });\n    } catch (error) {\n        console.error(\"Error updating online status:\", error);\n    }\n};\n/**\r\n * Mengatur status offline saat pengguna logout\r\n */ const setUserOffline = async (userId)=>{\n    try {\n        await updateOnlineStatus(userId, false);\n    } catch (error) {\n        console.error(\"Error setting user offline:\", error);\n    }\n};\n/**\r\n * Mengatur status offline saat pengguna menutup browser\r\n */ const setupOnlineStatusListeners = (userId)=>{\n    if (true) return;\n    const handleBeforeUnload = ()=>{\n        updateOnlineStatus(userId, false);\n    };\n    const handleVisibilityChange = ()=>{\n        if (document.visibilityState === \"visible\") {\n            updateOnlineStatus(userId, true);\n        } else {\n            updateOnlineStatus(userId, false);\n        }\n    };\n    window.addEventListener(\"beforeunload\", handleBeforeUnload);\n    document.addEventListener(\"visibilitychange\", handleVisibilityChange);\n    // Pastikan status online saat halaman aktif\n    if (document.visibilityState === \"visible\") {\n        updateOnlineStatus(userId, true);\n    }\n    return ()=>{\n        window.removeEventListener(\"beforeunload\", handleBeforeUnload);\n        document.removeEventListener(\"visibilitychange\", handleVisibilityChange);\n    };\n};\n/**\r\n * Mendengarkan perubahan profil pengguna secara realtime\r\n * \r\n * @param userId ID pengguna yang ingin dipantau\r\n * @param onChange Callback yang akan dipanggil saat ada perubahan data pengguna\r\n * @returns Fungsi untuk berhenti mendengarkan (unsubscribe)\r\n */ const listenToUserProfile = (userId, onChange)=>{\n    if (!userId) return ()=>{};\n    const userRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.doc)(_firebase_config__WEBPACK_IMPORTED_MODULE_0__.db, \"users\", userId);\n    // Mulai mendengarkan perubahan\n    const unsubscribe = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.onSnapshot)(userRef, (snapshot)=>{\n        if (snapshot.exists()) {\n            const userData = {\n                id: snapshot.id,\n                ...snapshot.data()\n            };\n            // Pastikan displayName tidak hilang\n            if (!userData.displayName || userData.displayName === \"\") {\n                userData.displayName = userData.email?.split(\"@\")[0] || \"Pengguna\";\n            }\n            onChange(userData);\n        } else {\n            // Jika dokumen tidak ada, tetap kirim data minimal\n            onChange({\n                id: userId,\n                displayName: \"Pengguna\",\n                isOnline: false\n            });\n        }\n    }, (error)=>{\n        console.error(\"Error listening to user profile:\", error);\n        // Kirim data fallback jika terjadi error\n        onChange({\n            id: userId,\n            displayName: \"Pengguna\",\n            isOnline: false\n        });\n    });\n    return unsubscribe;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvbGliL3VzZXJzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXVDO0FBQzBEO0FBR2pHOztDQUVDLEdBQ00sTUFBTU8sc0JBQXNCLE9BQU9DLE1BQVlDO0lBQ3BELElBQUksQ0FBQ0QsS0FBS0UsR0FBRyxFQUFFO0lBRWYsSUFBSTtRQUNGLE1BQU1DLFVBQVVWLHVEQUFHQSxDQUFDRCxnREFBRUEsRUFBRSxTQUFTUSxLQUFLRSxHQUFHO1FBRXpDLG9DQUFvQztRQUNwQyxNQUFNRSxVQUFVLE1BQU1ULDBEQUFNQSxDQUFDUTtRQUU3QixJQUFJLENBQUNDLFFBQVFDLE1BQU0sSUFBSTtZQUNyQixtRUFBbUU7WUFDbkUsTUFBTVgsMERBQU1BLENBQUNTLFNBQVM7Z0JBQ3BCRCxLQUFLRixLQUFLRSxHQUFHO2dCQUNiSSxPQUFPTixLQUFLTSxLQUFLO2dCQUNqQkMsYUFBYVAsS0FBS08sV0FBVyxJQUFJUCxLQUFLTSxLQUFLLEVBQUVFLE1BQU0sSUFBSSxDQUFDLEVBQUUsSUFBSTtnQkFDOURDLFVBQVVULEtBQUtTLFFBQVEsSUFBSTtnQkFDM0JSLGFBQWFBLGVBQWU7Z0JBQzVCUyxXQUFXZCxtRUFBZUE7Z0JBQzFCZSxVQUFVZixtRUFBZUE7Z0JBQ3pCZ0IsVUFBVTtZQUNaO1FBQ0YsT0FBTztZQUNMLGtHQUFrRztZQUNsRyxNQUFNQyxhQUFrQjtnQkFDdEJGLFVBQVVmLG1FQUFlQTtnQkFDekJnQixVQUFVO1lBQ1o7WUFFQSxJQUFJWixLQUFLUyxRQUFRLEVBQUU7Z0JBQ2pCSSxXQUFXSixRQUFRLEdBQUdULEtBQUtTLFFBQVE7WUFDckM7WUFFQSxJQUFJVCxLQUFLTyxXQUFXLEVBQUU7Z0JBQ3BCTSxXQUFXTixXQUFXLEdBQUdQLEtBQUtPLFdBQVc7WUFDM0M7WUFFQSxNQUFNViw2REFBU0EsQ0FBQ00sU0FBU1U7UUFDM0I7SUFDRixFQUFFLE9BQU9DLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLGtDQUFrQ0E7SUFDbEQ7QUFDRixFQUFFO0FBRUY7O0NBRUMsR0FDTSxNQUFNRSxvQkFBb0IsT0FBT0MsUUFBZ0JDO0lBS3RELElBQUk7UUFDRixzREFBc0Q7UUFDdEQsTUFBTUwsYUFBa0I7WUFDdEJNLFdBQVd2QixtRUFBZUE7UUFDNUI7UUFFQSw2Q0FBNkM7UUFDN0MsSUFBSXNCLEtBQUtYLFdBQVcsS0FBS2EsV0FBVztZQUNsQ1AsV0FBV04sV0FBVyxHQUFHVyxLQUFLWCxXQUFXO1FBQzNDO1FBRUEsSUFBSVcsS0FBS1QsUUFBUSxLQUFLVyxXQUFXO1lBQy9CUCxXQUFXSixRQUFRLEdBQUdTLEtBQUtULFFBQVE7UUFDckM7UUFFQSxzRUFBc0U7UUFDdEUsSUFBSVMsS0FBS2pCLFdBQVcsS0FBS21CLFdBQVc7WUFDbENQLFdBQVdaLFdBQVcsR0FBR2lCLEtBQUtqQixXQUFXLElBQUk7UUFDL0M7UUFFQSxNQUFNRSxVQUFVVix1REFBR0EsQ0FBQ0QsZ0RBQUVBLEVBQUUsU0FBU3lCO1FBQ2pDLE1BQU1wQiw2REFBU0EsQ0FBQ00sU0FBU1U7UUFDekIsT0FBTztJQUNULEVBQUUsT0FBT0MsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsZ0NBQWdDQTtRQUM5QyxPQUFPO0lBQ1Q7QUFDRixFQUFFO0FBRUY7O0NBRUMsR0FDTSxNQUFNTyxxQkFBcUIsT0FBT0osUUFBZ0JMO0lBQ3ZELElBQUk7UUFDRixNQUFNVCxVQUFVVix1REFBR0EsQ0FBQ0QsZ0RBQUVBLEVBQUUsU0FBU3lCO1FBQ2pDLE1BQU1wQiw2REFBU0EsQ0FBQ00sU0FBUztZQUN2QlMsVUFBVUE7WUFDVkQsVUFBVWYsbUVBQWVBO1FBQzNCO0lBQ0YsRUFBRSxPQUFPa0IsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsaUNBQWlDQTtJQUNqRDtBQUNGLEVBQUU7QUFFRjs7Q0FFQyxHQUNNLE1BQU1RLGlCQUFpQixPQUFPTDtJQUNuQyxJQUFJO1FBQ0YsTUFBTUksbUJBQW1CSixRQUFRO0lBQ25DLEVBQUUsT0FBT0gsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsK0JBQStCQTtJQUMvQztBQUNGLEVBQUU7QUFFRjs7Q0FFQyxHQUNNLE1BQU1TLDZCQUE2QixDQUFDTjtJQUN6QyxJQUFJLElBQXdDQSxFQUFFO0lBRTlDLE1BQU1PLHFCQUFxQjtRQUN6QkgsbUJBQW1CSixRQUFRO0lBQzdCO0lBRUEsTUFBTVEseUJBQXlCO1FBQzdCLElBQUlDLFNBQVNDLGVBQWUsS0FBSyxXQUFXO1lBQzFDTixtQkFBbUJKLFFBQVE7UUFDN0IsT0FBTztZQUNMSSxtQkFBbUJKLFFBQVE7UUFDN0I7SUFDRjtJQUVBVyxPQUFPQyxnQkFBZ0IsQ0FBQyxnQkFBZ0JMO0lBQ3hDRSxTQUFTRyxnQkFBZ0IsQ0FBQyxvQkFBb0JKO0lBRTlDLDRDQUE0QztJQUM1QyxJQUFJQyxTQUFTQyxlQUFlLEtBQUssV0FBVztRQUMxQ04sbUJBQW1CSixRQUFRO0lBQzdCO0lBRUEsT0FBTztRQUNMVyxPQUFPRSxtQkFBbUIsQ0FBQyxnQkFBZ0JOO1FBQzNDRSxTQUFTSSxtQkFBbUIsQ0FBQyxvQkFBb0JMO0lBQ25EO0FBQ0YsRUFBRTtBQUVGOzs7Ozs7Q0FNQyxHQUNNLE1BQU1NLHNCQUFzQixDQUNqQ2QsUUFDQWU7SUFFQSxJQUFJLENBQUNmLFFBQVEsT0FBTyxLQUFPO0lBRTNCLE1BQU1kLFVBQVVWLHVEQUFHQSxDQUFDRCxnREFBRUEsRUFBRSxTQUFTeUI7SUFFakMsK0JBQStCO0lBQy9CLE1BQU1nQixjQUFjbkMsOERBQVVBLENBQzVCSyxTQUNBLENBQUMrQjtRQUNDLElBQUlBLFNBQVM3QixNQUFNLElBQUk7WUFDckIsTUFBTThCLFdBQWdCO2dCQUNwQkMsSUFBSUYsU0FBU0UsRUFBRTtnQkFDZixHQUFHRixTQUFTaEIsSUFBSSxFQUFFO1lBQ3BCO1lBQ0Esb0NBQW9DO1lBQ3BDLElBQUksQ0FBQ2lCLFNBQVM1QixXQUFXLElBQUk0QixTQUFTNUIsV0FBVyxLQUFLLElBQUk7Z0JBQ3hENEIsU0FBUzVCLFdBQVcsR0FBRzRCLFNBQVM3QixLQUFLLEVBQUVFLE1BQU0sSUFBSSxDQUFDLEVBQUUsSUFBSTtZQUMxRDtZQUNBd0IsU0FBU0c7UUFDWCxPQUFPO1lBQ0wsbURBQW1EO1lBQ25ESCxTQUFTO2dCQUNQSSxJQUFJbkI7Z0JBQ0pWLGFBQWE7Z0JBQ2JLLFVBQVU7WUFDWjtRQUNGO0lBQ0YsR0FDQSxDQUFDRTtRQUNDQyxRQUFRRCxLQUFLLENBQUMsb0NBQW9DQTtRQUNsRCx5Q0FBeUM7UUFDekNrQixTQUFTO1lBQ1BJLElBQUluQjtZQUNKVixhQUFhO1lBQ2JLLFVBQVU7UUFDWjtJQUNGO0lBR0YsT0FBT3FCO0FBQ1QsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2hhbGxvLy4vc3JjL2xpYi91c2Vycy50cz84ZjI2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRiIH0gZnJvbSAnQC9maXJlYmFzZS9jb25maWcnO1xyXG5pbXBvcnQgeyBkb2MsIHNldERvYywgZ2V0RG9jLCBzZXJ2ZXJUaW1lc3RhbXAsIHVwZGF0ZURvYywgb25TbmFwc2hvdCB9IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XHJcbmltcG9ydCB7IFVzZXIgfSBmcm9tICdmaXJlYmFzZS9hdXRoJztcclxuXHJcbi8qKlxyXG4gKiBNZW55aW1wYW4gZGF0YSBwZW5nZ3VuYSBrZSBGaXJlc3RvcmVcclxuICovXHJcbmV4cG9ydCBjb25zdCBzYXZlVXNlclRvRmlyZXN0b3JlID0gYXN5bmMgKHVzZXI6IFVzZXIsIHBob25lTnVtYmVyPzogc3RyaW5nKSA9PiB7XHJcbiAgaWYgKCF1c2VyLnVpZCkgcmV0dXJuO1xyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgdXNlclJlZiA9IGRvYyhkYiwgJ3VzZXJzJywgdXNlci51aWQpO1xyXG4gICAgXHJcbiAgICAvLyBQZXJpa3NhIGFwYWthaCBwZW5nZ3VuYSBzdWRhaCBhZGFcclxuICAgIGNvbnN0IHVzZXJEb2MgPSBhd2FpdCBnZXREb2ModXNlclJlZik7XHJcbiAgICBcclxuICAgIGlmICghdXNlckRvYy5leGlzdHMoKSkge1xyXG4gICAgICAvLyBKaWthIGJlbHVtIGFkYSwgc2ltcGFuIGRhdGEgcGVuZ2d1bmEgZGVuZ2FuIHBob3RvVVJMIGRhcmkgR29vZ2xlXHJcbiAgICAgIGF3YWl0IHNldERvYyh1c2VyUmVmLCB7XHJcbiAgICAgICAgdWlkOiB1c2VyLnVpZCxcclxuICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgICBkaXNwbGF5TmFtZTogdXNlci5kaXNwbGF5TmFtZSB8fCB1c2VyLmVtYWlsPy5zcGxpdCgnQCcpWzBdIHx8ICdQZW5nZ3VuYScsXHJcbiAgICAgICAgcGhvdG9VUkw6IHVzZXIucGhvdG9VUkwgfHwgbnVsbCxcclxuICAgICAgICBwaG9uZU51bWJlcjogcGhvbmVOdW1iZXIgfHwgbnVsbCxcclxuICAgICAgICBjcmVhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxyXG4gICAgICAgIGxhc3RTZWVuOiBzZXJ2ZXJUaW1lc3RhbXAoKSxcclxuICAgICAgICBpc09ubGluZTogdHJ1ZVxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIEppa2Egc3VkYWggYWRhLCBzZWxhbHUgdXBkYXRlIHBob3RvVVJMIGppa2EgYWRhIGRhcmkgR29vZ2xlICh1bnR1ayBtZW1hc3Rpa2FuIHNlbGFsdSBrb25zaXN0ZW4pXHJcbiAgICAgIGNvbnN0IHVwZGF0ZURhdGE6IGFueSA9IHtcclxuICAgICAgICBsYXN0U2Vlbjogc2VydmVyVGltZXN0YW1wKCksXHJcbiAgICAgICAgaXNPbmxpbmU6IHRydWVcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIGlmICh1c2VyLnBob3RvVVJMKSB7XHJcbiAgICAgICAgdXBkYXRlRGF0YS5waG90b1VSTCA9IHVzZXIucGhvdG9VUkw7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGlmICh1c2VyLmRpc3BsYXlOYW1lKSB7XHJcbiAgICAgICAgdXBkYXRlRGF0YS5kaXNwbGF5TmFtZSA9IHVzZXIuZGlzcGxheU5hbWU7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGF3YWl0IHVwZGF0ZURvYyh1c2VyUmVmLCB1cGRhdGVEYXRhKTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgbWVueWltcGFuIGRhdGEgcGVuZ2d1bmE6JywgZXJyb3IpO1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBVcGRhdGUgZGF0YSBwZW5nZ3VuYSB0ZXJtYXN1ayBub21vciB0ZWxlcG9uXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgdXBkYXRlVXNlclByb2ZpbGUgPSBhc3luYyAodXNlcklkOiBzdHJpbmcsIGRhdGE6IHtcclxuICBkaXNwbGF5TmFtZT86IHN0cmluZztcclxuICBwaG90b1VSTD86IHN0cmluZztcclxuICBwaG9uZU51bWJlcj86IHN0cmluZztcclxufSkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBCdWF0IG9iamVrIHVudHVrIHVwZGF0ZSB5YW5nIHRpZGFrIGJlcmlzaSB1bmRlZmluZWRcclxuICAgIGNvbnN0IHVwZGF0ZURhdGE6IGFueSA9IHtcclxuICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKVxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gSGFueWEgdGFtYmFoa2FuIGZpZWxkIHlhbmcgYnVrYW4gdW5kZWZpbmVkXHJcbiAgICBpZiAoZGF0YS5kaXNwbGF5TmFtZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHVwZGF0ZURhdGEuZGlzcGxheU5hbWUgPSBkYXRhLmRpc3BsYXlOYW1lO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoZGF0YS5waG90b1VSTCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHVwZGF0ZURhdGEucGhvdG9VUkwgPSBkYXRhLnBob3RvVVJMO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBVbnR1ayBwaG9uZU51bWJlciwgZ2FudGkgdW5kZWZpbmVkIGRlbmdhbiBudWxsIChkaXRlcmltYSBGaXJlc3RvcmUpXHJcbiAgICBpZiAoZGF0YS5waG9uZU51bWJlciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHVwZGF0ZURhdGEucGhvbmVOdW1iZXIgPSBkYXRhLnBob25lTnVtYmVyIHx8IG51bGw7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IHVzZXJSZWYgPSBkb2MoZGIsICd1c2VycycsIHVzZXJJZCk7XHJcbiAgICBhd2FpdCB1cGRhdGVEb2ModXNlclJlZiwgdXBkYXRlRGF0YSk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgdXNlciBwcm9maWxlOicsIGVycm9yKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn07XHJcblxyXG4vKipcclxuICogVXBkYXRlIHN0YXR1cyBvbmxpbmUvb2ZmbGluZSBwZW5nZ3VuYVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHVwZGF0ZU9ubGluZVN0YXR1cyA9IGFzeW5jICh1c2VySWQ6IHN0cmluZywgaXNPbmxpbmU6IGJvb2xlYW4pID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdXNlclJlZiA9IGRvYyhkYiwgJ3VzZXJzJywgdXNlcklkKTtcclxuICAgIGF3YWl0IHVwZGF0ZURvYyh1c2VyUmVmLCB7XHJcbiAgICAgIGlzT25saW5lOiBpc09ubGluZSxcclxuICAgICAgbGFzdFNlZW46IHNlcnZlclRpbWVzdGFtcCgpXHJcbiAgICB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgb25saW5lIHN0YXR1czonLCBlcnJvcik7XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIE1lbmdhdHVyIHN0YXR1cyBvZmZsaW5lIHNhYXQgcGVuZ2d1bmEgbG9nb3V0XHJcbiAqL1xyXG5leHBvcnQgY29uc3Qgc2V0VXNlck9mZmxpbmUgPSBhc3luYyAodXNlcklkOiBzdHJpbmcpID0+IHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgdXBkYXRlT25saW5lU3RhdHVzKHVzZXJJZCwgZmFsc2UpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZXR0aW5nIHVzZXIgb2ZmbGluZTonLCBlcnJvcik7XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIE1lbmdhdHVyIHN0YXR1cyBvZmZsaW5lIHNhYXQgcGVuZ2d1bmEgbWVudXR1cCBicm93c2VyXHJcbiAqL1xyXG5leHBvcnQgY29uc3Qgc2V0dXBPbmxpbmVTdGF0dXNMaXN0ZW5lcnMgPSAodXNlcklkOiBzdHJpbmcpID0+IHtcclxuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHwgIXVzZXJJZCkgcmV0dXJuO1xyXG5cclxuICBjb25zdCBoYW5kbGVCZWZvcmVVbmxvYWQgPSAoKSA9PiB7XHJcbiAgICB1cGRhdGVPbmxpbmVTdGF0dXModXNlcklkLCBmYWxzZSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSA9ICgpID0+IHtcclxuICAgIGlmIChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09ICd2aXNpYmxlJykge1xyXG4gICAgICB1cGRhdGVPbmxpbmVTdGF0dXModXNlcklkLCB0cnVlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHVwZGF0ZU9ubGluZVN0YXR1cyh1c2VySWQsIGZhbHNlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgaGFuZGxlQmVmb3JlVW5sb2FkKTtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgaGFuZGxlVmlzaWJpbGl0eUNoYW5nZSk7XHJcblxyXG4gIC8vIFBhc3Rpa2FuIHN0YXR1cyBvbmxpbmUgc2FhdCBoYWxhbWFuIGFrdGlmXHJcbiAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ3Zpc2libGUnKSB7XHJcbiAgICB1cGRhdGVPbmxpbmVTdGF0dXModXNlcklkLCB0cnVlKTtcclxuICB9XHJcblxyXG4gIHJldHVybiAoKSA9PiB7XHJcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgaGFuZGxlQmVmb3JlVW5sb2FkKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBoYW5kbGVWaXNpYmlsaXR5Q2hhbmdlKTtcclxuICB9O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIE1lbmRlbmdhcmthbiBwZXJ1YmFoYW4gcHJvZmlsIHBlbmdndW5hIHNlY2FyYSByZWFsdGltZVxyXG4gKiBcclxuICogQHBhcmFtIHVzZXJJZCBJRCBwZW5nZ3VuYSB5YW5nIGluZ2luIGRpcGFudGF1XHJcbiAqIEBwYXJhbSBvbkNoYW5nZSBDYWxsYmFjayB5YW5nIGFrYW4gZGlwYW5nZ2lsIHNhYXQgYWRhIHBlcnViYWhhbiBkYXRhIHBlbmdndW5hXHJcbiAqIEByZXR1cm5zIEZ1bmdzaSB1bnR1ayBiZXJoZW50aSBtZW5kZW5nYXJrYW4gKHVuc3Vic2NyaWJlKVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGxpc3RlblRvVXNlclByb2ZpbGUgPSAoXHJcbiAgdXNlcklkOiBzdHJpbmcsIFxyXG4gIG9uQ2hhbmdlOiAodXNlckRhdGE6IGFueSkgPT4gdm9pZFxyXG4pID0+IHtcclxuICBpZiAoIXVzZXJJZCkgcmV0dXJuICgpID0+IHt9O1xyXG4gIFxyXG4gIGNvbnN0IHVzZXJSZWYgPSBkb2MoZGIsICd1c2VycycsIHVzZXJJZCk7XHJcbiAgXHJcbiAgLy8gTXVsYWkgbWVuZGVuZ2Fya2FuIHBlcnViYWhhblxyXG4gIGNvbnN0IHVuc3Vic2NyaWJlID0gb25TbmFwc2hvdChcclxuICAgIHVzZXJSZWYsXHJcbiAgICAoc25hcHNob3QpID0+IHtcclxuICAgICAgaWYgKHNuYXBzaG90LmV4aXN0cygpKSB7XHJcbiAgICAgICAgY29uc3QgdXNlckRhdGE6IGFueSA9IHtcclxuICAgICAgICAgIGlkOiBzbmFwc2hvdC5pZCxcclxuICAgICAgICAgIC4uLnNuYXBzaG90LmRhdGEoKVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gUGFzdGlrYW4gZGlzcGxheU5hbWUgdGlkYWsgaGlsYW5nXHJcbiAgICAgICAgaWYgKCF1c2VyRGF0YS5kaXNwbGF5TmFtZSB8fCB1c2VyRGF0YS5kaXNwbGF5TmFtZSA9PT0gJycpIHtcclxuICAgICAgICAgIHVzZXJEYXRhLmRpc3BsYXlOYW1lID0gdXNlckRhdGEuZW1haWw/LnNwbGl0KCdAJylbMF0gfHwgJ1BlbmdndW5hJztcclxuICAgICAgICB9XHJcbiAgICAgICAgb25DaGFuZ2UodXNlckRhdGEpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIEppa2EgZG9rdW1lbiB0aWRhayBhZGEsIHRldGFwIGtpcmltIGRhdGEgbWluaW1hbFxyXG4gICAgICAgIG9uQ2hhbmdlKHsgXHJcbiAgICAgICAgICBpZDogdXNlcklkLFxyXG4gICAgICAgICAgZGlzcGxheU5hbWU6ICdQZW5nZ3VuYScsXHJcbiAgICAgICAgICBpc09ubGluZTogZmFsc2VcclxuICAgICAgICB9IGFzIGFueSk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICAoZXJyb3IpID0+IHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbGlzdGVuaW5nIHRvIHVzZXIgcHJvZmlsZTonLCBlcnJvcik7XHJcbiAgICAgIC8vIEtpcmltIGRhdGEgZmFsbGJhY2sgamlrYSB0ZXJqYWRpIGVycm9yXHJcbiAgICAgIG9uQ2hhbmdlKHsgXHJcbiAgICAgICAgaWQ6IHVzZXJJZCxcclxuICAgICAgICBkaXNwbGF5TmFtZTogJ1BlbmdndW5hJyxcclxuICAgICAgICBpc09ubGluZTogZmFsc2VcclxuICAgICAgfSBhcyBhbnkpO1xyXG4gICAgfVxyXG4gICk7XHJcbiAgXHJcbiAgcmV0dXJuIHVuc3Vic2NyaWJlO1xyXG59OyJdLCJuYW1lcyI6WyJkYiIsImRvYyIsInNldERvYyIsImdldERvYyIsInNlcnZlclRpbWVzdGFtcCIsInVwZGF0ZURvYyIsIm9uU25hcHNob3QiLCJzYXZlVXNlclRvRmlyZXN0b3JlIiwidXNlciIsInBob25lTnVtYmVyIiwidWlkIiwidXNlclJlZiIsInVzZXJEb2MiLCJleGlzdHMiLCJlbWFpbCIsImRpc3BsYXlOYW1lIiwic3BsaXQiLCJwaG90b1VSTCIsImNyZWF0ZWRBdCIsImxhc3RTZWVuIiwiaXNPbmxpbmUiLCJ1cGRhdGVEYXRhIiwiZXJyb3IiLCJjb25zb2xlIiwidXBkYXRlVXNlclByb2ZpbGUiLCJ1c2VySWQiLCJkYXRhIiwidXBkYXRlZEF0IiwidW5kZWZpbmVkIiwidXBkYXRlT25saW5lU3RhdHVzIiwic2V0VXNlck9mZmxpbmUiLCJzZXR1cE9ubGluZVN0YXR1c0xpc3RlbmVycyIsImhhbmRsZUJlZm9yZVVubG9hZCIsImhhbmRsZVZpc2liaWxpdHlDaGFuZ2UiLCJkb2N1bWVudCIsInZpc2liaWxpdHlTdGF0ZSIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwibGlzdGVuVG9Vc2VyUHJvZmlsZSIsIm9uQ2hhbmdlIiwidW5zdWJzY3JpYmUiLCJzbmFwc2hvdCIsInVzZXJEYXRhIiwiaWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/lib/users.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/globals.css":
/*!*****************************!*\
  !*** ./src/app/globals.css ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"175afccdffe9\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2dsb2JhbHMuY3NzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxjQUFjO0FBQzdCLElBQUksS0FBVSxFQUFFLEVBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaGFsbG8vLi9zcmMvYXBwL2dsb2JhbHMuY3NzP2VmODEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCIxNzVhZmNjZGZmZTlcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/globals.css\n");

/***/ }),

/***/ "(rsc)/./src/app/layout.tsx":
/*!****************************!*\
  !*** ./src/app/layout.tsx ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_font_google_target_css_path_src_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/font/google/target.css?{\"path\":\"src\\\\app\\\\layout.tsx\",\"import\":\"Inter\",\"arguments\":[{\"subsets\":[\"latin\"]}],\"variableName\":\"inter\"} */ \"(rsc)/./node_modules/next/font/google/target.css?{\\\"path\\\":\\\"src\\\\\\\\app\\\\\\\\layout.tsx\\\",\\\"import\\\":\\\"Inter\\\",\\\"arguments\\\":[{\\\"subsets\\\":[\\\"latin\\\"]}],\\\"variableName\\\":\\\"inter\\\"}\");\n/* harmony import */ var next_font_google_target_css_path_src_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_font_google_target_css_path_src_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./src/app/globals.css\");\n/* harmony import */ var _lib_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/context */ \"(rsc)/./src/lib/context.tsx\");\n/* harmony import */ var _components_I18nextClientProvider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/I18nextClientProvider */ \"(rsc)/./src/components/I18nextClientProvider.tsx\");\n\n\n\n\n\nconst metadata = {\n    title: \"Hallo - Aplikasi Chat\",\n    description: \"Aplikasi chatting modern mirip WhatsApp\",\n    icons: {\n        icon: \"/favicon.svg\"\n    }\n};\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"id\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n            className: (next_font_google_target_css_path_src_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_4___default().className),\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_I18nextClientProvider__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_lib_context__WEBPACK_IMPORTED_MODULE_2__.AIConfigProvider, {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                        className: \"min-h-screen bg-gray-100\",\n                        children: children\n                    }, void 0, false, {\n                        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\app\\\\layout.tsx\",\n                        lineNumber: 27,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\app\\\\layout.tsx\",\n                    lineNumber: 26,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\app\\\\layout.tsx\",\n                lineNumber: 25,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\app\\\\layout.tsx\",\n            lineNumber: 24,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"C:\\\\xampp\\\\htdocs\\\\Hallo\\\\src\\\\app\\\\layout.tsx\",\n        lineNumber: 23,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2xheW91dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQU1NQTtBQU5pQjtBQUcwQjtBQUNzQjtBQUloRSxNQUFNRyxXQUFxQjtJQUNoQ0MsT0FBTztJQUNQQyxhQUFhO0lBQ2JDLE9BQU87UUFDTEMsTUFBTTtJQUNSO0FBQ0YsRUFBRTtBQUVhLFNBQVNDLFdBQVcsRUFDakNDLFFBQVEsRUFHVDtJQUNDLHFCQUNFLDhEQUFDQztRQUFLQyxNQUFLO2tCQUNULDRFQUFDQztZQUFLQyxXQUFXYiwrSkFBZTtzQkFDOUIsNEVBQUNFLHlFQUFxQkE7MEJBQ3BCLDRFQUFDRCwwREFBZ0JBOzhCQUNmLDRFQUFDYTt3QkFBS0QsV0FBVTtrQ0FBNEJKOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU14RCIsInNvdXJjZXMiOlsid2VicGFjazovL2hhbGxvLy4vc3JjL2FwcC9sYXlvdXQudHN4PzU3YTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuL2dsb2JhbHMuY3NzJztcclxuaW1wb3J0IHR5cGUgeyBNZXRhZGF0YSB9IGZyb20gJ25leHQnO1xyXG5pbXBvcnQgeyBJbnRlciB9IGZyb20gJ25leHQvZm9udC9nb29nbGUnO1xyXG5pbXBvcnQgeyBBSUNvbmZpZ1Byb3ZpZGVyIH0gZnJvbSAnQC9saWIvY29udGV4dCc7XHJcbmltcG9ydCBJMThuZXh0Q2xpZW50UHJvdmlkZXIgZnJvbSAnQC9jb21wb25lbnRzL0kxOG5leHRDbGllbnRQcm92aWRlcic7XHJcblxyXG5jb25zdCBpbnRlciA9IEludGVyKHsgc3Vic2V0czogWydsYXRpbiddIH0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IG1ldGFkYXRhOiBNZXRhZGF0YSA9IHtcclxuICB0aXRsZTogJ0hhbGxvIC0gQXBsaWthc2kgQ2hhdCcsXHJcbiAgZGVzY3JpcHRpb246ICdBcGxpa2FzaSBjaGF0dGluZyBtb2Rlcm4gbWlyaXAgV2hhdHNBcHAnLFxyXG4gIGljb25zOiB7XHJcbiAgICBpY29uOiAnL2Zhdmljb24uc3ZnJyxcclxuICB9LFxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUm9vdExheW91dCh7XHJcbiAgY2hpbGRyZW4sXHJcbn06IHtcclxuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlO1xyXG59KSB7XHJcbiAgcmV0dXJuIChcclxuICAgIDxodG1sIGxhbmc9XCJpZFwiPlxyXG4gICAgICA8Ym9keSBjbGFzc05hbWU9e2ludGVyLmNsYXNzTmFtZX0+XHJcbiAgICAgICAgPEkxOG5leHRDbGllbnRQcm92aWRlcj5cclxuICAgICAgICAgIDxBSUNvbmZpZ1Byb3ZpZGVyPlxyXG4gICAgICAgICAgICA8bWFpbiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JheS0xMDBcIj57Y2hpbGRyZW59PC9tYWluPlxyXG4gICAgICAgICAgPC9BSUNvbmZpZ1Byb3ZpZGVyPlxyXG4gICAgICAgIDwvSTE4bmV4dENsaWVudFByb3ZpZGVyPlxyXG4gICAgICA8L2JvZHk+XHJcbiAgICA8L2h0bWw+XHJcbiAgKTtcclxufSAiXSwibmFtZXMiOlsiaW50ZXIiLCJBSUNvbmZpZ1Byb3ZpZGVyIiwiSTE4bmV4dENsaWVudFByb3ZpZGVyIiwibWV0YWRhdGEiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiaWNvbnMiLCJpY29uIiwiUm9vdExheW91dCIsImNoaWxkcmVuIiwiaHRtbCIsImxhbmciLCJib2R5IiwiY2xhc3NOYW1lIiwibWFpbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/layout.tsx\n");

/***/ }),

/***/ "(rsc)/./src/app/page.tsx":
/*!**************************!*\
  !*** ./src/app/page.tsx ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`C:\xampp\htdocs\Hallo\src\app\page.tsx#default`));


/***/ }),

/***/ "(rsc)/./src/components/I18nextClientProvider.tsx":
/*!**************************************************!*\
  !*** ./src/components/I18nextClientProvider.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`C:\xampp\htdocs\Hallo\src\components\I18nextClientProvider.tsx#default`));


/***/ }),

/***/ "(rsc)/./src/lib/context.tsx":
/*!*****************************!*\
  !*** ./src/lib/context.tsx ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AIConfigProvider: () => (/* binding */ e1),
/* harmony export */   useAIConfig: () => (/* binding */ e0)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");


const e0 = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`C:\xampp\htdocs\Hallo\src\lib\context.tsx#useAIConfig`);

const e1 = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`C:\xampp\htdocs\Hallo\src\lib\context.tsx#AIConfigProvider`);


/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@opentelemetry","vendor-chunks/i18next","vendor-chunks/react-i18next","vendor-chunks/@swc","vendor-chunks/html-parse-stringify","vendor-chunks/void-elements","vendor-chunks/undici","vendor-chunks/@grpc","vendor-chunks/date-fns","vendor-chunks/protobufjs","vendor-chunks/readable-stream","vendor-chunks/@protobufjs","vendor-chunks/@firebase","vendor-chunks/firebase","vendor-chunks/react-icons","vendor-chunks/debug","vendor-chunks/idb","vendor-chunks/inherits","vendor-chunks/tslib","vendor-chunks/@babel","vendor-chunks/long","vendor-chunks/util-deprecate","vendor-chunks/supports-color","vendor-chunks/string_decoder","vendor-chunks/simple-peer","vendor-chunks/safe-buffer","vendor-chunks/randombytes","vendor-chunks/queue-microtask","vendor-chunks/ms","vendor-chunks/lodash.camelcase","vendor-chunks/howler","vendor-chunks/has-flag","vendor-chunks/get-browser-rtc","vendor-chunks/flairup","vendor-chunks/err-code","vendor-chunks/emoji-picker-react"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=C%3A%5Cxampp%5Chtdocs%5CHallo%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5Cxampp%5Chtdocs%5CHallo&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();